(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function xS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ap={exports:{}},kc={};var cE;function QR(){if(cE)return kc;cE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return kc.Fragment=t,kc.jsx=e,kc.jsxs=e,kc}var uE;function XR(){return uE||(uE=1,ap.exports=QR()),ap.exports}var O=XR(),op={exports:{}},At={};var hE;function $R(){if(hE)return At;hE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function S(U){return U===null||typeof U!="object"?null:(U=E&&U[E]||U["@@iterator"],typeof U=="function"?U:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,C={};function V(U,Z,ct){this.props=U,this.context=Z,this.refs=C,this.updater=ct||A}V.prototype.isReactComponent={},V.prototype.setState=function(U,Z){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Z,"setState")},V.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function B(){}B.prototype=V.prototype;function q(U,Z,ct){this.props=U,this.context=Z,this.refs=C,this.updater=ct||A}var rt=q.prototype=new B;rt.constructor=q,w(rt,V.prototype),rt.isPureReactComponent=!0;var tt=Array.isArray;function ot(){}var D={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function M(U,Z,ct){var ut=ct.ref;return{$$typeof:n,type:U,key:Z,ref:ut!==void 0?ut:null,props:ct}}function N(U,Z){return M(U.type,Z,U.props)}function P(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function z(U){var Z={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ct){return Z[ct]})}var k=/\/+/g;function Dt(U,Z){return typeof U=="object"&&U!==null&&U.key!=null?z(""+U.key):Z.toString(36)}function wt(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(ot,ot):(U.status="pending",U.then(function(Z){U.status==="pending"&&(U.status="fulfilled",U.value=Z)},function(Z){U.status==="pending"&&(U.status="rejected",U.reason=Z)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Q(U,Z,ct,ut,_t){var Et=typeof U;(Et==="undefined"||Et==="boolean")&&(U=null);var Bt=!1;if(U===null)Bt=!0;else switch(Et){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(U.$$typeof){case n:case t:Bt=!0;break;case y:return Bt=U._init,Q(Bt(U._payload),Z,ct,ut,_t)}}if(Bt)return _t=_t(U),Bt=ut===""?"."+Dt(U,0):ut,tt(_t)?(ct="",Bt!=null&&(ct=Bt.replace(k,"$&/")+"/"),Q(_t,Z,ct,"",function(Zr){return Zr})):_t!=null&&(P(_t)&&(_t=N(_t,ct+(_t.key==null||U&&U.key===_t.key?"":(""+_t.key).replace(k,"$&/")+"/")+Bt)),Z.push(_t)),1;Bt=0;var je=ut===""?".":ut+":";if(tt(U))for(var de=0;de<U.length;de++)ut=U[de],Et=je+Dt(ut,de),Bt+=Q(ut,Z,ct,Et,_t);else if(de=S(U),typeof de=="function")for(U=de.call(U),de=0;!(ut=U.next()).done;)ut=ut.value,Et=je+Dt(ut,de++),Bt+=Q(ut,Z,ct,Et,_t);else if(Et==="object"){if(typeof U.then=="function")return Q(wt(U),Z,ct,ut,_t);throw Z=String(U),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function at(U,Z,ct){if(U==null)return U;var ut=[],_t=0;return Q(U,ut,"","",function(Et){return Z.call(ct,Et,_t++)}),ut}function dt(U){if(U._status===-1){var Z=U._result;Z=Z(),Z.then(function(ct){(U._status===0||U._status===-1)&&(U._status=1,U._result=ct)},function(ct){(U._status===0||U._status===-1)&&(U._status=2,U._result=ct)}),U._status===-1&&(U._status=0,U._result=Z)}if(U._status===1)return U._result.default;throw U._result}var bt=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Nt={map:at,forEach:function(U,Z,ct){at(U,function(){Z.apply(this,arguments)},ct)},count:function(U){var Z=0;return at(U,function(){Z++}),Z},toArray:function(U){return at(U,function(Z){return Z})||[]},only:function(U){if(!P(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return At.Activity=_,At.Children=Nt,At.Component=V,At.Fragment=e,At.Profiler=r,At.PureComponent=q,At.StrictMode=i,At.Suspense=f,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,At.__COMPILER_RUNTIME={__proto__:null,c:function(U){return D.H.useMemoCache(U)}},At.cache=function(U){return function(){return U.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(U,Z,ct){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ut=w({},U.props),_t=U.key;if(Z!=null)for(Et in Z.key!==void 0&&(_t=""+Z.key),Z)!I.call(Z,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&Z.ref===void 0||(ut[Et]=Z[Et]);var Et=arguments.length-2;if(Et===1)ut.children=ct;else if(1<Et){for(var Bt=Array(Et),je=0;je<Et;je++)Bt[je]=arguments[je+2];ut.children=Bt}return M(U.type,_t,ut)},At.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},At.createElement=function(U,Z,ct){var ut,_t={},Et=null;if(Z!=null)for(ut in Z.key!==void 0&&(Et=""+Z.key),Z)I.call(Z,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(_t[ut]=Z[ut]);var Bt=arguments.length-2;if(Bt===1)_t.children=ct;else if(1<Bt){for(var je=Array(Bt),de=0;de<Bt;de++)je[de]=arguments[de+2];_t.children=je}if(U&&U.defaultProps)for(ut in Bt=U.defaultProps,Bt)_t[ut]===void 0&&(_t[ut]=Bt[ut]);return M(U,Et,_t)},At.createRef=function(){return{current:null}},At.forwardRef=function(U){return{$$typeof:h,render:U}},At.isValidElement=P,At.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:dt}},At.memo=function(U,Z){return{$$typeof:m,type:U,compare:Z===void 0?null:Z}},At.startTransition=function(U){var Z=D.T,ct={};D.T=ct;try{var ut=U(),_t=D.S;_t!==null&&_t(ct,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(ot,bt)}catch(Et){bt(Et)}finally{Z!==null&&ct.types!==null&&(Z.types=ct.types),D.T=Z}},At.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},At.use=function(U){return D.H.use(U)},At.useActionState=function(U,Z,ct){return D.H.useActionState(U,Z,ct)},At.useCallback=function(U,Z){return D.H.useCallback(U,Z)},At.useContext=function(U){return D.H.useContext(U)},At.useDebugValue=function(){},At.useDeferredValue=function(U,Z){return D.H.useDeferredValue(U,Z)},At.useEffect=function(U,Z){return D.H.useEffect(U,Z)},At.useEffectEvent=function(U){return D.H.useEffectEvent(U)},At.useId=function(){return D.H.useId()},At.useImperativeHandle=function(U,Z,ct){return D.H.useImperativeHandle(U,Z,ct)},At.useInsertionEffect=function(U,Z){return D.H.useInsertionEffect(U,Z)},At.useLayoutEffect=function(U,Z){return D.H.useLayoutEffect(U,Z)},At.useMemo=function(U,Z){return D.H.useMemo(U,Z)},At.useOptimistic=function(U,Z){return D.H.useOptimistic(U,Z)},At.useReducer=function(U,Z,ct){return D.H.useReducer(U,Z,ct)},At.useRef=function(U){return D.H.useRef(U)},At.useState=function(U){return D.H.useState(U)},At.useSyncExternalStore=function(U,Z,ct){return D.H.useSyncExternalStore(U,Z,ct)},At.useTransition=function(){return D.H.useTransition()},At.version="19.2.3",At}var fE;function Sy(){return fE||(fE=1,op.exports=$R()),op.exports}var Y=Sy();const Or=xS(Y);var lp={exports:{}},Nc={},cp={exports:{}},up={};var dE;function JR(){return dE||(dE=1,(function(n){function t(Q,at){var dt=Q.length;Q.push(at);t:for(;0<dt;){var bt=dt-1>>>1,Nt=Q[bt];if(0<r(Nt,at))Q[bt]=at,Q[dt]=Nt,dt=bt;else break t}}function e(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var at=Q[0],dt=Q.pop();if(dt!==at){Q[0]=dt;t:for(var bt=0,Nt=Q.length,U=Nt>>>1;bt<U;){var Z=2*(bt+1)-1,ct=Q[Z],ut=Z+1,_t=Q[ut];if(0>r(ct,dt))ut<Nt&&0>r(_t,ct)?(Q[bt]=_t,Q[ut]=dt,bt=ut):(Q[bt]=ct,Q[Z]=dt,bt=Z);else if(ut<Nt&&0>r(_t,dt))Q[bt]=_t,Q[ut]=dt,bt=ut;else break t}}return at}function r(Q,at){var dt=Q.sortIndex-at.sortIndex;return dt!==0?dt:Q.id-at.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],m=[],y=1,_=null,E=3,S=!1,A=!1,w=!1,C=!1,V=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function rt(Q){for(var at=e(m);at!==null;){if(at.callback===null)i(m);else if(at.startTime<=Q)i(m),at.sortIndex=at.expirationTime,t(f,at);else break;at=e(m)}}function tt(Q){if(w=!1,rt(Q),!A)if(e(f)!==null)A=!0,ot||(ot=!0,z());else{var at=e(m);at!==null&&wt(tt,at.startTime-Q)}}var ot=!1,D=-1,I=5,M=-1;function N(){return C?!0:!(n.unstable_now()-M<I)}function P(){if(C=!1,ot){var Q=n.unstable_now();M=Q;var at=!0;try{t:{A=!1,w&&(w=!1,B(D),D=-1),S=!0;var dt=E;try{e:{for(rt(Q),_=e(f);_!==null&&!(_.expirationTime>Q&&N());){var bt=_.callback;if(typeof bt=="function"){_.callback=null,E=_.priorityLevel;var Nt=bt(_.expirationTime<=Q);if(Q=n.unstable_now(),typeof Nt=="function"){_.callback=Nt,rt(Q),at=!0;break e}_===e(f)&&i(f),rt(Q)}else i(f);_=e(f)}if(_!==null)at=!0;else{var U=e(m);U!==null&&wt(tt,U.startTime-Q),at=!1}}break t}finally{_=null,E=dt,S=!1}at=void 0}}finally{at?z():ot=!1}}}var z;if(typeof q=="function")z=function(){q(P)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Dt=k.port2;k.port1.onmessage=P,z=function(){Dt.postMessage(null)}}else z=function(){V(P,0)};function wt(Q,at){D=V(function(){Q(n.unstable_now())},at)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(Q){switch(E){case 1:case 2:case 3:var at=3;break;default:at=E}var dt=E;E=at;try{return Q()}finally{E=dt}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(Q,at){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var dt=E;E=Q;try{return at()}finally{E=dt}},n.unstable_scheduleCallback=function(Q,at,dt){var bt=n.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?bt+dt:bt):dt=bt,Q){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=dt+Nt,Q={id:y++,callback:at,priorityLevel:Q,startTime:dt,expirationTime:Nt,sortIndex:-1},dt>bt?(Q.sortIndex=dt,t(m,Q),e(f)===null&&Q===e(m)&&(w?(B(D),D=-1):w=!0,wt(tt,dt-bt))):(Q.sortIndex=Nt,t(f,Q),A||S||(A=!0,ot||(ot=!0,z()))),Q},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(Q){var at=E;return function(){var dt=E;E=at;try{return Q.apply(this,arguments)}finally{E=dt}}}})(up)),up}var mE;function ZR(){return mE||(mE=1,cp.exports=JR()),cp.exports}var hp={exports:{}},on={};var gE;function tC(){if(gE)return on;gE=1;var n=Sy();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:f,containerInfo:m,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,on.createPortal=function(f,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(f,m,null,y)},on.flushSync=function(f){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=m,i.p=y,i.d.f()}},on.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(f,m))},on.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},on.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:S}):y==="script"&&i.d.X(f,{crossOrigin:_,integrity:E,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},on.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(f)},on.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin);i.d.L(f,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},on.preloadModule=function(f,m){if(typeof f=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(f)},on.requestFormReset=function(f){i.d.r(f)},on.unstable_batchedUpdates=function(f,m){return f(m)},on.useFormState=function(f,m,y){return c.H.useFormState(f,m,y)},on.useFormStatus=function(){return c.H.useHostTransitionStatus()},on.version="19.2.3",on}var pE;function eC(){if(pE)return hp.exports;pE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),hp.exports=tC(),hp.exports}var yE;function nC(){if(yE)return Nc;yE=1;var n=ZR(),t=Sy(),e=eC();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(i(188))}function m(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var g=l.return;if(g===null)break;var p=g.alternate;if(p===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===l)return f(g),s;if(p===u)return f(g),a;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=g,u=p;else{for(var b=!1,x=g.child;x;){if(x===l){b=!0,l=g,u=p;break}if(x===u){b=!0,u=g,l=p;break}x=x.sibling}if(!b){for(x=p.child;x;){if(x===l){b=!0,l=p,u=g;break}if(x===u){b=!0,u=p,l=g;break}x=x.sibling}if(!b)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function y(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=y(s),a!==null)return a;s=s.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),q=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var k=Symbol.for("react.client.reference");function Dt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===k?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case V:return"Profiler";case C:return"StrictMode";case tt:return"Suspense";case ot:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case A:return"Portal";case q:return s.displayName||"Context";case B:return(s._context.displayName||"Context")+".Consumer";case rt:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return a=s.displayName||null,a!==null?a:Dt(s.type)||"Memo";case I:a=s._payload,s=s._init;try{return Dt(s(a))}catch{}}return null}var wt=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},bt=[],Nt=-1;function U(s){return{current:s}}function Z(s){0>Nt||(s.current=bt[Nt],bt[Nt]=null,Nt--)}function ct(s,a){Nt++,bt[Nt]=s.current,s.current=a}var ut=U(null),_t=U(null),Et=U(null),Bt=U(null);function je(s,a){switch(ct(Et,a),ct(_t,s),ct(ut,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?Ob(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=Ob(a),s=kb(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Z(ut),ct(ut,s)}function de(){Z(ut),Z(_t),Z(Et)}function Zr(s){s.memoizedState!==null&&ct(Bt,s);var a=ut.current,l=kb(a,s.type);a!==l&&(ct(_t,s),ct(ut,l))}function to(s){_t.current===s&&(Z(ut),Z(_t)),Bt.current===s&&(Z(Bt),Ic._currentValue=dt)}var eo,no;function Ri(s){if(eo===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);eo=a&&a[1]||"",no=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+eo+s+no}var Il=!1;function ta(s,a){if(!s||Il)return"";Il=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch($){var K=$}Reflect.construct(s,[],nt)}else{try{nt.call()}catch($){K=$}s.call(nt.prototype)}}else{try{throw Error()}catch($){K=$}(nt=s())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch($){if($&&K&&typeof $.stack=="string")return[$.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],x=p[1];if(b&&x){var L=b.split(`
`),W=x.split(`
`);for(g=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;g<W.length&&!W[g].includes("DetermineComponentFrameRoot");)g++;if(u===L.length||g===W.length)for(u=L.length-1,g=W.length-1;1<=u&&0<=g&&L[u]!==W[g];)g--;for(;1<=u&&0<=g;u--,g--)if(L[u]!==W[g]){if(u!==1||g!==1)do if(u--,g--,0>g||L[u]!==W[g]){var J=`
`+L[u].replace(" at new "," at ");return s.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",s.displayName)),J}while(1<=u&&0<=g);break}}}finally{Il=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Ri(l):""}function Ml(s,a){switch(s.tag){case 26:case 27:case 5:return Ri(s.type);case 16:return Ri("Lazy");case 13:return s.child!==a&&a!==null?Ri("Suspense Fallback"):Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 15:return ta(s.type,!1);case 11:return ta(s.type.render,!1);case 1:return ta(s.type,!0);case 31:return Ri("Activity");default:return""}}function Dl(s){try{var a="",l=null;do a+=Ml(s,l),l=s,s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ae=Object.prototype.hasOwnProperty,Be=n.unstable_scheduleCallback,Fs=n.unstable_cancelCallback,lm=n.unstable_shouldYield,Hu=n.unstable_requestPaint,dn=n.unstable_now,ea=n.unstable_getCurrentPriorityLevel,Ol=n.unstable_ImmediatePriority,kl=n.unstable_UserBlockingPriority,Hs=n.unstable_NormalPriority,cm=n.unstable_LowPriority,qu=n.unstable_IdlePriority,Yu=n.log,Gu=n.unstable_setDisableYieldValue,ci=null,$e=null;function Fn(s){if(typeof Yu=="function"&&Gu(s),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(ci,s)}catch{}}var be=Math.clz32?Math.clz32:Ku,Wu=Math.log,io=Math.LN2;function Ku(s){return s>>>=0,s===0?32:31-(Wu(s)/io|0)|0}var Ci=256,na=262144,Re=4194304;function Ii(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Mi(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var g=0,p=s.suspendedLanes,b=s.pingedLanes;s=s.warmLanes;var x=u&134217727;return x!==0?(u=x&~p,u!==0?g=Ii(u):(b&=x,b!==0?g=Ii(b):l||(l=x&~s,l!==0&&(g=Ii(l))))):(x=u&~p,x!==0?g=Ii(x):b!==0?g=Ii(b):l||(l=u&~s,l!==0&&(g=Ii(l)))),g===0?0:a!==0&&a!==g&&(a&p)===0&&(p=g&-g,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:g}function ui(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function um(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qu(){var s=Re;return Re<<=1,(Re&62914560)===0&&(Re=4194304),s}function Di(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function ia(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function hm(s,a,l,u,g,p){var b=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var x=s.entanglements,L=s.expirationTimes,W=s.hiddenUpdates;for(l=b&~l;0<l;){var J=31-be(l),nt=1<<J;x[J]=0,L[J]=-1;var K=W[J];if(K!==null)for(W[J]=null,J=0;J<K.length;J++){var $=K[J];$!==null&&($.lane&=-536870913)}l&=~nt}u!==0&&sa(s,u,0),p!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=p&~(b&~a))}function sa(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-be(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function Nl(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-be(l),g=1<<u;g&a|s[u]&a&&(s[u]|=a),l&=~g}}function Pl(s,a){var l=a&-a;return l=(l&42)!==0?1:ra(l),(l&(s.suspendedLanes|a))!==0?0:l}function ra(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ls(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Xu(){var s=at.p;return s!==0?s:(s=window.event,s===void 0?32:nE(s.type))}function hi(s,a){var l=at.p;try{return at.p=s,a()}finally{at.p=l}}var fi=Math.random().toString(36).slice(2),Ce="__reactFiber$"+fi,We="__reactProps$"+fi,Oi="__reactContainer$"+fi,so="__reactEvents$"+fi,fm="__reactListeners$"+fi,$u="__reactHandles$"+fi,Ju="__reactResources$"+fi,ki="__reactMarker$"+fi;function ro(s){delete s[Ce],delete s[We],delete s[so],delete s[fm],delete s[$u]}function Ni(s){var a=s[Ce];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Oi]||l[Ce]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=jb(s);s!==null;){if(l=s[Ce])return l;s=jb(s)}return a}s=l,l=s.parentNode}return null}function Hn(s){if(s=s[Ce]||s[Oi]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function Mn(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Pi(s){var a=s[Ju];return a||(a=s[Ju]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ie(s){s[ki]=!0}var Vl=new Set,Ll={};function Vi(s,a){Li(s,a),Li(s+"Capture",a)}function Li(s,a){for(Ll[s]=a,s=0;s<a.length;s++)Vl.add(a[s])}var zl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ul={},jl={};function Zu(s){return Ae.call(jl,s)?!0:Ae.call(Ul,s)?!1:zl.test(s)?jl[s]=!0:(Ul[s]=!0,!1)}function ao(s,a,l){if(Zu(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Dn(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Me(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}function Ke(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function qs(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Bl(s,a,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,p=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(b){l=""+b,p.call(this,b)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Xt(s){if(!s._valueTracker){var a=qs(s)?"checked":"value";s._valueTracker=Bl(s,a,""+s[a])}}function aa(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=qs(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function zi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var oa=/[\n"\\]/g;function pn(s){return s.replace(oa,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function oo(s,a,l,u,g,p,b,x){s.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?s.type=b:s.removeAttribute("type"),a!=null?b==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Ke(a)):s.value!==""+Ke(a)&&(s.value=""+Ke(a)):b!=="submit"&&b!=="reset"||s.removeAttribute("value"),a!=null?Fl(s,b,Ke(a)):l!=null?Fl(s,b,Ke(l)):u!=null&&s.removeAttribute("value"),g==null&&p!=null&&(s.defaultChecked=!!p),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.name=""+Ke(x):s.removeAttribute("name")}function th(s,a,l,u,g,p,b,x){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){Xt(s);return}l=l!=null?""+Ke(l):"",a=a!=null?""+Ke(a):l,x||a===s.value||(s.value=a),s.defaultValue=a}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=x?s.checked:!!u,s.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.name=b),Xt(s)}function Fl(s,a,l){a==="number"&&zi(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Ys(s,a,l,u){if(s=s.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=a.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&u&&(s[l].defaultSelected=!0)}else{for(l=""+Ke(l),a=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,u&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function eh(s,a,l){if(a!=null&&(a=""+Ke(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Ke(l):""}function Gs(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(wt(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=Ke(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),Xt(s)}function yn(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var nh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hl(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||nh.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function ql(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var g in a)u=a[g],a.hasOwnProperty(g)&&l[g]!==u&&Hl(s,g,u)}else for(var p in a)a.hasOwnProperty(p)&&Hl(s,p,a[p])}function lo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ih=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function co(s){return Ws.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function di(){}var Yl=null;function qn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ks=null,Ui=null;function la(s){var a=Hn(s);if(a&&(s=a.stateNode)){var l=s[We]||null;t:switch(s=a.stateNode,a.type){case"input":if(oo(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+pn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var g=u[We]||null;if(!g)throw Error(i(90));oo(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&aa(u)}break t;case"textarea":eh(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&Ys(s,!!l.multiple,a,!1)}}}var uo=!1;function Qs(s,a,l){if(uo)return s(a,l);uo=!0;try{var u=s(a);return u}finally{if(uo=!1,(Ks!==null||Ui!==null)&&(Xh(),Ks&&(a=Ks,s=Ui,Ui=Ks=null,la(a),s)))for(a=0;a<s.length;a++)la(s[a])}}function mi(s,a){var l=s.stateNode;if(l===null)return null;var u=l[We]||null;if(u===null)return null;l=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ca=!1;if(Yn)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){ca=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{ca=!1}var ji=null,Gl=null,ua=null;function Wl(){if(ua)return ua;var s,a=Gl,l=a.length,u,g="value"in ji?ji.value:ji.textContent,p=g.length;for(s=0;s<l&&a[s]===g[s];s++);var b=l-s;for(u=1;u<=b&&a[l-u]===g[p-u];u++);return ua=g.slice(s,1<u?1-u:void 0)}function ha(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function cs(){return!0}function gi(){return!1}function Je(s){function a(l,u,g,p,b){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var x in s)s.hasOwnProperty(x)&&(l=s[x],this[x]=l?l(p):p[x]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?cs:gi,this.isPropagationStopped=gi,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),a}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bi=Je(us),Xs=_({},us,{view:0,detail:0}),Kl=Je(Xs),$s,ho,Fi,fo=_({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Fi&&(Fi&&s.type==="mousemove"?($s=s.screenX-Fi.screenX,ho=s.screenY-Fi.screenY):ho=$s=0,Fi=s),$s)},movementY:function(s){return"movementY"in s?s.movementY:ho}}),Ql=Je(fo),fa=_({},fo,{dataTransfer:0}),sh=Je(fa),rh=_({},Xs,{relatedTarget:0}),da=Je(rh),Xl=_({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),ah=Je(Xl),mo=_({},us,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),oh=Je(mo),lh=_({},us,{data:0}),Hi=Je(lh),ch={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=hh[s])?!!a[s]:!1}function Js(){return fh}var mn=_({},Xs,{key:function(s){if(s.key){var a=ch[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ha(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?uh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(s){return s.type==="keypress"?ha(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ha(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),dh=Je(mn),mh=_({},fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hs=Je(mh),d=_({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),v=Je(d),T=_({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Je(T),H=_({},fo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Je(H),lt=_({},us,{newState:0,oldState:0}),Ct=Je(lt),Ee=[9,13,27,32],Wt=Yn&&"CompositionEvent"in window,me=null;Yn&&"documentMode"in document&&(me=document.documentMode);var Gn=Yn&&"TextEvent"in window&&!me,qi=Yn&&(!Wt||me&&8<me&&11>=me),pi=" ",yi=!1;function ma(s,a){switch(s){case"keyup":return Ee.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function go(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var po=!1;function v2(s,a){switch(s){case"compositionend":return go(a);case"keypress":return a.which!==32?null:(yi=!0,pi);case"textInput":return s=a.data,s===pi&&yi?null:s;default:return null}}function b2(s,a){if(po)return s==="compositionend"||!Wt&&ma(s,a)?(s=Wl(),ua=Gl=ji=null,po=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return qi&&a.locale!=="ko"?null:a.data;default:return null}}var E2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!E2[s.type]:a==="textarea"}function q_(s,a,l,u){Ks?Ui?Ui.push(u):Ui=[u]:Ks=u,a=sf(a,"onChange"),0<a.length&&(l=new Bi("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var $l=null,Jl=null;function T2(s){Ab(s,0)}function gh(s){var a=Mn(s);if(aa(a))return s}function Y_(s,a){if(s==="change")return a}var G_=!1;if(Yn){var dm;if(Yn){var mm="oninput"in document;if(!mm){var W_=document.createElement("div");W_.setAttribute("oninput","return;"),mm=typeof W_.oninput=="function"}dm=mm}else dm=!1;G_=dm&&(!document.documentMode||9<document.documentMode)}function K_(){$l&&($l.detachEvent("onpropertychange",Q_),Jl=$l=null)}function Q_(s){if(s.propertyName==="value"&&gh(Jl)){var a=[];q_(a,Jl,s,qn(s)),Qs(T2,a)}}function S2(s,a,l){s==="focusin"?(K_(),$l=a,Jl=l,$l.attachEvent("onpropertychange",Q_)):s==="focusout"&&K_()}function w2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return gh(Jl)}function x2(s,a){if(s==="click")return gh(a)}function A2(s,a){if(s==="input"||s==="change")return gh(a)}function R2(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var On=typeof Object.is=="function"?Object.is:R2;function Zl(s,a){if(On(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Ae.call(a,g)||!On(s[g],a[g]))return!1}return!0}function X_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function $_(s,a){var l=X_(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=X_(l)}}function J_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?J_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Z_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=zi(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=zi(s.document)}return a}function gm(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var C2=Yn&&"documentMode"in document&&11>=document.documentMode,yo=null,pm=null,tc=null,ym=!1;function t0(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ym||yo==null||yo!==zi(u)||(u=yo,"selectionStart"in u&&gm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),tc&&Zl(tc,u)||(tc=u,u=sf(pm,"onSelect"),0<u.length&&(a=new Bi("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=yo)))}function ga(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var _o={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},_m={},e0={};Yn&&(e0=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function pa(s){if(_m[s])return _m[s];if(!_o[s])return s;var a=_o[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in e0)return _m[s]=a[l];return s}var n0=pa("animationend"),i0=pa("animationiteration"),s0=pa("animationstart"),I2=pa("transitionrun"),M2=pa("transitionstart"),D2=pa("transitioncancel"),r0=pa("transitionend"),a0=new Map,vm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vm.push("scrollEnd");function _i(s,a){a0.set(s,a),Vi(a,[s])}var ph=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Wn=[],vo=0,bm=0;function yh(){for(var s=vo,a=bm=vo=0;a<s;){var l=Wn[a];Wn[a++]=null;var u=Wn[a];Wn[a++]=null;var g=Wn[a];Wn[a++]=null;var p=Wn[a];if(Wn[a++]=null,u!==null&&g!==null){var b=u.pending;b===null?g.next=g:(g.next=b.next,b.next=g),u.pending=g}p!==0&&o0(l,g,p)}}function _h(s,a,l,u){Wn[vo++]=s,Wn[vo++]=a,Wn[vo++]=l,Wn[vo++]=u,bm|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Em(s,a,l,u){return _h(s,a,l,u),vh(s)}function ya(s,a){return _h(s,null,null,a),vh(s)}function o0(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var g=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(g=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,g&&a!==null&&(g=31-be(l),s=p.hiddenUpdates,u=s[g],u===null?s[g]=[a]:u.push(a),a.lane=l|536870912),p):null}function vh(s){if(50<Tc)throw Tc=0,Mg=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var bo={};function O2(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(s,a,l,u){return new O2(s,a,l,u)}function Tm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function fs(s,a){var l=s.alternate;return l===null?(l=kn(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function l0(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function bh(s,a,l,u,g,p){var b=0;if(u=s,typeof s=="function")Tm(s)&&(b=1);else if(typeof s=="string")b=LR(s,l,ut.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case M:return s=kn(31,l,a,g),s.elementType=M,s.lanes=p,s;case w:return _a(l.children,g,p,a);case C:b=8,g|=24;break;case V:return s=kn(12,l,a,g|2),s.elementType=V,s.lanes=p,s;case tt:return s=kn(13,l,a,g),s.elementType=tt,s.lanes=p,s;case ot:return s=kn(19,l,a,g),s.elementType=ot,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case q:b=10;break t;case B:b=9;break t;case rt:b=11;break t;case D:b=14;break t;case I:b=16,u=null;break t}b=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=kn(b,l,a,g),a.elementType=s,a.type=u,a.lanes=p,a}function _a(s,a,l,u){return s=kn(7,s,u,a),s.lanes=l,s}function Sm(s,a,l){return s=kn(6,s,null,a),s.lanes=l,s}function c0(s){var a=kn(18,null,null,0);return a.stateNode=s,a}function wm(s,a,l){return a=kn(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var u0=new WeakMap;function Kn(s,a){if(typeof s=="object"&&s!==null){var l=u0.get(s);return l!==void 0?l:(a={value:s,source:a,stack:Dl(a)},u0.set(s,a),a)}return{value:s,source:a,stack:Dl(a)}}var Eo=[],To=0,Eh=null,ec=0,Qn=[],Xn=0,Zs=null,Yi=1,Gi="";function ds(s,a){Eo[To++]=ec,Eo[To++]=Eh,Eh=s,ec=a}function h0(s,a,l){Qn[Xn++]=Yi,Qn[Xn++]=Gi,Qn[Xn++]=Zs,Zs=s;var u=Yi;s=Gi;var g=32-be(u)-1;u&=~(1<<g),l+=1;var p=32-be(a)+g;if(30<p){var b=g-g%5;p=(u&(1<<b)-1).toString(32),u>>=b,g-=b,Yi=1<<32-be(a)+g|l<<g|u,Gi=p+s}else Yi=1<<p|l<<g|u,Gi=s}function xm(s){s.return!==null&&(ds(s,1),h0(s,1,0))}function Am(s){for(;s===Eh;)Eh=Eo[--To],Eo[To]=null,ec=Eo[--To],Eo[To]=null;for(;s===Zs;)Zs=Qn[--Xn],Qn[Xn]=null,Gi=Qn[--Xn],Qn[Xn]=null,Yi=Qn[--Xn],Qn[Xn]=null}function f0(s,a){Qn[Xn++]=Yi,Qn[Xn++]=Gi,Qn[Xn++]=Zs,Yi=a.id,Gi=a.overflow,Zs=s}var Ze=null,ce=null,jt=!1,tr=null,$n=!1,Rm=Error(i(519));function er(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nc(Kn(a,s)),Rm}function d0(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[Ce]=s,a[We]=u,l){case"dialog":kt("cancel",a),kt("close",a);break;case"iframe":case"object":case"embed":kt("load",a);break;case"video":case"audio":for(l=0;l<wc.length;l++)kt(wc[l],a);break;case"source":kt("error",a);break;case"img":case"image":case"link":kt("error",a),kt("load",a);break;case"details":kt("toggle",a);break;case"input":kt("invalid",a),th(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":kt("invalid",a);break;case"textarea":kt("invalid",a),Gs(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||Mb(a.textContent,l)?(u.popover!=null&&(kt("beforetoggle",a),kt("toggle",a)),u.onScroll!=null&&kt("scroll",a),u.onScrollEnd!=null&&kt("scrollend",a),u.onClick!=null&&(a.onclick=di),a=!0):a=!1,a||er(s,!0)}function m0(s){for(Ze=s.return;Ze;)switch(Ze.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Ze=Ze.return}}function So(s){if(s!==Ze)return!1;if(!jt)return m0(s),jt=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Yg(s.type,s.memoizedProps)),l=!l),l&&ce&&er(s),m0(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ce=Ub(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ce=Ub(s)}else a===27?(a=ce,gr(s.type)?(s=Xg,Xg=null,ce=s):ce=a):ce=Ze?Zn(s.stateNode.nextSibling):null;return!0}function va(){ce=Ze=null,jt=!1}function Cm(){var s=tr;return s!==null&&(En===null?En=s:En.push.apply(En,s),tr=null),s}function nc(s){tr===null?tr=[s]:tr.push(s)}var Im=U(null),ba=null,ms=null;function nr(s,a,l){ct(Im,a._currentValue),a._currentValue=l}function gs(s){s._currentValue=Im.current,Z(Im)}function Mm(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function Dm(s,a,l,u){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var p=g.dependencies;if(p!==null){var b=g.child;p=p.firstContext;t:for(;p!==null;){var x=p;p=g;for(var L=0;L<a.length;L++)if(x.context===a[L]){p.lanes|=l,x=p.alternate,x!==null&&(x.lanes|=l),Mm(p.return,l,s),u||(b=null);break t}p=x.next}}else if(g.tag===18){if(b=g.return,b===null)throw Error(i(341));b.lanes|=l,p=b.alternate,p!==null&&(p.lanes|=l),Mm(b,l,s),b=null}else b=g.child;if(b!==null)b.return=g;else for(b=g;b!==null;){if(b===s){b=null;break}if(g=b.sibling,g!==null){g.return=b.return,b=g;break}b=b.return}g=b}}function wo(s,a,l,u){s=null;for(var g=a,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var b=g.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var x=g.type;On(g.pendingProps.value,b.value)||(s!==null?s.push(x):s=[x])}}else if(g===Bt.current){if(b=g.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(Ic):s=[Ic])}g=g.return}s!==null&&Dm(a,s,l,u),a.flags|=262144}function Th(s){for(s=s.firstContext;s!==null;){if(!On(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ea(s){ba=s,ms=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function tn(s){return g0(ba,s)}function Sh(s,a){return ba===null&&Ea(s),g0(s,a)}function g0(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ms===null){if(s===null)throw Error(i(308));ms=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else ms=ms.next=a;return l}var k2=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},N2=n.unstable_scheduleCallback,P2=n.unstable_NormalPriority,De={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Om(){return{controller:new k2,data:new Map,refCount:0}}function ic(s){s.refCount--,s.refCount===0&&N2(P2,function(){s.controller.abort()})}var sc=null,km=0,xo=0,Ao=null;function V2(s,a){if(sc===null){var l=sc=[];km=0,xo=Vg(),Ao={status:"pending",value:void 0,then:function(u){l.push(u)}}}return km++,a.then(p0,p0),a}function p0(){if(--km===0&&sc!==null){Ao!==null&&(Ao.status="fulfilled");var s=sc;sc=null,xo=0,Ao=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function L2(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var y0=Q.S;Q.S=function(s,a){tb=dn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&V2(s,a),y0!==null&&y0(s,a)};var Ta=U(null);function Nm(){var s=Ta.current;return s!==null?s:re.pooledCache}function wh(s,a){a===null?ct(Ta,Ta.current):ct(Ta,a.pool)}function _0(){var s=Nm();return s===null?null:{parent:De._currentValue,pool:s}}var Ro=Error(i(460)),Pm=Error(i(474)),xh=Error(i(542)),Ah={then:function(){}};function v0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function b0(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(di,di),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,T0(s),s;default:if(typeof a.status=="string")a.then(di,di);else{if(s=re,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=u}},function(u){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,T0(s),s}throw wa=a,Ro}}function Sa(s){try{var a=s._init;return a(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(wa=l,Ro):l}}var wa=null;function E0(){if(wa===null)throw Error(i(459));var s=wa;return wa=null,s}function T0(s){if(s===Ro||s===xh)throw Error(i(483))}var Co=null,rc=0;function Rh(s){var a=rc;return rc+=1,Co===null&&(Co=[]),b0(Co,s,a)}function ac(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Ch(s,a){throw a.$$typeof===E?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function S0(s){function a(F,j){if(s){var G=F.deletions;G===null?(F.deletions=[j],F.flags|=16):G.push(j)}}function l(F,j){if(!s)return null;for(;j!==null;)a(F,j),j=j.sibling;return null}function u(F){for(var j=new Map;F!==null;)F.key!==null?j.set(F.key,F):j.set(F.index,F),F=F.sibling;return j}function g(F,j){return F=fs(F,j),F.index=0,F.sibling=null,F}function p(F,j,G){return F.index=G,s?(G=F.alternate,G!==null?(G=G.index,G<j?(F.flags|=67108866,j):G):(F.flags|=67108866,j)):(F.flags|=1048576,j)}function b(F){return s&&F.alternate===null&&(F.flags|=67108866),F}function x(F,j,G,et){return j===null||j.tag!==6?(j=Sm(G,F.mode,et),j.return=F,j):(j=g(j,G),j.return=F,j)}function L(F,j,G,et){var pt=G.type;return pt===w?J(F,j,G.props.children,et,G.key):j!==null&&(j.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===I&&Sa(pt)===j.type)?(j=g(j,G.props),ac(j,G),j.return=F,j):(j=bh(G.type,G.key,G.props,null,F.mode,et),ac(j,G),j.return=F,j)}function W(F,j,G,et){return j===null||j.tag!==4||j.stateNode.containerInfo!==G.containerInfo||j.stateNode.implementation!==G.implementation?(j=wm(G,F.mode,et),j.return=F,j):(j=g(j,G.children||[]),j.return=F,j)}function J(F,j,G,et,pt){return j===null||j.tag!==7?(j=_a(G,F.mode,et,pt),j.return=F,j):(j=g(j,G),j.return=F,j)}function nt(F,j,G){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Sm(""+j,F.mode,G),j.return=F,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case S:return G=bh(j.type,j.key,j.props,null,F.mode,G),ac(G,j),G.return=F,G;case A:return j=wm(j,F.mode,G),j.return=F,j;case I:return j=Sa(j),nt(F,j,G)}if(wt(j)||z(j))return j=_a(j,F.mode,G,null),j.return=F,j;if(typeof j.then=="function")return nt(F,Rh(j),G);if(j.$$typeof===q)return nt(F,Sh(F,j),G);Ch(F,j)}return null}function K(F,j,G,et){var pt=j!==null?j.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return pt!==null?null:x(F,j,""+G,et);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return G.key===pt?L(F,j,G,et):null;case A:return G.key===pt?W(F,j,G,et):null;case I:return G=Sa(G),K(F,j,G,et)}if(wt(G)||z(G))return pt!==null?null:J(F,j,G,et,null);if(typeof G.then=="function")return K(F,j,Rh(G),et);if(G.$$typeof===q)return K(F,j,Sh(F,G),et);Ch(F,G)}return null}function $(F,j,G,et,pt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return F=F.get(G)||null,x(j,F,""+et,pt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case S:return F=F.get(et.key===null?G:et.key)||null,L(j,F,et,pt);case A:return F=F.get(et.key===null?G:et.key)||null,W(j,F,et,pt);case I:return et=Sa(et),$(F,j,G,et,pt)}if(wt(et)||z(et))return F=F.get(G)||null,J(j,F,et,pt,null);if(typeof et.then=="function")return $(F,j,G,Rh(et),pt);if(et.$$typeof===q)return $(F,j,G,Sh(j,et),pt);Ch(j,et)}return null}function mt(F,j,G,et){for(var pt=null,Yt=null,gt=j,Mt=j=0,Vt=null;gt!==null&&Mt<G.length;Mt++){gt.index>Mt?(Vt=gt,gt=null):Vt=gt.sibling;var Gt=K(F,gt,G[Mt],et);if(Gt===null){gt===null&&(gt=Vt);break}s&&gt&&Gt.alternate===null&&a(F,gt),j=p(Gt,j,Mt),Yt===null?pt=Gt:Yt.sibling=Gt,Yt=Gt,gt=Vt}if(Mt===G.length)return l(F,gt),jt&&ds(F,Mt),pt;if(gt===null){for(;Mt<G.length;Mt++)gt=nt(F,G[Mt],et),gt!==null&&(j=p(gt,j,Mt),Yt===null?pt=gt:Yt.sibling=gt,Yt=gt);return jt&&ds(F,Mt),pt}for(gt=u(gt);Mt<G.length;Mt++)Vt=$(gt,F,Mt,G[Mt],et),Vt!==null&&(s&&Vt.alternate!==null&&gt.delete(Vt.key===null?Mt:Vt.key),j=p(Vt,j,Mt),Yt===null?pt=Vt:Yt.sibling=Vt,Yt=Vt);return s&&gt.forEach(function(br){return a(F,br)}),jt&&ds(F,Mt),pt}function vt(F,j,G,et){if(G==null)throw Error(i(151));for(var pt=null,Yt=null,gt=j,Mt=j=0,Vt=null,Gt=G.next();gt!==null&&!Gt.done;Mt++,Gt=G.next()){gt.index>Mt?(Vt=gt,gt=null):Vt=gt.sibling;var br=K(F,gt,Gt.value,et);if(br===null){gt===null&&(gt=Vt);break}s&&gt&&br.alternate===null&&a(F,gt),j=p(br,j,Mt),Yt===null?pt=br:Yt.sibling=br,Yt=br,gt=Vt}if(Gt.done)return l(F,gt),jt&&ds(F,Mt),pt;if(gt===null){for(;!Gt.done;Mt++,Gt=G.next())Gt=nt(F,Gt.value,et),Gt!==null&&(j=p(Gt,j,Mt),Yt===null?pt=Gt:Yt.sibling=Gt,Yt=Gt);return jt&&ds(F,Mt),pt}for(gt=u(gt);!Gt.done;Mt++,Gt=G.next())Gt=$(gt,F,Mt,Gt.value,et),Gt!==null&&(s&&Gt.alternate!==null&&gt.delete(Gt.key===null?Mt:Gt.key),j=p(Gt,j,Mt),Yt===null?pt=Gt:Yt.sibling=Gt,Yt=Gt);return s&&gt.forEach(function(KR){return a(F,KR)}),jt&&ds(F,Mt),pt}function se(F,j,G,et){if(typeof G=="object"&&G!==null&&G.type===w&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case S:t:{for(var pt=G.key;j!==null;){if(j.key===pt){if(pt=G.type,pt===w){if(j.tag===7){l(F,j.sibling),et=g(j,G.props.children),et.return=F,F=et;break t}}else if(j.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===I&&Sa(pt)===j.type){l(F,j.sibling),et=g(j,G.props),ac(et,G),et.return=F,F=et;break t}l(F,j);break}else a(F,j);j=j.sibling}G.type===w?(et=_a(G.props.children,F.mode,et,G.key),et.return=F,F=et):(et=bh(G.type,G.key,G.props,null,F.mode,et),ac(et,G),et.return=F,F=et)}return b(F);case A:t:{for(pt=G.key;j!==null;){if(j.key===pt)if(j.tag===4&&j.stateNode.containerInfo===G.containerInfo&&j.stateNode.implementation===G.implementation){l(F,j.sibling),et=g(j,G.children||[]),et.return=F,F=et;break t}else{l(F,j);break}else a(F,j);j=j.sibling}et=wm(G,F.mode,et),et.return=F,F=et}return b(F);case I:return G=Sa(G),se(F,j,G,et)}if(wt(G))return mt(F,j,G,et);if(z(G)){if(pt=z(G),typeof pt!="function")throw Error(i(150));return G=pt.call(G),vt(F,j,G,et)}if(typeof G.then=="function")return se(F,j,Rh(G),et);if(G.$$typeof===q)return se(F,j,Sh(F,G),et);Ch(F,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,j!==null&&j.tag===6?(l(F,j.sibling),et=g(j,G),et.return=F,F=et):(l(F,j),et=Sm(G,F.mode,et),et.return=F,F=et),b(F)):l(F,j)}return function(F,j,G,et){try{rc=0;var pt=se(F,j,G,et);return Co=null,pt}catch(gt){if(gt===Ro||gt===xh)throw gt;var Yt=kn(29,gt,null,F.mode);return Yt.lanes=et,Yt.return=F,Yt}}}var xa=S0(!0),w0=S0(!1),ir=!1;function Vm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lm(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function sr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function rr(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var g=u.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),u.pending=a,a=vh(s),o0(s,null,l),a}return _h(s,u,a,l),vh(s)}function oc(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Nl(s,l)}}function zm(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?g=p=b:p=p.next=b,l=l.next}while(l!==null);p===null?g=p=a:p=p.next=a}else g=p=a;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var Um=!1;function lc(){if(Um){var s=Ao;if(s!==null)throw s}}function cc(s,a,l,u){Um=!1;var g=s.updateQueue;ir=!1;var p=g.firstBaseUpdate,b=g.lastBaseUpdate,x=g.shared.pending;if(x!==null){g.shared.pending=null;var L=x,W=L.next;L.next=null,b===null?p=W:b.next=W,b=L;var J=s.alternate;J!==null&&(J=J.updateQueue,x=J.lastBaseUpdate,x!==b&&(x===null?J.firstBaseUpdate=W:x.next=W,J.lastBaseUpdate=L))}if(p!==null){var nt=g.baseState;b=0,J=W=L=null,x=p;do{var K=x.lane&-536870913,$=K!==x.lane;if($?(Pt&K)===K:(u&K)===K){K!==0&&K===xo&&(Um=!0),J!==null&&(J=J.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var mt=s,vt=x;K=a;var se=l;switch(vt.tag){case 1:if(mt=vt.payload,typeof mt=="function"){nt=mt.call(se,nt,K);break t}nt=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=vt.payload,K=typeof mt=="function"?mt.call(se,nt,K):mt,K==null)break t;nt=_({},nt,K);break t;case 2:ir=!0}}K=x.callback,K!==null&&(s.flags|=64,$&&(s.flags|=8192),$=g.callbacks,$===null?g.callbacks=[K]:$.push(K))}else $={lane:K,tag:x.tag,payload:x.payload,callback:x.callback,next:null},J===null?(W=J=$,L=nt):J=J.next=$,b|=K;if(x=x.next,x===null){if(x=g.shared.pending,x===null)break;$=x,x=$.next,$.next=null,g.lastBaseUpdate=$,g.shared.pending=null}}while(!0);J===null&&(L=nt),g.baseState=L,g.firstBaseUpdate=W,g.lastBaseUpdate=J,p===null&&(g.shared.lanes=0),ur|=b,s.lanes=b,s.memoizedState=nt}}function x0(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function A0(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)x0(l[s],a)}var Io=U(null),Ih=U(0);function R0(s,a){s=ws,ct(Ih,s),ct(Io,a),ws=s|a.baseLanes}function jm(){ct(Ih,ws),ct(Io,Io.current)}function Bm(){ws=Ih.current,Z(Io),Z(Ih)}var Nn=U(null),Jn=null;function ar(s){var a=s.alternate;ct(Te,Te.current&1),ct(Nn,s),Jn===null&&(a===null||Io.current!==null||a.memoizedState!==null)&&(Jn=s)}function Fm(s){ct(Te,Te.current),ct(Nn,s),Jn===null&&(Jn=s)}function C0(s){s.tag===22?(ct(Te,Te.current),ct(Nn,s),Jn===null&&(Jn=s)):or()}function or(){ct(Te,Te.current),ct(Nn,Nn.current)}function Pn(s){Z(Nn),Jn===s&&(Jn=null),Z(Te)}var Te=U(0);function Mh(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Kg(l)||Qg(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ps=0,It=null,ne=null,Oe=null,Dh=!1,Mo=!1,Aa=!1,Oh=0,uc=0,Do=null,z2=0;function _e(){throw Error(i(321))}function Hm(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!On(s[l],a[l]))return!1;return!0}function qm(s,a,l,u,g,p){return ps=p,It=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Q.H=s===null||s.memoizedState===null?hv:rg,Aa=!1,p=l(u,g),Aa=!1,Mo&&(p=M0(a,l,u,g)),I0(s),p}function I0(s){Q.H=dc;var a=ne!==null&&ne.next!==null;if(ps=0,Oe=ne=It=null,Dh=!1,uc=0,Do=null,a)throw Error(i(300));s===null||ke||(s=s.dependencies,s!==null&&Th(s)&&(ke=!0))}function M0(s,a,l,u){It=s;var g=0;do{if(Mo&&(Do=null),uc=0,Mo=!1,25<=g)throw Error(i(301));if(g+=1,Oe=ne=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Q.H=fv,p=a(l,u)}while(Mo);return p}function U2(){var s=Q.H,a=s.useState()[0];return a=typeof a.then=="function"?hc(a):a,s=s.useState()[0],(ne!==null?ne.memoizedState:null)!==s&&(It.flags|=1024),a}function Ym(){var s=Oh!==0;return Oh=0,s}function Gm(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function Wm(s){if(Dh){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Dh=!1}ps=0,Oe=ne=It=null,Mo=!1,uc=Oh=0,Do=null}function gn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?It.memoizedState=Oe=s:Oe=Oe.next=s,Oe}function Se(){if(ne===null){var s=It.alternate;s=s!==null?s.memoizedState:null}else s=ne.next;var a=Oe===null?It.memoizedState:Oe.next;if(a!==null)Oe=a,ne=s;else{if(s===null)throw It.alternate===null?Error(i(467)):Error(i(310));ne=s,s={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},Oe===null?It.memoizedState=Oe=s:Oe=Oe.next=s}return Oe}function kh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hc(s){var a=uc;return uc+=1,Do===null&&(Do=[]),s=b0(Do,s,a),a=It,(Oe===null?a.memoizedState:Oe.next)===null&&(a=a.alternate,Q.H=a===null||a.memoizedState===null?hv:rg),s}function Nh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return hc(s);if(s.$$typeof===q)return tn(s)}throw Error(i(438,String(s)))}function Km(s){var a=null,l=It.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=It.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=kh(),It.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=N;return a.index++,l}function ys(s,a){return typeof a=="function"?a(s):a}function Ph(s){var a=Se();return Qm(a,ne,s)}function Qm(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var g=s.baseQueue,p=u.pending;if(p!==null){if(g!==null){var b=g.next;g.next=p.next,p.next=b}a.baseQueue=g=p,u.pending=null}if(p=s.baseState,g===null)s.memoizedState=p;else{a=g.next;var x=b=null,L=null,W=a,J=!1;do{var nt=W.lane&-536870913;if(nt!==W.lane?(Pt&nt)===nt:(ps&nt)===nt){var K=W.revertLane;if(K===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),nt===xo&&(J=!0);else if((ps&K)===K){W=W.next,K===xo&&(J=!0);continue}else nt={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(x=L=nt,b=p):L=L.next=nt,It.lanes|=K,ur|=K;nt=W.action,Aa&&l(p,nt),p=W.hasEagerState?W.eagerState:l(p,nt)}else K={lane:nt,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(x=L=K,b=p):L=L.next=K,It.lanes|=nt,ur|=nt;W=W.next}while(W!==null&&W!==a);if(L===null?b=p:L.next=x,!On(p,s.memoizedState)&&(ke=!0,J&&(l=Ao,l!==null)))throw l;s.memoizedState=p,s.baseState=b,s.baseQueue=L,u.lastRenderedState=p}return g===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Xm(s){var a=Se(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,g=l.pending,p=a.memoizedState;if(g!==null){l.pending=null;var b=g=g.next;do p=s(p,b.action),b=b.next;while(b!==g);On(p,a.memoizedState)||(ke=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,u]}function D0(s,a,l){var u=It,g=Se(),p=jt;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=a();var b=!On((ne||g).memoizedState,l);if(b&&(g.memoizedState=l,ke=!0),g=g.queue,Zm(N0.bind(null,u,g,s),[s]),g.getSnapshot!==a||b||Oe!==null&&Oe.memoizedState.tag&1){if(u.flags|=2048,Oo(9,{destroy:void 0},k0.bind(null,u,g,l,a),null),re===null)throw Error(i(349));p||(ps&127)!==0||O0(u,a,l)}return l}function O0(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=It.updateQueue,a===null?(a=kh(),It.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function k0(s,a,l,u){a.value=l,a.getSnapshot=u,P0(a)&&V0(s)}function N0(s,a,l){return l(function(){P0(a)&&V0(s)})}function P0(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!On(s,l)}catch{return!0}}function V0(s){var a=ya(s,2);a!==null&&Tn(a,s,2)}function $m(s){var a=gn();if(typeof s=="function"){var l=s;if(s=l(),Aa){Fn(!0);try{l()}finally{Fn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:s},a}function L0(s,a,l,u){return s.baseState=l,Qm(s,ne,typeof u=="function"?u:ys)}function j2(s,a,l,u,g){if(zh(s))throw Error(i(485));if(s=a.action,s!==null){var p={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};Q.T!==null?l(!0):p.isTransition=!1,u(p),l=a.pending,l===null?(p.next=a.pending=p,z0(a,p)):(p.next=l.next,a.pending=l.next=p)}}function z0(s,a){var l=a.action,u=a.payload,g=s.state;if(a.isTransition){var p=Q.T,b={};Q.T=b;try{var x=l(g,u),L=Q.S;L!==null&&L(b,x),U0(s,a,x)}catch(W){Jm(s,a,W)}finally{p!==null&&b.types!==null&&(p.types=b.types),Q.T=p}}else try{p=l(g,u),U0(s,a,p)}catch(W){Jm(s,a,W)}}function U0(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){j0(s,a,u)},function(u){return Jm(s,a,u)}):j0(s,a,l)}function j0(s,a,l){a.status="fulfilled",a.value=l,B0(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,z0(s,l)))}function Jm(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,B0(a),a=a.next;while(a!==u)}s.action=null}function B0(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function F0(s,a){return a}function H0(s,a){if(jt){var l=re.formState;if(l!==null){t:{var u=It;if(jt){if(ce){e:{for(var g=ce,p=$n;g.nodeType!==8;){if(!p){g=null;break e}if(g=Zn(g.nextSibling),g===null){g=null;break e}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){ce=Zn(g.nextSibling),u=g.data==="F!";break t}}er(u)}u=!1}u&&(a=l[0])}}return l=gn(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:F0,lastRenderedState:a},l.queue=u,l=lv.bind(null,It,u),u.dispatch=l,u=$m(!1),p=sg.bind(null,It,!1,u.queue),u=gn(),g={state:a,dispatch:null,action:s,pending:null},u.queue=g,l=j2.bind(null,It,g,p,l),g.dispatch=l,u.memoizedState=s,[a,l,!1]}function q0(s){var a=Se();return Y0(a,ne,s)}function Y0(s,a,l){if(a=Qm(s,a,F0)[0],s=Ph(ys)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=hc(a)}catch(b){throw b===Ro?xh:b}else u=a;a=Se();var g=a.queue,p=g.dispatch;return l!==a.memoizedState&&(It.flags|=2048,Oo(9,{destroy:void 0},B2.bind(null,g,l),null)),[u,p,s]}function B2(s,a){s.action=a}function G0(s){var a=Se(),l=ne;if(l!==null)return Y0(a,l,s);Se(),a=a.memoizedState,l=Se();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function Oo(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=It.updateQueue,a===null&&(a=kh(),It.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function W0(){return Se().memoizedState}function Vh(s,a,l,u){var g=gn();It.flags|=s,g.memoizedState=Oo(1|a,{destroy:void 0},l,u===void 0?null:u)}function Lh(s,a,l,u){var g=Se();u=u===void 0?null:u;var p=g.memoizedState.inst;ne!==null&&u!==null&&Hm(u,ne.memoizedState.deps)?g.memoizedState=Oo(a,p,l,u):(It.flags|=s,g.memoizedState=Oo(1|a,p,l,u))}function K0(s,a){Vh(8390656,8,s,a)}function Zm(s,a){Lh(2048,8,s,a)}function F2(s){It.flags|=4;var a=It.updateQueue;if(a===null)a=kh(),It.updateQueue=a,a.events=[s];else{var l=a.events;l===null?a.events=[s]:l.push(s)}}function Q0(s){var a=Se().memoizedState;return F2({ref:a,nextImpl:s}),function(){if((Kt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function X0(s,a){return Lh(4,2,s,a)}function $0(s,a){return Lh(4,4,s,a)}function J0(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Z0(s,a,l){l=l!=null?l.concat([s]):null,Lh(4,4,J0.bind(null,a,s),l)}function tg(){}function tv(s,a){var l=Se();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&Hm(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function ev(s,a){var l=Se();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&Hm(a,u[1]))return u[0];if(u=s(),Aa){Fn(!0);try{s()}finally{Fn(!1)}}return l.memoizedState=[u,a],u}function eg(s,a,l){return l===void 0||(ps&1073741824)!==0&&(Pt&261930)===0?s.memoizedState=a:(s.memoizedState=l,s=nb(),It.lanes|=s,ur|=s,l)}function nv(s,a,l,u){return On(l,a)?l:Io.current!==null?(s=eg(s,l,u),On(s,a)||(ke=!0),s):(ps&42)===0||(ps&1073741824)!==0&&(Pt&261930)===0?(ke=!0,s.memoizedState=l):(s=nb(),It.lanes|=s,ur|=s,a)}function iv(s,a,l,u,g){var p=at.p;at.p=p!==0&&8>p?p:8;var b=Q.T,x={};Q.T=x,sg(s,!1,a,l);try{var L=g(),W=Q.S;if(W!==null&&W(x,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var J=L2(L,u);fc(s,a,J,zn(s))}else fc(s,a,u,zn(s))}catch(nt){fc(s,a,{then:function(){},status:"rejected",reason:nt},zn())}finally{at.p=p,b!==null&&x.types!==null&&(b.types=x.types),Q.T=b}}function H2(){}function ng(s,a,l,u){if(s.tag!==5)throw Error(i(476));var g=sv(s).queue;iv(s,g,a,dt,l===null?H2:function(){return rv(s),l(u)})}function sv(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:dt},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function rv(s){var a=sv(s);a.next===null&&(a=s.alternate.memoizedState),fc(s,a.next.queue,{},zn())}function ig(){return tn(Ic)}function av(){return Se().memoizedState}function ov(){return Se().memoizedState}function q2(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=zn();s=sr(l);var u=rr(a,s,l);u!==null&&(Tn(u,a,l),oc(u,a,l)),a={cache:Om()},s.payload=a;return}a=a.return}}function Y2(s,a,l){var u=zn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},zh(s)?cv(a,l):(l=Em(s,a,l,u),l!==null&&(Tn(l,s,u),uv(l,a,u)))}function lv(s,a,l){var u=zn();fc(s,a,l,u)}function fc(s,a,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(zh(s))cv(a,g);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var b=a.lastRenderedState,x=p(b,l);if(g.hasEagerState=!0,g.eagerState=x,On(x,b))return _h(s,a,g,0),re===null&&yh(),!1}catch{}if(l=Em(s,a,g,u),l!==null)return Tn(l,s,u),uv(l,a,u),!0}return!1}function sg(s,a,l,u){if(u={lane:2,revertLane:Vg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},zh(s)){if(a)throw Error(i(479))}else a=Em(s,l,u,2),a!==null&&Tn(a,s,2)}function zh(s){var a=s.alternate;return s===It||a!==null&&a===It}function cv(s,a){Mo=Dh=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function uv(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Nl(s,l)}}var dc={readContext:tn,use:Nh,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e};dc.useEffectEvent=_e;var hv={readContext:tn,use:Nh,useCallback:function(s,a){return gn().memoizedState=[s,a===void 0?null:a],s},useContext:tn,useEffect:K0,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Vh(4194308,4,J0.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Vh(4194308,4,s,a)},useInsertionEffect:function(s,a){Vh(4,2,s,a)},useMemo:function(s,a){var l=gn();a=a===void 0?null:a;var u=s();if(Aa){Fn(!0);try{s()}finally{Fn(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=gn();if(l!==void 0){var g=l(a);if(Aa){Fn(!0);try{l(a)}finally{Fn(!1)}}}else g=a;return u.memoizedState=u.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},u.queue=s,s=s.dispatch=Y2.bind(null,It,s),[u.memoizedState,s]},useRef:function(s){var a=gn();return s={current:s},a.memoizedState=s},useState:function(s){s=$m(s);var a=s.queue,l=lv.bind(null,It,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:tg,useDeferredValue:function(s,a){var l=gn();return eg(l,s,a)},useTransition:function(){var s=$m(!1);return s=iv.bind(null,It,s.queue,!0,!1),gn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=It,g=gn();if(jt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),re===null)throw Error(i(349));(Pt&127)!==0||O0(u,a,l)}g.memoizedState=l;var p={value:l,getSnapshot:a};return g.queue=p,K0(N0.bind(null,u,p,s),[s]),u.flags|=2048,Oo(9,{destroy:void 0},k0.bind(null,u,p,l,a),null),l},useId:function(){var s=gn(),a=re.identifierPrefix;if(jt){var l=Gi,u=Yi;l=(u&~(1<<32-be(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Oh++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=z2++,a="_"+a+"r_"+l.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:ig,useFormState:H0,useActionState:H0,useOptimistic:function(s){var a=gn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=sg.bind(null,It,!0,l),l.dispatch=a,[s,a]},useMemoCache:Km,useCacheRefresh:function(){return gn().memoizedState=q2.bind(null,It)},useEffectEvent:function(s){var a=gn(),l={impl:s};return a.memoizedState=l,function(){if((Kt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},rg={readContext:tn,use:Nh,useCallback:tv,useContext:tn,useEffect:Zm,useImperativeHandle:Z0,useInsertionEffect:X0,useLayoutEffect:$0,useMemo:ev,useReducer:Ph,useRef:W0,useState:function(){return Ph(ys)},useDebugValue:tg,useDeferredValue:function(s,a){var l=Se();return nv(l,ne.memoizedState,s,a)},useTransition:function(){var s=Ph(ys)[0],a=Se().memoizedState;return[typeof s=="boolean"?s:hc(s),a]},useSyncExternalStore:D0,useId:av,useHostTransitionStatus:ig,useFormState:q0,useActionState:q0,useOptimistic:function(s,a){var l=Se();return L0(l,ne,s,a)},useMemoCache:Km,useCacheRefresh:ov};rg.useEffectEvent=Q0;var fv={readContext:tn,use:Nh,useCallback:tv,useContext:tn,useEffect:Zm,useImperativeHandle:Z0,useInsertionEffect:X0,useLayoutEffect:$0,useMemo:ev,useReducer:Xm,useRef:W0,useState:function(){return Xm(ys)},useDebugValue:tg,useDeferredValue:function(s,a){var l=Se();return ne===null?eg(l,s,a):nv(l,ne.memoizedState,s,a)},useTransition:function(){var s=Xm(ys)[0],a=Se().memoizedState;return[typeof s=="boolean"?s:hc(s),a]},useSyncExternalStore:D0,useId:av,useHostTransitionStatus:ig,useFormState:G0,useActionState:G0,useOptimistic:function(s,a){var l=Se();return ne!==null?L0(l,ne,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Km,useCacheRefresh:ov};fv.useEffectEvent=Q0;function ag(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:_({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var og={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=zn(),g=sr(u);g.payload=a,l!=null&&(g.callback=l),a=rr(s,g,u),a!==null&&(Tn(a,s,u),oc(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=zn(),g=sr(u);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=rr(s,g,u),a!==null&&(Tn(a,s,u),oc(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=zn(),u=sr(l);u.tag=2,a!=null&&(u.callback=a),a=rr(s,u,l),a!==null&&(Tn(a,s,l),oc(a,s,l))}};function dv(s,a,l,u,g,p,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,b):a.prototype&&a.prototype.isPureReactComponent?!Zl(l,u)||!Zl(g,p):!0}function mv(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&og.enqueueReplaceState(a,a.state,null)}function Ra(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=_({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}function gv(s){ph(s)}function pv(s){console.error(s)}function yv(s){ph(s)}function Uh(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function _v(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function lg(s,a,l){return l=sr(l),l.tag=3,l.payload={element:null},l.callback=function(){Uh(s,a)},l}function vv(s){return s=sr(s),s.tag=3,s}function bv(s,a,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var p=u.value;s.payload=function(){return g(p)},s.callback=function(){_v(a,l,u)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(s.callback=function(){_v(a,l,u),typeof g!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var x=u.stack;this.componentDidCatch(u.value,{componentStack:x!==null?x:""})})}function G2(s,a,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&wo(a,l,g,!0),l=Nn.current,l!==null){switch(l.tag){case 31:case 13:return Jn===null?$h():l.alternate===null&&ve===0&&(ve=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===Ah?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),kg(s,u,g)),!1;case 22:return l.flags|=65536,u===Ah?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),kg(s,u,g)),!1}throw Error(i(435,l.tag))}return kg(s,u,g),$h(),!1}if(jt)return a=Nn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,u!==Rm&&(s=Error(i(422),{cause:u}),nc(Kn(s,l)))):(u!==Rm&&(a=Error(i(423),{cause:u}),nc(Kn(a,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,u=Kn(u,l),g=lg(s.stateNode,u,g),zm(s,g),ve!==4&&(ve=2)),!1;var p=Error(i(520),{cause:u});if(p=Kn(p,l),Ec===null?Ec=[p]:Ec.push(p),ve!==4&&(ve=2),a===null)return!0;u=Kn(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=lg(l.stateNode,u,s),zm(l,s),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(hr===null||!hr.has(p))))return l.flags|=65536,g&=-g,l.lanes|=g,g=vv(g),bv(g,s,l,u),zm(l,g),!1}l=l.return}while(l!==null);return!1}var cg=Error(i(461)),ke=!1;function en(s,a,l,u){a.child=s===null?w0(a,null,l,u):xa(a,s.child,l,u)}function Ev(s,a,l,u,g){l=l.render;var p=a.ref;if("ref"in u){var b={};for(var x in u)x!=="ref"&&(b[x]=u[x])}else b=u;return Ea(a),u=qm(s,a,l,b,p,g),x=Ym(),s!==null&&!ke?(Gm(s,a,g),_s(s,a,g)):(jt&&x&&xm(a),a.flags|=1,en(s,a,u,g),a.child)}function Tv(s,a,l,u,g){if(s===null){var p=l.type;return typeof p=="function"&&!Tm(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,Sv(s,a,p,u,g)):(s=bh(l.type,null,u,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(p=s.child,!yg(s,g)){var b=p.memoizedProps;if(l=l.compare,l=l!==null?l:Zl,l(b,u)&&s.ref===a.ref)return _s(s,a,g)}return a.flags|=1,s=fs(p,u),s.ref=a.ref,s.return=a,a.child=s}function Sv(s,a,l,u,g){if(s!==null){var p=s.memoizedProps;if(Zl(p,u)&&s.ref===a.ref)if(ke=!1,a.pendingProps=u=p,yg(s,g))(s.flags&131072)!==0&&(ke=!0);else return a.lanes=s.lanes,_s(s,a,g)}return ug(s,a,l,u,g)}function wv(s,a,l,u){var g=u.children,p=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,s!==null){for(u=a.child=s.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~p}else u=0,a.child=null;return xv(s,a,p,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&wh(a,p!==null?p.cachePool:null),p!==null?R0(a,p):jm(),C0(a);else return u=a.lanes=536870912,xv(s,a,p!==null?p.baseLanes|l:l,l,u)}else p!==null?(wh(a,p.cachePool),R0(a,p),or(),a.memoizedState=null):(s!==null&&wh(a,null),jm(),or());return en(s,a,g,l),a.child}function mc(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function xv(s,a,l,u,g){var p=Nm();return p=p===null?null:{parent:De._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},s!==null&&wh(a,null),jm(),C0(a),s!==null&&wo(s,a,u,!0),a.childLanes=g,null}function jh(s,a){return a=Fh({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function Av(s,a,l){return xa(a,s.child,null,l),s=jh(a,a.pendingProps),s.flags|=2,Pn(a),a.memoizedState=null,s}function W2(s,a,l){var u=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(jt){if(u.mode==="hidden")return s=jh(a,u),a.lanes=536870912,mc(null,s);if(Fm(a),(s=ce)?(s=zb(s,$n),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Zs!==null?{id:Yi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},l=c0(s),l.return=a,a.child=l,Ze=a,ce=null)):s=null,s===null)throw er(a);return a.lanes=536870912,null}return jh(a,u)}var p=s.memoizedState;if(p!==null){var b=p.dehydrated;if(Fm(a),g)if(a.flags&256)a.flags&=-257,a=Av(s,a,l);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(ke||wo(s,a,l,!1),g=(l&s.childLanes)!==0,ke||g){if(u=re,u!==null&&(b=Pl(u,l),b!==0&&b!==p.retryLane))throw p.retryLane=b,ya(s,b),Tn(u,s,b),cg;$h(),a=Av(s,a,l)}else s=p.treeContext,ce=Zn(b.nextSibling),Ze=a,jt=!0,tr=null,$n=!1,s!==null&&f0(a,s),a=jh(a,u),a.flags|=4096;return a}return s=fs(s.child,{mode:u.mode,children:u.children}),s.ref=a.ref,a.child=s,s.return=a,s}function Bh(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function ug(s,a,l,u,g){return Ea(a),l=qm(s,a,l,u,void 0,g),u=Ym(),s!==null&&!ke?(Gm(s,a,g),_s(s,a,g)):(jt&&u&&xm(a),a.flags|=1,en(s,a,l,g),a.child)}function Rv(s,a,l,u,g,p){return Ea(a),a.updateQueue=null,l=M0(a,u,l,g),I0(s),u=Ym(),s!==null&&!ke?(Gm(s,a,p),_s(s,a,p)):(jt&&u&&xm(a),a.flags|=1,en(s,a,l,p),a.child)}function Cv(s,a,l,u,g){if(Ea(a),a.stateNode===null){var p=bo,b=l.contextType;typeof b=="object"&&b!==null&&(p=tn(b)),p=new l(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=og,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},Vm(a),b=l.contextType,p.context=typeof b=="object"&&b!==null?tn(b):bo,p.state=a.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(ag(a,l,b,u),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&og.enqueueReplaceState(p,p.state,null),cc(a,u,p,g),lc(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){p=a.stateNode;var x=a.memoizedProps,L=Ra(l,x);p.props=L;var W=p.context,J=l.contextType;b=bo,typeof J=="object"&&J!==null&&(b=tn(J));var nt=l.getDerivedStateFromProps;J=typeof nt=="function"||typeof p.getSnapshotBeforeUpdate=="function",x=a.pendingProps!==x,J||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x||W!==b)&&mv(a,p,u,b),ir=!1;var K=a.memoizedState;p.state=K,cc(a,u,p,g),lc(),W=a.memoizedState,x||K!==W||ir?(typeof nt=="function"&&(ag(a,l,nt,u),W=a.memoizedState),(L=ir||dv(a,l,L,u,K,W,b))?(J||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=W),p.props=u,p.state=W,p.context=b,u=L):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,Lm(s,a),b=a.memoizedProps,J=Ra(l,b),p.props=J,nt=a.pendingProps,K=p.context,W=l.contextType,L=bo,typeof W=="object"&&W!==null&&(L=tn(W)),x=l.getDerivedStateFromProps,(W=typeof x=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==nt||K!==L)&&mv(a,p,u,L),ir=!1,K=a.memoizedState,p.state=K,cc(a,u,p,g),lc();var $=a.memoizedState;b!==nt||K!==$||ir||s!==null&&s.dependencies!==null&&Th(s.dependencies)?(typeof x=="function"&&(ag(a,l,x,u),$=a.memoizedState),(J=ir||dv(a,l,J,u,K,$,L)||s!==null&&s.dependencies!==null&&Th(s.dependencies))?(W||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,$,L),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,$,L)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&K===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&K===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=$),p.props=u,p.state=$,p.context=L,u=J):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&K===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&K===s.memoizedState||(a.flags|=1024),u=!1)}return p=u,Bh(s,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,s!==null&&u?(a.child=xa(a,s.child,null,g),a.child=xa(a,null,l,g)):en(s,a,l,g),a.memoizedState=p.state,s=a.child):s=_s(s,a,g),s}function Iv(s,a,l,u){return va(),a.flags|=256,en(s,a,l,u),a.child}var hg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fg(s){return{baseLanes:s,cachePool:_0()}}function dg(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Ln),s}function Mv(s,a,l){var u=a.pendingProps,g=!1,p=(a.flags&128)!==0,b;if((b=p)||(b=s!==null&&s.memoizedState===null?!1:(Te.current&2)!==0),b&&(g=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,s===null){if(jt){if(g?ar(a):or(),(s=ce)?(s=zb(s,$n),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Zs!==null?{id:Yi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},l=c0(s),l.return=a,a.child=l,Ze=a,ce=null)):s=null,s===null)throw er(a);return Qg(s)?a.lanes=32:a.lanes=536870912,null}var x=u.children;return u=u.fallback,g?(or(),g=a.mode,x=Fh({mode:"hidden",children:x},g),u=_a(u,g,l,null),x.return=a,u.return=a,x.sibling=u,a.child=x,u=a.child,u.memoizedState=fg(l),u.childLanes=dg(s,b,l),a.memoizedState=hg,mc(null,u)):(ar(a),mg(a,x))}var L=s.memoizedState;if(L!==null&&(x=L.dehydrated,x!==null)){if(p)a.flags&256?(ar(a),a.flags&=-257,a=gg(s,a,l)):a.memoizedState!==null?(or(),a.child=s.child,a.flags|=128,a=null):(or(),x=u.fallback,g=a.mode,u=Fh({mode:"visible",children:u.children},g),x=_a(x,g,l,null),x.flags|=2,u.return=a,x.return=a,u.sibling=x,a.child=u,xa(a,s.child,null,l),u=a.child,u.memoizedState=fg(l),u.childLanes=dg(s,b,l),a.memoizedState=hg,a=mc(null,u));else if(ar(a),Qg(x)){if(b=x.nextSibling&&x.nextSibling.dataset,b)var W=b.dgst;b=W,u=Error(i(419)),u.stack="",u.digest=b,nc({value:u,source:null,stack:null}),a=gg(s,a,l)}else if(ke||wo(s,a,l,!1),b=(l&s.childLanes)!==0,ke||b){if(b=re,b!==null&&(u=Pl(b,l),u!==0&&u!==L.retryLane))throw L.retryLane=u,ya(s,u),Tn(b,s,u),cg;Kg(x)||$h(),a=gg(s,a,l)}else Kg(x)?(a.flags|=192,a.child=s.child,a=null):(s=L.treeContext,ce=Zn(x.nextSibling),Ze=a,jt=!0,tr=null,$n=!1,s!==null&&f0(a,s),a=mg(a,u.children),a.flags|=4096);return a}return g?(or(),x=u.fallback,g=a.mode,L=s.child,W=L.sibling,u=fs(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&65011712,W!==null?x=fs(W,x):(x=_a(x,g,l,null),x.flags|=2),x.return=a,u.return=a,u.sibling=x,a.child=u,mc(null,u),u=a.child,x=s.child.memoizedState,x===null?x=fg(l):(g=x.cachePool,g!==null?(L=De._currentValue,g=g.parent!==L?{parent:L,pool:L}:g):g=_0(),x={baseLanes:x.baseLanes|l,cachePool:g}),u.memoizedState=x,u.childLanes=dg(s,b,l),a.memoizedState=hg,mc(s.child,u)):(ar(a),l=s.child,s=l.sibling,l=fs(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(b=a.deletions,b===null?(a.deletions=[s],a.flags|=16):b.push(s)),a.child=l,a.memoizedState=null,l)}function mg(s,a){return a=Fh({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Fh(s,a){return s=kn(22,s,null,a),s.lanes=0,s}function gg(s,a,l){return xa(a,s.child,null,l),s=mg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Dv(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),Mm(s.return,a,l)}function pg(s,a,l,u,g,p){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:p}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=l,b.tailMode=g,b.treeForkCount=p)}function Ov(s,a,l){var u=a.pendingProps,g=u.revealOrder,p=u.tail;u=u.children;var b=Te.current,x=(b&2)!==0;if(x?(b=b&1|2,a.flags|=128):b&=1,ct(Te,b),en(s,a,u,l),u=jt?ec:0,!x&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Dv(s,l,a);else if(s.tag===19)Dv(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(l=a.child,g=null;l!==null;)s=l.alternate,s!==null&&Mh(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),pg(a,!1,g,l,p,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Mh(s)===null){a.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}pg(a,!0,l,null,p,u);break;case"together":pg(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function _s(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),ur|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(wo(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=fs(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=fs(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function yg(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Th(s)))}function K2(s,a,l){switch(a.tag){case 3:je(a,a.stateNode.containerInfo),nr(a,De,s.memoizedState.cache),va();break;case 27:case 5:Zr(a);break;case 4:je(a,a.stateNode.containerInfo);break;case 10:nr(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Fm(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(ar(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Mv(s,a,l):(ar(a),s=_s(s,a,l),s!==null?s.sibling:null);ar(a);break;case 19:var g=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(wo(s,a,l,!1),u=(l&a.childLanes)!==0),g){if(u)return Ov(s,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ct(Te,Te.current),u)break;return null;case 22:return a.lanes=0,wv(s,a,l,a.pendingProps);case 24:nr(a,De,s.memoizedState.cache)}return _s(s,a,l)}function kv(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)ke=!0;else{if(!yg(s,l)&&(a.flags&128)===0)return ke=!1,K2(s,a,l);ke=(s.flags&131072)!==0}else ke=!1,jt&&(a.flags&1048576)!==0&&h0(a,ec,a.index);switch(a.lanes=0,a.tag){case 16:t:{var u=a.pendingProps;if(s=Sa(a.elementType),a.type=s,typeof s=="function")Tm(s)?(u=Ra(s,u),a.tag=1,a=Cv(null,a,s,u,l)):(a.tag=0,a=ug(null,a,s,u,l));else{if(s!=null){var g=s.$$typeof;if(g===rt){a.tag=11,a=Ev(null,a,s,u,l);break t}else if(g===D){a.tag=14,a=Tv(null,a,s,u,l);break t}}throw a=Dt(s)||s,Error(i(306,a,""))}}return a;case 0:return ug(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,g=Ra(u,a.pendingProps),Cv(s,a,u,g,l);case 3:t:{if(je(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var p=a.memoizedState;g=p.element,Lm(s,a),cc(a,u,null,l);var b=a.memoizedState;if(u=b.cache,nr(a,De,u),u!==p.cache&&Dm(a,[De],l,!0),lc(),u=b.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=Iv(s,a,u,l);break t}else if(u!==g){g=Kn(Error(i(424)),a),nc(g),a=Iv(s,a,u,l);break t}else for(s=a.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,ce=Zn(s.firstChild),Ze=a,jt=!0,tr=null,$n=!0,l=w0(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(va(),u===g){a=_s(s,a,l);break t}en(s,a,u,l)}a=a.child}return a;case 26:return Bh(s,a),s===null?(l=qb(a.type,null,a.pendingProps,null))?a.memoizedState=l:jt||(l=a.type,s=a.pendingProps,u=rf(Et.current).createElement(l),u[Ce]=a,u[We]=s,nn(u,l,s),Ie(u),a.stateNode=u):a.memoizedState=qb(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Zr(a),s===null&&jt&&(u=a.stateNode=Bb(a.type,a.pendingProps,Et.current),Ze=a,$n=!0,g=ce,gr(a.type)?(Xg=g,ce=Zn(u.firstChild)):ce=g),en(s,a,a.pendingProps.children,l),Bh(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&jt&&((g=u=ce)&&(u=wR(u,a.type,a.pendingProps,$n),u!==null?(a.stateNode=u,Ze=a,ce=Zn(u.firstChild),$n=!1,g=!0):g=!1),g||er(a)),Zr(a),g=a.type,p=a.pendingProps,b=s!==null?s.memoizedProps:null,u=p.children,Yg(g,p)?u=null:b!==null&&Yg(g,b)&&(a.flags|=32),a.memoizedState!==null&&(g=qm(s,a,U2,null,null,l),Ic._currentValue=g),Bh(s,a),en(s,a,u,l),a.child;case 6:return s===null&&jt&&((s=l=ce)&&(l=xR(l,a.pendingProps,$n),l!==null?(a.stateNode=l,Ze=a,ce=null,s=!0):s=!1),s||er(a)),null;case 13:return Mv(s,a,l);case 4:return je(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=xa(a,null,u,l):en(s,a,u,l),a.child;case 11:return Ev(s,a,a.type,a.pendingProps,l);case 7:return en(s,a,a.pendingProps,l),a.child;case 8:return en(s,a,a.pendingProps.children,l),a.child;case 12:return en(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,nr(a,a.type,u.value),en(s,a,u.children,l),a.child;case 9:return g=a.type._context,u=a.pendingProps.children,Ea(a),g=tn(g),u=u(g),a.flags|=1,en(s,a,u,l),a.child;case 14:return Tv(s,a,a.type,a.pendingProps,l);case 15:return Sv(s,a,a.type,a.pendingProps,l);case 19:return Ov(s,a,l);case 31:return W2(s,a,l);case 22:return wv(s,a,l,a.pendingProps);case 24:return Ea(a),u=tn(De),s===null?(g=Nm(),g===null&&(g=re,p=Om(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=l),g=p),a.memoizedState={parent:u,cache:g},Vm(a),nr(a,De,g)):((s.lanes&l)!==0&&(Lm(s,a),cc(a,null,null,l),lc()),g=s.memoizedState,p=a.memoizedState,g.parent!==u?(g={parent:u,cache:u},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),nr(a,De,u)):(u=p.cache,nr(a,De,u),u!==g.cache&&Dm(a,[De],l,!0))),en(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function vs(s){s.flags|=4}function _g(s,a,l,u,g){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(ab())s.flags|=8192;else throw wa=Ah,Pm}else s.flags&=-16777217}function Nv(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Qb(a))if(ab())s.flags|=8192;else throw wa=Ah,Pm}function Hh(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Qu():536870912,s.lanes|=a,Vo|=a)}function gc(s,a){if(!jt)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function ue(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function Q2(s,a,l){var u=a.pendingProps;switch(Am(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(a),null;case 1:return ue(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),gs(De),de(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(So(a)?vs(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Cm())),ue(a),null;case 26:var g=a.type,p=a.memoizedState;return s===null?(vs(a),p!==null?(ue(a),Nv(a,p)):(ue(a),_g(a,g,null,u,l))):p?p!==s.memoizedState?(vs(a),ue(a),Nv(a,p)):(ue(a),a.flags&=-16777217):(s=s.memoizedProps,s!==u&&vs(a),ue(a),_g(a,g,s,u,l)),null;case 27:if(to(a),l=Et.current,g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&vs(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return ue(a),null}s=ut.current,So(a)?d0(a):(s=Bb(g,u,l),a.stateNode=s,vs(a))}return ue(a),null;case 5:if(to(a),g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&vs(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return ue(a),null}if(p=ut.current,So(a))d0(a);else{var b=rf(Et.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?b.createElement(g,{is:u.is}):b.createElement(g)}}p[Ce]=a,p[We]=u;t:for(b=a.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===a)break t;for(;b.sibling===null;){if(b.return===null||b.return===a)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}a.stateNode=p;t:switch(nn(p,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&vs(a)}}return ue(a),_g(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,l),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&vs(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=Et.current,So(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,g=Ze,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}s[Ce]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Mb(s.nodeValue,l)),s||er(a,!0)}else s=rf(s).createTextNode(u),s[Ce]=a,a.stateNode=s}return ue(a),null;case 31:if(l=a.memoizedState,s===null||s.memoizedState!==null){if(u=So(a),l!==null){if(s===null){if(!u)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Ce]=a}else va(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ue(a),s=!1}else l=Cm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return a.flags&256?(Pn(a),a):(Pn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return ue(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=So(a),u!==null&&u.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Ce]=a}else va(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ue(a),g=!1}else g=Cm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Pn(a),a):(Pn(a),null)}return Pn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=a.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==g&&(u.flags|=2048)),l!==s&&l&&(a.child.flags|=8192),Hh(a,a.updateQueue),ue(a),null);case 4:return de(),s===null&&jg(a.stateNode.containerInfo),ue(a),null;case 10:return gs(a.type),ue(a),null;case 19:if(Z(Te),u=a.memoizedState,u===null)return ue(a),null;if(g=(a.flags&128)!==0,p=u.rendering,p===null)if(g)gc(u,!1);else{if(ve!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(p=Mh(s),p!==null){for(a.flags|=128,gc(u,!1),s=p.updateQueue,a.updateQueue=s,Hh(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)l0(l,s),l=l.sibling;return ct(Te,Te.current&1|2),jt&&ds(a,u.treeForkCount),a.child}s=s.sibling}u.tail!==null&&dn()>Kh&&(a.flags|=128,g=!0,gc(u,!1),a.lanes=4194304)}else{if(!g)if(s=Mh(p),s!==null){if(a.flags|=128,g=!0,s=s.updateQueue,a.updateQueue=s,Hh(a,s),gc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!jt)return ue(a),null}else 2*dn()-u.renderingStartTime>Kh&&l!==536870912&&(a.flags|=128,g=!0,gc(u,!1),a.lanes=4194304);u.isBackwards?(p.sibling=a.child,a.child=p):(s=u.last,s!==null?s.sibling=p:a.child=p,u.last=p)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=dn(),s.sibling=null,l=Te.current,ct(Te,g?l&1|2:l&1),jt&&ds(a,u.treeForkCount),s):(ue(a),null);case 22:case 23:return Pn(a),Bm(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(ue(a),a.subtreeFlags&6&&(a.flags|=8192)):ue(a),l=a.updateQueue,l!==null&&Hh(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&Z(Ta),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),gs(De),ue(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function X2(s,a){switch(Am(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return gs(De),de(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return to(a),null;case 31:if(a.memoizedState!==null){if(Pn(a),a.alternate===null)throw Error(i(340));va()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(Pn(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));va()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Z(Te),null;case 4:return de(),null;case 10:return gs(a.type),null;case 22:case 23:return Pn(a),Bm(),s!==null&&Z(Ta),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return gs(De),null;case 25:return null;default:return null}}function Pv(s,a){switch(Am(a),a.tag){case 3:gs(De),de();break;case 26:case 27:case 5:to(a);break;case 4:de();break;case 31:a.memoizedState!==null&&Pn(a);break;case 13:Pn(a);break;case 19:Z(Te);break;case 10:gs(a.type);break;case 22:case 23:Pn(a),Bm(),s!==null&&Z(Ta);break;case 24:gs(De)}}function pc(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&s)===s){u=void 0;var p=l.create,b=l.inst;u=p(),b.destroy=u}l=l.next}while(l!==g)}}catch(x){Jt(a,a.return,x)}}function lr(s,a,l){try{var u=a.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var p=g.next;u=p;do{if((u.tag&s)===s){var b=u.inst,x=b.destroy;if(x!==void 0){b.destroy=void 0,g=a;var L=l,W=x;try{W()}catch(J){Jt(g,L,J)}}}u=u.next}while(u!==p)}}catch(J){Jt(a,a.return,J)}}function Vv(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{A0(a,l)}catch(u){Jt(s,s.return,u)}}}function Lv(s,a,l){l.props=Ra(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){Jt(s,a,u)}}function yc(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(g){Jt(s,a,g)}}function Wi(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Jt(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Jt(s,a,g)}else l.current=null}function zv(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Jt(s,s.return,g)}}function vg(s,a,l){try{var u=s.stateNode;_R(u,s.type,l,a),u[We]=a}catch(g){Jt(s,s.return,g)}}function Uv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&gr(s.type)||s.tag===4}function bg(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||Uv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&gr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Eg(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=di));else if(u!==4&&(u===27&&gr(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(Eg(s,a,l),s=s.sibling;s!==null;)Eg(s,a,l),s=s.sibling}function qh(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&gr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(qh(s,a,l),s=s.sibling;s!==null;)qh(s,a,l),s=s.sibling}function jv(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);nn(a,u,l),a[Ce]=s,a[We]=l}catch(p){Jt(s,s.return,p)}}var bs=!1,Ne=!1,Tg=!1,Bv=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function $2(s,a){if(s=s.containerInfo,Hg=ff,s=Z_(s),gm(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var b=0,x=-1,L=-1,W=0,J=0,nt=s,K=null;e:for(;;){for(var $;nt!==l||g!==0&&nt.nodeType!==3||(x=b+g),nt!==p||u!==0&&nt.nodeType!==3||(L=b+u),nt.nodeType===3&&(b+=nt.nodeValue.length),($=nt.firstChild)!==null;)K=nt,nt=$;for(;;){if(nt===s)break e;if(K===l&&++W===g&&(x=b),K===p&&++J===u&&(L=b),($=nt.nextSibling)!==null)break;nt=K,K=nt.parentNode}nt=$}l=x===-1||L===-1?null:{start:x,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(qg={focusedElem:s,selectionRange:l},ff=!1,Qe=a;Qe!==null;)if(a=Qe,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Qe=s;else for(;Qe!==null;){switch(a=Qe,p=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)g=s[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=a,g=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var mt=Ra(l.type,g);s=u.getSnapshotBeforeUpdate(mt,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(vt){Jt(l,l.return,vt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)Wg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Wg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Qe=s;break}Qe=a.return}}function Fv(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Ts(s,l),u&4&&pc(5,l);break;case 1:if(Ts(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(b){Jt(l,l.return,b)}else{var g=Ra(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(b){Jt(l,l.return,b)}}u&64&&Vv(l),u&512&&yc(l,l.return);break;case 3:if(Ts(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{A0(s,a)}catch(b){Jt(l,l.return,b)}}break;case 27:a===null&&u&4&&jv(l);case 26:case 5:Ts(s,l),a===null&&u&4&&zv(l),u&512&&yc(l,l.return);break;case 12:Ts(s,l);break;case 31:Ts(s,l),u&4&&Yv(s,l);break;case 13:Ts(s,l),u&4&&Gv(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=aR.bind(null,l),AR(s,l))));break;case 22:if(u=l.memoizedState!==null||bs,!u){a=a!==null&&a.memoizedState!==null||Ne,g=bs;var p=Ne;bs=u,(Ne=a)&&!p?Ss(s,l,(l.subtreeFlags&8772)!==0):Ts(s,l),bs=g,Ne=p}break;case 30:break;default:Ts(s,l)}}function Hv(s){var a=s.alternate;a!==null&&(s.alternate=null,Hv(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&ro(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ge=null,_n=!1;function Es(s,a,l){for(l=l.child;l!==null;)qv(s,a,l),l=l.sibling}function qv(s,a,l){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(ci,l)}catch{}switch(l.tag){case 26:Ne||Wi(l,a),Es(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ne||Wi(l,a);var u=ge,g=_n;gr(l.type)&&(ge=l.stateNode,_n=!1),Es(s,a,l),Ac(l.stateNode),ge=u,_n=g;break;case 5:Ne||Wi(l,a);case 6:if(u=ge,g=_n,ge=null,Es(s,a,l),ge=u,_n=g,ge!==null)if(_n)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(l.stateNode)}catch(p){Jt(l,a,p)}else try{ge.removeChild(l.stateNode)}catch(p){Jt(l,a,p)}break;case 18:ge!==null&&(_n?(s=ge,Vb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),qo(s)):Vb(ge,l.stateNode));break;case 4:u=ge,g=_n,ge=l.stateNode.containerInfo,_n=!0,Es(s,a,l),ge=u,_n=g;break;case 0:case 11:case 14:case 15:lr(2,l,a),Ne||lr(4,l,a),Es(s,a,l);break;case 1:Ne||(Wi(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Lv(l,a,u)),Es(s,a,l);break;case 21:Es(s,a,l);break;case 22:Ne=(u=Ne)||l.memoizedState!==null,Es(s,a,l),Ne=u;break;default:Es(s,a,l)}}function Yv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{qo(s)}catch(l){Jt(a,a.return,l)}}}function Gv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{qo(s)}catch(l){Jt(a,a.return,l)}}function J2(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Bv),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Bv),a;default:throw Error(i(435,s.tag))}}function Yh(s,a){var l=J2(s);a.forEach(function(u){if(!l.has(u)){l.add(u);var g=oR.bind(null,s,u);u.then(g,g)}})}function vn(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],p=s,b=a,x=b;t:for(;x!==null;){switch(x.tag){case 27:if(gr(x.type)){ge=x.stateNode,_n=!1;break t}break;case 5:ge=x.stateNode,_n=!1;break t;case 3:case 4:ge=x.stateNode.containerInfo,_n=!0;break t}x=x.return}if(ge===null)throw Error(i(160));qv(p,b,g),ge=null,_n=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Wv(a,s),a=a.sibling}var vi=null;function Wv(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:vn(a,s),bn(s),u&4&&(lr(3,s,s.return),pc(3,s),lr(5,s,s.return));break;case 1:vn(a,s),bn(s),u&512&&(Ne||l===null||Wi(l,l.return)),u&64&&bs&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=vi;if(vn(a,s),bn(s),u&512&&(Ne||l===null||Wi(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":p=g.getElementsByTagName("title")[0],(!p||p[ki]||p[Ce]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(u),g.head.insertBefore(p,g.querySelector("head > title"))),nn(p,u,l),p[Ce]=s,Ie(p),u=p;break t;case"link":var b=Wb("link","href",g).get(u+(l.href||""));if(b){for(var x=0;x<b.length;x++)if(p=b[x],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(x,1);break e}}p=g.createElement(u),nn(p,u,l),g.head.appendChild(p);break;case"meta":if(b=Wb("meta","content",g).get(u+(l.content||""))){for(x=0;x<b.length;x++)if(p=b[x],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(x,1);break e}}p=g.createElement(u),nn(p,u,l),g.head.appendChild(p);break;default:throw Error(i(468,u))}p[Ce]=s,Ie(p),u=p}s.stateNode=u}else Kb(g,s.type,s.stateNode);else s.stateNode=Gb(g,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?Kb(g,s.type,s.stateNode):Gb(g,u,s.memoizedProps)):u===null&&s.stateNode!==null&&vg(s,s.memoizedProps,l.memoizedProps)}break;case 27:vn(a,s),bn(s),u&512&&(Ne||l===null||Wi(l,l.return)),l!==null&&u&4&&vg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(vn(a,s),bn(s),u&512&&(Ne||l===null||Wi(l,l.return)),s.flags&32){g=s.stateNode;try{yn(g,"")}catch(mt){Jt(s,s.return,mt)}}u&4&&s.stateNode!=null&&(g=s.memoizedProps,vg(s,g,l!==null?l.memoizedProps:g)),u&1024&&(Tg=!0);break;case 6:if(vn(a,s),bn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(mt){Jt(s,s.return,mt)}}break;case 3:if(lf=null,g=vi,vi=af(a.containerInfo),vn(a,s),vi=g,bn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{qo(a.containerInfo)}catch(mt){Jt(s,s.return,mt)}Tg&&(Tg=!1,Kv(s));break;case 4:u=vi,vi=af(s.stateNode.containerInfo),vn(a,s),bn(s),vi=u;break;case 12:vn(a,s),bn(s);break;case 31:vn(a,s),bn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Yh(s,u)));break;case 13:vn(a,s),bn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Wh=dn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Yh(s,u)));break;case 22:g=s.memoizedState!==null;var L=l!==null&&l.memoizedState!==null,W=bs,J=Ne;if(bs=W||g,Ne=J||L,vn(a,s),Ne=J,bs=W,bn(s),u&8192)t:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||L||bs||Ne||Ca(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){L=l=a;try{if(p=L.stateNode,g)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{x=L.stateNode;var nt=L.memoizedProps.style,K=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;x.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(mt){Jt(L,L.return,mt)}}}else if(a.tag===6){if(l===null){L=a;try{L.stateNode.nodeValue=g?"":L.memoizedProps}catch(mt){Jt(L,L.return,mt)}}}else if(a.tag===18){if(l===null){L=a;try{var $=L.stateNode;g?Lb($,!0):Lb(L.stateNode,!1)}catch(mt){Jt(L,L.return,mt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Yh(s,l))));break;case 19:vn(a,s),bn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Yh(s,u)));break;case 30:break;case 21:break;default:vn(a,s),bn(s)}}function bn(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(Uv(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,p=bg(s);qh(s,p,g);break;case 5:var b=l.stateNode;l.flags&32&&(yn(b,""),l.flags&=-33);var x=bg(s);qh(s,x,b);break;case 3:case 4:var L=l.stateNode.containerInfo,W=bg(s);Eg(s,W,L);break;default:throw Error(i(161))}}catch(J){Jt(s,s.return,J)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Kv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;Kv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Ts(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Fv(s,a.alternate,a),a=a.sibling}function Ca(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:lr(4,a,a.return),Ca(a);break;case 1:Wi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Lv(a,a.return,l),Ca(a);break;case 27:Ac(a.stateNode);case 26:case 5:Wi(a,a.return),Ca(a);break;case 22:a.memoizedState===null&&Ca(a);break;case 30:Ca(a);break;default:Ca(a)}s=s.sibling}}function Ss(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,g=s,p=a,b=p.flags;switch(p.tag){case 0:case 11:case 15:Ss(g,p,l),pc(4,p);break;case 1:if(Ss(g,p,l),u=p,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(W){Jt(u,u.return,W)}if(u=p,g=u.updateQueue,g!==null){var x=u.stateNode;try{var L=g.shared.hiddenCallbacks;if(L!==null)for(g.shared.hiddenCallbacks=null,g=0;g<L.length;g++)x0(L[g],x)}catch(W){Jt(u,u.return,W)}}l&&b&64&&Vv(p),yc(p,p.return);break;case 27:jv(p);case 26:case 5:Ss(g,p,l),l&&u===null&&b&4&&zv(p),yc(p,p.return);break;case 12:Ss(g,p,l);break;case 31:Ss(g,p,l),l&&b&4&&Yv(g,p);break;case 13:Ss(g,p,l),l&&b&4&&Gv(g,p);break;case 22:p.memoizedState===null&&Ss(g,p,l),yc(p,p.return);break;case 30:break;default:Ss(g,p,l)}a=a.sibling}}function Sg(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&ic(l))}function wg(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ic(s))}function bi(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Qv(s,a,l,u),a=a.sibling}function Qv(s,a,l,u){var g=a.flags;switch(a.tag){case 0:case 11:case 15:bi(s,a,l,u),g&2048&&pc(9,a);break;case 1:bi(s,a,l,u);break;case 3:bi(s,a,l,u),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ic(s)));break;case 12:if(g&2048){bi(s,a,l,u),s=a.stateNode;try{var p=a.memoizedProps,b=p.id,x=p.onPostCommit;typeof x=="function"&&x(b,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(L){Jt(a,a.return,L)}}else bi(s,a,l,u);break;case 31:bi(s,a,l,u);break;case 13:bi(s,a,l,u);break;case 23:break;case 22:p=a.stateNode,b=a.alternate,a.memoizedState!==null?p._visibility&2?bi(s,a,l,u):_c(s,a):p._visibility&2?bi(s,a,l,u):(p._visibility|=2,ko(s,a,l,u,(a.subtreeFlags&10256)!==0||!1)),g&2048&&Sg(b,a);break;case 24:bi(s,a,l,u),g&2048&&wg(a.alternate,a);break;default:bi(s,a,l,u)}}function ko(s,a,l,u,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=s,b=a,x=l,L=u,W=b.flags;switch(b.tag){case 0:case 11:case 15:ko(p,b,x,L,g),pc(8,b);break;case 23:break;case 22:var J=b.stateNode;b.memoizedState!==null?J._visibility&2?ko(p,b,x,L,g):_c(p,b):(J._visibility|=2,ko(p,b,x,L,g)),g&&W&2048&&Sg(b.alternate,b);break;case 24:ko(p,b,x,L,g),g&&W&2048&&wg(b.alternate,b);break;default:ko(p,b,x,L,g)}a=a.sibling}}function _c(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,g=u.flags;switch(u.tag){case 22:_c(l,u),g&2048&&Sg(u.alternate,u);break;case 24:_c(l,u),g&2048&&wg(u.alternate,u);break;default:_c(l,u)}a=a.sibling}}var vc=8192;function No(s,a,l){if(s.subtreeFlags&vc)for(s=s.child;s!==null;)Xv(s,a,l),s=s.sibling}function Xv(s,a,l){switch(s.tag){case 26:No(s,a,l),s.flags&vc&&s.memoizedState!==null&&zR(l,vi,s.memoizedState,s.memoizedProps);break;case 5:No(s,a,l);break;case 3:case 4:var u=vi;vi=af(s.stateNode.containerInfo),No(s,a,l),vi=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=vc,vc=16777216,No(s,a,l),vc=u):No(s,a,l));break;default:No(s,a,l)}}function $v(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function bc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Qe=u,Zv(u,s)}$v(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Jv(s),s=s.sibling}function Jv(s){switch(s.tag){case 0:case 11:case 15:bc(s),s.flags&2048&&lr(9,s,s.return);break;case 3:bc(s);break;case 12:bc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Gh(s)):bc(s);break;default:bc(s)}}function Gh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Qe=u,Zv(u,s)}$v(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:lr(8,a,a.return),Gh(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Gh(a));break;default:Gh(a)}s=s.sibling}}function Zv(s,a){for(;Qe!==null;){var l=Qe;switch(l.tag){case 0:case 11:case 15:lr(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ic(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Qe=u;else t:for(l=s;Qe!==null;){u=Qe;var g=u.sibling,p=u.return;if(Hv(u),u===l){Qe=null;break t}if(g!==null){g.return=p,Qe=g;break t}Qe=p}}}var Z2={getCacheForType:function(s){var a=tn(De),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l},cacheSignal:function(){return tn(De).controller.signal}},tR=typeof WeakMap=="function"?WeakMap:Map,Kt=0,re=null,Ot=null,Pt=0,$t=0,Vn=null,cr=!1,Po=!1,xg=!1,ws=0,ve=0,ur=0,Ia=0,Ag=0,Ln=0,Vo=0,Ec=null,En=null,Rg=!1,Wh=0,tb=0,Kh=1/0,Qh=null,hr=null,Fe=0,fr=null,Lo=null,xs=0,Cg=0,Ig=null,eb=null,Tc=0,Mg=null;function zn(){return(Kt&2)!==0&&Pt!==0?Pt&-Pt:Q.T!==null?Vg():Xu()}function nb(){if(Ln===0)if((Pt&536870912)===0||jt){var s=na;na<<=1,(na&3932160)===0&&(na=262144),Ln=s}else Ln=536870912;return s=Nn.current,s!==null&&(s.flags|=32),Ln}function Tn(s,a,l){(s===re&&($t===2||$t===9)||s.cancelPendingCommit!==null)&&(zo(s,0),dr(s,Pt,Ln,!1)),ia(s,l),((Kt&2)===0||s!==re)&&(s===re&&((Kt&2)===0&&(Ia|=l),ve===4&&dr(s,Pt,Ln,!1)),Ki(s))}function ib(s,a,l){if((Kt&6)!==0)throw Error(i(327));var u=!l&&(a&127)===0&&(a&s.expiredLanes)===0||ui(s,a),g=u?iR(s,a):Og(s,a,!0),p=u;do{if(g===0){Po&&!u&&dr(s,a,0,!1);break}else{if(l=s.current.alternate,p&&!eR(l)){g=Og(s,a,!1),p=!1;continue}if(g===2){if(p=a,s.errorRecoveryDisabledLanes&p)var b=0;else b=s.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;t:{var x=s;g=Ec;var L=x.current.memoizedState.isDehydrated;if(L&&(zo(x,b).flags|=256),b=Og(x,b,!1),b!==2){if(xg&&!L){x.errorRecoveryDisabledLanes|=p,Ia|=p,g=4;break t}p=En,En=g,p!==null&&(En===null?En=p:En.push.apply(En,p))}g=b}if(p=!1,g!==2)continue}}if(g===1){zo(s,0),dr(s,a,0,!0);break}t:{switch(u=s,p=g,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:dr(u,a,Ln,!cr);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=Wh+300-dn(),10<g)){if(dr(u,a,Ln,!cr),Mi(u,0,!0)!==0)break t;xs=a,u.timeoutHandle=Nb(sb.bind(null,u,l,En,Qh,Rg,a,Ln,Ia,Vo,cr,p,"Throttled",-0,0),g);break t}sb(u,l,En,Qh,Rg,a,Ln,Ia,Vo,cr,p,null,-0,0)}}break}while(!0);Ki(s)}function sb(s,a,l,u,g,p,b,x,L,W,J,nt,K,$){if(s.timeoutHandle=-1,nt=a.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:di},Xv(a,p,nt);var mt=(p&62914560)===p?Wh-dn():(p&4194048)===p?tb-dn():0;if(mt=UR(nt,mt),mt!==null){xs=p,s.cancelPendingCommit=mt(fb.bind(null,s,a,p,l,u,g,b,x,L,J,nt,null,K,$)),dr(s,p,b,!W);return}}fb(s,a,p,l,u,g,b,x,L)}function eR(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],p=g.getSnapshot;g=g.value;try{if(!On(p(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function dr(s,a,l,u){a&=~Ag,a&=~Ia,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var g=a;0<g;){var p=31-be(g),b=1<<p;u[p]=-1,g&=~b}l!==0&&sa(s,l,a)}function Xh(){return(Kt&6)===0?(Sc(0),!1):!0}function Dg(){if(Ot!==null){if($t===0)var s=Ot.return;else s=Ot,ms=ba=null,Wm(s),Co=null,rc=0,s=Ot;for(;s!==null;)Pv(s.alternate,s),s=s.return;Ot=null}}function zo(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,ER(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),xs=0,Dg(),re=s,Ot=l=fs(s.current,null),Pt=a,$t=0,Vn=null,cr=!1,Po=ui(s,a),xg=!1,Vo=Ln=Ag=Ia=ur=ve=0,En=Ec=null,Rg=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var g=31-be(u),p=1<<g;a|=s[g],u&=~p}return ws=a,yh(),l}function rb(s,a){It=null,Q.H=dc,a===Ro||a===xh?(a=E0(),$t=3):a===Pm?(a=E0(),$t=4):$t=a===cg?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Vn=a,Ot===null&&(ve=1,Uh(s,Kn(a,s.current)))}function ab(){var s=Nn.current;return s===null?!0:(Pt&4194048)===Pt?Jn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?s===Jn:!1}function ob(){var s=Q.H;return Q.H=dc,s===null?dc:s}function lb(){var s=Q.A;return Q.A=Z2,s}function $h(){ve=4,cr||(Pt&4194048)!==Pt&&Nn.current!==null||(Po=!0),(ur&134217727)===0&&(Ia&134217727)===0||re===null||dr(re,Pt,Ln,!1)}function Og(s,a,l){var u=Kt;Kt|=2;var g=ob(),p=lb();(re!==s||Pt!==a)&&(Qh=null,zo(s,a)),a=!1;var b=ve;t:do try{if($t!==0&&Ot!==null){var x=Ot,L=Vn;switch($t){case 8:Dg(),b=6;break t;case 3:case 2:case 9:case 6:Nn.current===null&&(a=!0);var W=$t;if($t=0,Vn=null,Uo(s,x,L,W),l&&Po){b=0;break t}break;default:W=$t,$t=0,Vn=null,Uo(s,x,L,W)}}nR(),b=ve;break}catch(J){rb(s,J)}while(!0);return a&&s.shellSuspendCounter++,ms=ba=null,Kt=u,Q.H=g,Q.A=p,Ot===null&&(re=null,Pt=0,yh()),b}function nR(){for(;Ot!==null;)cb(Ot)}function iR(s,a){var l=Kt;Kt|=2;var u=ob(),g=lb();re!==s||Pt!==a?(Qh=null,Kh=dn()+500,zo(s,a)):Po=ui(s,a);t:do try{if($t!==0&&Ot!==null){a=Ot;var p=Vn;e:switch($t){case 1:$t=0,Vn=null,Uo(s,a,p,1);break;case 2:case 9:if(v0(p)){$t=0,Vn=null,ub(a);break}a=function(){$t!==2&&$t!==9||re!==s||($t=7),Ki(s)},p.then(a,a);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:v0(p)?($t=0,Vn=null,ub(a)):($t=0,Vn=null,Uo(s,a,p,7));break;case 5:var b=null;switch(Ot.tag){case 26:b=Ot.memoizedState;case 5:case 27:var x=Ot;if(b?Qb(b):x.stateNode.complete){$t=0,Vn=null;var L=x.sibling;if(L!==null)Ot=L;else{var W=x.return;W!==null?(Ot=W,Jh(W)):Ot=null}break e}}$t=0,Vn=null,Uo(s,a,p,5);break;case 6:$t=0,Vn=null,Uo(s,a,p,6);break;case 8:Dg(),ve=6;break t;default:throw Error(i(462))}}sR();break}catch(J){rb(s,J)}while(!0);return ms=ba=null,Q.H=u,Q.A=g,Kt=l,Ot!==null?0:(re=null,Pt=0,yh(),ve)}function sR(){for(;Ot!==null&&!lm();)cb(Ot)}function cb(s){var a=kv(s.alternate,s,ws);s.memoizedProps=s.pendingProps,a===null?Jh(s):Ot=a}function ub(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=Rv(l,a,a.pendingProps,a.type,void 0,Pt);break;case 11:a=Rv(l,a,a.pendingProps,a.type.render,a.ref,Pt);break;case 5:Wm(a);default:Pv(l,a),a=Ot=l0(a,ws),a=kv(l,a,ws)}s.memoizedProps=s.pendingProps,a===null?Jh(s):Ot=a}function Uo(s,a,l,u){ms=ba=null,Wm(a),Co=null,rc=0;var g=a.return;try{if(G2(s,g,a,l,Pt)){ve=1,Uh(s,Kn(l,s.current)),Ot=null;return}}catch(p){if(g!==null)throw Ot=g,p;ve=1,Uh(s,Kn(l,s.current)),Ot=null;return}a.flags&32768?(jt||u===1?s=!0:Po||(Pt&536870912)!==0?s=!1:(cr=s=!0,(u===2||u===9||u===3||u===6)&&(u=Nn.current,u!==null&&u.tag===13&&(u.flags|=16384))),hb(a,s)):Jh(a)}function Jh(s){var a=s;do{if((a.flags&32768)!==0){hb(a,cr);return}s=a.return;var l=Q2(a.alternate,a,ws);if(l!==null){Ot=l;return}if(a=a.sibling,a!==null){Ot=a;return}Ot=a=s}while(a!==null);ve===0&&(ve=5)}function hb(s,a){do{var l=X2(s.alternate,s);if(l!==null){l.flags&=32767,Ot=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Ot=s;return}Ot=s=l}while(s!==null);ve=6,Ot=null}function fb(s,a,l,u,g,p,b,x,L){s.cancelPendingCommit=null;do Zh();while(Fe!==0);if((Kt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=bm,hm(s,l,p,b,x,L),s===re&&(Ot=re=null,Pt=0),Lo=a,fr=s,xs=l,Cg=p,Ig=g,eb=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,lR(Hs,function(){return yb(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,g=at.p,at.p=2,b=Kt,Kt|=4;try{$2(s,a,l)}finally{Kt=b,at.p=g,Q.T=u}}Fe=1,db(),mb(),gb()}}function db(){if(Fe===1){Fe=0;var s=fr,a=Lo,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null;var u=at.p;at.p=2;var g=Kt;Kt|=4;try{Wv(a,s);var p=qg,b=Z_(s.containerInfo),x=p.focusedElem,L=p.selectionRange;if(b!==x&&x&&x.ownerDocument&&J_(x.ownerDocument.documentElement,x)){if(L!==null&&gm(x)){var W=L.start,J=L.end;if(J===void 0&&(J=W),"selectionStart"in x)x.selectionStart=W,x.selectionEnd=Math.min(J,x.value.length);else{var nt=x.ownerDocument||document,K=nt&&nt.defaultView||window;if(K.getSelection){var $=K.getSelection(),mt=x.textContent.length,vt=Math.min(L.start,mt),se=L.end===void 0?vt:Math.min(L.end,mt);!$.extend&&vt>se&&(b=se,se=vt,vt=b);var F=$_(x,vt),j=$_(x,se);if(F&&j&&($.rangeCount!==1||$.anchorNode!==F.node||$.anchorOffset!==F.offset||$.focusNode!==j.node||$.focusOffset!==j.offset)){var G=nt.createRange();G.setStart(F.node,F.offset),$.removeAllRanges(),vt>se?($.addRange(G),$.extend(j.node,j.offset)):(G.setEnd(j.node,j.offset),$.addRange(G))}}}}for(nt=[],$=x;$=$.parentNode;)$.nodeType===1&&nt.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<nt.length;x++){var et=nt[x];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}ff=!!Hg,qg=Hg=null}finally{Kt=g,at.p=u,Q.T=l}}s.current=a,Fe=2}}function mb(){if(Fe===2){Fe=0;var s=fr,a=Lo,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=Q.T,Q.T=null;var u=at.p;at.p=2;var g=Kt;Kt|=4;try{Fv(s,a.alternate,a)}finally{Kt=g,at.p=u,Q.T=l}}Fe=3}}function gb(){if(Fe===4||Fe===3){Fe=0,Hu();var s=fr,a=Lo,l=xs,u=eb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Fe=5:(Fe=0,Lo=fr=null,pb(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(hr=null),ls(l),a=a.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(ci,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=Q.T,g=at.p,at.p=2,Q.T=null;try{for(var p=s.onRecoverableError,b=0;b<u.length;b++){var x=u[b];p(x.value,{componentStack:x.stack})}}finally{Q.T=a,at.p=g}}(xs&3)!==0&&Zh(),Ki(s),g=s.pendingLanes,(l&261930)!==0&&(g&42)!==0?s===Mg?Tc++:(Tc=0,Mg=s):Tc=0,Sc(0)}}function pb(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,ic(a)))}function Zh(){return db(),mb(),gb(),yb()}function yb(){if(Fe!==5)return!1;var s=fr,a=Cg;Cg=0;var l=ls(xs),u=Q.T,g=at.p;try{at.p=32>l?32:l,Q.T=null,l=Ig,Ig=null;var p=fr,b=xs;if(Fe=0,Lo=fr=null,xs=0,(Kt&6)!==0)throw Error(i(331));var x=Kt;if(Kt|=4,Jv(p.current),Qv(p,p.current,b,l),Kt=x,Sc(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(ci,p)}catch{}return!0}finally{at.p=g,Q.T=u,pb(s,a)}}function _b(s,a,l){a=Kn(l,a),a=lg(s.stateNode,a,2),s=rr(s,a,2),s!==null&&(ia(s,2),Ki(s))}function Jt(s,a,l){if(s.tag===3)_b(s,s,l);else for(;a!==null;){if(a.tag===3){_b(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(hr===null||!hr.has(u))){s=Kn(l,s),l=vv(2),u=rr(a,l,2),u!==null&&(bv(l,u,a,s),ia(u,2),Ki(u));break}}a=a.return}}function kg(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new tR;var g=new Set;u.set(a,g)}else g=u.get(a),g===void 0&&(g=new Set,u.set(a,g));g.has(l)||(xg=!0,g.add(l),s=rR.bind(null,s,a,l),a.then(s,s))}function rR(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,re===s&&(Pt&l)===l&&(ve===4||ve===3&&(Pt&62914560)===Pt&&300>dn()-Wh?(Kt&2)===0&&zo(s,0):Ag|=l,Vo===Pt&&(Vo=0)),Ki(s)}function vb(s,a){a===0&&(a=Qu()),s=ya(s,a),s!==null&&(ia(s,a),Ki(s))}function aR(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),vb(s,l)}function oR(s,a){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),vb(s,l)}function lR(s,a){return Be(s,a)}var tf=null,jo=null,Ng=!1,ef=!1,Pg=!1,mr=0;function Ki(s){s!==jo&&s.next===null&&(jo===null?tf=jo=s:jo=jo.next=s),ef=!0,Ng||(Ng=!0,uR())}function Sc(s,a){if(!Pg&&ef){Pg=!0;do for(var l=!1,u=tf;u!==null;){if(s!==0){var g=u.pendingLanes;if(g===0)var p=0;else{var b=u.suspendedLanes,x=u.pingedLanes;p=(1<<31-be(42|s)+1)-1,p&=g&~(b&~x),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,Sb(u,p))}else p=Pt,p=Mi(u,u===re?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ui(u,p)||(l=!0,Sb(u,p));u=u.next}while(l);Pg=!1}}function cR(){bb()}function bb(){ef=Ng=!1;var s=0;mr!==0&&bR()&&(s=mr);for(var a=dn(),l=null,u=tf;u!==null;){var g=u.next,p=Eb(u,a);p===0?(u.next=null,l===null?tf=g:l.next=g,g===null&&(jo=l)):(l=u,(s!==0||(p&3)!==0)&&(ef=!0)),u=g}Fe!==0&&Fe!==5||Sc(s),mr!==0&&(mr=0)}function Eb(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,g=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var b=31-be(p),x=1<<b,L=g[b];L===-1?((x&l)===0||(x&u)!==0)&&(g[b]=um(x,a)):L<=a&&(s.expiredLanes|=x),p&=~x}if(a=re,l=Pt,l=Mi(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&($t===2||$t===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Fs(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||ui(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&Fs(u),ls(l)){case 2:case 8:l=kl;break;case 32:l=Hs;break;case 268435456:l=qu;break;default:l=Hs}return u=Tb.bind(null,s),l=Be(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&Fs(u),s.callbackPriority=2,s.callbackNode=null,2}function Tb(s,a){if(Fe!==0&&Fe!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Zh()&&s.callbackNode!==l)return null;var u=Pt;return u=Mi(s,s===re?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(ib(s,u,a),Eb(s,dn()),s.callbackNode!=null&&s.callbackNode===l?Tb.bind(null,s):null)}function Sb(s,a){if(Zh())return null;ib(s,a,!0)}function uR(){TR(function(){(Kt&6)!==0?Be(Ol,cR):bb()})}function Vg(){if(mr===0){var s=xo;s===0&&(s=Ci,Ci<<=1,(Ci&261888)===0&&(Ci=256)),mr=s}return mr}function wb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:co(""+s)}function xb(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function hR(s,a,l,u,g){if(a==="submit"&&l&&l.stateNode===g){var p=wb((g[We]||null).action),b=u.submitter;b&&(a=(a=b[We]||null)?wb(a.formAction):b.getAttribute("formAction"),a!==null&&(p=a,b=null));var x=new Bi("action","action",null,u,g);s.push({event:x,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(mr!==0){var L=b?xb(g,b):new FormData(g);ng(l,{pending:!0,data:L,method:g.method,action:p},null,L)}}else typeof p=="function"&&(x.preventDefault(),L=b?xb(g,b):new FormData(g),ng(l,{pending:!0,data:L,method:g.method,action:p},p,L))},currentTarget:g}]})}}for(var Lg=0;Lg<vm.length;Lg++){var zg=vm[Lg],fR=zg.toLowerCase(),dR=zg[0].toUpperCase()+zg.slice(1);_i(fR,"on"+dR)}_i(n0,"onAnimationEnd"),_i(i0,"onAnimationIteration"),_i(s0,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(I2,"onTransitionRun"),_i(M2,"onTransitionStart"),_i(D2,"onTransitionCancel"),_i(r0,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wc));function Ab(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],g=u.event;u=u.listeners;t:{var p=void 0;if(a)for(var b=u.length-1;0<=b;b--){var x=u[b],L=x.instance,W=x.currentTarget;if(x=x.listener,L!==p&&g.isPropagationStopped())break t;p=x,g.currentTarget=W;try{p(g)}catch(J){ph(J)}g.currentTarget=null,p=L}else for(b=0;b<u.length;b++){if(x=u[b],L=x.instance,W=x.currentTarget,x=x.listener,L!==p&&g.isPropagationStopped())break t;p=x,g.currentTarget=W;try{p(g)}catch(J){ph(J)}g.currentTarget=null,p=L}}}}function kt(s,a){var l=a[so];l===void 0&&(l=a[so]=new Set);var u=s+"__bubble";l.has(u)||(Rb(a,s,2,!1),l.add(u))}function Ug(s,a,l){var u=0;a&&(u|=4),Rb(l,s,u,a)}var nf="_reactListening"+Math.random().toString(36).slice(2);function jg(s){if(!s[nf]){s[nf]=!0,Vl.forEach(function(l){l!=="selectionchange"&&(mR.has(l)||Ug(l,!1,s),Ug(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[nf]||(a[nf]=!0,Ug("selectionchange",!1,a))}}function Rb(s,a,l,u){switch(nE(a)){case 2:var g=FR;break;case 8:g=HR;break;default:g=ep}l=g.bind(null,a,l,s),g=void 0,!ca||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),u?g!==void 0?s.addEventListener(a,l,{capture:!0,passive:g}):s.addEventListener(a,l,!0):g!==void 0?s.addEventListener(a,l,{passive:g}):s.addEventListener(a,l,!1)}function Bg(s,a,l,u,g){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var x=u.stateNode.containerInfo;if(x===g)break;if(b===4)for(b=u.return;b!==null;){var L=b.tag;if((L===3||L===4)&&b.stateNode.containerInfo===g)return;b=b.return}for(;x!==null;){if(b=Ni(x),b===null)return;if(L=b.tag,L===5||L===6||L===26||L===27){u=p=b;continue t}x=x.parentNode}}u=u.return}Qs(function(){var W=p,J=qn(l),nt=[];t:{var K=a0.get(s);if(K!==void 0){var $=Bi,mt=s;switch(s){case"keypress":if(ha(l)===0)break t;case"keydown":case"keyup":$=dh;break;case"focusin":mt="focus",$=da;break;case"focusout":mt="blur",$=da;break;case"beforeblur":case"afterblur":$=da;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=sh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=v;break;case n0:case i0:case s0:$=ah;break;case r0:$=R;break;case"scroll":case"scrollend":$=Kl;break;case"wheel":$=X;break;case"copy":case"cut":case"paste":$=oh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=hs;break;case"toggle":case"beforetoggle":$=Ct}var vt=(a&4)!==0,se=!vt&&(s==="scroll"||s==="scrollend"),F=vt?K!==null?K+"Capture":null:K;vt=[];for(var j=W,G;j!==null;){var et=j;if(G=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||G===null||F===null||(et=mi(j,F),et!=null&&vt.push(xc(j,et,G))),se)break;j=j.return}0<vt.length&&(K=new $(K,mt,null,l,J),nt.push({event:K,listeners:vt}))}}if((a&7)===0){t:{if(K=s==="mouseover"||s==="pointerover",$=s==="mouseout"||s==="pointerout",K&&l!==Yl&&(mt=l.relatedTarget||l.fromElement)&&(Ni(mt)||mt[Oi]))break t;if(($||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,$?(mt=l.relatedTarget||l.toElement,$=W,mt=mt?Ni(mt):null,mt!==null&&(se=o(mt),vt=mt.tag,mt!==se||vt!==5&&vt!==27&&vt!==6)&&(mt=null)):($=null,mt=W),$!==mt)){if(vt=Ql,et="onMouseLeave",F="onMouseEnter",j="mouse",(s==="pointerout"||s==="pointerover")&&(vt=hs,et="onPointerLeave",F="onPointerEnter",j="pointer"),se=$==null?K:Mn($),G=mt==null?K:Mn(mt),K=new vt(et,j+"leave",$,l,J),K.target=se,K.relatedTarget=G,et=null,Ni(J)===W&&(vt=new vt(F,j+"enter",mt,l,J),vt.target=G,vt.relatedTarget=se,et=vt),se=et,$&&mt)e:{for(vt=gR,F=$,j=mt,G=0,et=F;et;et=vt(et))G++;et=0;for(var pt=j;pt;pt=vt(pt))et++;for(;0<G-et;)F=vt(F),G--;for(;0<et-G;)j=vt(j),et--;for(;G--;){if(F===j||j!==null&&F===j.alternate){vt=F;break e}F=vt(F),j=vt(j)}vt=null}else vt=null;$!==null&&Cb(nt,K,$,vt,!1),mt!==null&&se!==null&&Cb(nt,se,mt,vt,!0)}}t:{if(K=W?Mn(W):window,$=K.nodeName&&K.nodeName.toLowerCase(),$==="select"||$==="input"&&K.type==="file")var Yt=Y_;else if(H_(K))if(G_)Yt=A2;else{Yt=w2;var gt=S2}else $=K.nodeName,!$||$.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?W&&lo(W.elementType)&&(Yt=Y_):Yt=x2;if(Yt&&(Yt=Yt(s,W))){q_(nt,Yt,l,J);break t}gt&&gt(s,K,W),s==="focusout"&&W&&K.type==="number"&&W.memoizedProps.value!=null&&Fl(K,"number",K.value)}switch(gt=W?Mn(W):window,s){case"focusin":(H_(gt)||gt.contentEditable==="true")&&(yo=gt,pm=W,tc=null);break;case"focusout":tc=pm=yo=null;break;case"mousedown":ym=!0;break;case"contextmenu":case"mouseup":case"dragend":ym=!1,t0(nt,l,J);break;case"selectionchange":if(C2)break;case"keydown":case"keyup":t0(nt,l,J)}var Mt;if(Wt)t:{switch(s){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else po?ma(s,l)&&(Vt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Vt="onCompositionStart");Vt&&(qi&&l.locale!=="ko"&&(po||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&po&&(Mt=Wl()):(ji=J,Gl="value"in ji?ji.value:ji.textContent,po=!0)),gt=sf(W,Vt),0<gt.length&&(Vt=new Hi(Vt,s,null,l,J),nt.push({event:Vt,listeners:gt}),Mt?Vt.data=Mt:(Mt=go(l),Mt!==null&&(Vt.data=Mt)))),(Mt=Gn?v2(s,l):b2(s,l))&&(Vt=sf(W,"onBeforeInput"),0<Vt.length&&(gt=new Hi("onBeforeInput","beforeinput",null,l,J),nt.push({event:gt,listeners:Vt}),gt.data=Mt)),hR(nt,s,W,l,J)}Ab(nt,a)})}function xc(s,a,l){return{instance:s,listener:a,currentTarget:l}}function sf(s,a){for(var l=a+"Capture",u=[];s!==null;){var g=s,p=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=mi(s,l),g!=null&&u.unshift(xc(s,g,p)),g=mi(s,a),g!=null&&u.push(xc(s,g,p))),s.tag===3)return u;s=s.return}return[]}function gR(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Cb(s,a,l,u,g){for(var p=a._reactName,b=[];l!==null&&l!==u;){var x=l,L=x.alternate,W=x.stateNode;if(x=x.tag,L!==null&&L===u)break;x!==5&&x!==26&&x!==27||W===null||(L=W,g?(W=mi(l,p),W!=null&&b.unshift(xc(l,W,L))):g||(W=mi(l,p),W!=null&&b.push(xc(l,W,L)))),l=l.return}b.length!==0&&s.push({event:a,listeners:b})}var pR=/\r\n?/g,yR=/\u0000|\uFFFD/g;function Ib(s){return(typeof s=="string"?s:""+s).replace(pR,`
`).replace(yR,"")}function Mb(s,a){return a=Ib(a),Ib(s)===a}function ie(s,a,l,u,g,p){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||yn(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&yn(s,""+u);break;case"className":Dn(s,"class",u);break;case"tabIndex":Dn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(s,l,u);break;case"style":ql(s,u,p);break;case"data":if(a!=="object"){Dn(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=co(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&ie(s,a,"name",g.name,g,null),ie(s,a,"formEncType",g.formEncType,g,null),ie(s,a,"formMethod",g.formMethod,g,null),ie(s,a,"formTarget",g.formTarget,g,null)):(ie(s,a,"encType",g.encType,g,null),ie(s,a,"method",g.method,g,null),ie(s,a,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=co(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=di);break;case"onScroll":u!=null&&kt("scroll",s);break;case"onScrollEnd":u!=null&&kt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=co(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":kt("beforetoggle",s),kt("toggle",s),ao(s,"popover",u);break;case"xlinkActuate":Me(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Me(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Me(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Me(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Me(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Me(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Me(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Me(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Me(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ao(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ih.get(l)||l,ao(s,l,u))}}function Fg(s,a,l,u,g,p){switch(l){case"style":ql(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?yn(s,u):(typeof u=="number"||typeof u=="bigint")&&yn(s,""+u);break;case"onScroll":u!=null&&kt("scroll",s);break;case"onScrollEnd":u!=null&&kt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=di);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ll.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),p=s[We]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(a,p,g),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,g);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):ao(s,l,u)}}}function nn(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",s),kt("load",s);var u=!1,g=!1,p;for(p in l)if(l.hasOwnProperty(p)){var b=l[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ie(s,a,p,b,l,null)}}g&&ie(s,a,"srcSet",l.srcSet,l,null),u&&ie(s,a,"src",l.src,l,null);return;case"input":kt("invalid",s);var x=p=b=g=null,L=null,W=null;for(u in l)if(l.hasOwnProperty(u)){var J=l[u];if(J!=null)switch(u){case"name":g=J;break;case"type":b=J;break;case"checked":L=J;break;case"defaultChecked":W=J;break;case"value":p=J;break;case"defaultValue":x=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:ie(s,a,u,J,l,null)}}th(s,p,x,L,W,b,g,!1);return;case"select":kt("invalid",s),u=b=p=null;for(g in l)if(l.hasOwnProperty(g)&&(x=l[g],x!=null))switch(g){case"value":p=x;break;case"defaultValue":b=x;break;case"multiple":u=x;default:ie(s,a,g,x,l,null)}a=p,l=b,s.multiple=!!u,a!=null?Ys(s,!!u,a,!1):l!=null&&Ys(s,!!u,l,!0);return;case"textarea":kt("invalid",s),p=g=u=null;for(b in l)if(l.hasOwnProperty(b)&&(x=l[b],x!=null))switch(b){case"value":u=x;break;case"defaultValue":g=x;break;case"children":p=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:ie(s,a,b,x,l,null)}Gs(s,u,g,p);return;case"option":for(L in l)l.hasOwnProperty(L)&&(u=l[L],u!=null)&&(L==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":ie(s,a,L,u,l,null));return;case"dialog":kt("beforetoggle",s),kt("toggle",s),kt("cancel",s),kt("close",s);break;case"iframe":case"object":kt("load",s);break;case"video":case"audio":for(u=0;u<wc.length;u++)kt(wc[u],s);break;case"image":kt("error",s),kt("load",s);break;case"details":kt("toggle",s);break;case"embed":case"source":case"link":kt("error",s),kt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in l)if(l.hasOwnProperty(W)&&(u=l[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ie(s,a,W,u,l,null)}return;default:if(lo(a)){for(J in l)l.hasOwnProperty(J)&&(u=l[J],u!==void 0&&Fg(s,a,J,u,l,void 0));return}}for(x in l)l.hasOwnProperty(x)&&(u=l[x],u!=null&&ie(s,a,x,u,l,null))}function _R(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,b=null,x=null,L=null,W=null,J=null;for($ in l){var nt=l[$];if(l.hasOwnProperty($)&&nt!=null)switch($){case"checked":break;case"value":break;case"defaultValue":L=nt;default:u.hasOwnProperty($)||ie(s,a,$,null,u,nt)}}for(var K in u){var $=u[K];if(nt=l[K],u.hasOwnProperty(K)&&($!=null||nt!=null))switch(K){case"type":p=$;break;case"name":g=$;break;case"checked":W=$;break;case"defaultChecked":J=$;break;case"value":b=$;break;case"defaultValue":x=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,a));break;default:$!==nt&&ie(s,a,K,$,u,nt)}}oo(s,b,x,L,W,J,p,g);return;case"select":$=b=x=K=null;for(p in l)if(L=l[p],l.hasOwnProperty(p)&&L!=null)switch(p){case"value":break;case"multiple":$=L;default:u.hasOwnProperty(p)||ie(s,a,p,null,u,L)}for(g in u)if(p=u[g],L=l[g],u.hasOwnProperty(g)&&(p!=null||L!=null))switch(g){case"value":K=p;break;case"defaultValue":x=p;break;case"multiple":b=p;default:p!==L&&ie(s,a,g,p,u,L)}a=x,l=b,u=$,K!=null?Ys(s,!!l,K,!1):!!u!=!!l&&(a!=null?Ys(s,!!l,a,!0):Ys(s,!!l,l?[]:"",!1));return;case"textarea":$=K=null;for(x in l)if(g=l[x],l.hasOwnProperty(x)&&g!=null&&!u.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:ie(s,a,x,null,u,g)}for(b in u)if(g=u[b],p=l[b],u.hasOwnProperty(b)&&(g!=null||p!=null))switch(b){case"value":K=g;break;case"defaultValue":$=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==p&&ie(s,a,b,g,u,p)}eh(s,K,$);return;case"option":for(var mt in l)K=l[mt],l.hasOwnProperty(mt)&&K!=null&&!u.hasOwnProperty(mt)&&(mt==="selected"?s.selected=!1:ie(s,a,mt,null,u,K));for(L in u)K=u[L],$=l[L],u.hasOwnProperty(L)&&K!==$&&(K!=null||$!=null)&&(L==="selected"?s.selected=K&&typeof K!="function"&&typeof K!="symbol":ie(s,a,L,K,u,$));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in l)K=l[vt],l.hasOwnProperty(vt)&&K!=null&&!u.hasOwnProperty(vt)&&ie(s,a,vt,null,u,K);for(W in u)if(K=u[W],$=l[W],u.hasOwnProperty(W)&&K!==$&&(K!=null||$!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,a));break;default:ie(s,a,W,K,u,$)}return;default:if(lo(a)){for(var se in l)K=l[se],l.hasOwnProperty(se)&&K!==void 0&&!u.hasOwnProperty(se)&&Fg(s,a,se,void 0,u,K);for(J in u)K=u[J],$=l[J],!u.hasOwnProperty(J)||K===$||K===void 0&&$===void 0||Fg(s,a,J,K,u,$);return}}for(var F in l)K=l[F],l.hasOwnProperty(F)&&K!=null&&!u.hasOwnProperty(F)&&ie(s,a,F,null,u,K);for(nt in u)K=u[nt],$=l[nt],!u.hasOwnProperty(nt)||K===$||K==null&&$==null||ie(s,a,nt,K,u,$)}function Db(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],p=g.transferSize,b=g.initiatorType,x=g.duration;if(p&&x&&Db(b)){for(b=0,x=g.responseEnd,u+=1;u<l.length;u++){var L=l[u],W=L.startTime;if(W>x)break;var J=L.transferSize,nt=L.initiatorType;J&&Db(nt)&&(L=L.responseEnd,b+=J*(L<x?1:(x-W)/(L-W)))}if(--u,a+=8*(p+b)/(g.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Hg=null,qg=null;function rf(s){return s.nodeType===9?s:s.ownerDocument}function Ob(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kb(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Yg(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Gg=null;function bR(){var s=window.event;return s&&s.type==="popstate"?s===Gg?!1:(Gg=s,!0):(Gg=null,!1)}var Nb=typeof setTimeout=="function"?setTimeout:void 0,ER=typeof clearTimeout=="function"?clearTimeout:void 0,Pb=typeof Promise=="function"?Promise:void 0,TR=typeof queueMicrotask=="function"?queueMicrotask:typeof Pb<"u"?function(s){return Pb.resolve(null).then(s).catch(SR)}:Nb;function SR(s){setTimeout(function(){throw s})}function gr(s){return s==="head"}function Vb(s,a){var l=a,u=0;do{var g=l.nextSibling;if(s.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(g),qo(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")Ac(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,Ac(l);for(var p=l.firstChild;p;){var b=p.nextSibling,x=p.nodeName;p[ki]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=b}}else l==="body"&&Ac(s.ownerDocument.body);l=g}while(l);qo(a)}function Lb(s,a){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function Wg(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Wg(l),ro(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function wR(s,a,l,u){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[ki])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=Zn(s.nextSibling),s===null)break}return null}function xR(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Zn(s.nextSibling),s===null))return null;return s}function zb(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=Zn(s.nextSibling),s===null))return null;return s}function Kg(s){return s.data==="$?"||s.data==="$~"}function Qg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function AR(s,a){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Zn(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var Xg=null;function Ub(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(a===0)return Zn(s.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}s=s.nextSibling}return null}function jb(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return s;a--}else l!=="/$"&&l!=="/&"||a++}s=s.previousSibling}return null}function Bb(s,a,l){switch(a=rf(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Ac(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);ro(s)}var ti=new Map,Fb=new Set;function af(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var As=at.d;at.d={f:RR,r:CR,D:IR,C:MR,L:DR,m:OR,X:NR,S:kR,M:PR};function RR(){var s=As.f(),a=Xh();return s||a}function CR(s){var a=Hn(s);a!==null&&a.tag===5&&a.type==="form"?rv(a):As.r(s)}var Bo=typeof document>"u"?null:document;function Hb(s,a,l){var u=Bo;if(u&&typeof a=="string"&&a){var g=pn(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Fb.has(g)||(Fb.add(g),s={rel:s,crossOrigin:l,href:a},u.querySelector(g)===null&&(a=u.createElement("link"),nn(a,"link",s),Ie(a),u.head.appendChild(a)))}}function IR(s){As.D(s),Hb("dns-prefetch",s,null)}function MR(s,a){As.C(s,a),Hb("preconnect",s,a)}function DR(s,a,l){As.L(s,a,l);var u=Bo;if(u&&s&&a){var g='link[rel="preload"][as="'+pn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+pn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+pn(l.imageSizes)+'"]')):g+='[href="'+pn(s)+'"]';var p=g;switch(a){case"style":p=Fo(s);break;case"script":p=Ho(s)}ti.has(p)||(s=_({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),ti.set(p,s),u.querySelector(g)!==null||a==="style"&&u.querySelector(Rc(p))||a==="script"&&u.querySelector(Cc(p))||(a=u.createElement("link"),nn(a,"link",s),Ie(a),u.head.appendChild(a)))}}function OR(s,a){As.m(s,a);var l=Bo;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+pn(u)+'"][href="'+pn(s)+'"]',p=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Ho(s)}if(!ti.has(p)&&(s=_({rel:"modulepreload",href:s},a),ti.set(p,s),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Cc(p)))return}u=l.createElement("link"),nn(u,"link",s),Ie(u),l.head.appendChild(u)}}}function kR(s,a,l){As.S(s,a,l);var u=Bo;if(u&&s){var g=Pi(u).hoistableStyles,p=Fo(s);a=a||"default";var b=g.get(p);if(!b){var x={loading:0,preload:null};if(b=u.querySelector(Rc(p)))x.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":a},l),(l=ti.get(p))&&$g(s,l);var L=b=u.createElement("link");Ie(L),nn(L,"link",s),L._p=new Promise(function(W,J){L.onload=W,L.onerror=J}),L.addEventListener("load",function(){x.loading|=1}),L.addEventListener("error",function(){x.loading|=2}),x.loading|=4,of(b,a,u)}b={type:"stylesheet",instance:b,count:1,state:x},g.set(p,b)}}}function NR(s,a){As.X(s,a);var l=Bo;if(l&&s){var u=Pi(l).hoistableScripts,g=Ho(s),p=u.get(g);p||(p=l.querySelector(Cc(g)),p||(s=_({src:s,async:!0},a),(a=ti.get(g))&&Jg(s,a),p=l.createElement("script"),Ie(p),nn(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function PR(s,a){As.M(s,a);var l=Bo;if(l&&s){var u=Pi(l).hoistableScripts,g=Ho(s),p=u.get(g);p||(p=l.querySelector(Cc(g)),p||(s=_({src:s,async:!0,type:"module"},a),(a=ti.get(g))&&Jg(s,a),p=l.createElement("script"),Ie(p),nn(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function qb(s,a,l,u){var g=(g=Et.current)?af(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Fo(l.href),l=Pi(g).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Fo(l.href);var p=Pi(g).hoistableStyles,b=p.get(s);if(b||(g=g.ownerDocument||g,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,b),(p=g.querySelector(Rc(s)))&&!p._p&&(b.instance=p,b.state.loading=5),ti.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ti.set(s,l),p||VR(g,s,l,b.state))),a&&u===null)throw Error(i(528,""));return b}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ho(l),l=Pi(g).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Fo(s){return'href="'+pn(s)+'"'}function Rc(s){return'link[rel="stylesheet"]['+s+"]"}function Yb(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function VR(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),nn(a,"link",l),Ie(a),s.head.appendChild(a))}function Ho(s){return'[src="'+pn(s)+'"]'}function Cc(s){return"script[async]"+s}function Gb(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+pn(l.href)+'"]');if(u)return a.instance=u,Ie(u),u;var g=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ie(u),nn(u,"style",g),of(u,l.precedence,s),a.instance=u;case"stylesheet":g=Fo(l.href);var p=s.querySelector(Rc(g));if(p)return a.state.loading|=4,a.instance=p,Ie(p),p;u=Yb(l),(g=ti.get(g))&&$g(u,g),p=(s.ownerDocument||s).createElement("link"),Ie(p);var b=p;return b._p=new Promise(function(x,L){b.onload=x,b.onerror=L}),nn(p,"link",u),a.state.loading|=4,of(p,l.precedence,s),a.instance=p;case"script":return p=Ho(l.src),(g=s.querySelector(Cc(p)))?(a.instance=g,Ie(g),g):(u=l,(g=ti.get(p))&&(u=_({},l),Jg(u,g)),s=s.ownerDocument||s,g=s.createElement("script"),Ie(g),nn(g,"link",u),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,of(u,l.precedence,s));return a.instance}function of(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,p=g,b=0;b<u.length;b++){var x=u[b];if(x.dataset.precedence===a)p=x;else if(p!==g)break}p?p.parentNode.insertBefore(s,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function $g(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Jg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var lf=null;function Wb(s,a,l){if(lf===null){var u=new Map,g=lf=new Map;g.set(l,u)}else g=lf,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var p=l[g];if(!(p[ki]||p[Ce]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(a)||"";b=s+b;var x=u.get(b);x?x.push(p):u.set(b,[p])}}return u}function Kb(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function LR(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(s=a.disabled,typeof a.precedence=="string"&&s==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Qb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function zR(s,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Fo(u.href),p=a.querySelector(Rc(g));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=cf.bind(s),a.then(s,s)),l.state.loading|=4,l.instance=p,Ie(p);return}p=a.ownerDocument||a,u=Yb(u),(g=ti.get(g))&&$g(u,g),p=p.createElement("link"),Ie(p);var b=p;b._p=new Promise(function(x,L){b.onload=x,b.onerror=L}),nn(p,"link",u),l.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=cf.bind(s),a.addEventListener("load",l),a.addEventListener("error",l))}}var Zg=0;function UR(s,a){return s.stylesheets&&s.count===0&&hf(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&hf(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4+a);0<s.imgBytes&&Zg===0&&(Zg=62500*vR());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&hf(s,s.stylesheets),s.unsuspend)){var p=s.unsuspend;s.unsuspend=null,p()}},(s.imgBytes>Zg?50:800)+a);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function cf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var uf=null;function hf(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,uf=new Map,a.forEach(jR,s),uf=null,cf.call(s))}function jR(s,a){if(!(a.state.loading&4)){var l=uf.get(s);if(l)var u=l.get(null);else{l=new Map,uf.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var b=g[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),u=b)}u&&l.set(null,u)}g=a.instance,b=g.getAttribute("data-precedence"),p=l.get(b)||u,p===u&&l.set(null,g),l.set(b,g),this.count++,u=cf.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),p?p.parentNode.insertBefore(g,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var Ic={$$typeof:q,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function BR(s,a,l,u,g,p,b,x,L){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Xb(s,a,l,u,g,p,b,x,L,W,J,nt){return s=new BR(s,a,l,b,L,W,J,nt,x),a=1,p===!0&&(a|=24),p=kn(3,null,null,a),s.current=p,p.stateNode=s,a=Om(),a.refCount++,s.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:a},Vm(p),s}function $b(s){return s?(s=bo,s):bo}function Jb(s,a,l,u,g,p){g=$b(g),u.context===null?u.context=g:u.pendingContext=g,u=sr(a),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=rr(s,u,a),l!==null&&(Tn(l,s,a),oc(l,s,a))}function Zb(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function tp(s,a){Zb(s,a),(s=s.alternate)&&Zb(s,a)}function tE(s){if(s.tag===13||s.tag===31){var a=ya(s,67108864);a!==null&&Tn(a,s,67108864),tp(s,67108864)}}function eE(s){if(s.tag===13||s.tag===31){var a=zn();a=ra(a);var l=ya(s,a);l!==null&&Tn(l,s,a),tp(s,a)}}var ff=!0;function FR(s,a,l,u){var g=Q.T;Q.T=null;var p=at.p;try{at.p=2,ep(s,a,l,u)}finally{at.p=p,Q.T=g}}function HR(s,a,l,u){var g=Q.T;Q.T=null;var p=at.p;try{at.p=8,ep(s,a,l,u)}finally{at.p=p,Q.T=g}}function ep(s,a,l,u){if(ff){var g=np(u);if(g===null)Bg(s,a,u,df,l),iE(s,u);else if(YR(g,s,a,l,u))u.stopPropagation();else if(iE(s,u),a&4&&-1<qR.indexOf(s)){for(;g!==null;){var p=Hn(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Ii(p.pendingLanes);if(b!==0){var x=p;for(x.pendingLanes|=2,x.entangledLanes|=2;b;){var L=1<<31-be(b);x.entanglements[1]|=L,b&=~L}Ki(p),(Kt&6)===0&&(Kh=dn()+500,Sc(0))}}break;case 31:case 13:x=ya(p,2),x!==null&&Tn(x,p,2),Xh(),tp(p,2)}if(p=np(u),p===null&&Bg(s,a,u,df,l),p===g)break;g=p}g!==null&&u.stopPropagation()}else Bg(s,a,u,null,l)}}function np(s){return s=qn(s),ip(s)}var df=null;function ip(s){if(df=null,s=Ni(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===31){if(s=h(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return df=s,null}function nE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ea()){case Ol:return 2;case kl:return 8;case Hs:case cm:return 32;case qu:return 268435456;default:return 32}default:return 32}}var sp=!1,pr=null,yr=null,_r=null,Mc=new Map,Dc=new Map,vr=[],qR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iE(s,a){switch(s){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":Mc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dc.delete(a.pointerId)}}function Oc(s,a,l,u,g,p){return s===null||s.nativeEvent!==p?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[g]},a!==null&&(a=Hn(a),a!==null&&tE(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function YR(s,a,l,u,g){switch(a){case"focusin":return pr=Oc(pr,s,a,l,u,g),!0;case"dragenter":return yr=Oc(yr,s,a,l,u,g),!0;case"mouseover":return _r=Oc(_r,s,a,l,u,g),!0;case"pointerover":var p=g.pointerId;return Mc.set(p,Oc(Mc.get(p)||null,s,a,l,u,g)),!0;case"gotpointercapture":return p=g.pointerId,Dc.set(p,Oc(Dc.get(p)||null,s,a,l,u,g)),!0}return!1}function sE(s){var a=Ni(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,hi(s.priority,function(){eE(l)});return}}else if(a===31){if(a=h(l),a!==null){s.blockedOn=a,hi(s.priority,function(){eE(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function mf(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=np(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Yl=u,l.target.dispatchEvent(u),Yl=null}else return a=Hn(l),a!==null&&tE(a),s.blockedOn=l,!1;a.shift()}return!0}function rE(s,a,l){mf(s)&&l.delete(a)}function GR(){sp=!1,pr!==null&&mf(pr)&&(pr=null),yr!==null&&mf(yr)&&(yr=null),_r!==null&&mf(_r)&&(_r=null),Mc.forEach(rE),Dc.forEach(rE)}function gf(s,a){s.blockedOn===a&&(s.blockedOn=null,sp||(sp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,GR)))}var pf=null;function aE(s){pf!==s&&(pf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){pf===s&&(pf=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],g=s[a+2];if(typeof u!="function"){if(ip(u||l)===null)continue;break}var p=Hn(l);p!==null&&(s.splice(a,3),a-=3,ng(p,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function qo(s){function a(L){return gf(L,s)}pr!==null&&gf(pr,s),yr!==null&&gf(yr,s),_r!==null&&gf(_r,s),Mc.forEach(a),Dc.forEach(a);for(var l=0;l<vr.length;l++){var u=vr[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<vr.length&&(l=vr[0],l.blockedOn===null);)sE(l),l.blockedOn===null&&vr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],p=l[u+1],b=g[We]||null;if(typeof p=="function")b||aE(l);else if(b){var x=null;if(p&&p.hasAttribute("formAction")){if(g=p,b=p[We]||null)x=b.formAction;else if(ip(g)!==null)continue}else x=b.action;typeof x=="function"?l[u+1]=x:(l.splice(u,3),u-=3),aE(l)}}}function oE(){function s(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return g=b})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function rp(s){this._internalRoot=s}yf.prototype.render=rp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=zn();Jb(l,u,s,a,null,null)},yf.prototype.unmount=rp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Jb(s.current,2,null,s,null,null),Xh(),a[Oi]=null}};function yf(s){this._internalRoot=s}yf.prototype.unstable_scheduleHydration=function(s){if(s){var a=Xu();s={blockedOn:null,target:s,priority:a};for(var l=0;l<vr.length&&a!==0&&a<vr[l].priority;l++);vr.splice(l,0,s),l===0&&sE(s)}};var lE=t.version;if(lE!=="19.2.3")throw Error(i(527,lE,"19.2.3"));at.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=m(a),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var WR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{ci=_f.inject(WR),$e=_f}catch{}}return Nc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",g=gv,p=pv,b=yv;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=Xb(s,1,!1,null,null,l,u,null,g,p,b,oE),s[Oi]=a.current,jg(s),new rp(a)},Nc.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,g="",p=gv,b=pv,x=yv,L=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(x=l.onRecoverableError),l.formState!==void 0&&(L=l.formState)),a=Xb(s,1,!0,a,l??null,u,g,L,p,b,x,oE),a.context=$b(null),l=a.current,u=zn(),u=ra(u),g=sr(u),g.callback=null,rr(l,g,u),l=u,a.current.lanes=l,ia(a,l),Ki(a),s[Oi]=a.current,jg(s),new yf(a)},Nc.version="19.2.3",Nc}var _E;function iC(){if(_E)return lp.exports;_E=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),lp.exports=nC(),lp.exports}var sC=iC();const rC=xS(sC);var vE="popstate";function aC(n={}){function t(i,r){let{pathname:o,search:c,hash:h}=i.location;return Fp("",{pathname:o,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:lu(r)}return lC(t,e,null,n)}function pe(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function ai(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function oC(){return Math.random().toString(36).substring(2,10)}function bE(n,t){return{usr:n.state,key:n.key,idx:t}}function Fp(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?pl(t):t,state:e,key:t&&t.key||i||oC()}}function lu({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function pl(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function lC(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,c=r.history,h="POP",f=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function _(){h="POP";let C=y(),V=C==null?null:C-m;m=C,f&&f({action:h,location:w.location,delta:V})}function E(C,V){h="PUSH";let B=Fp(w.location,C,V);m=y()+1;let q=bE(B,m),rt=w.createHref(B);try{c.pushState(q,"",rt)}catch(tt){if(tt instanceof DOMException&&tt.name==="DataCloneError")throw tt;r.location.assign(rt)}o&&f&&f({action:h,location:w.location,delta:1})}function S(C,V){h="REPLACE";let B=Fp(w.location,C,V);m=y();let q=bE(B,m),rt=w.createHref(B);c.replaceState(q,"",rt),o&&f&&f({action:h,location:w.location,delta:0})}function A(C){return cC(C)}let w={get action(){return h},get location(){return n(r,c)},listen(C){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(vE,_),f=C,()=>{r.removeEventListener(vE,_),f=null}},createHref(C){return t(r,C)},createURL:A,encodeLocation(C){let V=A(C);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:E,replace:S,go(C){return c.go(C)}};return w}function cC(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),pe(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:lu(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function AS(n,t,e="/"){return uC(n,t,e,!1)}function uC(n,t,e,i){let r=typeof t=="string"?pl(t):t,o=Vs(r.pathname||"/",e);if(o==null)return null;let c=RS(n);hC(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let m=TC(o);h=bC(c[f],m,i)}return h}function RS(n,t=[],e=[],i="",r=!1){let o=(c,h,f=r,m)=>{let y={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&f)return;pe(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let _=Ns([i,y.relativePath]),E=e.concat(y);c.children&&c.children.length>0&&(pe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),RS(c.children,t,E,_,f)),!(c.path==null&&!c.index)&&t.push({path:_,score:_C(_,c.index),routesMeta:E})};return n.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let f of CS(c.path))o(c,h,!0,f)}),t}function CS(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let c=CS(i.join("/")),h=[];return h.push(...c.map(f=>f===""?o:[o,f].join("/"))),r&&h.push(...c),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function hC(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:vC(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var fC=/^:[\w-]+$/,dC=3,mC=2,gC=1,pC=10,yC=-2,EE=n=>n==="*";function _C(n,t){let e=n.split("/"),i=e.length;return e.some(EE)&&(i+=yC),t&&(i+=mC),e.filter(r=>!EE(r)).reduce((r,o)=>r+(fC.test(o)?dC:o===""?gC:pC),i)}function vC(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function bC(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],m=h===i.length-1,y=o==="/"?t:t.slice(o.length)||"/",_=ed({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),E=f.route;if(!_&&m&&e&&!i[i.length-1].route.index&&(_=ed({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!_)return null;Object.assign(r,_.params),c.push({params:r,pathname:Ns([o,_.pathname]),pathnameBase:AC(Ns([o,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(o=Ns([o,_.pathnameBase]))}return c}function ed(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=EC(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:_},E)=>{if(y==="*"){let A=h[E]||"";c=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const S=h[E];return _&&!S?m[y]=void 0:m[y]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:n}}function EC(n,t=!1,e=!0){ai(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function TC(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ai(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Vs(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}var IS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SC=n=>IS.test(n);function wC(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?pl(n):n,o;if(e)if(SC(e))o=e;else{if(e.includes("//")){let c=e;e=e.replace(/\/\/+/g,"/"),ai(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${e}`)}e.startsWith("/")?o=TE(e.substring(1),"/"):o=TE(e,t)}else o=t;return{pathname:o,search:RC(i),hash:CC(r)}}function TE(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function fp(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xC(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function wy(n){let t=xC(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function xy(n,t,e,i=!1){let r;typeof n=="string"?r=pl(n):(r={...n},pe(!r.pathname||!r.pathname.includes("?"),fp("?","pathname","search",r)),pe(!r.pathname||!r.pathname.includes("#"),fp("#","pathname","hash",r)),pe(!r.search||!r.search.includes("#"),fp("#","search","hash",r)));let o=n===""||r.pathname==="",c=o?"/":r.pathname,h;if(c==null)h=e;else{let _=t.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;r.pathname=E.join("/")}h=_>=0?t[_]:"/"}let f=wC(r,h),m=c&&c!=="/"&&c.endsWith("/"),y=(o||c===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}var Ns=n=>n.join("/").replace(/\/\/+/g,"/"),AC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),RC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,CC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,IC=class{constructor(n,t,e,i=!1){this.status=n,this.statusText=t||"",this.internal=i,e instanceof Error?(this.data=e.toString(),this.error=e):this.data=e}};function MC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function DC(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var MS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function DS(n,t){let e=n;if(typeof e!="string"||!IS.test(e))return{absoluteURL:void 0,isExternal:!1,to:e};let i=e,r=!1;if(MS)try{let o=new URL(window.location.href),c=e.startsWith("//")?new URL(o.protocol+e):new URL(e),h=Vs(c.pathname,t);c.origin===o.origin&&h!=null?e=h+c.search+c.hash:r=!0}catch{ai(!1,`<Link to="${e}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var OS=["POST","PUT","PATCH","DELETE"];new Set(OS);var OC=["GET",...OS];new Set(OC);var yl=Y.createContext(null);yl.displayName="DataRouter";var kd=Y.createContext(null);kd.displayName="DataRouterState";var kC=Y.createContext(!1),kS=Y.createContext({isTransitioning:!1});kS.displayName="ViewTransition";var NC=Y.createContext(new Map);NC.displayName="Fetchers";var PC=Y.createContext(null);PC.displayName="Await";var jn=Y.createContext(null);jn.displayName="Navigation";var Ru=Y.createContext(null);Ru.displayName="Location";var os=Y.createContext({outlet:null,matches:[],isDataRoute:!1});os.displayName="Route";var Ay=Y.createContext(null);Ay.displayName="RouteError";var NS="REACT_ROUTER_ERROR",VC="REDIRECT",LC="ROUTE_ERROR_RESPONSE";function zC(n){if(n.startsWith(`${NS}:${VC}:{`))try{let t=JSON.parse(n.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function UC(n){if(n.startsWith(`${NS}:${LC}:{`))try{let t=JSON.parse(n.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new IC(t.status,t.statusText,t.data)}catch{}}function jC(n,{relative:t}={}){pe(_l(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=Y.useContext(jn),{hash:r,pathname:o,search:c}=Cu(n,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:Ns([e,o])),i.createHref({pathname:h,search:c,hash:r})}function _l(){return Y.useContext(Ru)!=null}function Kr(){return pe(_l(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(Ru).location}var PS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VS(n){Y.useContext(jn).static||Y.useLayoutEffect(n)}function Nd(){let{isDataRoute:n}=Y.useContext(os);return n?ZC():BC()}function BC(){pe(_l(),"useNavigate() may be used only in the context of a <Router> component.");let n=Y.useContext(yl),{basename:t,navigator:e}=Y.useContext(jn),{matches:i}=Y.useContext(os),{pathname:r}=Kr(),o=JSON.stringify(wy(i)),c=Y.useRef(!1);return VS(()=>{c.current=!0}),Y.useCallback((f,m={})=>{if(ai(c.current,PS),!c.current)return;if(typeof f=="number"){e.go(f);return}let y=xy(f,JSON.parse(o),r,m.relative==="path");n==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Ns([t,y.pathname])),(m.replace?e.replace:e.push)(y,m.state,m)},[t,e,o,r,n])}Y.createContext(null);function Cu(n,{relative:t}={}){let{matches:e}=Y.useContext(os),{pathname:i}=Kr(),r=JSON.stringify(wy(e));return Y.useMemo(()=>xy(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function FC(n,t){return LS(n,t)}function LS(n,t,e,i,r){pe(_l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Y.useContext(jn),{matches:c}=Y.useContext(os),h=c[c.length-1],f=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let B=_&&_.path||"";US(m,!_||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let E=Kr(),S;if(t){let B=typeof t=="string"?pl(t):t;pe(y==="/"||B.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${B.pathname}" was given in the \`location\` prop.`),S=B}else S=E;let A=S.pathname||"/",w=A;if(y!=="/"){let B=y.replace(/^\//,"").split("/");w="/"+A.replace(/^\//,"").split("/").slice(B.length).join("/")}let C=AS(n,{pathname:w});ai(_||C!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),ai(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=WC(C&&C.map(B=>Object.assign({},B,{params:Object.assign({},f,B.params),pathname:Ns([y,o.encodeLocation?o.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:Ns([y,o.encodeLocation?o.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),c,e,i,r);return t&&V?Y.createElement(Ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},V):V}function HC(){let n=JC(),t=MC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:o},"ErrorBoundary")," or"," ",Y.createElement("code",{style:o},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},t),e?Y.createElement("pre",{style:r},e):null,c)}var qC=Y.createElement(HC,null),zS=class extends Y.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const e=UC(n.digest);e&&(n=e)}let t=n!==void 0?Y.createElement(os.Provider,{value:this.props.routeContext},Y.createElement(Ay.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?Y.createElement(YC,{error:n},t):t}};zS.contextType=kC;var dp=new WeakMap;function YC({children:n,error:t}){let{basename:e}=Y.useContext(jn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=zC(t.digest);if(i){let r=dp.get(t);if(r)throw r;let o=DS(i.location,e);if(MS&&!dp.get(t))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw dp.set(t,c),c}return Y.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function GC({routeContext:n,match:t,children:e}){let i=Y.useContext(yl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),Y.createElement(os.Provider,{value:n},e)}function WC(n,t=[],e=null,i=null,r=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let o=n,c=e?.errors;if(c!=null){let y=o.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);pe(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let h=!1,f=-1;if(e)for(let y=0;y<o.length;y++){let _=o[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(f=y),_.route.id){let{loaderData:E,errors:S}=e,A=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||A){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let m=e&&i?(y,_)=>{i(y,{location:e.location,params:e.matches?.[0]?.params??{},unstable_pattern:DC(e.matches),errorInfo:_})}:void 0;return o.reduceRight((y,_,E)=>{let S,A=!1,w=null,C=null;e&&(S=c&&_.route.id?c[_.route.id]:void 0,w=_.route.errorElement||qC,h&&(f<0&&E===0?(US("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,C=null):f===E&&(A=!0,C=_.route.hydrateFallbackElement||null)));let V=t.concat(o.slice(0,E+1)),B=()=>{let q;return S?q=w:A?q=C:_.route.Component?q=Y.createElement(_.route.Component,null):_.route.element?q=_.route.element:q=y,Y.createElement(GC,{match:_,routeContext:{outlet:y,matches:V,isDataRoute:e!=null},children:q})};return e&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?Y.createElement(zS,{location:e.location,revalidation:e.revalidation,component:w,error:S,children:B(),routeContext:{outlet:null,matches:V,isDataRoute:!0},onError:m}):B()},null)}function Ry(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KC(n){let t=Y.useContext(yl);return pe(t,Ry(n)),t}function QC(n){let t=Y.useContext(kd);return pe(t,Ry(n)),t}function XC(n){let t=Y.useContext(os);return pe(t,Ry(n)),t}function Cy(n){let t=XC(n),e=t.matches[t.matches.length-1];return pe(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function $C(){return Cy("useRouteId")}function JC(){let n=Y.useContext(Ay),t=QC("useRouteError"),e=Cy("useRouteError");return n!==void 0?n:t.errors?.[e]}function ZC(){let{router:n}=KC("useNavigate"),t=Cy("useNavigate"),e=Y.useRef(!1);return VS(()=>{e.current=!0}),Y.useCallback(async(r,o={})=>{ai(e.current,PS),e.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var SE={};function US(n,t,e){!t&&!SE[n]&&(SE[n]=!0,ai(!1,e))}Y.memo(tI);function tI({routes:n,future:t,state:e,onError:i}){return LS(n,void 0,e,i,t)}function jS({to:n,replace:t,state:e,relative:i}){pe(_l(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=Y.useContext(jn);ai(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=Y.useContext(os),{pathname:c}=Kr(),h=Nd(),f=xy(n,wy(o),c,i==="path"),m=JSON.stringify(f);return Y.useEffect(()=>{h(JSON.parse(m),{replace:t,state:e,relative:i})},[h,m,i,t,e]),null}function Hc(n){pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eI({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1,unstable_useTransitions:c}){pe(!_l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),f=Y.useMemo(()=>({basename:h,navigator:r,static:o,unstable_useTransitions:c,future:{}}),[h,r,o,c]);typeof e=="string"&&(e=pl(e));let{pathname:m="/",search:y="",hash:_="",state:E=null,key:S="default"}=e,A=Y.useMemo(()=>{let w=Vs(m,h);return w==null?null:{location:{pathname:w,search:y,hash:_,state:E,key:S},navigationType:i}},[h,m,y,_,E,S,i]);return ai(A!=null,`<Router basename="${h}"> is not able to match the URL "${m}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:Y.createElement(jn.Provider,{value:f},Y.createElement(Ru.Provider,{children:t,value:A}))}function nI({children:n,location:t}){return FC(Hp(n),t)}function Hp(n,t=[]){let e=[];return Y.Children.forEach(n,(i,r)=>{if(!Y.isValidElement(i))return;let o=[...t,r];if(i.type===Y.Fragment){e.push.apply(e,Hp(i.props.children,o));return}pe(i.type===Hc,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Hp(i.props.children,o)),e.push(c)}),e}var jf="get",Bf="application/x-www-form-urlencoded";function Pd(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function iI(n){return Pd(n)&&n.tagName.toLowerCase()==="button"}function sI(n){return Pd(n)&&n.tagName.toLowerCase()==="form"}function rI(n){return Pd(n)&&n.tagName.toLowerCase()==="input"}function aI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function oI(n,t){return n.button===0&&(!t||t==="_self")&&!aI(n)}var vf=null;function lI(){if(vf===null)try{new FormData(document.createElement("form"),0),vf=!1}catch{vf=!0}return vf}var cI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mp(n){return n!=null&&!cI.has(n)?(ai(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bf}"`),null):n}function uI(n,t){let e,i,r,o,c;if(sI(n)){let h=n.getAttribute("action");i=h?Vs(h,t):null,e=n.getAttribute("method")||jf,r=mp(n.getAttribute("enctype"))||Bf,o=new FormData(n)}else if(iI(n)||rI(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?Vs(f,t):null,e=n.getAttribute("formmethod")||h.getAttribute("method")||jf,r=mp(n.getAttribute("formenctype"))||mp(h.getAttribute("enctype"))||Bf,o=new FormData(h,n),!lI()){let{name:m,type:y,value:_}=n;if(y==="image"){let E=m?`${m}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else m&&o.append(m,_)}}else{if(Pd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=jf,i=null,r=Bf,c=n}return o&&r==="text/plain"&&(c=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Iy(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function hI(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&Vs(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function fI(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function mI(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let c=await fI(o,e);return c.links?c.links():[]}return[]}));return _I(i.flat(1).filter(dI).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function wE(n,t,e,i,r,o){let c=(f,m)=>e[m]?f.route.id!==e[m].route.id:!0,h=(f,m)=>e[m].pathname!==f.pathname||e[m].route.path?.endsWith("*")&&e[m].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,m)=>c(f,m)||h(f,m)):o==="data"?t.filter((f,m)=>{let y=i.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(c(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function gI(n,t,{includeHydrateFallback:e}={}){return pI(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function pI(n){return[...new Set(n)]}function yI(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function _I(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(yI(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}function BS(){let n=Y.useContext(yl);return Iy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function vI(){let n=Y.useContext(kd);return Iy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var My=Y.createContext(void 0);My.displayName="FrameworkContext";function FS(){let n=Y.useContext(My);return Iy(n,"You must render this element inside a <HydratedRouter> element"),n}function bI(n,t){let e=Y.useContext(My),[i,r]=Y.useState(!1),[o,c]=Y.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=t,E=Y.useRef(null);Y.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let w=V=>{V.forEach(B=>{c(B.isIntersecting)})},C=new IntersectionObserver(w,{threshold:.5});return E.current&&C.observe(E.current),()=>{C.disconnect()}}},[n]),Y.useEffect(()=>{if(i){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[i]);let S=()=>{r(!0)},A=()=>{r(!1),c(!1)};return e?n!=="intent"?[o,E,{}]:[o,E,{onFocus:Pc(h,S),onBlur:Pc(f,A),onMouseEnter:Pc(m,S),onMouseLeave:Pc(y,A),onTouchStart:Pc(_,S)}]:[!1,E,{}]}function Pc(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function EI({page:n,...t}){let{router:e}=BS(),i=Y.useMemo(()=>AS(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?Y.createElement(SI,{page:n,matches:i,...t}):null}function TI(n){let{manifest:t,routeModules:e}=FS(),[i,r]=Y.useState([]);return Y.useEffect(()=>{let o=!1;return mI(n,t,e).then(c=>{o||r(c)}),()=>{o=!0}},[n,t,e]),i}function SI({page:n,matches:t,...e}){let i=Kr(),{manifest:r,routeModules:o}=FS(),{basename:c}=BS(),{loaderData:h,matches:f}=vI(),m=Y.useMemo(()=>wE(n,t,f,r,i,"data"),[n,t,f,r,i]),y=Y.useMemo(()=>wE(n,t,f,r,i,"assets"),[n,t,f,r,i]),_=Y.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let A=new Set,w=!1;if(t.forEach(V=>{let B=r.routes[V.route.id];!B||!B.hasLoader||(!m.some(q=>q.route.id===V.route.id)&&V.route.id in h&&o[V.route.id]?.shouldRevalidate||B.hasClientLoader?w=!0:A.add(V.route.id))}),A.size===0)return[];let C=hI(n,c,"data");return w&&A.size>0&&C.searchParams.set("_routes",t.filter(V=>A.has(V.route.id)).map(V=>V.route.id).join(",")),[C.pathname+C.search]},[c,h,i,r,m,t,n,o]),E=Y.useMemo(()=>gI(y,r),[y,r]),S=TI(y);return Y.createElement(Y.Fragment,null,_.map(A=>Y.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...e})),E.map(A=>Y.createElement("link",{key:A,rel:"modulepreload",href:A,...e})),S.map(({key:A,link:w})=>Y.createElement("link",{key:A,nonce:e.nonce,...w})))}function wI(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var xI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xI&&(window.__reactRouterVersion="7.11.0")}catch{}function AI({basename:n,children:t,unstable_useTransitions:e,window:i}){let r=Y.useRef();r.current==null&&(r.current=aC({window:i,v5Compat:!0}));let o=r.current,[c,h]=Y.useState({action:o.action,location:o.location}),f=Y.useCallback(m=>{e===!1?h(m):Y.startTransition(()=>h(m))},[e]);return Y.useLayoutEffect(()=>o.listen(f),[o,f]),Y.createElement(eI,{basename:n,children:t,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:e})}var HS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zo=Y.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:c,state:h,target:f,to:m,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E,...S},A){let{basename:w,unstable_useTransitions:C}=Y.useContext(jn),V=typeof m=="string"&&HS.test(m),B=DS(m,w);m=B.to;let q=jC(m,{relative:r}),[rt,tt,ot]=bI(i,S),D=MI(m,{replace:c,state:h,target:f,preventScrollReset:y,relative:r,viewTransition:_,unstable_defaultShouldRevalidate:E,unstable_useTransitions:C});function I(N){t&&t(N),N.defaultPrevented||D(N)}let M=Y.createElement("a",{...S,...ot,href:B.absoluteURL||q,onClick:B.isExternal||o?t:I,ref:wI(A,tt),target:f,"data-discover":!V&&e==="render"?"true":void 0});return rt&&!V?Y.createElement(Y.Fragment,null,M,Y.createElement(EI,{page:q})):M});Zo.displayName="Link";var RI=Y.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:c,viewTransition:h,children:f,...m},y){let _=Cu(c,{relative:m.relative}),E=Kr(),S=Y.useContext(kd),{navigator:A,basename:w}=Y.useContext(jn),C=S!=null&&PI(_)&&h===!0,V=A.encodeLocation?A.encodeLocation(_).pathname:_.pathname,B=E.pathname,q=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;e||(B=B.toLowerCase(),q=q?q.toLowerCase():null,V=V.toLowerCase()),q&&w&&(q=Vs(q,w)||q);const rt=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let tt=B===V||!r&&B.startsWith(V)&&B.charAt(rt)==="/",ot=q!=null&&(q===V||!r&&q.startsWith(V)&&q.charAt(V.length)==="/"),D={isActive:tt,isPending:ot,isTransitioning:C},I=tt?t:void 0,M;typeof i=="function"?M=i(D):M=[i,tt?"active":null,ot?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(D):o;return Y.createElement(Zo,{...m,"aria-current":I,className:M,ref:y,style:N,to:c,viewTransition:h},typeof f=="function"?f(D):f)});RI.displayName="NavLink";var CI=Y.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:c=jf,action:h,onSubmit:f,relative:m,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E,...S},A)=>{let{unstable_useTransitions:w}=Y.useContext(jn),C=kI(),V=NI(h,{relative:m}),B=c.toLowerCase()==="get"?"get":"post",q=typeof h=="string"&&HS.test(h),rt=tt=>{if(f&&f(tt),tt.defaultPrevented)return;tt.preventDefault();let ot=tt.nativeEvent.submitter,D=ot?.getAttribute("formmethod")||c,I=()=>C(ot||tt.currentTarget,{fetcherKey:t,method:D,navigate:e,replace:r,state:o,relative:m,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E});w&&e!==!1?Y.startTransition(()=>I()):I()};return Y.createElement("form",{ref:A,method:B,action:V,onSubmit:i?f:rt,...S,"data-discover":!q&&n==="render"?"true":void 0})});CI.displayName="Form";function II(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qS(n){let t=Y.useContext(yl);return pe(t,II(n)),t}function MI(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:f}={}){let m=Nd(),y=Kr(),_=Cu(n,{relative:o});return Y.useCallback(E=>{if(oI(E,t)){E.preventDefault();let S=e!==void 0?e:lu(y)===lu(_),A=()=>m(n,{replace:S,state:i,preventScrollReset:r,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h});f?Y.startTransition(()=>A()):A()}},[y,m,_,e,i,t,n,r,o,c,h,f])}var DI=0,OI=()=>`__${String(++DI)}__`;function kI(){let{router:n}=qS("useSubmit"),{basename:t}=Y.useContext(jn),e=$C(),i=n.fetch,r=n.navigate;return Y.useCallback(async(o,c={})=>{let{action:h,method:f,encType:m,formData:y,body:_}=uI(o,t);if(c.navigate===!1){let E=c.fetcherKey||OI();await i(E,e,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||f,formEncType:c.encType||m,flushSync:c.flushSync})}else await r(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||f,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:e,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,r,t,e])}function NI(n,{relative:t}={}){let{basename:e}=Y.useContext(jn),i=Y.useContext(os);pe(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Cu(n||".",{relative:t})},c=Kr();if(n==null){o.search=c.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Ns([e,o.pathname])),lu(o)}function PI(n,{relative:t}={}){let e=Y.useContext(kS);pe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=qS("useViewTransitionState"),r=Cu(n,{relative:t});if(!e.isTransitioning)return!1;let o=Vs(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=Vs(e.nextLocation.pathname,i)||e.nextLocation.pathname;return ed(r.pathname,c)!=null||ed(r.pathname,o)!=null}const VI=()=>{};var xE={};const YS=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},LI=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],h=n[e++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},GS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,f=r+2<n.length,m=f?n[r+2]:0,y=o>>2,_=(o&3)<<4|h>>4;let E=(h&15)<<2|m>>6,S=m&63;f||(S=64,c||(E=64)),i.push(e[y],e[_],e[E],e[S])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(YS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):LI(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const m=r<n.length?e[n.charAt(r)]:64;++r;const _=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||m==null||_==null)throw new zI;const E=o<<2|h>>4;if(i.push(E),m!==64){const S=h<<4&240|m>>2;if(i.push(S),_!==64){const A=m<<6&192|_;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class zI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UI=function(n){const t=YS(n);return GS.encodeByteArray(t,!0)},WS=function(n){return UI(n).replace(/\./g,"")},KS=function(n){try{return GS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function jI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const BI=()=>jI().__FIREBASE_DEFAULTS__,FI=()=>{if(typeof process>"u"||typeof xE>"u")return;const n=xE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},HI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&KS(n[1]);return t&&JSON.parse(t)},Vd=()=>{try{return VI()||BI()||FI()||HI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},qI=n=>Vd()?.emulatorHosts?.[n],QS=()=>Vd()?.config,XS=n=>Vd()?.[`_${n}`];class YI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function vl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $S(n){return(await fetch(n,{credentials:"include"})).ok}const Zc={};function GI(){const n={prod:[],emulator:[]};for(const t of Object.keys(Zc))Zc[t]?n.emulator.push(t):n.prod.push(t);return n}function WI(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let AE=!1;function KI(n,t){if(typeof window>"u"||typeof document>"u"||!vl(window.location.host)||Zc[n]===t||Zc[n]||AE)return;Zc[n]=t;function e(E){return`__firebase__banner__${E}`}const i="__firebase__banner",o=GI().prod.length>0;function c(){const E=document.getElementById(i);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,S){E.setAttribute("width","24"),E.setAttribute("id",S),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{AE=!0,c()},E}function y(E,S){E.setAttribute("id",S),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=WI(i),S=e("text"),A=document.getElementById(S)||document.createElement("span"),w=e("learnmore"),C=document.getElementById(w)||document.createElement("a"),V=e("preprendIcon"),B=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const q=E.element;h(q),y(C,w);const rt=m();f(B,V),q.append(B,A,C,rt),document.body.appendChild(q)}o?(A.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function XI(){const n=Vd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $I(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ZI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tM(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function eM(){return!XI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nM(){try{return typeof indexedDB=="object"}catch{return!1}}function iM(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}const sM="FirebaseError";class Bs extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=sM,Object.setPrototypeOf(this,Bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iu.prototype.create)}}class Iu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?rM(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new Bs(r,h,i)}}function rM(n,t){return n.replace(aM,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const aM=/\{\$([^}]+)}/g;function oM(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Fa(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(RE(o)&&RE(c)){if(!Fa(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function RE(n){return n!==null&&typeof n=="object"}function Mu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function qc(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function Yc(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function lM(n,t){const e=new cM(n,t);return e.subscribe.bind(e)}class cM{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");uM(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=gp),r.error===void 0&&(r.error=gp),r.complete===void 0&&(r.complete=gp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uM(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function gp(){}function Ge(n){return n&&n._delegate?n._delegate:n}class Ha{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ka="[DEFAULT]";class hM{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new YI;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(dM(t))try{this.getOrInitializeService({instanceIdentifier:ka})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=ka){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ka){return this.instances.has(t)}getOptions(t=ka){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:fM(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ka){return this.component?this.component.multipleInstances?t:ka:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fM(n){return n===ka?void 0:n}function dM(n){return n.instantiationMode==="EAGER"}class mM{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new hM(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Lt||(Lt={}));const gM={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},pM=Lt.INFO,yM={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},_M=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=yM[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Dy{constructor(t){this.name=t,this._logLevel=pM,this._logHandler=_M,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?gM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const vM=(n,t)=>t.some(e=>n instanceof e);let CE,IE;function bM(){return CE||(CE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EM(){return IE||(IE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JS=new WeakMap,qp=new WeakMap,ZS=new WeakMap,pp=new WeakMap,Oy=new WeakMap;function TM(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(kr(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&JS.set(e,n)}).catch(()=>{}),Oy.set(t,n),t}function SM(n){if(qp.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});qp.set(n,t)}let Yp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return qp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||ZS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return kr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function wM(n){Yp=n(Yp)}function xM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(yp(this),t,...e);return ZS.set(i,t.sort?t.sort():[t]),kr(i)}:EM().includes(n)?function(...t){return n.apply(yp(this),t),kr(JS.get(this))}:function(...t){return kr(n.apply(yp(this),t))}}function AM(n){return typeof n=="function"?xM(n):(n instanceof IDBTransaction&&SM(n),vM(n,bM())?new Proxy(n,Yp):n)}function kr(n){if(n instanceof IDBRequest)return TM(n);if(pp.has(n))return pp.get(n);const t=AM(n);return t!==n&&(pp.set(n,t),Oy.set(t,n)),t}const yp=n=>Oy.get(n);function RM(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),h=kr(c);return i&&c.addEventListener("upgradeneeded",f=>{i(kr(c.result),f.oldVersion,f.newVersion,kr(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",m=>r(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const CM=["get","getKey","getAll","getAllKeys","count"],IM=["put","add","delete","clear"],_p=new Map;function ME(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(_p.get(t))return _p.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=IM.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||CM.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,r?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[e](...h),r&&f.done]))[0]};return _p.set(t,o),o}wM(n=>({...n,get:(t,e,i)=>ME(t,e)||n.get(t,e,i),has:(t,e)=>!!ME(t,e)||n.has(t,e)}));class MM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(DM(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function DM(n){return n.getComponent()?.type==="VERSION"}const Gp="@firebase/app",DE="0.14.6";const Ls=new Dy("@firebase/app"),OM="@firebase/app-compat",kM="@firebase/analytics-compat",NM="@firebase/analytics",PM="@firebase/app-check-compat",VM="@firebase/app-check",LM="@firebase/auth",zM="@firebase/auth-compat",UM="@firebase/database",jM="@firebase/data-connect",BM="@firebase/database-compat",FM="@firebase/functions",HM="@firebase/functions-compat",qM="@firebase/installations",YM="@firebase/installations-compat",GM="@firebase/messaging",WM="@firebase/messaging-compat",KM="@firebase/performance",QM="@firebase/performance-compat",XM="@firebase/remote-config",$M="@firebase/remote-config-compat",JM="@firebase/storage",ZM="@firebase/storage-compat",tD="@firebase/firestore",eD="@firebase/ai",nD="@firebase/firestore-compat",iD="firebase",sD="12.6.0";const Wp="[DEFAULT]",rD={[Gp]:"fire-core",[OM]:"fire-core-compat",[NM]:"fire-analytics",[kM]:"fire-analytics-compat",[VM]:"fire-app-check",[PM]:"fire-app-check-compat",[LM]:"fire-auth",[zM]:"fire-auth-compat",[UM]:"fire-rtdb",[jM]:"fire-data-connect",[BM]:"fire-rtdb-compat",[FM]:"fire-fn",[HM]:"fire-fn-compat",[qM]:"fire-iid",[YM]:"fire-iid-compat",[GM]:"fire-fcm",[WM]:"fire-fcm-compat",[KM]:"fire-perf",[QM]:"fire-perf-compat",[XM]:"fire-rc",[$M]:"fire-rc-compat",[JM]:"fire-gcs",[ZM]:"fire-gcs-compat",[tD]:"fire-fst",[nD]:"fire-fst-compat",[eD]:"fire-vertex","fire-js":"fire-js",[iD]:"fire-js-all"};const cu=new Map,aD=new Map,Kp=new Map;function OE(n,t){try{n.container.addComponent(t)}catch(e){Ls.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function ll(n){const t=n.name;if(Kp.has(t))return Ls.debug(`There were multiple attempts to register component ${t}.`),!1;Kp.set(t,n);for(const e of cu.values())OE(e,n);for(const e of aD.values())OE(e,n);return!0}function ky(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ni(n){return n==null?!1:n.settings!==void 0}const oD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nr=new Iu("app","Firebase",oD);class lD{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}}const bl=sD;function tw(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:Wp,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw Nr.create("bad-app-name",{appName:String(r)});if(e||(e=QS()),!e)throw Nr.create("no-options");const o=cu.get(r);if(o){if(Fa(e,o.options)&&Fa(i,o.config))return o;throw Nr.create("duplicate-app",{appName:r})}const c=new mM(r);for(const f of Kp.values())c.addComponent(f);const h=new lD(e,i,c);return cu.set(r,h),h}function ew(n=Wp){const t=cu.get(n);if(!t&&n===Wp&&QS())return tw();if(!t)throw Nr.create("no-app",{appName:n});return t}function cD(){return Array.from(cu.values())}function Pr(n,t,e){let i=rD[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const c=[`Unable to register library "${i}" with version "${t}":`];r&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ls.warn(c.join(" "));return}ll(new Ha(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const uD="firebase-heartbeat-database",hD=1,uu="firebase-heartbeat-store";let vp=null;function nw(){return vp||(vp=RM(uD,hD,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(uu)}catch(e){console.warn(e)}}}}).catch(n=>{throw Nr.create("idb-open",{originalErrorMessage:n.message})})),vp}async function fD(n){try{const e=(await nw()).transaction(uu),i=await e.objectStore(uu).get(iw(n));return await e.done,i}catch(t){if(t instanceof Bs)Ls.warn(t.message);else{const e=Nr.create("idb-get",{originalErrorMessage:t?.message});Ls.warn(e.message)}}}async function kE(n,t){try{const i=(await nw()).transaction(uu,"readwrite");await i.objectStore(uu).put(t,iw(n)),await i.done}catch(e){if(e instanceof Bs)Ls.warn(e.message);else{const i=Nr.create("idb-set",{originalErrorMessage:e?.message});Ls.warn(i.message)}}}function iw(n){return`${n.name}!${n.options.appId}`}const dD=1024,mD=30;class gD{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new yD(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=NE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>mD){const r=_D(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ls.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=NE(),{heartbeatsToSend:e,unsentEntries:i}=pD(this._heartbeatsCache.heartbeats),r=WS(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return Ls.warn(t),""}}}function NE(){return new Date().toISOString().substring(0,10)}function pD(n,t=dD){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),PE(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),PE(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class yD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nM()?iM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await fD(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return kE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return kE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function PE(n){return WS(JSON.stringify({version:2,heartbeats:n})).length}function _D(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function vD(n){ll(new Ha("platform-logger",t=>new MM(t),"PRIVATE")),ll(new Ha("heartbeat",t=>new gD(t),"PRIVATE")),Pr(Gp,DE,n),Pr(Gp,DE,"esm2020"),Pr("fire-js","")}vD("");var bD="firebase",ED="12.7.0";Pr(bD,ED,"app");function sw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TD=sw,rw=new Iu("auth","Firebase",sw());const nd=new Dy("@firebase/auth");function SD(n,...t){nd.logLevel<=Lt.WARN&&nd.warn(`Auth (${bl}): ${n}`,...t)}function Ff(n,...t){nd.logLevel<=Lt.ERROR&&nd.error(`Auth (${bl}): ${n}`,...t)}function wi(n,...t){throw Ny(n,...t)}function ts(n,...t){return Ny(n,...t)}function aw(n,t,e){const i={...TD(),[t]:e};return new Iu("auth","Firebase",i).create(t,{appName:n.name})}function Ps(n){return aw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ny(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return rw.create(n,...t)}function Tt(n,t,...e){if(!n)throw Ny(t,...e)}function Ds(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Ff(t),new Error(t)}function zs(n,t){n||Ds(t)}function Qp(){return typeof self<"u"&&self.location?.href||""}function wD(){return VE()==="http:"||VE()==="https:"}function VE(){return typeof self<"u"&&self.location?.protocol||null}function xD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wD()||JI()||"connection"in navigator)?navigator.onLine:!0}function AD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Du{constructor(t,e){this.shortDelay=t,this.longDelay=e,zs(e>t,"Short delay should be less than long delay!"),this.isMobile=QI()||ZI()}get(){return xD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Py(n,t){zs(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class ow{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const RD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const CD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ID=new Du(3e4,6e4);function Qr(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Xr(n,t,e,i,r={}){return lw(n,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=Mu({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:t,headers:f,...o};return $I()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&vl(n.emulatorConfig.host)&&(m.credentials="include"),ow.fetch()(await cw(n,n.config.apiHost,e,h),m)})}async function lw(n,t,e){n._canInitEmulator=!1;const i={...RD,...t};try{const r=new DD(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw bf(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw bf(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw bf(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw bf(n,"user-disabled",c);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw aw(n,y,m);wi(n,y)}}catch(r){if(r instanceof Bs)throw r;wi(n,"network-request-failed",{message:String(r)})}}async function Ou(n,t,e,i,r={}){const o=await Xr(n,t,e,i,r);return"mfaPendingCredential"in o&&wi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function cw(n,t,e,i){const r=`${t}${e}?${i}`,o=n,c=o.config.emulator?Py(n.config,r):`${n.config.apiScheme}://${r}`;return CD.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function MD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(ts(this.auth,"network-request-failed")),ID.get())})}}function bf(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=ts(n,t,i);return r.customData._tokenResponse=e,r}function LE(n){return n!==void 0&&n.enterprise!==void 0}class OD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return MD(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kD(n,t){return Xr(n,"GET","/v2/recaptchaConfig",Qr(n,t))}async function ND(n,t){return Xr(n,"POST","/v1/accounts:delete",t)}async function id(n,t){return Xr(n,"POST","/v1/accounts:lookup",t)}function tu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function PD(n,t=!1){const e=Ge(n),i=await e.getIdToken(t),r=Vy(i);Tt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:tu(bp(r.auth_time)),issuedAtTime:tu(bp(r.iat)),expirationTime:tu(bp(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function bp(n){return Number(n)*1e3}function Vy(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Ff("JWT malformed, contained fewer than 3 sections"),null;try{const r=KS(e);return r?JSON.parse(r):(Ff("Failed to decode base64 JWT payload"),null)}catch(r){return Ff("Caught error parsing JWT payload as JSON",r?.toString()),null}}function zE(n){const t=Vy(n);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function hu(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Bs&&VD(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function VD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class LD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Xp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=tu(this.lastLoginAt),this.creationTime=tu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sd(n){const t=n.auth,e=await n.getIdToken(),i=await hu(n,id(t,{idToken:e}));Tt(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?uw(r.providerUserInfo):[],c=UD(n.providerData,o),h=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!c?.length,m=h?f:!1,y={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new Xp(r.createdAt,r.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function zD(n){const t=Ge(n);await sd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function UD(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function uw(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function jD(n,t){const e=await lw(n,{},async()=>{const i=Mu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await cw(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&vl(n.emulatorConfig.host)&&(f.credentials="include"),ow.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function BD(n,t){return Xr(n,"POST","/v2/accounts:revokeToken",Qr(n,t))}class el{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):zE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const e=zE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await jD(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new el;return i&&(Tt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(Tt(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(Tt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new el,this.toJSON())}_performRefresh(){return Ds("not implemented")}}function Er(n,t){Tt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Ti{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new LD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Xp(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await hu(this,this.stsTokenManager.getToken(this.auth,t));return Tt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return PD(this,t)}reload(){return zD(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Ti({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await sd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(Ps(this.auth));const t=await this.getIdToken();return await hu(this,ND(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,f=e._redirectEventId??void 0,m=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:S,providerData:A,stsTokenManager:w}=e;Tt(_&&w,t,"internal-error");const C=el.fromJSON(this.name,w);Tt(typeof _=="string",t,"internal-error"),Er(i,t.name),Er(r,t.name),Tt(typeof E=="boolean",t,"internal-error"),Tt(typeof S=="boolean",t,"internal-error"),Er(o,t.name),Er(c,t.name),Er(h,t.name),Er(f,t.name),Er(m,t.name),Er(y,t.name);const V=new Ti({uid:_,auth:t,email:r,emailVerified:E,displayName:i,isAnonymous:S,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:C,createdAt:m,lastLoginAt:y});return A&&Array.isArray(A)&&(V.providerData=A.map(B=>({...B}))),f&&(V._redirectEventId=f),V}static async _fromIdTokenResponse(t,e,i=!1){const r=new el;r.updateFromServerResponse(e);const o=new Ti({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await sd(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];Tt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?uw(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,h=new el;h.updateFromIdToken(i);const f=new Ti({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:c}),m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Xp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,m),f}}const UE=new Map;function Os(n){zs(n instanceof Function,"Expected a class definition");let t=UE.get(n);return t?(zs(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,UE.set(n,t),t)}class hw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}hw.type="NONE";const jE=hw;function Hf(n,t,e){return`firebase:${n}:${t}:${e}`}class nl{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Hf(this.userKey,r.apiKey,o),this.fullPersistenceKey=Hf("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await id(this.auth,{idToken:t}).catch(()=>{});return e?Ti._fromGetAccountInfoResponse(this.auth,e,t):null}return Ti._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new nl(Os(jE),t,i);const r=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=r[0]||Os(jE);const c=Hf(i,t.config.apiKey,t.name);let h=null;for(const m of e)try{const y=await m._get(c);if(y){let _;if(typeof y=="string"){const E=await id(t,{idToken:y}).catch(()=>{});if(!E)break;_=await Ti._fromGetAccountInfoResponse(t,E,y)}else _=Ti._fromJSON(t,y);m!==o&&(h=_),o=m;break}}catch{}const f=r.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new nl(o,t,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new nl(o,t,i))}}function BE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(yw(t))return"Blackberry";if(_w(t))return"Webos";if(dw(t))return"Safari";if((t.includes("chrome/")||mw(t))&&!t.includes("edge/"))return"Chrome";if(pw(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function fw(n=fn()){return/firefox\//i.test(n)}function dw(n=fn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function mw(n=fn()){return/crios\//i.test(n)}function gw(n=fn()){return/iemobile/i.test(n)}function pw(n=fn()){return/android/i.test(n)}function yw(n=fn()){return/blackberry/i.test(n)}function _w(n=fn()){return/webos/i.test(n)}function Ly(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function FD(n=fn()){return Ly(n)&&!!window.navigator?.standalone}function HD(){return tM()&&document.documentMode===10}function vw(n=fn()){return Ly(n)||pw(n)||_w(n)||yw(n)||/windows phone/i.test(n)||gw(n)}function bw(n,t=[]){let e;switch(n){case"Browser":e=BE(fn());break;case"Worker":e=`${BE(fn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${bl}/${i}`}class qD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function YD(n,t={}){return Xr(n,"GET","/v2/passwordPolicy",Qr(n,t))}const GD=6;class WD{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??GD,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class KD{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FE(this),this.idTokenSubscription=new FE(this),this.beforeStateQueue=new qD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Os(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await nl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await id(this,{idToken:t}),i=await Ti._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ni(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(i=h.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await sd(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=AD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ni(this.app))return Promise.reject(Ps(this));const e=t?Ge(t):null;return e&&Tt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(Ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ni(this.app)?Promise.reject(Ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Os(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await YD(this),e=new WD(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Iu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await BD(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Os(t)||this._popupRedirectResolver;Tt(e,this,"argument-error"),this.redirectPersistenceManager=await nl.create(this,[Os(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=bw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&SD(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Xa(n){return Ge(n)}class FE{constructor(t){this.auth=t,this.observer=null,this.addObserver=lM(e=>this.observer=e)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ld={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QD(n){Ld=n}function Ew(n){return Ld.loadJS(n)}function XD(){return Ld.recaptchaEnterpriseScript}function $D(){return Ld.gapiScript}function JD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class ZD{constructor(){this.enterprise=new tO}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class tO{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const eO="recaptcha-enterprise",Tw="NO_RECAPTCHA";class nO{constructor(t){this.type=eO,this.auth=Xa(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{kD(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new OD(f);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(f=>{h(f)})})}function r(o,c,h){const f=window.grecaptcha;LE(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(m=>{c(m)}).catch(()=>{c(Tw)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZD().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(h=>{if(!e&&LE(window.grecaptcha))r(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=XD();f.length!==0&&(f+=h),Ew(f).then(()=>{r(h,o,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function HE(n,t,e,i=!1,r=!1){const o=new nO(n);let c;if(r)c=Tw;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const h={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function $p(n,t,e,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await HE(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await HE(n,t,e,e==="getOobCode");return i(n,c)}else return Promise.reject(o)})}function iO(n,t){const e=ky(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(Fa(o,t??{}))return r;wi(r,"already-initialized")}return e.initialize({options:t})}function sO(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Os);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function rO(n,t,e){const i=Xa(n);Tt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=Sw(t),{host:c,port:h}=aO(t),f=h===null?"":`:${h}`,m={url:`${o}//${c}${f}/`},y=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Tt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Tt(Fa(m,i.config.emulator)&&Fa(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,vl(c)?($S(`${o}//${c}${f}`),KI("Auth",!0)):oO()}function Sw(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function aO(n){const t=Sw(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:qE(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:qE(c)}}}function qE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function oO(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class zy{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ds("not implemented")}_getIdTokenResponse(t){return Ds("not implemented")}_linkToIdToken(t,e){return Ds("not implemented")}_getReauthenticationResolver(t){return Ds("not implemented")}}async function lO(n,t){return Xr(n,"POST","/v1/accounts:signUp",t)}async function cO(n,t){return Ou(n,"POST","/v1/accounts:signInWithPassword",Qr(n,t))}async function uO(n,t){return Ou(n,"POST","/v1/accounts:signInWithEmailLink",Qr(n,t))}async function hO(n,t){return Ou(n,"POST","/v1/accounts:signInWithEmailLink",Qr(n,t))}class fu extends zy{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new fu(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new fu(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $p(t,e,"signInWithPassword",cO);case"emailLink":return uO(t,{email:this._email,oobCode:this._password});default:wi(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $p(t,i,"signUpPassword",lO);case"emailLink":return hO(t,{idToken:e,email:this._email,oobCode:this._password});default:wi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function il(n,t){return Ou(n,"POST","/v1/accounts:signInWithIdp",Qr(n,t))}const fO="http://localhost";class qa extends zy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new qa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):wi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const c=new qa(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return il(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,il(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,il(t,e)}buildRequest(){const t={requestUri:fO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Mu(e)}return t}}function dO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mO(n){const t=qc(Yc(n)).link,e=t?qc(Yc(t)).deep_link_id:null,i=qc(Yc(n)).deep_link_id;return(i?qc(Yc(i)).link:null)||i||e||t||n}class Uy{constructor(t){const e=qc(Yc(t)),i=e.apiKey??null,r=e.oobCode??null,o=dO(e.mode??null);Tt(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=mO(t);try{return new Uy(e)}catch{return null}}}class El{constructor(){this.providerId=El.PROVIDER_ID}static credential(t,e){return fu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=Uy.parseLink(e);return Tt(i,"argument-error"),fu._fromEmailAndCode(t,i.code,i.tenantId)}}El.PROVIDER_ID="password";El.EMAIL_PASSWORD_SIGN_IN_METHOD="password";El.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ww{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ku extends ww{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Sr extends ku{constructor(){super("facebook.com")}static credential(t){return qa._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Sr.credentialFromTaggedObject(t)}static credentialFromError(t){return Sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Sr.credential(t.oauthAccessToken)}catch{return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sr.PROVIDER_ID="facebook.com";class wr extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return qa._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return wr.credential(e,i)}catch{return null}}}wr.GOOGLE_SIGN_IN_METHOD="google.com";wr.PROVIDER_ID="google.com";class xr extends ku{constructor(){super("github.com")}static credential(t){return qa._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xr.credential(t.oauthAccessToken)}catch{return null}}}xr.GITHUB_SIGN_IN_METHOD="github.com";xr.PROVIDER_ID="github.com";class Ar extends ku{constructor(){super("twitter.com")}static credential(t,e){return qa._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Ar.credentialFromTaggedObject(t)}static credentialFromError(t){return Ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Ar.credential(e,i)}catch{return null}}}Ar.TWITTER_SIGN_IN_METHOD="twitter.com";Ar.PROVIDER_ID="twitter.com";async function gO(n,t){return Ou(n,"POST","/v1/accounts:signUp",Qr(n,t))}class Ya{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await Ti._fromIdTokenResponse(t,i,r),c=YE(i);return new Ya({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=YE(i);return new Ya({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function YE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class rd extends Bs{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,rd.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new rd(t,e,i,r)}}function xw(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?rd._fromErrorAndOperation(n,o,t,i):o})}async function pO(n,t,e=!1){const i=await hu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Ya._forOperation(n,"link",i)}async function yO(n,t,e=!1){const{auth:i}=n;if(ni(i.app))return Promise.reject(Ps(i));const r="reauthenticate";try{const o=await hu(n,xw(i,r,t,n),e);Tt(o.idToken,i,"internal-error");const c=Vy(o.idToken);Tt(c,i,"internal-error");const{sub:h}=c;return Tt(n.uid===h,i,"user-mismatch"),Ya._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&wi(i,"user-mismatch"),o}}async function Aw(n,t,e=!1){if(ni(n.app))return Promise.reject(Ps(n));const i="signIn",r=await xw(n,i,t),o=await Ya._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function _O(n,t){return Aw(Xa(n),t)}async function Rw(n){const t=Xa(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function vO(n,t,e){if(ni(n.app))return Promise.reject(Ps(n));const i=Xa(n),c=await $p(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gO).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Rw(n),f}),h=await Ya._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function bO(n,t,e){return ni(n.app)?Promise.reject(Ps(n)):_O(Ge(n),El.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Rw(n),i})}function EO(n,t,e,i){return Ge(n).onIdTokenChanged(t,e,i)}function TO(n,t,e){return Ge(n).beforeAuthStateChanged(t,e)}function jy(n,t,e,i){return Ge(n).onAuthStateChanged(t,e,i)}function SO(n){return Ge(n).signOut()}const ad="__sak";class Cw{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(ad,"1"),this.storage.removeItem(ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const wO=1e3,xO=10;class Iw extends Cw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);HD()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,xO):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},wO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Iw.type="LOCAL";const AO=Iw;class Mw extends Cw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Mw.type="SESSION";const Dw=Mw;function RO(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class zd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new zd(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async m=>m(e.origin,o)),f=await RO(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zd.receivers=[];function By(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class CO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const m=By("",20);r.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(_){const E=_;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function es(){return window}function IO(n){es().location.href=n}function Ow(){return typeof es().WorkerGlobalScope<"u"&&typeof es().importScripts=="function"}async function MO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DO(){return navigator?.serviceWorker?.controller||null}function OO(){return Ow()?self:null}const kw="firebaseLocalStorageDb",kO=1,od="firebaseLocalStorage",Nw="fbase_key";class Nu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Ud(n,t){return n.transaction([od],t?"readwrite":"readonly").objectStore(od)}function NO(){const n=indexedDB.deleteDatabase(kw);return new Nu(n).toPromise()}function Jp(){const n=indexedDB.open(kw,kO);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(od,{keyPath:Nw})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(od)?t(i):(i.close(),await NO(),t(await Jp()))})})}async function GE(n,t,e){const i=Ud(n,!0).put({[Nw]:t,value:e});return new Nu(i).toPromise()}async function PO(n,t){const e=Ud(n,!1).get(t),i=await new Nu(e).toPromise();return i===void 0?null:i.value}function WE(n,t){const e=Ud(n,!0).delete(t);return new Nu(e).toPromise()}const VO=800,LO=3;class Pw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>LO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ow()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zd._getInstance(OO()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await MO(),!this.activeServiceWorker)return;this.sender=new CO(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||DO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Jp();return await GE(t,ad,"1"),await WE(t,ad),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>GE(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>PO(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>WE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=Ud(r,!1).getAll();return new Nu(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Pw.type="LOCAL";const zO=Pw;new Du(3e4,6e4);function UO(n,t){return t?Os(t):(Tt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Fy extends zy{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return il(t,this._buildIdpRequest())}_linkToIdToken(t,e){return il(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return il(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function jO(n){return Aw(n.auth,new Fy(n),n.bypassAuthState)}function BO(n){const{auth:t,user:e}=n;return Tt(e,t,"internal-error"),yO(e,new Fy(n),n.bypassAuthState)}async function FO(n){const{auth:t,user:e}=n;return Tt(e,t,"internal-error"),pO(e,new Fy(n),n.bypassAuthState)}class Vw{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return jO;case"linkViaPopup":case"linkViaRedirect":return FO;case"reauthViaPopup":case"reauthViaRedirect":return BO;default:wi(this.auth,"internal-error")}}resolve(t){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const HO=new Du(2e3,1e4);class tl extends Vw{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,tl.currentPopupAction&&tl.currentPopupAction.cancel(),tl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){zs(this.filter.length===1,"Popup operations only handle one event");const t=By();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ts(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ts(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ts(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,HO.get())};t()}}tl.currentPopupAction=null;const qO="pendingRedirect",qf=new Map;class YO extends Vw{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=qf.get(this.auth._key());if(!t){try{const i=await GO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}qf.set(this.auth._key(),t)}return this.bypassAuthState||qf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GO(n,t){const e=QO(t),i=KO(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function WO(n,t){qf.set(n._key(),t)}function KO(n){return Os(n._redirectPersistence)}function QO(n){return Hf(qO,n.config.apiKey,n.name)}async function XO(n,t,e=!1){if(ni(n.app))return Promise.reject(Ps(n));const i=Xa(n),r=UO(i,t),c=await new YO(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}const $O=600*1e3;class JO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ZO(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!Lw(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(ts(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=$O&&this.cachedEventUids.clear(),this.cachedEventUids.has(KE(t))}saveEventToCache(t){this.cachedEventUids.add(KE(t)),this.lastProcessedEventTime=Date.now()}}function KE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Lw({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function ZO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lw(n);default:return!1}}async function t4(n,t={}){return Xr(n,"GET","/v1/projects",t)}const e4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n4=/^https?/;async function i4(n){if(n.config.emulator)return;const{authorizedDomains:t}=await t4(n);for(const e of t)try{if(s4(e))return}catch{}wi(n,"unauthorized-domain")}function s4(n){const t=Qp(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!n4.test(e))return!1;if(e4.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const r4=new Du(3e4,6e4);function QE(){const n=es().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function a4(n){return new Promise((t,e)=>{function i(){QE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{QE(),e(ts(n,"network-request-failed"))},timeout:r4.get()})}if(es().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(es().gapi?.load)i();else{const r=JD("iframefcb");return es()[r]=()=>{gapi.load?i():e(ts(n,"network-request-failed"))},Ew(`${$D()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw Yf=null,t})}let Yf=null;function o4(n){return Yf=Yf||a4(n),Yf}const l4=new Du(5e3,15e3),c4="__/auth/iframe",u4="emulator/auth/iframe",h4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},f4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d4(n){const t=n.config;Tt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Py(t,u4):`https://${n.config.authDomain}/${c4}`,i={apiKey:t.apiKey,appName:n.name,v:bl},r=f4.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${Mu(i).slice(1)}`}async function m4(n){const t=await o4(n),e=es().gapi;return Tt(e,n,"internal-error"),t.open({where:document.body,url:d4(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:h4,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=ts(n,"network-request-failed"),h=es().setTimeout(()=>{o(c)},l4.get());function f(){es().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{o(c)})}))}const g4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p4=500,y4=600,_4="_blank",v4="http://localhost";class XE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function b4(n,t,e,i=p4,r=y4){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...g4,width:i.toString(),height:r.toString(),top:o,left:c},m=fn().toLowerCase();e&&(h=mw(m)?_4:e),fw(m)&&(t=t||v4,f.scrollbars="yes");const y=Object.entries(f).reduce((E,[S,A])=>`${E}${S}=${A},`,"");if(FD(m)&&h!=="_self")return E4(t||"",h),new XE(null);const _=window.open(t||"",h,y);Tt(_,n,"popup-blocked");try{_.focus()}catch{}return new XE(_)}function E4(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const T4="__/auth/handler",S4="emulator/auth/handler",w4=encodeURIComponent("fac");async function $E(n,t,e,i,r,o){Tt(n.config.authDomain,n,"auth-domain-config-required"),Tt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:bl,eventId:r};if(t instanceof ww){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",oM(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof ku){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),m=f?`#${w4}=${encodeURIComponent(f)}`:"";return`${x4(n)}?${Mu(h).slice(1)}${m}`}function x4({config:n}){return n.emulator?Py(n,S4):`https://${n.authDomain}/${T4}`}const Ep="webStorageSupport";class A4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dw,this._completeRedirectFn=XO,this._overrideRedirectResult=WO}async _openPopup(t,e,i,r){zs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await $E(t,e,i,Qp(),r);return b4(t,o,By())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await $E(t,e,i,Qp(),r);return IO(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(zs(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await m4(t),i=new JO(t);return e.register("authEvent",r=>(Tt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Ep,{type:Ep},r=>{const o=r?.[0]?.[Ep];o!==void 0&&e(!!o),wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=i4(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return vw()||dw()||Ly()}}const R4=A4;var JE="@firebase/auth",ZE="1.12.0";class C4{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function I4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M4(n){ll(new Ha("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Tt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bw(n)},m=new KD(i,r,o,f);return sO(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),ll(new Ha("auth-internal",t=>{const e=Xa(t.getProvider("auth").getImmediate());return(i=>new C4(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pr(JE,ZE,I4(n)),Pr(JE,ZE,"esm2020")}const D4=300,O4=XS("authIdTokenMaxAge")||D4;let t1=null;const k4=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>O4)return;const r=e?.token;t1!==r&&(t1=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function N4(n=ew()){const t=ky(n,"auth");if(t.isInitialized())return t.getImmediate();const e=iO(n,{popupRedirectResolver:R4,persistence:[zO,AO,Dw]}),i=XS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=k4(o.toString());TO(e,c,()=>c(e.currentUser)),EO(e,h=>c(h))}}const r=qI("auth");return r&&rO(e,`http://${r}`),e}function P4(){return document.getElementsByTagName("head")?.[0]??document}QD({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=ts("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",P4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M4("Browser");var e1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Vr,zw;(function(){var n;function t(D,I){function M(){}M.prototype=I.prototype,D.F=I.prototype,D.prototype=new M,D.prototype.constructor=D,D.D=function(N,P,z){for(var k=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)k[Dt-2]=arguments[Dt];return I.prototype[P].apply(N,k)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(D,I,M){M||(M=0);const N=Array(16);if(typeof I=="string")for(var P=0;P<16;++P)N[P]=I.charCodeAt(M++)|I.charCodeAt(M++)<<8|I.charCodeAt(M++)<<16|I.charCodeAt(M++)<<24;else for(P=0;P<16;++P)N[P]=I[M++]|I[M++]<<8|I[M++]<<16|I[M++]<<24;I=D.g[0],M=D.g[1],P=D.g[2];let z=D.g[3],k;k=I+(z^M&(P^z))+N[0]+3614090360&4294967295,I=M+(k<<7&4294967295|k>>>25),k=z+(P^I&(M^P))+N[1]+3905402710&4294967295,z=I+(k<<12&4294967295|k>>>20),k=P+(M^z&(I^M))+N[2]+606105819&4294967295,P=z+(k<<17&4294967295|k>>>15),k=M+(I^P&(z^I))+N[3]+3250441966&4294967295,M=P+(k<<22&4294967295|k>>>10),k=I+(z^M&(P^z))+N[4]+4118548399&4294967295,I=M+(k<<7&4294967295|k>>>25),k=z+(P^I&(M^P))+N[5]+1200080426&4294967295,z=I+(k<<12&4294967295|k>>>20),k=P+(M^z&(I^M))+N[6]+2821735955&4294967295,P=z+(k<<17&4294967295|k>>>15),k=M+(I^P&(z^I))+N[7]+4249261313&4294967295,M=P+(k<<22&4294967295|k>>>10),k=I+(z^M&(P^z))+N[8]+1770035416&4294967295,I=M+(k<<7&4294967295|k>>>25),k=z+(P^I&(M^P))+N[9]+2336552879&4294967295,z=I+(k<<12&4294967295|k>>>20),k=P+(M^z&(I^M))+N[10]+4294925233&4294967295,P=z+(k<<17&4294967295|k>>>15),k=M+(I^P&(z^I))+N[11]+2304563134&4294967295,M=P+(k<<22&4294967295|k>>>10),k=I+(z^M&(P^z))+N[12]+1804603682&4294967295,I=M+(k<<7&4294967295|k>>>25),k=z+(P^I&(M^P))+N[13]+4254626195&4294967295,z=I+(k<<12&4294967295|k>>>20),k=P+(M^z&(I^M))+N[14]+2792965006&4294967295,P=z+(k<<17&4294967295|k>>>15),k=M+(I^P&(z^I))+N[15]+1236535329&4294967295,M=P+(k<<22&4294967295|k>>>10),k=I+(P^z&(M^P))+N[1]+4129170786&4294967295,I=M+(k<<5&4294967295|k>>>27),k=z+(M^P&(I^M))+N[6]+3225465664&4294967295,z=I+(k<<9&4294967295|k>>>23),k=P+(I^M&(z^I))+N[11]+643717713&4294967295,P=z+(k<<14&4294967295|k>>>18),k=M+(z^I&(P^z))+N[0]+3921069994&4294967295,M=P+(k<<20&4294967295|k>>>12),k=I+(P^z&(M^P))+N[5]+3593408605&4294967295,I=M+(k<<5&4294967295|k>>>27),k=z+(M^P&(I^M))+N[10]+38016083&4294967295,z=I+(k<<9&4294967295|k>>>23),k=P+(I^M&(z^I))+N[15]+3634488961&4294967295,P=z+(k<<14&4294967295|k>>>18),k=M+(z^I&(P^z))+N[4]+3889429448&4294967295,M=P+(k<<20&4294967295|k>>>12),k=I+(P^z&(M^P))+N[9]+568446438&4294967295,I=M+(k<<5&4294967295|k>>>27),k=z+(M^P&(I^M))+N[14]+3275163606&4294967295,z=I+(k<<9&4294967295|k>>>23),k=P+(I^M&(z^I))+N[3]+4107603335&4294967295,P=z+(k<<14&4294967295|k>>>18),k=M+(z^I&(P^z))+N[8]+1163531501&4294967295,M=P+(k<<20&4294967295|k>>>12),k=I+(P^z&(M^P))+N[13]+2850285829&4294967295,I=M+(k<<5&4294967295|k>>>27),k=z+(M^P&(I^M))+N[2]+4243563512&4294967295,z=I+(k<<9&4294967295|k>>>23),k=P+(I^M&(z^I))+N[7]+1735328473&4294967295,P=z+(k<<14&4294967295|k>>>18),k=M+(z^I&(P^z))+N[12]+2368359562&4294967295,M=P+(k<<20&4294967295|k>>>12),k=I+(M^P^z)+N[5]+4294588738&4294967295,I=M+(k<<4&4294967295|k>>>28),k=z+(I^M^P)+N[8]+2272392833&4294967295,z=I+(k<<11&4294967295|k>>>21),k=P+(z^I^M)+N[11]+1839030562&4294967295,P=z+(k<<16&4294967295|k>>>16),k=M+(P^z^I)+N[14]+4259657740&4294967295,M=P+(k<<23&4294967295|k>>>9),k=I+(M^P^z)+N[1]+2763975236&4294967295,I=M+(k<<4&4294967295|k>>>28),k=z+(I^M^P)+N[4]+1272893353&4294967295,z=I+(k<<11&4294967295|k>>>21),k=P+(z^I^M)+N[7]+4139469664&4294967295,P=z+(k<<16&4294967295|k>>>16),k=M+(P^z^I)+N[10]+3200236656&4294967295,M=P+(k<<23&4294967295|k>>>9),k=I+(M^P^z)+N[13]+681279174&4294967295,I=M+(k<<4&4294967295|k>>>28),k=z+(I^M^P)+N[0]+3936430074&4294967295,z=I+(k<<11&4294967295|k>>>21),k=P+(z^I^M)+N[3]+3572445317&4294967295,P=z+(k<<16&4294967295|k>>>16),k=M+(P^z^I)+N[6]+76029189&4294967295,M=P+(k<<23&4294967295|k>>>9),k=I+(M^P^z)+N[9]+3654602809&4294967295,I=M+(k<<4&4294967295|k>>>28),k=z+(I^M^P)+N[12]+3873151461&4294967295,z=I+(k<<11&4294967295|k>>>21),k=P+(z^I^M)+N[15]+530742520&4294967295,P=z+(k<<16&4294967295|k>>>16),k=M+(P^z^I)+N[2]+3299628645&4294967295,M=P+(k<<23&4294967295|k>>>9),k=I+(P^(M|~z))+N[0]+4096336452&4294967295,I=M+(k<<6&4294967295|k>>>26),k=z+(M^(I|~P))+N[7]+1126891415&4294967295,z=I+(k<<10&4294967295|k>>>22),k=P+(I^(z|~M))+N[14]+2878612391&4294967295,P=z+(k<<15&4294967295|k>>>17),k=M+(z^(P|~I))+N[5]+4237533241&4294967295,M=P+(k<<21&4294967295|k>>>11),k=I+(P^(M|~z))+N[12]+1700485571&4294967295,I=M+(k<<6&4294967295|k>>>26),k=z+(M^(I|~P))+N[3]+2399980690&4294967295,z=I+(k<<10&4294967295|k>>>22),k=P+(I^(z|~M))+N[10]+4293915773&4294967295,P=z+(k<<15&4294967295|k>>>17),k=M+(z^(P|~I))+N[1]+2240044497&4294967295,M=P+(k<<21&4294967295|k>>>11),k=I+(P^(M|~z))+N[8]+1873313359&4294967295,I=M+(k<<6&4294967295|k>>>26),k=z+(M^(I|~P))+N[15]+4264355552&4294967295,z=I+(k<<10&4294967295|k>>>22),k=P+(I^(z|~M))+N[6]+2734768916&4294967295,P=z+(k<<15&4294967295|k>>>17),k=M+(z^(P|~I))+N[13]+1309151649&4294967295,M=P+(k<<21&4294967295|k>>>11),k=I+(P^(M|~z))+N[4]+4149444226&4294967295,I=M+(k<<6&4294967295|k>>>26),k=z+(M^(I|~P))+N[11]+3174756917&4294967295,z=I+(k<<10&4294967295|k>>>22),k=P+(I^(z|~M))+N[2]+718787259&4294967295,P=z+(k<<15&4294967295|k>>>17),k=M+(z^(P|~I))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(P+(k<<21&4294967295|k>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+z&4294967295}i.prototype.v=function(D,I){I===void 0&&(I=D.length);const M=I-this.blockSize,N=this.C;let P=this.h,z=0;for(;z<I;){if(P==0)for(;z<=M;)r(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<I;)if(N[P++]=D.charCodeAt(z++),P==this.blockSize){r(this,N),P=0;break}}else for(;z<I;)if(N[P++]=D[z++],P==this.blockSize){r(this,N),P=0;break}}this.h=P,this.o+=I},i.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;I=this.o*8;for(var M=D.length-8;M<D.length;++M)D[M]=I&255,I/=256;for(this.v(D),D=Array(16),I=0,M=0;M<4;++M)for(let N=0;N<32;N+=8)D[I++]=this.g[M]>>>N&255;return D};function o(D,I){var M=h;return Object.prototype.hasOwnProperty.call(M,D)?M[D]:M[D]=I(D)}function c(D,I){this.h=I;const M=[];let N=!0;for(let P=D.length-1;P>=0;P--){const z=D[P]|0;N&&z==I||(M[P]=z,N=!1)}this.g=M}var h={};function f(D){return-128<=D&&D<128?o(D,function(I){return new c([I|0],I<0?-1:0)}):new c([D|0],D<0?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return _;if(D<0)return C(m(-D));const I=[];let M=1;for(let N=0;D>=M;N++)I[N]=D/M|0,M*=4294967296;return new c(I,0)}function y(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return C(y(D.substring(1),I));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=m(Math.pow(I,8));let N=_;for(let z=0;z<D.length;z+=8){var P=Math.min(8,D.length-z);const k=parseInt(D.substring(z,z+P),I);P<8?(P=m(Math.pow(I,P)),N=N.j(P).add(m(k))):(N=N.j(M),N=N.add(m(k)))}return N}var _=f(0),E=f(1),S=f(16777216);n=c.prototype,n.m=function(){if(w(this))return-C(this).m();let D=0,I=1;for(let M=0;M<this.g.length;M++){const N=this.i(M);D+=(N>=0?N:4294967296+N)*I,I*=4294967296}return D},n.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(w(this))return"-"+C(this).toString(D);const I=m(Math.pow(D,6));var M=this;let N="";for(;;){const P=rt(M,I).g;M=V(M,P.j(I));let z=((M.g.length>0?M.g[0]:M.h)>>>0).toString(D);if(M=P,A(M))return z+N;for(;z.length<6;)z="0"+z;N=z+N}},n.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(let I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function w(D){return D.h==-1}n.l=function(D){return D=V(this,D),w(D)?-1:A(D)?0:1};function C(D){const I=D.g.length,M=[];for(let N=0;N<I;N++)M[N]=~D.g[N];return new c(M,~D.h).add(E)}n.abs=function(){return w(this)?C(this):this},n.add=function(D){const I=Math.max(this.g.length,D.g.length),M=[];let N=0;for(let P=0;P<=I;P++){let z=N+(this.i(P)&65535)+(D.i(P)&65535),k=(z>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);N=k>>>16,z&=65535,k&=65535,M[P]=k<<16|z}return new c(M,M[M.length-1]&-2147483648?-1:0)};function V(D,I){return D.add(C(I))}n.j=function(D){if(A(this)||A(D))return _;if(w(this))return w(D)?C(this).j(C(D)):C(C(this).j(D));if(w(D))return C(this.j(C(D)));if(this.l(S)<0&&D.l(S)<0)return m(this.m()*D.m());const I=this.g.length+D.g.length,M=[];for(var N=0;N<2*I;N++)M[N]=0;for(N=0;N<this.g.length;N++)for(let P=0;P<D.g.length;P++){const z=this.i(N)>>>16,k=this.i(N)&65535,Dt=D.i(P)>>>16,wt=D.i(P)&65535;M[2*N+2*P]+=k*wt,B(M,2*N+2*P),M[2*N+2*P+1]+=z*wt,B(M,2*N+2*P+1),M[2*N+2*P+1]+=k*Dt,B(M,2*N+2*P+1),M[2*N+2*P+2]+=z*Dt,B(M,2*N+2*P+2)}for(D=0;D<I;D++)M[D]=M[2*D+1]<<16|M[2*D];for(D=I;D<2*I;D++)M[D]=0;return new c(M,0)};function B(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function q(D,I){this.g=D,this.h=I}function rt(D,I){if(A(I))throw Error("division by zero");if(A(D))return new q(_,_);if(w(D))return I=rt(C(D),I),new q(C(I.g),C(I.h));if(w(I))return I=rt(D,C(I)),new q(C(I.g),I.h);if(D.g.length>30){if(w(D)||w(I))throw Error("slowDivide_ only works with positive integers.");for(var M=E,N=I;N.l(D)<=0;)M=tt(M),N=tt(N);var P=ot(M,1),z=ot(N,1);for(N=ot(N,2),M=ot(M,2);!A(N);){var k=z.add(N);k.l(D)<=0&&(P=P.add(M),z=k),N=ot(N,1),M=ot(M,1)}return I=V(D,P.j(I)),new q(P,I)}for(P=_;D.l(I)>=0;){for(M=Math.max(1,Math.floor(D.m()/I.m())),N=Math.ceil(Math.log(M)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),z=m(M),k=z.j(I);w(k)||k.l(D)>0;)M-=N,z=m(M),k=z.j(I);A(z)&&(z=E),P=P.add(z),D=V(D,k)}return new q(P,D)}n.B=function(D){return rt(this,D).h},n.and=function(D){const I=Math.max(this.g.length,D.g.length),M=[];for(let N=0;N<I;N++)M[N]=this.i(N)&D.i(N);return new c(M,this.h&D.h)},n.or=function(D){const I=Math.max(this.g.length,D.g.length),M=[];for(let N=0;N<I;N++)M[N]=this.i(N)|D.i(N);return new c(M,this.h|D.h)},n.xor=function(D){const I=Math.max(this.g.length,D.g.length),M=[];for(let N=0;N<I;N++)M[N]=this.i(N)^D.i(N);return new c(M,this.h^D.h)};function tt(D){const I=D.g.length+1,M=[];for(let N=0;N<I;N++)M[N]=D.i(N)<<1|D.i(N-1)>>>31;return new c(M,D.h)}function ot(D,I){const M=I>>5;I%=32;const N=D.g.length-M,P=[];for(let z=0;z<N;z++)P[z]=I>0?D.i(z+M)>>>I|D.i(z+M+1)<<32-I:D.i(z+M);return new c(P,D.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,zw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,Vr=c}).apply(typeof e1<"u"?e1:typeof self<"u"?self:typeof window<"u"?window:{});var Ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Uw,Gc,jw,Gf,Zp,Bw,Fw,Hw;(function(){var n,t=Object.defineProperty;function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ef=="object"&&Ef];for(var v=0;v<d.length;++v){var T=d[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=e(this);function r(d,v){if(v)t:{var T=i;d=d.split(".");for(var R=0;R<d.length-1;R++){var H=d[R];if(!(H in T))break t;T=T[H]}d=d[d.length-1],R=T[d],v=v(R),v!=R&&v!=null&&t(T,d,{configurable:!0,writable:!0,value:v})}}r("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(d){return d||function(v){var T=[],R;for(R in v)Object.prototype.hasOwnProperty.call(v,R)&&T.push([R,v[R]]);return T}});var o=o||{},c=this||self;function h(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function f(d,v,T){return d.call.apply(d.bind,arguments)}function m(d,v,T){return m=f,m.apply(null,arguments)}function y(d,v){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function _(d,v){function T(){}T.prototype=v.prototype,d.Z=v.prototype,d.prototype=new T,d.prototype.constructor=d,d.Ob=function(R,H,X){for(var lt=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)lt[Ct-2]=arguments[Ct];return v.prototype[H].apply(R,lt)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function S(d){const v=d.length;if(v>0){const T=Array(v);for(let R=0;R<v;R++)T[R]=d[R];return T}return[]}function A(d,v){for(let R=1;R<arguments.length;R++){const H=arguments[R];var T=typeof H;if(T=T!="object"?T:H?Array.isArray(H)?"array":T:"null",T=="array"||T=="object"&&typeof H.length=="number"){T=d.length||0;const X=H.length||0;d.length=T+X;for(let lt=0;lt<X;lt++)d[T+lt]=H[lt]}else d.push(H)}}class w{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function C(d){c.setTimeout(()=>{throw d},0)}function V(){var d=D;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class B{constructor(){this.h=this.g=null}add(v,T){const R=q.get();R.set(v,T),this.h?this.h.next=R:this.g=R,this.h=R}}var q=new w(()=>new rt,d=>d.reset());class rt{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,ot=!1,D=new B,I=()=>{const d=Promise.resolve(void 0);tt=()=>{d.then(M)}};function M(){for(var d;d=V();){try{d.h.call(d.g)}catch(T){C(T)}var v=q;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}ot=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};c.addEventListener("test",T,v),c.removeEventListener("test",T,v)}catch{}return d})();function k(d){return/^[\s\xa0]*$/.test(d)}function Dt(d,v){P.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}_(Dt,P),Dt.prototype.init=function(d,v){const T=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(T=="mouseover"?v=d.fromElement:T=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Dt.Z.h.call(this)},Dt.prototype.h=function(){Dt.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var wt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function at(d,v,T,R,H){this.listener=d,this.proxy=null,this.src=v,this.type=T,this.capture=!!R,this.ha=H,this.key=++Q,this.da=this.fa=!1}function dt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function bt(d,v,T){for(const R in d)v.call(T,d[R],R,d)}function Nt(d,v){for(const T in d)v.call(void 0,d[T],T,d)}function U(d){const v={};for(const T in d)v[T]=d[T];return v}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(d,v){let T,R;for(let H=1;H<arguments.length;H++){R=arguments[H];for(T in R)d[T]=R[T];for(let X=0;X<Z.length;X++)T=Z[X],Object.prototype.hasOwnProperty.call(R,T)&&(d[T]=R[T])}}function ut(d){this.src=d,this.g={},this.h=0}ut.prototype.add=function(d,v,T,R,H){const X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);const lt=Et(d,v,R,H);return lt>-1?(v=d[lt],T||(v.fa=!1)):(v=new at(v,this.src,X,!!R,H),v.fa=T,d.push(v)),v};function _t(d,v){const T=v.type;if(T in d.g){var R=d.g[T],H=Array.prototype.indexOf.call(R,v,void 0),X;(X=H>=0)&&Array.prototype.splice.call(R,H,1),X&&(dt(v),d.g[T].length==0&&(delete d.g[T],d.h--))}}function Et(d,v,T,R){for(let H=0;H<d.length;++H){const X=d[H];if(!X.da&&X.listener==v&&X.capture==!!T&&X.ha==R)return H}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),je={};function de(d,v,T,R,H){if(Array.isArray(v)){for(let X=0;X<v.length;X++)de(d,v[X],T,R,H);return null}return T=Dl(T),d&&d[wt]?d.J(v,T,h(R)?!!R.capture:!1,H):Zr(d,v,T,!1,R,H)}function Zr(d,v,T,R,H,X){if(!v)throw Error("Invalid event type");const lt=h(H)?!!H.capture:!!H;let Ct=ta(d);if(Ct||(d[Bt]=Ct=new ut(d)),T=Ct.add(v,T,R,lt,X),T.proxy)return T;if(R=to(),T.proxy=R,R.src=d,R.listener=T,d.addEventListener)z||(H=lt),H===void 0&&(H=!1),d.addEventListener(v.toString(),R,H);else if(d.attachEvent)d.attachEvent(Ri(v.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function to(){function d(T){return v.call(d.src,d.listener,T)}const v=Il;return d}function eo(d,v,T,R,H){if(Array.isArray(v))for(var X=0;X<v.length;X++)eo(d,v[X],T,R,H);else R=h(R)?!!R.capture:!!R,T=Dl(T),d&&d[wt]?(d=d.i,X=String(v).toString(),X in d.g&&(v=d.g[X],T=Et(v,T,R,H),T>-1&&(dt(v[T]),Array.prototype.splice.call(v,T,1),v.length==0&&(delete d.g[X],d.h--)))):d&&(d=ta(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Et(v,T,R,H)),(T=d>-1?v[d]:null)&&no(T))}function no(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[wt])_t(v.i,d);else{var T=d.type,R=d.proxy;v.removeEventListener?v.removeEventListener(T,R,d.capture):v.detachEvent?v.detachEvent(Ri(T),R):v.addListener&&v.removeListener&&v.removeListener(R),(T=ta(v))?(_t(T,d),T.h==0&&(T.src=null,v[Bt]=null)):dt(d)}}}function Ri(d){return d in je?je[d]:je[d]="on"+d}function Il(d,v){if(d.da)d=!0;else{v=new Dt(v,this);const T=d.listener,R=d.ha||d.src;d.fa&&no(d),d=T.call(R,v)}return d}function ta(d){return d=d[Bt],d instanceof ut?d:null}var Ml="__closure_events_fn_"+(Math.random()*1e9>>>0);function Dl(d){return typeof d=="function"?d:(d[Ml]||(d[Ml]=function(v){return d.handleEvent(v)}),d[Ml])}function Ae(){N.call(this),this.i=new ut(this),this.M=this,this.G=null}_(Ae,N),Ae.prototype[wt]=!0,Ae.prototype.removeEventListener=function(d,v,T,R){eo(this,d,v,T,R)};function Be(d,v){var T,R=d.G;if(R)for(T=[];R;R=R.G)T.push(R);if(d=d.M,R=v.type||v,typeof v=="string")v=new P(v,d);else if(v instanceof P)v.target=v.target||d;else{var H=v;v=new P(R,d),ct(v,H)}H=!0;let X,lt;if(T)for(lt=T.length-1;lt>=0;lt--)X=v.g=T[lt],H=Fs(X,R,!0,v)&&H;if(X=v.g=d,H=Fs(X,R,!0,v)&&H,H=Fs(X,R,!1,v)&&H,T)for(lt=0;lt<T.length;lt++)X=v.g=T[lt],H=Fs(X,R,!1,v)&&H}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const T=d.g[v];for(let R=0;R<T.length;R++)dt(T[R]);delete d.g[v],d.h--}}this.G=null},Ae.prototype.J=function(d,v,T,R){return this.i.add(String(d),v,!1,T,R)},Ae.prototype.K=function(d,v,T,R){return this.i.add(String(d),v,!0,T,R)};function Fs(d,v,T,R){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let H=!0;for(let X=0;X<v.length;++X){const lt=v[X];if(lt&&!lt.da&&lt.capture==T){const Ct=lt.listener,Ee=lt.ha||lt.src;lt.fa&&_t(d.i,lt),H=Ct.call(Ee,R)!==!1&&H}}return H&&!R.defaultPrevented}function lm(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(d,v||0)}function Hu(d){d.g=lm(()=>{d.g=null,d.i&&(d.i=!1,Hu(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class dn extends N{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Hu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ea(d){N.call(this),this.h=d,this.g={}}_(ea,N);var Ol=[];function kl(d){bt(d.g,function(v,T){this.g.hasOwnProperty(T)&&no(v)},d),d.g={}}ea.prototype.N=function(){ea.Z.N.call(this),kl(this)},ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hs=c.JSON.stringify,cm=c.JSON.parse,qu=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function Yu(){}function Gu(){}var ci={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $e(){P.call(this,"d")}_($e,P);function Fn(){P.call(this,"c")}_(Fn,P);var be={},Wu=null;function io(){return Wu=Wu||new Ae}be.Ia="serverreachability";function Ku(d){P.call(this,be.Ia,d)}_(Ku,P);function Ci(d){const v=io();Be(v,new Ku(v))}be.STAT_EVENT="statevent";function na(d,v){P.call(this,be.STAT_EVENT,d),this.stat=v}_(na,P);function Re(d){const v=io();Be(v,new na(v,d))}be.Ja="timingevent";function Ii(d,v){P.call(this,be.Ja,d),this.size=v}_(Ii,P);function Mi(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},v)}function ui(){this.g=!0}ui.prototype.ua=function(){this.g=!1};function um(d,v,T,R,H,X){d.info(function(){if(d.g)if(X){var lt="",Ct=X.split("&");for(let Wt=0;Wt<Ct.length;Wt++){var Ee=Ct[Wt].split("=");if(Ee.length>1){const me=Ee[0];Ee=Ee[1];const Gn=me.split("_");lt=Gn.length>=2&&Gn[1]=="type"?lt+(me+"="+Ee+"&"):lt+(me+"=redacted&")}}}else lt=null;else lt=X;return"XMLHTTP REQ ("+R+") [attempt "+H+"]: "+v+`
`+T+`
`+lt})}function Qu(d,v,T,R,H,X,lt){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+H+"]: "+v+`
`+T+`
`+X+" "+lt})}function Di(d,v,T,R){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+hm(d,T)+(R?" "+R:"")})}function ia(d,v){d.info(function(){return"TIMEOUT: "+v})}ui.prototype.info=function(){};function hm(d,v){if(!d.g)return v;if(!v)return null;try{const X=JSON.parse(v);if(X){for(d=0;d<X.length;d++)if(Array.isArray(X[d])){var T=X[d];if(!(T.length<2)){var R=T[1];if(Array.isArray(R)&&!(R.length<1)){var H=R[0];if(H!="noop"&&H!="stop"&&H!="close")for(let lt=1;lt<R.length;lt++)R[lt]=""}}}}return Hs(X)}catch{return v}}var sa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Nl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Pl;function ra(){}_(ra,Yu),ra.prototype.g=function(){return new XMLHttpRequest},Pl=new ra;function ls(d){return encodeURIComponent(String(d))}function Xu(d){var v=1;d=d.split(":");const T=[];for(;v>0&&d.length;)T.push(d.shift()),v--;return d.length&&T.push(d.join(":")),T}function hi(d,v,T,R){this.j=d,this.i=v,this.l=T,this.S=R||1,this.V=new ea(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fi}function fi(){this.i=null,this.g="",this.h=!1}var Ce={},We={};function Oi(d,v,T){d.M=1,d.A=aa(Me(v)),d.u=T,d.R=!0,so(d,null)}function so(d,v){d.F=Date.now(),ki(d),d.B=Me(d.A);var T=d.B,R=d.S;Array.isArray(R)||(R=[String(R)]),lo(T.i,"t",R),d.C=0,T=d.j.L,d.h=new fi,d.g=hh(d.j,T?v:null,!d.u),d.P>0&&(d.O=new dn(m(d.Y,d,d.g),d.P)),v=d.V,T=d.g,R=d.ba;var H="readystatechange";Array.isArray(H)||(H&&(Ol[0]=H.toString()),H=Ol);for(let X=0;X<H.length;X++){const lt=de(T,H[X],R||v.handleEvent,!1,v.h||v);if(!lt)break;v.g[lt.key]=lt}v=d.J?U(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),Ci(),um(d.i,d.v,d.B,d.l,d.S,d.u)}hi.prototype.ba=function(d){d=d.target;const v=this.O;v&&gi(d)==3?v.j():this.Y(d)},hi.prototype.Y=function(d){try{if(d==this.g)t:{const Ct=gi(this.g),Ee=this.g.ya(),Wt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Je(this.g)))){this.K||Ct!=4||Ee==7||(Ee==8||Wt<=0?Ci(3):Ci(2)),Ni(this);var v=this.g.ca();this.X=v;var T=fm(this);if(this.o=v==200,Qu(this.i,this.v,this.B,this.l,this.S,Ct,v),this.o){if(this.U&&!this.L){e:{if(this.g){var R,H=this.g;if((R=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(R)){var X=R;break e}}X=null}if(d=X)Di(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Pi(this,d);else{this.o=!1,this.m=3,Re(12),Mn(this),Hn(this);break t}}if(this.R){d=!0;let me;for(;!this.K&&this.C<T.length;)if(me=Ju(this,T),me==We){Ct==4&&(this.m=4,Re(14),d=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(me==Ce){this.m=4,Re(15),Di(this.i,this.l,T,"[Invalid Chunk]"),d=!1;break}else Di(this.i,this.l,me,null),Pi(this,me);if($u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||T.length!=0||this.h.h||(this.m=1,Re(16),d=!1),this.o=this.o&&d,!d)Di(this.i,this.l,T,"[Invalid Chunked Response]"),Mn(this),Hn(this);else if(T.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Xl(lt),lt.P=!0,Re(11))}}else Di(this.i,this.l,T,null),Pi(this,T);Ct==4&&Mn(this),this.o&&!this.K&&(Ct==4?oh(this.j,this):(this.o=!1,ki(this)))}else us(this.g),v==400&&T.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),Mn(this),Hn(this)}}}catch{}};function fm(d){if(!$u(d))return d.g.la();const v=Je(d.g);if(v==="")return"";let T="";const R=v.length,H=gi(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Mn(d),Hn(d),"";d.h.i=new c.TextDecoder}for(let X=0;X<R;X++)d.h.h=!0,T+=d.h.i.decode(v[X],{stream:!(H&&X==R-1)});return v.length=0,d.h.g+=T,d.C=0,d.h.g}function $u(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Ju(d,v){var T=d.C,R=v.indexOf(`
`,T);return R==-1?We:(T=Number(v.substring(T,R)),isNaN(T)?Ce:(R+=1,R+T>v.length?We:(v=v.slice(R,R+T),d.C=R+T,v)))}hi.prototype.cancel=function(){this.K=!0,Mn(this)};function ki(d){d.T=Date.now()+d.H,ro(d,d.H)}function ro(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Mi(m(d.aa,d),v)}function Ni(d){d.D&&(c.clearTimeout(d.D),d.D=null)}hi.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(ia(this.i,this.B),this.M!=2&&(Ci(),Re(17)),Mn(this),this.m=2,Hn(this)):ro(this,this.T-d)};function Hn(d){d.j.I==0||d.K||oh(d.j,d)}function Mn(d){Ni(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,kl(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function Pi(d,v){try{var T=d.j;if(T.I!=0&&(T.g==d||Li(T.h,d))){if(!d.L&&Li(T.h,d)&&T.I==3){try{var R=T.Ba.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var H=R;if(H[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<d.F)mo(T),$s(T);else break t;da(T),Re(18)}}else T.xa=H[1],0<T.xa-T.K&&H[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Mi(m(T.Va,T),6e3));Vi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Hi(T,11)}else if((d.L||T.g==d)&&mo(T),!k(v))for(H=T.Ba.g.parse(v),v=0;v<H.length;v++){let Wt=H[v];const me=Wt[0];if(!(me<=T.K))if(T.K=me,Wt=Wt[1],T.I==2)if(Wt[0]=="c"){T.M=Wt[1],T.ba=Wt[2];const Gn=Wt[3];Gn!=null&&(T.ka=Gn,T.j.info("VER="+T.ka));const qi=Wt[4];qi!=null&&(T.za=qi,T.j.info("SVER="+T.za));const pi=Wt[5];pi!=null&&typeof pi=="number"&&pi>0&&(R=1.5*pi,T.O=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const yi=d.g;if(yi){const ma=yi.g?yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ma){var X=R.h;X.g||ma.indexOf("spdy")==-1&&ma.indexOf("quic")==-1&&ma.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(zl(X,X.h),X.h=null))}if(R.G){const go=yi.g?yi.g.getResponseHeader("X-HTTP-Session-Id"):null;go&&(R.wa=go,Xt(R.J,R.G,go))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-d.F,T.j.info("Handshake RTT: "+T.T+"ms")),R=T;var lt=d;if(R.na=uh(R,R.L?R.ba:null,R.W),lt.L){Ul(R.h,lt);var Ct=lt,Ee=R.O;Ee&&(Ct.H=Ee),Ct.D&&(Ni(Ct),ki(Ct)),R.g=lt}else rh(R);T.i.length>0&&Fi(T)}else Wt[0]!="stop"&&Wt[0]!="close"||Hi(T,7);else T.I==3&&(Wt[0]=="stop"||Wt[0]=="close"?Wt[0]=="stop"?Hi(T,7):Kl(T):Wt[0]!="noop"&&T.l&&T.l.qa(Wt),T.A=0)}}Ci(4)}catch{}}var Ie=class{constructor(d,v){this.g=d,this.map=v}};function Vl(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ll(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Vi(d){return d.h?1:d.g?d.g.size:0}function Li(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function zl(d,v){d.g?d.g.add(v):d.h=v}function Ul(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Vl.prototype.cancel=function(){if(this.i=jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function jl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const T of d.g.values())v=v.concat(T.G);return v}return S(d.i)}var Zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ao(d,v){if(d){d=d.split("&");for(let T=0;T<d.length;T++){const R=d[T].indexOf("=");let H,X=null;R>=0?(H=d[T].substring(0,R),X=d[T].substring(R+1)):H=d[T],v(H,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Dn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof Dn?(this.l=d.l,Ke(this,d.j),this.o=d.o,this.g=d.g,qs(this,d.u),this.h=d.h,Bl(this,ih(d.i)),this.m=d.m):d&&(v=String(d).match(Zu))?(this.l=!1,Ke(this,v[1]||"",!0),this.o=zi(v[2]||""),this.g=zi(v[3]||"",!0),qs(this,v[4]),this.h=zi(v[5]||"",!0),Bl(this,v[6]||"",!0),this.m=zi(v[7]||"")):(this.l=!1,this.i=new Gs(null,this.l))}Dn.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(oa(v,oo,!0),":");var T=this.g;return(T||v=="file")&&(d.push("//"),(v=this.o)&&d.push(oa(v,oo,!0),"@"),d.push(ls(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&d.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(oa(T,T.charAt(0)=="/"?Fl:th,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",oa(T,eh)),d.join("")},Dn.prototype.resolve=function(d){const v=Me(this);let T=!!d.j;T?Ke(v,d.j):T=!!d.o,T?v.o=d.o:T=!!d.g,T?v.g=d.g:T=d.u!=null;var R=d.h;if(T)qs(v,d.u);else if(T=!!d.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var H=v.h.lastIndexOf("/");H!=-1&&(R=v.h.slice(0,H+1)+R)}if(H=R,H==".."||H==".")R="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){R=H.lastIndexOf("/",0)==0,H=H.split("/");const X=[];for(let lt=0;lt<H.length;){const Ct=H[lt++];Ct=="."?R&&lt==H.length&&X.push(""):Ct==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),R&&lt==H.length&&X.push("")):(X.push(Ct),R=!0)}R=X.join("/")}else R=H}return T?v.h=R:T=d.i.toString()!=="",T?Bl(v,ih(d.i)):T=!!d.m,T&&(v.m=d.m),v};function Me(d){return new Dn(d)}function Ke(d,v,T){d.j=T?zi(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function qs(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function Bl(d,v,T){v instanceof Gs?(d.i=v,co(d.i,d.l)):(T||(v=oa(v,Ys)),d.i=new Gs(v,d.l))}function Xt(d,v,T){d.i.set(v,T)}function aa(d){return Xt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function zi(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function oa(d,v,T){return typeof d=="string"?(d=encodeURI(d).replace(v,pn),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function pn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var oo=/[#\/\?@]/g,th=/[#\?:]/g,Fl=/[#\?]/g,Ys=/[#\?@]/g,eh=/#/g;function Gs(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function yn(d){d.g||(d.g=new Map,d.h=0,d.i&&ao(d.i,function(v,T){d.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}n=Gs.prototype,n.add=function(d,v){yn(this),this.i=null,d=Ws(this,d);let T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(v),this.h+=1,this};function nh(d,v){yn(d),v=Ws(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Hl(d,v){return yn(d),v=Ws(d,v),d.g.has(v)}n.forEach=function(d,v){yn(this),this.g.forEach(function(T,R){T.forEach(function(H){d.call(v,H,R,this)},this)},this)};function ql(d,v){yn(d);let T=[];if(typeof v=="string")Hl(d,v)&&(T=T.concat(d.g.get(Ws(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)T=T.concat(d[v]);return T}n.set=function(d,v){return yn(this),this.i=null,d=Ws(this,d),Hl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=ql(this,d),d.length>0?String(d[0]):v):v};function lo(d,v,T){nh(d,v),T.length>0&&(d.i=null,d.g.set(Ws(d,v),S(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let R=0;R<v.length;R++){var T=v[R];const H=ls(T);T=ql(this,T);for(let X=0;X<T.length;X++){let lt=H;T[X]!==""&&(lt+="="+ls(T[X])),d.push(lt)}}return this.i=d.join("&")};function ih(d){const v=new Gs;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function Ws(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function co(d,v){v&&!d.j&&(yn(d),d.i=null,d.g.forEach(function(T,R){const H=R.toLowerCase();R!=H&&(nh(this,R),lo(this,H,T))},d)),d.j=v}function di(d,v){const T=new ui;if(c.Image){const R=new Image;R.onload=y(qn,T,"TestLoadImage: loaded",!0,v,R),R.onerror=y(qn,T,"TestLoadImage: error",!1,v,R),R.onabort=y(qn,T,"TestLoadImage: abort",!1,v,R),R.ontimeout=y(qn,T,"TestLoadImage: timeout",!1,v,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else v(!1)}function Yl(d,v){const T=new ui,R=new AbortController,H=setTimeout(()=>{R.abort(),qn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:R.signal}).then(X=>{clearTimeout(H),X.ok?qn(T,"TestPingServer: ok",!0,v):qn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),qn(T,"TestPingServer: error",!1,v)})}function qn(d,v,T,R,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),R(T)}catch{}}function Ks(){this.g=new qu}function Ui(d){this.i=d.Sb||null,this.h=d.ab||!1}_(Ui,Yu),Ui.prototype.g=function(){return new la(this.i,this.h)};function la(d,v){Ae.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(la,Ae),n=la.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,mi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Qs(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;uo(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function uo(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Qs(this):mi(this),this.readyState==3&&uo(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Qs(this))},n.Na=function(d){this.g&&(this.response=d,Qs(this))},n.ga=function(){this.g&&Qs(this)};function Qs(d){d.readyState=4,d.l=null,d.j=null,d.B=null,mi(d)}n.setRequestHeader=function(d,v){this.A.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=v.next();return d.join(`\r
`)};function mi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(la.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Yn(d){let v="";return bt(d,function(T,R){v+=R,v+=":",v+=T,v+=`\r
`}),v}function ca(d,v,T){t:{for(R in T){var R=!1;break t}R=!0}R||(T=Yn(T),typeof d=="string"?T!=null&&ls(T):Xt(d,v,T))}function ee(d){Ae.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(ee,Ae);var ji=/^https?$/i,Gl=["POST","PUT"];n=ee.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,v,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Pl.g(),this.g.onreadystatechange=E(m(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(X){ua(this,X);return}if(d=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var H in R)T.set(H,R[H]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const X of R.keys())T.set(X,R.get(X));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),H=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(Gl,v,void 0)>=0)||R||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,lt]of T)this.g.setRequestHeader(X,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(X){ua(this,X)}};function ua(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,Wl(d),cs(d)}function Wl(d){d.A||(d.A=!0,Be(d,"complete"),Be(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Be(this,"complete"),Be(this,"abort"),cs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cs(this,!0)),ee.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ha(this):this.Xa())},n.Xa=function(){ha(this)};function ha(d){if(d.h&&typeof o<"u"){if(d.v&&gi(d)==4)setTimeout(d.Ca.bind(d),0);else if(Be(d,"readystatechange"),gi(d)==4){d.h=!1;try{const X=d.ca();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var T;if(!(T=v)){var R;if(R=X===0){let lt=String(d.D).match(Zu)[1]||null;!lt&&c.self&&c.self.location&&(lt=c.self.location.protocol.slice(0,-1)),R=!ji.test(lt?lt.toLowerCase():"")}T=R}if(T)Be(d,"complete"),Be(d,"success");else{d.o=6;try{var H=gi(d)>2?d.g.statusText:""}catch{H=""}d.l=H+" ["+d.ca()+"]",Wl(d)}}finally{cs(d)}}}}function cs(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const T=d.g;d.g=null,v||Be(d,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function gi(d){return d.g?d.g.readyState:0}n.ca=function(){try{return gi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),cm(v)}};function Je(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function us(d){const v={};d=(d.g&&gi(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(k(d[R]))continue;var T=Xu(d[R]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=v[H]||[];v[H]=X,X.push(T)}Nt(v,function(R){return R.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bi(d,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||v}function Xs(d){this.za=0,this.i=[],this.j=new ui,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Bi("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Bi("baseRetryDelayMs",5e3,d),this.Za=Bi("retryDelaySeedMs",1e4,d),this.Ta=Bi("forwardChannelMaxRetries",2,d),this.va=Bi("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Vl(d&&d.concurrentRequestLimit),this.Ba=new Ks,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Xs.prototype,n.ka=8,n.I=1,n.connect=function(d,v,T,R){Re(0),this.W=d,this.H=v||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.J=uh(this,null,this.W),Fi(this)};function Kl(d){if(ho(d),d.I==3){var v=d.V++,T=Me(d.J);if(Xt(T,"SID",d.M),Xt(T,"RID",v),Xt(T,"TYPE","terminate"),fa(d,T),v=new hi(d,d.j,v),v.M=2,v.A=aa(Me(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=v.A,T=!0),T||(v.g=hh(v.j,null),v.g.ea(v.A)),v.F=Date.now(),ki(v)}ch(d)}function $s(d){d.g&&(Xl(d),d.g.cancel(),d.g=null)}function ho(d){$s(d),d.v&&(c.clearTimeout(d.v),d.v=null),mo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function Fi(d){if(!Ll(d.h)&&!d.m){d.m=!0;var v=d.Ea;tt||I(),ot||(tt(),ot=!0),D.add(v,d),d.D=0}}function fo(d,v){return Vi(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Mi(m(d.Ea,d,v),lh(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const H=new hi(this,this.j,d);let X=this.o;if(this.U&&(X?(X=U(X),ct(X,this.U)):X=this.U),this.u!==null||this.R||(H.J=X,X=null),this.S)t:{for(var v=0,T=0;T<this.i.length;T++){e:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(v+=R,v>4096){v=T;break t}if(v===4096||T===this.i.length-1){v=T+1;break t}}v=1e3}else v=1e3;v=sh(this,H,v),T=Me(this.J),Xt(T,"RID",d),Xt(T,"CVER",22),this.G&&Xt(T,"X-HTTP-Session-Id",this.G),fa(this,T),X&&(this.R?v="headers="+ls(Yn(X))+"&"+v:this.u&&ca(T,this.u,X)),zl(this.h,H),this.Ra&&Xt(T,"TYPE","init"),this.S?(Xt(T,"$req",v),Xt(T,"SID","null"),H.U=!0,Oi(H,T,null)):Oi(H,T,v),this.I=2}}else this.I==3&&(d?Ql(this,d):this.i.length==0||Ll(this.h)||Ql(this))};function Ql(d,v){var T;v?T=v.l:T=d.V++;const R=Me(d.J);Xt(R,"SID",d.M),Xt(R,"RID",T),Xt(R,"AID",d.K),fa(d,R),d.u&&d.o&&ca(R,d.u,d.o),T=new hi(d,d.j,T,d.D+1),d.u===null&&(T.J=d.o),v&&(d.i=v.G.concat(d.i)),v=sh(d,T,1e3),T.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),zl(d.h,T),Oi(T,R,v)}function fa(d,v){d.H&&bt(d.H,function(T,R){Xt(v,R,T)}),d.l&&bt({},function(T,R){Xt(v,R,T)})}function sh(d,v,T){T=Math.min(d.i.length,T);const R=d.l?m(d.l.Ka,d.l,d):null;t:{var H=d.i;let Ct=-1;for(;;){const Ee=["count="+T];Ct==-1?T>0?(Ct=H[0].g,Ee.push("ofs="+Ct)):Ct=0:Ee.push("ofs="+Ct);let Wt=!0;for(let me=0;me<T;me++){var X=H[me].g;const Gn=H[me].map;if(X-=Ct,X<0)Ct=Math.max(0,H[me].g-100),Wt=!1;else try{X="req"+X+"_"||"";try{var lt=Gn instanceof Map?Gn:Object.entries(Gn);for(const[qi,pi]of lt){let yi=pi;h(pi)&&(yi=Hs(pi)),Ee.push(X+qi+"="+encodeURIComponent(yi))}}catch(qi){throw Ee.push(X+"type="+encodeURIComponent("_badmap")),qi}}catch{R&&R(Gn)}}if(Wt){lt=Ee.join("&");break t}}lt=void 0}return d=d.i.splice(0,T),v.G=d,lt}function rh(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;tt||I(),ot||(tt(),ot=!0),D.add(v,d),d.A=0}}function da(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Mi(m(d.Da,d),lh(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,ah(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Mi(m(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),$s(this),ah(this))};function Xl(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function ah(d){d.g=new hi(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=Me(d.na);Xt(v,"RID","rpc"),Xt(v,"SID",d.M),Xt(v,"AID",d.K),Xt(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&Xt(v,"TO",d.ia),Xt(v,"TYPE","xmlhttp"),fa(d,v),d.u&&d.o&&ca(v,d.u,d.o),d.O&&(d.g.H=d.O);var T=d.g;d=d.ba,T.M=1,T.A=aa(Me(v)),T.u=null,T.R=!0,so(T,d)}n.Va=function(){this.C!=null&&(this.C=null,$s(this),da(this),Re(19))};function mo(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function oh(d,v){var T=null;if(d.g==v){mo(d),Xl(d),d.g=null;var R=2}else if(Li(d.h,v))T=v.G,Ul(d.h,v),R=1;else return;if(d.I!=0){if(v.o)if(R==1){T=v.u?v.u.length:0,v=Date.now()-v.F;var H=d.D;R=io(),Be(R,new Ii(R,T)),Fi(d)}else rh(d);else if(H=v.m,H==3||H==0&&v.X>0||!(R==1&&fo(d,v)||R==2&&da(d)))switch(T&&T.length>0&&(v=d.h,v.i=v.i.concat(T)),H){case 1:Hi(d,5);break;case 4:Hi(d,10);break;case 3:Hi(d,6);break;default:Hi(d,2)}}}function lh(d,v){let T=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(T*=2),T*v}function Hi(d,v){if(d.j.info("Error code "+v),v==2){var T=m(d.bb,d),R=d.Ua;const H=!R;R=new Dn(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ke(R,"https"),aa(R),H?di(R.toString(),T):Yl(R.toString(),T)}else Re(2);d.I=0,d.l&&d.l.pa(v),ch(d),ho(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function ch(d){if(d.I=0,d.ja=[],d.l){const v=jl(d.h);(v.length!=0||d.i.length!=0)&&(A(d.ja,v),A(d.ja,d.i),d.h.i.length=0,S(d.i),d.i.length=0),d.l.oa()}}function uh(d,v,T){var R=T instanceof Dn?Me(T):new Dn(T);if(R.g!="")v&&(R.g=v+"."+R.g),qs(R,R.u);else{var H=c.location;R=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;const X=new Dn(null);R&&Ke(X,R),v&&(X.g=v),H&&qs(X,H),T&&(X.h=T),R=X}return T=d.G,v=d.wa,T&&v&&Xt(R,T,v),Xt(R,"VER",d.ka),fa(d,R),R}function hh(d,v,T){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new ee(new Ui({ab:T})):new ee(d.ma),v.Fa(d.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function fh(){}n=fh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Js(){}Js.prototype.g=function(d,v){return new mn(d,v)};function mn(d,v){Ae.call(this),this.g=new Xs(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!k(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!k(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new hs(this)}_(mn,Ae),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Kl(this.g)},mn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.v&&(T={},T.__data__=Hs(d),d=T);v.i.push(new Ie(v.Ya++,d)),v.I==3&&Fi(v)},mn.prototype.N=function(){this.g.l=null,delete this.j,Kl(this.g),delete this.g,mn.Z.N.call(this)};function dh(d){$e.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){t:{for(const T in v){d=T;break t}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}_(dh,$e);function mh(){Fn.call(this),this.status=1}_(mh,Fn);function hs(d){this.g=d}_(hs,fh),hs.prototype.ra=function(){Be(this.g,"a")},hs.prototype.qa=function(d){Be(this.g,new dh(d))},hs.prototype.pa=function(d){Be(this.g,new mh)},hs.prototype.oa=function(){Be(this.g,"b")},Js.prototype.createWebChannel=Js.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Hw=function(){return new Js},Fw=function(){return io()},Bw=be,Zp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},sa.NO_ERROR=0,sa.TIMEOUT=8,sa.HTTP_ERROR=6,Gf=sa,Nl.COMPLETE="complete",jw=Nl,Gu.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,Gc=Gu,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,Uw=ee}).apply(typeof Ef<"u"?Ef:typeof self<"u"?self:typeof window<"u"?window:{});const n1="@firebase/firestore",i1="4.9.3";class wn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");let Tl="12.7.0";const Ga=new Dy("@firebase/firestore");function Qo(){return Ga.logLevel}function ft(n,...t){if(Ga.logLevel<=Lt.DEBUG){const e=t.map(Hy);Ga.debug(`Firestore (${Tl}): ${n}`,...e)}}function Us(n,...t){if(Ga.logLevel<=Lt.ERROR){const e=t.map(Hy);Ga.error(`Firestore (${Tl}): ${n}`,...e)}}function du(n,...t){if(Ga.logLevel<=Lt.WARN){const e=t.map(Hy);Ga.warn(`Firestore (${Tl}): ${n}`,...e)}}function Hy(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function St(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,qw(n,i,e)}function qw(n,t,e){let i=`FIRESTORE (${Tl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Us(i),new Error(i)}function Qt(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||qw(t,r,i)}function Rt(n,t){return n}const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends Bs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class za{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class V4{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class L4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(wn.UNAUTHENTICATED)))}shutdown(){}}class z4{constructor(t){this.t=t,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Qt(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new za;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new za,t.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},h=f=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new za)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qt(typeof i.accessToken=="string",31837,{l:i}),new V4(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new wn(t)}}class U4{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class j4{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new U4(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(wn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class s1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B4{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Qt(this.o===void 0,3512);const i=o=>{o.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ft("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const r=o=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new s1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Qt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new s1(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function F4(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class qy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=F4(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function zt(n,t){return n<t?-1:n>t?1:0}function ty(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return Tp(r)===Tp(o)?zt(r,o):Tp(r)?1:-1}return zt(n.length,t.length)}const H4=55296,q4=57343;function Tp(n){const t=n.charCodeAt(0);return t>=H4&&t<=q4}function cl(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}const r1="__name__";class Ji{constructor(t,e,i){e===void 0?e=0:e>t.length&&St(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&St(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Ji.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ji?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Ji.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return zt(t.length,e.length)}static compareSegments(t,e){const i=Ji.isNumericId(t),r=Ji.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Ji.extractNumericId(t).compare(Ji.extractNumericId(e)):ty(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Vr.fromString(t.substring(4,t.length-2))}}class le extends Ji{construct(t,e,i){return new le(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ht(it.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new le(e)}static emptyPath(){return new le([])}}const Y4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Ji{construct(t,e,i){return new rn(t,e,i)}static isValidIdentifier(t){return Y4.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r1}static keyField(){return new rn([r1])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new ht(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new ht(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ht(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new ht(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new rn(e)}static emptyPath(){return new rn([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(le.fromString(t))}static fromName(t){return new yt(le.fromString(t).popFirst(5))}static empty(){return new yt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return le.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new le(t.slice()))}}function Yw(n,t,e){if(!e)throw new ht(it.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function G4(n,t,e,i){if(t===!0&&i===!0)throw new ht(it.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function a1(n){if(!yt.isDocumentKey(n))throw new ht(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function o1(n){if(yt.isDocumentKey(n))throw new ht(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Gw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function jd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":St(12329,{type:typeof n})}function Ua(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ht(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=jd(n);throw new ht(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Le(n,t){const e={typeString:n};return t&&(e.value=t),e}function Pu(n,t){if(!Gw(n))throw new ht(it.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(r&&typeof c!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new ht(it.INVALID_ARGUMENT,e);return!0}const l1=-62135596800,c1=1e6;class fe{static now(){return fe.fromMillis(Date.now())}static fromDate(t){return fe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*c1);return new fe(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ht(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ht(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<l1)throw new ht(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c1}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Pu(t,fe._jsonSchema))return new fe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-l1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}fe._jsonSchemaVersion="firestore/timestamp/1.0",fe._jsonSchema={type:Le("string",fe._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};class xt{static fromTimestamp(t){return new xt(t)}static min(){return new xt(new fe(0,0))}static max(){return new xt(new fe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const mu=-1;function W4(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=xt.fromTimestamp(i===1e9?new fe(e+1,0):new fe(e,i));return new jr(r,yt.empty(),t)}function K4(n){return new jr(n.readTime,n.key,mu)}class jr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new jr(xt.min(),yt.empty(),mu)}static max(){return new jr(xt.max(),yt.empty(),mu)}}function Q4(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=yt.comparator(n.documentKey,t.documentKey),e!==0?e:zt(n.largestBatchId,t.largestBatchId))}const X4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Sl(n){if(n.code!==it.FAILED_PRECONDITION||n.message!==X4)throw n;ft("LocalStore","Unexpectedly lost primary lease")}class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new st(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof st?e:st.resolve(e)}catch(e){return st.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):st.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):st.reject(e)}static resolve(t){return new st(((e,i)=>{e(t)}))}static reject(t){return new st(((e,i)=>{i(t)}))}static waitFor(t){return new st(((e,i)=>{let r=0,o=0,c=!1;t.forEach((h=>{++r,h.next((()=>{++o,c&&o===r&&e()}),(f=>i(f)))})),c=!0,o===r&&e()}))}static or(t){let e=st.resolve(!1);for(const i of t)e=e.next((r=>r?st.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,o)=>{i.push(e.call(this,r,o))})),this.waitFor(i)}static mapArray(t,e){return new st(((i,r)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const m=f;e(t[m]).next((y=>{c[m]=y,++h,h===o&&i(c)}),(y=>r(y)))}}))}static doWhile(t,e){return new st(((i,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):i()};o()}))}}function J4(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function wl(n){return n.name==="IndexedDbTransactionError"}class Bd{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Bd.ce=-1;const Yy=-1;function Fd(n){return n==null}function ld(n){return n===0&&1/n==-1/0}function Z4(n){return typeof n=="number"&&Number.isInteger(n)&&!ld(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Ww="";function tk(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=u1(t)),t=ek(n.get(e),t);return u1(t)}function ek(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case Ww:e+="";break;default:e+=o}}return e}function u1(n){return n+Ww+""}function h1(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function $r(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Kw(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ye{constructor(t,e){this.comparator=t,this.root=e||sn.EMPTY}insert(t,e){return new ye(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(t){return new ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Tf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Tf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Tf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Tf(this.root,t,this.comparator,!0)}}class Tf{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class sn{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??sn.RED,this.left=r??sn.EMPTY,this.right=o??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new sn(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return sn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new sn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ye{constructor(t){this.comparator=t,this.data=new ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new f1(this.data.getIterator())}getIteratorFrom(t){return new f1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof Ye)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ye(this.comparator);return e.data=t,e}}class f1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Un{constructor(t){this.fields=t,t.sort(rn.comparator)}static empty(){return new Un([])}unionWith(t){let e=new Ye(rn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Un(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return cl(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class Qw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class an{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Qw("Invalid base64 string: "+o):o}})(t);return new an(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o})(t);return new an(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}an.EMPTY_BYTE_STRING=new an("");const nk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(n){if(Qt(!!n,39018),typeof n=="string"){let t=0;const e=nk.exec(n);if(Qt(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:we(n.seconds),nanos:we(n.nanos)}}function we(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Fr(n){return typeof n=="string"?an.fromBase64String(n):an.fromUint8Array(n)}const Xw="server_timestamp",$w="__type__",Jw="__previous_value__",Zw="__local_write_time__";function Gy(n){return(n?.mapValue?.fields||{})[$w]?.stringValue===Xw}function Hd(n){const t=n.mapValue.fields[Jw];return Gy(t)?Hd(t):t}function gu(n){const t=Br(n.mapValue.fields[Zw].timestampValue);return new fe(t.seconds,t.nanos)}class ik{constructor(t,e,i,r,o,c,h,f,m,y){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=y}}const cd="(default)";class pu{constructor(t,e){this.projectId=t,this.database=e||cd}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database===cd}isEqual(t){return t instanceof pu&&t.projectId===this.projectId&&t.database===this.database}}const tx="__type__",sk="__max__",Sf={mapValue:{}},ex="__vector__",ud="value";function Hr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Gy(n)?4:ak(n)?9007199254740991:rk(n)?10:11:St(28295,{value:n})}function as(n,t){if(n===t)return!0;const e=Hr(n);if(e!==Hr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return gu(n).isEqual(gu(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Br(r.timestampValue),h=Br(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return Fr(r.bytesValue).isEqual(Fr(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return we(r.geoPointValue.latitude)===we(o.geoPointValue.latitude)&&we(r.geoPointValue.longitude)===we(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return we(r.integerValue)===we(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=we(r.doubleValue),h=we(o.doubleValue);return c===h?ld(c)===ld(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return cl(n.arrayValue.values||[],t.arrayValue.values||[],as);case 10:case 11:return(function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(h1(c)!==h1(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!as(c[f],h[f])))return!1;return!0})(n,t);default:return St(52216,{left:n})}}function yu(n,t){return(n.values||[]).find((e=>as(e,t)))!==void 0}function ul(n,t){if(n===t)return 0;const e=Hr(n),i=Hr(t);if(e!==i)return zt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return zt(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=we(o.integerValue||o.doubleValue),f=we(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return d1(n.timestampValue,t.timestampValue);case 4:return d1(gu(n),gu(t));case 5:return ty(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=Fr(o),f=Fr(c);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let m=0;m<h.length&&m<f.length;m++){const y=zt(h[m],f[m]);if(y!==0)return y}return zt(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=zt(we(o.latitude),we(c.latitude));return h!==0?h:zt(we(o.longitude),we(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return m1(n.arrayValue,t.arrayValue);case 10:return(function(o,c){const h=o.fields||{},f=c.fields||{},m=h[ud]?.arrayValue,y=f[ud]?.arrayValue,_=zt(m?.values?.length||0,y?.values?.length||0);return _!==0?_:m1(m,y)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===Sf.mapValue&&c===Sf.mapValue)return 0;if(o===Sf.mapValue)return 1;if(c===Sf.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),m=c.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let _=0;_<f.length&&_<y.length;++_){const E=ty(f[_],y[_]);if(E!==0)return E;const S=ul(h[f[_]],m[y[_]]);if(S!==0)return S}return zt(f.length,y.length)})(n.mapValue,t.mapValue);default:throw St(23264,{he:e})}}function d1(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return zt(n,t);const e=Br(n),i=Br(t),r=zt(e.seconds,i.seconds);return r!==0?r:zt(e.nanos,i.nanos)}function m1(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=ul(e[r],i[r]);if(o)return o}return zt(e.length,i.length)}function hl(n){return ey(n)}function ey(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Br(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Fr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return yt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=ey(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${ey(e.fields[c])}`;return r+"}"})(n.mapValue):St(61005,{value:n})}function Wf(n){switch(Hr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Hd(n);return t?16+Wf(t):16;case 5:return 2*n.stringValue.length;case 6:return Fr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+Wf(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return $r(i.fields,((o,c)=>{r+=o.length+Wf(c)})),r})(n.mapValue);default:throw St(13486,{value:n})}}function g1(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function ny(n){return!!n&&"integerValue"in n}function Wy(n){return!!n&&"arrayValue"in n}function p1(n){return!!n&&"nullValue"in n}function y1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Kf(n){return!!n&&"mapValue"in n}function rk(n){return(n?.mapValue?.fields||{})[tx]?.stringValue===ex}function eu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return $r(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=eu(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=eu(n.arrayValue.values[e]);return t}return{...n}}function ak(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===sk}class An{constructor(t){this.value=t}static empty(){return new An({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Kf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=eu(e)}setAll(t){let e=rn.emptyPath(),i={},r=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=h.popLast()}c?i[h.lastSegment()]=eu(c):r.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Kf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return as(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Kf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){$r(e,((r,o)=>t[r]=o));for(const r of i)delete t[r]}clone(){return new An(eu(this.value))}}function nx(n){const t=[];return $r(n.fields,((e,i)=>{const r=new rn([e]);if(Kf(i)){const o=nx(i.mapValue).fields;if(o.length===0)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)})),new Un(t)}class un{constructor(t,e,i,r,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new un(t,0,xt.min(),xt.min(),xt.min(),An.empty(),0)}static newFoundDocument(t,e,i,r){return new un(t,1,e,xt.min(),i,r,0)}static newNoDocument(t,e){return new un(t,2,e,xt.min(),xt.min(),An.empty(),0)}static newUnknownDocument(t,e){return new un(t,3,e,xt.min(),xt.min(),An.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hd{constructor(t,e){this.position=t,this.inclusive=e}}function _1(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(o.field.isKeyField()?i=yt.comparator(yt.fromName(c.referenceValue),e.key):i=ul(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function v1(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!as(n.position[e],t.position[e]))return!1;return!0}class fd{constructor(t,e="asc"){this.field=t,this.dir=e}}function ok(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class ix{}class Ve extends ix{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new ck(t,e,i):e==="array-contains"?new fk(t,i):e==="in"?new dk(t,i):e==="not-in"?new mk(t,i):e==="array-contains-any"?new gk(t,i):new Ve(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new uk(t,i):new hk(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(ul(e,this.value)):e!==null&&Hr(this.value)===Hr(e)&&this.matchesComparison(ul(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends ix{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new xi(t,e)}matches(t){return sx(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sx(n){return n.op==="and"}function rx(n){return lk(n)&&sx(n)}function lk(n){for(const t of n.filters)if(t instanceof xi)return!1;return!0}function iy(n){if(n instanceof Ve)return n.field.canonicalString()+n.op.toString()+hl(n.value);if(rx(n))return n.filters.map((t=>iy(t))).join(",");{const t=n.filters.map((e=>iy(e))).join(",");return`${n.op}(${t})`}}function ax(n,t){return n instanceof Ve?(function(i,r){return r instanceof Ve&&i.op===r.op&&i.field.isEqual(r.field)&&as(i.value,r.value)})(n,t):n instanceof xi?(function(i,r){return r instanceof xi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,c,h)=>o&&ax(c,r.filters[h])),!0):!1})(n,t):void St(19439)}function ox(n){return n instanceof Ve?(function(e){return`${e.field.canonicalString()} ${e.op} ${hl(e.value)}`})(n):n instanceof xi?(function(e){return e.op.toString()+" {"+e.getFilters().map(ox).join(" ,")+"}"})(n):"Filter"}class ck extends Ve{constructor(t,e,i){super(t,e,i),this.key=yt.fromName(i.referenceValue)}matches(t){const e=yt.comparator(t.key,this.key);return this.matchesComparison(e)}}class uk extends Ve{constructor(t,e){super(t,"in",e),this.keys=lx("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class hk extends Ve{constructor(t,e){super(t,"not-in",e),this.keys=lx("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function lx(n,t){return(t.arrayValue?.values||[]).map((e=>yt.fromName(e.referenceValue)))}class fk extends Ve{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Wy(e)&&yu(e.arrayValue,this.value)}}class dk extends Ve{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&yu(this.value.arrayValue,e)}}class mk extends Ve{constructor(t,e){super(t,"not-in",e)}matches(t){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!yu(this.value.arrayValue,e)}}class gk extends Ve{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Wy(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>yu(this.value.arrayValue,i)))}}class pk{constructor(t,e=null,i=[],r=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function b1(n,t=null,e=[],i=[],r=null,o=null,c=null){return new pk(n,t,e,i,r,o,c)}function Ky(n){const t=Rt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>iy(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Fd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>hl(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>hl(i))).join(",")),t.Te=e}return t.Te}function Qy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!ok(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!ax(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!v1(n.startAt,t.startAt)&&v1(n.endAt,t.endAt)}function sy(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Vu{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yk(n,t,e,i,r,o,c,h){return new Vu(n,t,e,i,r,o,c,h)}function Xy(n){return new Vu(n)}function E1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function cx(n){return n.collectionGroup!==null}function nu(n){const t=Rt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Ye(rn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new fd(o,i))})),e.has(rn.keyField().canonicalString())||t.Ie.push(new fd(rn.keyField(),i))}return t.Ie}function ns(n){const t=Rt(n);return t.Ee||(t.Ee=_k(t,nu(n))),t.Ee}function _k(n,t){if(n.limitType==="F")return b1(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new fd(r.field,o)}));const e=n.endAt?new hd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new hd(n.startAt.position,n.startAt.inclusive):null;return b1(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function ry(n,t){const e=n.filters.concat([t]);return new Vu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function ay(n,t,e){return new Vu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function qd(n,t){return Qy(ns(n),ns(t))&&n.limitType===t.limitType}function ux(n){return`${Ky(ns(n))}|lt:${n.limitType}`}function Xo(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>ox(r))).join(", ")}]`),Fd(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>hl(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>hl(r))).join(",")),`Target(${i})`})(ns(n))}; limitType=${n.limitType})`}function Yd(n,t){return t.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):yt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,r){for(const o of nu(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(c,h,f){const m=_1(c,h,f);return c.inclusive?m<=0:m<0})(i.startAt,nu(i),r)||i.endAt&&!(function(c,h,f){const m=_1(c,h,f);return c.inclusive?m>=0:m>0})(i.endAt,nu(i),r))})(n,t)}function vk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function hx(n){return(t,e)=>{let i=!1;for(const r of nu(n)){const o=bk(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function bk(n,t,e){const i=n.field.isKeyField()?yt.comparator(t.key,e.key):(function(o,c,h){const f=c.data.field(o),m=h.data.field(o);return f!==null&&m!==null?ul(f,m):St(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return St(19790,{direction:n.dir})}}class $a{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){$r(this.inner,((e,i)=>{for(const[r,o]of i)t(r,o)}))}isEmpty(){return Kw(this.inner)}size(){return this.innerSize}}const Ek=new ye(yt.comparator);function js(){return Ek}const fx=new ye(yt.comparator);function Wc(...n){let t=fx;for(const e of n)t=t.insert(e.key,e);return t}function dx(n){let t=fx;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function Va(){return iu()}function mx(){return iu()}function iu(){return new $a((n=>n.toString()),((n,t)=>n.isEqual(t)))}const Tk=new ye(yt.comparator),Sk=new Ye(yt.comparator);function Ut(...n){let t=Sk;for(const e of n)t=t.add(e);return t}const wk=new Ye(zt);function xk(){return wk}function $y(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ld(t)?"-0":t}}function gx(n){return{integerValue:""+n}}function Ak(n,t){return Z4(t)?gx(t):$y(n,t)}class Gd{constructor(){this._=void 0}}function Rk(n,t,e){return n instanceof _u?(function(r,o){const c={fields:{[$w]:{stringValue:Xw},[Zw]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Gy(o)&&(o=Hd(o)),o&&(c.fields[Jw]=o),{mapValue:c}})(e,t):n instanceof vu?yx(n,t):n instanceof bu?_x(n,t):(function(r,o){const c=px(r,o),h=T1(c)+T1(r.Ae);return ny(c)&&ny(r.Ae)?gx(h):$y(r.serializer,h)})(n,t)}function Ck(n,t,e){return n instanceof vu?yx(n,t):n instanceof bu?_x(n,t):e}function px(n,t){return n instanceof dd?(function(i){return ny(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class _u extends Gd{}class vu extends Gd{constructor(t){super(),this.elements=t}}function yx(n,t){const e=vx(t);for(const i of n.elements)e.some((r=>as(r,i)))||e.push(i);return{arrayValue:{values:e}}}class bu extends Gd{constructor(t){super(),this.elements=t}}function _x(n,t){let e=vx(t);for(const i of n.elements)e=e.filter((r=>!as(r,i)));return{arrayValue:{values:e}}}class dd extends Gd{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function T1(n){return we(n.integerValue||n.doubleValue)}function vx(n){return Wy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ik{constructor(t,e){this.field=t,this.transform=e}}function Mk(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof vu&&r instanceof vu||i instanceof bu&&r instanceof bu?cl(i.elements,r.elements,as):i instanceof dd&&r instanceof dd?as(i.Ae,r.Ae):i instanceof _u&&r instanceof _u})(n.transform,t.transform)}class Dk{constructor(t,e){this.version=t,this.transformResults=e}}class Si{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Si}static exists(t){return new Si(void 0,t)}static updateTime(t){return new Si(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Qf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Wd{}function bx(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Jy(n.key,Si.none()):new Lu(n.key,n.data,Si.none());{const e=n.data,i=An.empty();let r=new Ye(rn.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new Jr(n.key,i,new Un(r.toArray()),Si.none())}}function Ok(n,t,e){n instanceof Lu?(function(r,o,c){const h=r.value.clone(),f=w1(r.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Jr?(function(r,o,c){if(!Qf(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=w1(r.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(Ex(r)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,t,e):(function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function su(n,t,e,i){return n instanceof Lu?(function(o,c,h,f){if(!Qf(o.precondition,c))return h;const m=o.value.clone(),y=x1(o.fieldTransforms,f,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,t,e,i):n instanceof Jr?(function(o,c,h,f){if(!Qf(o.precondition,c))return h;const m=x1(o.fieldTransforms,f,c),y=c.data;return y.setAll(Ex(o)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(n,t,e,i):(function(o,c,h){return Qf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function kk(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=px(i.transform,r||null);o!=null&&(e===null&&(e=An.empty()),e.set(i.field,o))}return e||null}function S1(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&cl(i,r,((o,c)=>Mk(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Lu extends Wd{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Jr extends Wd{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Ex(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function w1(n,t,e){const i=new Map;Qt(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,h=t.data.field(o.field);i.set(o.field,Ck(c,h,e[r]))}return i}function x1(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,Rk(o,c,t))}return i}class Jy extends Wd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nk extends Wd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Pk{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&Ok(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=su(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=su(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=mx();return this.mutations.forEach((r=>{const o=t.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(r.key)?null:h;const f=bx(c,h);f!==null&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(xt.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&cl(this.mutations,t.mutations,((e,i)=>S1(e,i)))&&cl(this.baseMutations,t.baseMutations,((e,i)=>S1(e,i)))}}class Zy{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Qt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return Tk})();const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new Zy(t,e,i,r)}}class Vk{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Lk{constructor(t,e){this.count=t,this.unchangedNames=e}}var Pe,Ft;function zk(n){switch(n){case it.OK:return St(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return St(15467,{code:n})}}function Tx(n){if(n===void 0)return Us("GRPC error has no .code"),it.UNKNOWN;switch(n){case Pe.OK:return it.OK;case Pe.CANCELLED:return it.CANCELLED;case Pe.UNKNOWN:return it.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return it.INTERNAL;case Pe.UNAVAILABLE:return it.UNAVAILABLE;case Pe.UNAUTHENTICATED:return it.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case Pe.NOT_FOUND:return it.NOT_FOUND;case Pe.ALREADY_EXISTS:return it.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return it.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case Pe.ABORTED:return it.ABORTED;case Pe.OUT_OF_RANGE:return it.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return it.UNIMPLEMENTED;case Pe.DATA_LOSS:return it.DATA_LOSS;default:return St(39323,{code:n})}}(Ft=Pe||(Pe={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";function Uk(){return new TextEncoder}const jk=new Vr([4294967295,4294967295],0);function A1(n){const t=Uk().encode(n),e=new zw;return e.update(t),new Uint8Array(e.digest())}function R1(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Vr([e,i],0),new Vr([r,o],0)]}class t_{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Kc(`Invalid padding: ${e}`);if(i<0)throw new Kc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Kc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Kc(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Vr.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(Vr.fromNumber(i)));return r.compare(jk)===1&&(r=new Vr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=A1(t),[i,r]=R1(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);if(!this.we(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new t_(o,r,e);return i.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=A1(t),[i,r]=R1(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);this.Se(c)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Kc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Kd{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,zu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Kd(xt.min(),r,new ye(zt),js(),Ut())}}class zu{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new zu(i,e,Ut(),Ut(),Ut())}}class Xf{constructor(t,e,i,r){this.be=t,this.removedTargetIds=e,this.key=i,this.De=r}}class Sx{constructor(t,e){this.targetId=t,this.Ce=e}}class wx{constructor(t,e,i=an.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class C1{constructor(){this.ve=0,this.Fe=I1(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),e=Ut(),i=Ut();return this.Fe.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:St(38017,{changeType:o})}})),new zu(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=I1()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Bk{constructor(t){this.Ge=t,this.ze=new Map,this.je=js(),this.Je=wf(),this.He=wf(),this.Ye=new ye(zt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:St(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(sy(o))if(i===0){const c=new yt(o.path);this.et(e,c,un.newNoDocument(c,xt.min()))}else Qt(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const h=this.ut(t),f=h?this.ct(h,t,c):1;if(f!==0){this.it(e);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,m)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let c,h;try{c=Fr(i).toUint8Array()}catch(f){if(f instanceof Qw)return du("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new t_(c,r,o)}catch(f){return du(f instanceof Kc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&sy(h.target)){const f=new yt(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,un.newNoDocument(f,t))}o.Be&&(e.set(c,o.ke()),o.qe())}}));let i=Ut();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const r=new Kd(t,e,this.Ye,this.je,i);return this.je=js(),this.Je=wf(),this.He=wf(),this.Ye=new ye(zt),r}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.Qe(e,1):r.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new C1,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Ye(zt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Ye(zt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ft("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new C1),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function wf(){return new ye(yt.comparator)}function I1(){return new ye(yt.comparator)}const Fk={asc:"ASCENDING",desc:"DESCENDING"},Hk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qk={and:"AND",or:"OR"};class Yk{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function oy(n,t){return n.useProto3Json||Fd(t)?t:{value:t}}function md(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function xx(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Gk(n,t){return md(n,t.toTimestamp())}function is(n){return Qt(!!n,49232),xt.fromTimestamp((function(e){const i=Br(e);return new fe(i.seconds,i.nanos)})(n))}function e_(n,t){return ly(n,t).canonicalString()}function ly(n,t){const e=(function(r){return new le(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function Ax(n){const t=le.fromString(n);return Qt(Dx(t),10190,{key:t.toString()}),t}function cy(n,t){return e_(n.databaseId,t.path)}function Sp(n,t){const e=Ax(t);if(e.get(1)!==n.databaseId.projectId)throw new ht(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ht(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new yt(Cx(e))}function Rx(n,t){return e_(n.databaseId,t)}function Wk(n){const t=Ax(n);return t.length===4?le.emptyPath():Cx(t)}function uy(n){return new le(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Cx(n){return Qt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function M1(n,t,e){return{name:cy(n,t),fields:e.value.mapValue.fields}}function Kk(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:St(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(m,y){return m.useProto3Json?(Qt(y===void 0||typeof y=="string",58123),an.fromBase64String(y||"")):(Qt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),an.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(m){const y=m.code===void 0?it.UNKNOWN:Tx(m.code);return new ht(y,m.message||"")})(c);e=new wx(i,r,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Sp(n,i.document.name),o=is(i.document.updateTime),c=i.document.createTime?is(i.document.createTime):xt.min(),h=new An({mapValue:{fields:i.document.fields}}),f=un.newFoundDocument(r,o,c,h),m=i.targetIds||[],y=i.removedTargetIds||[];e=new Xf(m,y,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Sp(n,i.document),o=i.readTime?is(i.readTime):xt.min(),c=un.newNoDocument(r,o),h=i.removedTargetIds||[];e=new Xf([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Sp(n,i.document),o=i.removedTargetIds||[];e=new Xf([],o,r,null)}else{if(!("filter"in t))return St(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new Lk(r,o),h=i.targetId;e=new Sx(h,c)}}return e}function Qk(n,t){let e;if(t instanceof Lu)e={update:M1(n,t.key,t.value)};else if(t instanceof Jy)e={delete:cy(n,t.key)};else if(t instanceof Jr)e={update:M1(n,t.key,t.data),updateMask:sN(t.fieldMask)};else{if(!(t instanceof Nk))return St(16599,{Vt:t.type});e={verify:cy(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,c){const h=c.transform;if(h instanceof _u)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof vu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof bu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof dd)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw St(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:Gk(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:St(27497)})(n,t.precondition)),e}function Xk(n,t){return n&&n.length>0?(Qt(t!==void 0,14353),n.map((e=>(function(r,o){let c=r.updateTime?is(r.updateTime):is(o);return c.isEqual(xt.min())&&(c=is(o)),new Dk(c,r.transformResults||[])})(e,t)))):[]}function $k(n,t){return{documents:[Rx(n,t.path)]}}function Jk(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=Rx(n,r);const o=(function(m){if(m.length!==0)return Mx(xi.create(m,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(m){if(m.length!==0)return m.map((y=>(function(E){return{field:$o(E.field),direction:eN(E.dir)}})(y)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=oy(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:e,parent:r}}function Zk(n){let t=Wk(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Qt(i===1,65062);const y=e.from[0];y.allDescendants?r=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=(function(_){const E=Ix(_);return E instanceof xi&&rx(E)?E.getFilters():[E]})(e.where));let c=[];e.orderBy&&(c=(function(_){return _.map((E=>(function(A){return new fd(Jo(A.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(E)))})(e.orderBy));let h=null;e.limit&&(h=(function(_){let E;return E=typeof _=="object"?_.value:_,Fd(E)?null:E})(e.limit));let f=null;e.startAt&&(f=(function(_){const E=!!_.before,S=_.values||[];return new hd(S,E)})(e.startAt));let m=null;return e.endAt&&(m=(function(_){const E=!_.before,S=_.values||[];return new hd(S,E)})(e.endAt)),yk(t,r,c,o,h,"F",f,m)}function tN(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Ix(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Jo(e.unaryFilter.field);return Ve.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Jo(e.unaryFilter.field);return Ve.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Jo(e.unaryFilter.field);return Ve.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Jo(e.unaryFilter.field);return Ve.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ve.create(Jo(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return xi.create(e.compositeFilter.filters.map((i=>Ix(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(e.compositeFilter.op))})(n):St(30097,{filter:n})}function eN(n){return Fk[n]}function nN(n){return Hk[n]}function iN(n){return qk[n]}function $o(n){return{fieldPath:n.canonicalString()}}function Jo(n){return rn.fromServerFormat(n.fieldPath)}function Mx(n){return n instanceof Ve?(function(e){if(e.op==="=="){if(y1(e.value))return{unaryFilter:{field:$o(e.field),op:"IS_NAN"}};if(p1(e.value))return{unaryFilter:{field:$o(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(y1(e.value))return{unaryFilter:{field:$o(e.field),op:"IS_NOT_NAN"}};if(p1(e.value))return{unaryFilter:{field:$o(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$o(e.field),op:nN(e.op),value:e.value}}})(n):n instanceof xi?(function(e){const i=e.getFilters().map((r=>Mx(r)));return i.length===1?i[0]:{compositeFilter:{op:iN(e.op),filters:i}}})(n):St(54877,{filter:n})}function sN(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Dx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Rr{constructor(t,e,i,r,o=xt.min(),c=xt.min(),h=an.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new Rr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class rN{constructor(t){this.yt=t}}function aN(n){const t=Zk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ay(t,t.limit,"L"):t}class oN{constructor(){this.Cn=new lN}addToCollectionParentIndex(t,e){return this.Cn.add(e),st.resolve()}getCollectionParents(t,e){return st.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return st.resolve()}deleteFieldIndex(t,e){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,e){return st.resolve()}getDocumentsMatchingTarget(t,e){return st.resolve(null)}getIndexType(t,e){return st.resolve(0)}getFieldIndexes(t,e){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,e){return st.resolve(jr.min())}getMinOffsetFromCollectionGroup(t,e){return st.resolve(jr.min())}updateCollectionGroup(t,e,i){return st.resolve()}updateIndexEntries(t,e){return st.resolve()}}class lN{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Ye(le.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ye(le.comparator)).toArray()}}const D1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ox=41943040;class xn{static withCacheSize(t){return new xn(t,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(Ox,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);class fl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new fl(0)}static cr(){return new fl(-1)}}const O1="LruGarbageCollector",kx=1048576;function k1([n,t],[e,i]){const r=zt(n,e);return r===0?zt(t,i):r}class cN{constructor(t){this.Ir=t,this.buffer=new Ye(k1),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();k1(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class uN{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ft(O1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){wl(e)?ft(O1,"Ignoring IndexedDB error during garbage collection: ",e):await Sl(e)}await this.Vr(3e5)}))}}class hN{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return st.resolve(Bd.ce);const i=new cN(e);return this.mr.forEachTarget(t,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(t,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(D1)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D1):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,r,o,c,h,f,m;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),r=this.params.maximumSequenceNumbersToCollect):r=_,c=Date.now(),this.nthSequenceNumber(t,r)))).next((_=>(i=_,h=Date.now(),this.removeTargets(t,i,e)))).next((_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((_=>(m=Date.now(),Qo()<=Lt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(m-f)+`ms
Total Duration: ${m-y}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:_}))))}}function fN(n,t){return new hN(n,t)}class dN{constructor(){this.changes=new $a((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,un.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?st.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class mN{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class gN{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&su(i.mutation,r,Un.empty(),fe.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Ut()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Ut()){const r=Va();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((o=>{let c=Wc();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const i=Va();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Ut())))}populateOverlays(t,e,i){const r=[];return i.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,i,r){let o=js();const c=iu(),h=(function(){return iu()})();return e.forEach(((f,m)=>{const y=i.get(m.key);r.has(m.key)&&(y===void 0||y.mutation instanceof Jr)?o=o.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),su(y.mutation,m,y.mutation.getFieldMask(),fe.now())):c.set(m.key,Un.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((m,y)=>c.set(m,y))),e.forEach(((m,y)=>h.set(m,new mN(y,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=iu();let r=new ye(((c,h)=>c-h)),o=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((f=>{const m=e.get(f);if(m===null)return;let y=i.get(f)||Un.empty();y=h.applyToLocalView(m,y),i.set(f,y);const _=(r.get(h.batchId)||Ut()).add(f);r=r.insert(h.batchId,_)}))})).next((()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,y=f.value,_=mx();y.forEach((E=>{if(!o.has(E)){const S=bx(e.get(E),i.get(E));S!==null&&_.set(E,S),o=o.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(t,m,_))}return st.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return(function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):cx(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):st.resolve(Va());let h=mu,f=o;return c.next((m=>st.forEach(m,((y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(y)?st.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{f=f.insert(y,E)}))))).next((()=>this.populateOverlays(t,m,o))).next((()=>this.computeViews(t,f,m,Ut()))).next((y=>({batchId:h,changes:dx(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new yt(e)).next((i=>{let r=Wc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let c=Wc();return this.indexManager.getCollectionParents(t,o).next((h=>st.forEach(h,(f=>{const m=(function(_,E){return new Vu(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,m,i,r).next((y=>{y.forEach(((_,E)=>{c=c.insert(_,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r)))).next((c=>{o.forEach(((f,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,un.newInvalidDocument(y)))}));let h=Wc();return c.forEach(((f,m)=>{const y=o.get(f);y!==void 0&&su(y.mutation,m,Un.empty(),fe.now()),Yd(e,m)&&(h=h.insert(f,m))})),h}))}}class pN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return st.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:is(r.createTime)}})(e)),st.resolve()}getNamedQuery(t,e){return st.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(r){return{name:r.name,query:aN(r.bundledQuery),readTime:is(r.readTime)}})(e)),st.resolve()}}class yN{constructor(){this.overlays=new ye(yt.comparator),this.qr=new Map}getOverlay(t,e){return st.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Va();return st.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,o)=>{this.St(t,e,o)})),st.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),st.resolve()}getOverlaysForCollection(t,e,i){const r=Va(),o=e.length+1,c=new yt(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return st.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new ye(((m,y)=>m-y));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>i){let y=o.get(m.largestBatchId);y===null&&(y=Va(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=Va(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=r)););return st.resolve(h)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Vk(e,i));let o=this.qr.get(e);o===void 0&&(o=Ut(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}class _N{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,st.resolve()}}class n_{constructor(){this.Qr=new Ye(Xe.$r),this.Ur=new Ye(Xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new Xe(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new Xe(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new yt(new le([])),i=new Xe(e,t),r=new Xe(e,t+1),o=[];return this.Ur.forEachInRange([i,r],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new yt(new le([])),i=new Xe(e,t),r=new Xe(e,t+1);let o=Ut();return this.Ur.forEachInRange([i,r],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new Xe(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Xe{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return yt.comparator(t.key,e.key)||zt(t.Yr,e.Yr)}static Kr(t,e){return zt(t.Yr,e.Yr)||yt.comparator(t.key,e.key)}}class vN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Ye(Xe.$r)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Pk(o,e,i,r);this.mutationQueue.push(c);for(const h of r)this.Zr=this.Zr.add(new Xe(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return st.resolve(c)}lookupMutationBatch(t,e){return st.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ei(i),o=r<0?0:r;return st.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?Yy:this.tr-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Xe(e,0),r=new Xe(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],(c=>{const h=this.Xr(c.Yr);o.push(h)})),st.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ye(zt);return e.forEach((r=>{const o=new Xe(r,0),c=new Xe(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{i=i.add(h.Yr)}))})),st.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;yt.isDocumentKey(o)||(o=o.child(""));const c=new Xe(new yt(o),0);let h=new Ye(zt);return this.Zr.forEachWhile((f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===r&&(h=h.add(f.Yr)),!0)}),c),st.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((i=>{const r=this.Xr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){Qt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return st.forEach(e.mutations,(r=>{const o=new Xe(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new Xe(e,0),r=this.Zr.firstAfterOrEqual(i);return st.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class bN{constructor(t){this.ri=t,this.docs=(function(){return new ye(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return st.resolve(i?i.document.mutableCopy():un.newInvalidDocument(e))}getEntries(t,e){let i=js();return e.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():un.newInvalidDocument(r))})),st.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=js();const c=e.path,h=new yt(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||Q4(K4(y),i)<=0||(r.has(y.key)||Yd(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return st.resolve(o)}getAllFromCollectionGroup(t,e,i,r){St(9500)}ii(t,e){return st.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new EN(this)}getSize(t){return st.resolve(this.size)}}class EN extends dN{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)})),st.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class TN{constructor(t){this.persistence=t,this.si=new $a((e=>Ky(e)),Qy),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.oi=0,this._i=new n_,this.targetCount=0,this.ai=fl.ur()}forEachTarget(t,e){return this.si.forEach(((i,r)=>e(r))),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),st.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new fl(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,st.resolve()}updateTargetData(t,e){return this.Pr(e),st.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)})),st.waitFor(o).next((()=>r))}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return st.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),st.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((c=>{o.push(r.markPotentiallyOrphaned(t,c))})),st.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),st.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return st.resolve(i)}containsKey(t,e){return st.resolve(this._i.containsKey(e))}}class Nx{constructor(t,e){this.ui={},this.overlays={},this.ci=new Bd(0),this.li=!1,this.li=!0,this.hi=new _N,this.referenceDelegate=t(this),this.Pi=new TN(this),this.indexManager=new oN,this.remoteDocumentCache=(function(r){return new bN(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new rN(e),this.Ii=new pN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new yN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new vN(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){ft("MemoryPersistence","Starting transaction:",t);const r=new SN(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(t,e){return st.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class SN extends $4{constructor(t){super(),this.currentSequenceNumber=t}}class i_{constructor(t){this.persistence=t,this.Ri=new n_,this.Vi=null}static mi(t){return new i_(t)}get fi(){if(this.Vi)return this.Vi;throw St(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),st.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),st.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),st.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.fi,(i=>{const r=yt.fromPath(i);return this.gi(t,r).next((o=>{o||e.removeEntry(r,xt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return st.or([()=>st.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class gd{constructor(t,e){this.persistence=t,this.pi=new $a((i=>tk(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=fN(this,e)}static mi(t,e){return new gd(t,e)}Ei(){}di(t){return st.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return st.forEach(this.pi,((i,r)=>this.br(t,i,r).next((o=>o?st.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(t,(c=>this.br(t,c,e).next((h=>{h||(i++,o.removeEntry(c,xt.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),st.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),st.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),st.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Wf(t.data.value)),e}br(t,e,i){return st.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return st.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class s_{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=r}static As(t,e){let i=Ut(),r=Ut();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new s_(t,e.fromCache,i,r)}}class wN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class xN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return eM()?8:J4(fn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ys(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(t,e,r,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new wN;return this.Ss(t,e,c).next((h=>{if(o.result=h,this.Vs)return this.bs(t,e,c,h.size)}))})).next((()=>o.result))}bs(t,e,i,r){return i.documentReadCount<this.fs?(Qo()<=Lt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",Xo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),st.resolve()):(Qo()<=Lt.DEBUG&&ft("QueryEngine","Query:",Xo(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(Qo()<=Lt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",Xo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ns(e))):st.resolve())}ys(t,e){if(E1(e))return st.resolve(null);let i=ns(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=ay(e,null,"F"),i=ns(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const c=Ut(...o);return this.ps.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,i).next((f=>{const m=this.Ds(e,h);return this.Cs(e,m,c,f.readTime)?this.ys(t,ay(e,null,"F")):this.vs(t,m,e,f)}))))})))))}ws(t,e,i,r){return E1(e)||r.isEqual(xt.min())?st.resolve(null):this.ps.getDocuments(t,i).next((o=>{const c=this.Ds(e,o);return this.Cs(e,c,i,r)?st.resolve(null):(Qo()<=Lt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xo(e)),this.vs(t,c,e,W4(r,mu)).next((h=>h)))}))}Ds(t,e){let i=new Ye(hx(t));return e.forEach(((r,o)=>{Yd(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(t,e,i){return Qo()<=Lt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",Xo(e)),this.ps.getDocumentsMatchingQuery(t,e,jr.min(),i)}vs(t,e,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const r_="LocalStore",AN=3e8;class RN{constructor(t,e,i,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new ye(zt),this.xs=new $a((o=>Ky(o)),Qy),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new gN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function CN(n,t,e,i){return new RN(n,t,e,i)}async function Px(n,t){const e=Rt(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let f=Ut();for(const m of r){c.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of o){h.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return e.localDocuments.getDocuments(i,f).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function IN(n,t){const e=Rt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,y){const _=m.batch,E=_.keys();let S=st.resolve();return E.forEach((A=>{S=S.next((()=>y.getEntry(f,A))).next((w=>{const C=m.docVersions.get(A);Qt(C!==null,48541),w.version.compareTo(C)<0&&(_.applyToRemoteDocument(w,m),w.isValidDocument()&&(w.setReadTime(m.commitVersion),y.addEntry(w)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(f,_)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=Ut();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function Vx(n){const t=Rt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function MN(n,t){const e=Rt(n),i=t.snapshotVersion;let r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;const h=[];t.targetChanges.forEach(((y,_)=>{const E=r.get(_);if(!E)return;h.push(e.Pi.removeMatchingKeys(o,y.removedDocuments,_).next((()=>e.Pi.addMatchingKeys(o,y.addedDocuments,_))));let S=E.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(_)!==null?S=S.withResumeToken(an.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,i)),r=r.insert(_,S),(function(w,C,V){return w.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=AN?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(E,S,y)&&h.push(e.Pi.updateTargetData(o,S))}));let f=js(),m=Ut();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(DN(o,c,t.documentUpdates).next((y=>{f=y.ks,m=y.qs}))),!i.isEqual(xt.min())){const y=e.Pi.getLastRemoteSnapshotVersion(o).next((_=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(y)}return st.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,m))).next((()=>f))})).then((o=>(e.Ms=r,o)))}function DN(n,t,e){let i=Ut(),r=Ut();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let c=js();return e.forEach(((h,f)=>{const m=o.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(xt.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):ft(r_,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)})),{ks:c,qs:r}}))}function ON(n,t){const e=Rt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=Yy),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function kN(n,t){const e=Rt(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.Pi.getTargetData(i,t).next((o=>o?(r=o,st.resolve(r)):e.Pi.allocateTargetId(i).next((c=>(r=new Rr(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function hy(n,t,e){const i=Rt(n),r=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!wl(c))throw c;ft(r_,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function N1(n,t,e){const i=Rt(n);let r=xt.min(),o=Ut();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,m,y){const _=Rt(f),E=_.xs.get(y);return E!==void 0?st.resolve(_.Ms.get(E)):_.Pi.getTargetData(m,y)})(i,c,ns(t)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,e?r:xt.min(),e?o:Ut()))).next((h=>(NN(i,vk(t),h),{documents:h,Qs:o})))))}function NN(n,t,e){let i=n.Os.get(t)||xt.min();e.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class P1{constructor(){this.activeTargetIds=xk()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class PN{constructor(){this.Mo=new P1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new P1,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class VN{Oo(t){}shutdown(){}}const V1="ConnectivityMonitor";class L1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(V1,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ft(V1,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xf=null;function fy(){return xf===null?xf=(function(){return 268435456+Math.round(2147483648*Math.random())})():xf++,"0x"+xf.toString(16)}const wp="RestConnection",LN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===cd?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,e,i,r,o){const c=fy(),h=this.zo(t,e.toUriEncodedString());ft(wp,`Sending RPC '${t}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,r,o);const{host:m}=new URL(h),y=vl(m);return this.Jo(t,h,f,i,y).then((_=>(ft(wp,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw du(wp,`RPC '${t}' ${c} failed with error: `,_,"url: ",h,"request:",i),_}))}Ho(t,e,i,r,o,c){return this.Go(t,e,i,r,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Tl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,o)=>t[o]=r)),i&&i.headers.forEach(((r,o)=>t[o]=r))}zo(t,e){const i=LN[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}class UN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const ln="WebChannelConnection";class jN extends zN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,o){const c=fy();return new Promise(((h,f)=>{const m=new Uw;m.setWithCredentials(!0),m.listenOnce(jw.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Gf.NO_ERROR:const _=m.getResponseJson();ft(ln,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),h(_);break;case Gf.TIMEOUT:ft(ln,`RPC '${t}' ${c} timed out`),f(new ht(it.DEADLINE_EXCEEDED,"Request time out"));break;case Gf.HTTP_ERROR:const E=m.getStatus();if(ft(ln,`RPC '${t}' ${c} failed with status:`,E,"response text:",m.getResponseText()),E>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const A=S?.error;if(A&&A.status&&A.message){const w=(function(V){const B=V.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(B)>=0?B:it.UNKNOWN})(A.status);f(new ht(w,A.message))}else f(new ht(it.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new ht(it.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:t,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ft(ln,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(r);ft(ln,`RPC '${t}' ${c} sending request:`,r),m.send(e,"POST",y,i,15)}))}T_(t,e,i){const r=fy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=Hw(),h=Fw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const y=o.join("");ft(ln,`Creating RPC '${t}' stream ${r}: ${y}`,f);const _=c.createWebChannel(y,f);this.I_(_);let E=!1,S=!1;const A=new UN({Yo:C=>{S?ft(ln,`Not sending because RPC '${t}' stream ${r} is closed:`,C):(E||(ft(ln,`Opening RPC '${t}' stream ${r} transport.`),_.open(),E=!0),ft(ln,`RPC '${t}' stream ${r} sending:`,C),_.send(C))},Zo:()=>_.close()}),w=(C,V,B)=>{C.listen(V,(q=>{try{B(q)}catch(rt){setTimeout((()=>{throw rt}),0)}}))};return w(_,Gc.EventType.OPEN,(()=>{S||(ft(ln,`RPC '${t}' stream ${r} transport opened.`),A.o_())})),w(_,Gc.EventType.CLOSE,(()=>{S||(S=!0,ft(ln,`RPC '${t}' stream ${r} transport closed`),A.a_(),this.E_(_))})),w(_,Gc.EventType.ERROR,(C=>{S||(S=!0,du(ln,`RPC '${t}' stream ${r} transport errored. Name:`,C.name,"Message:",C.message),A.a_(new ht(it.UNAVAILABLE,"The operation could not be completed")))})),w(_,Gc.EventType.MESSAGE,(C=>{if(!S){const V=C.data[0];Qt(!!V,16349);const B=V,q=B?.error||B[0]?.error;if(q){ft(ln,`RPC '${t}' stream ${r} received error:`,q);const rt=q.status;let tt=(function(I){const M=Pe[I];if(M!==void 0)return Tx(M)})(rt),ot=q.message;tt===void 0&&(tt=it.INTERNAL,ot="Unknown error status: "+rt+" with message "+q.message),S=!0,A.a_(new ht(tt,ot)),_.close()}else ft(ln,`RPC '${t}' stream ${r} received:`,V),A.u_(V)}})),w(h,Bw.STAT_EVENT,(C=>{C.stat===Zp.PROXY?ft(ln,`RPC '${t}' stream ${r} detected buffering proxy`):C.stat===Zp.NOPROXY&&ft(ln,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function xp(){return typeof document<"u"?document:null}function Qd(n){return new Yk(n,!0)}class Lx{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&ft("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const z1="PersistentStream";class zx{constructor(t,e,i,r,o,c,h,f){this.Mi=t,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Lx(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===it.RESOURCE_EXHAUSTED?(Us(e.toString()),Us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===e&&this.G_(i,r)}),(i=>{t((()=>{const r=new ht(it.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ft(z1,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(ft(z1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class BN extends zx{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=Kk(this.serializer,t),i=(function(o){if(!("targetChange"in o))return xt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?xt.min():c.readTime?is(c.readTime):xt.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=uy(this.serializer),e.addTarget=(function(o,c){let h;const f=c.target;if(h=sy(f)?{documents:$k(o,f)}:{query:Jk(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=xx(o,c.resumeToken);const m=oy(o,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(xt.min())>0){h.readTime=md(o,c.snapshotVersion.toTimestamp());const m=oy(o,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,t);const i=tN(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=uy(this.serializer),e.removeTarget=t,this.q_(e)}}class FN extends zx{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=Xk(t.writeResults,t.commitTime),i=is(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=uy(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>Qk(this.serializer,i)))};this.q_(e)}}class HN{}class qN extends HN{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new ht(it.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(t,ly(e,i),r,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ht(it.UNKNOWN,o.toString())}))}Ho(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(t,ly(e,i),r,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(it.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class YN{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Us(e),this.aa=!1):ft("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Wa="RemoteStore";class GN{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Ja(this)&&(ft(Wa,"Restarting streams for network reachability change."),await(async function(f){const m=Rt(f);m.Ea.add(4),await Uu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Xd(m)})(this))}))})),this.Ra=new YN(i,r)}}async function Xd(n){if(Ja(n))for(const t of n.da)await t(!0)}async function Uu(n){for(const t of n.da)await t(!1)}function Ux(n,t){const e=Rt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),c_(e)?l_(e):xl(e).O_()&&o_(e,t))}function a_(n,t){const e=Rt(n),i=xl(e);e.Ia.delete(t),i.O_()&&jx(e,t),e.Ia.size===0&&(i.O_()?i.L_():Ja(e)&&e.Ra.set("Unknown"))}function o_(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}xl(n).Y_(t)}function jx(n,t){n.Va.Ue(t),xl(n).Z_(t)}function l_(n){n.Va=new Bk({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),xl(n).start(),n.Ra.ua()}function c_(n){return Ja(n)&&!xl(n).x_()&&n.Ia.size>0}function Ja(n){return Rt(n).Ea.size===0}function Bx(n){n.Va=void 0}async function WN(n){n.Ra.set("Online")}async function KN(n){n.Ia.forEach(((t,e)=>{o_(n,t)}))}async function QN(n,t){Bx(n),c_(n)?(n.Ra.ha(t),l_(n)):n.Ra.set("Unknown")}async function XN(n,t,e){if(n.Ra.set("Online"),t instanceof wx&&t.state===2&&t.cause)try{await(async function(r,o){const c=o.cause;for(const h of o.targetIds)r.Ia.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.Ia.delete(h),r.Va.removeTarget(h))})(n,t)}catch(i){ft(Wa,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await pd(n,i)}else if(t instanceof Xf?n.Va.Ze(t):t instanceof Sx?n.Va.st(t):n.Va.tt(t),!e.isEqual(xt.min()))try{const i=await Vx(n.localStore);e.compareTo(i)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Ia.get(m);y&&o.Ia.set(m,y.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,m)=>{const y=o.Ia.get(f);if(!y)return;o.Ia.set(f,y.withResumeToken(an.EMPTY_BYTE_STRING,y.snapshotVersion)),jx(o,f);const _=new Rr(y.target,f,m,y.sequenceNumber);o_(o,_)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){ft(Wa,"Failed to raise snapshot:",i),await pd(n,i)}}async function pd(n,t,e){if(!wl(t))throw t;n.Ea.add(1),await Uu(n),n.Ra.set("Offline"),e||(e=()=>Vx(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ft(Wa,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Xd(n)}))}function Fx(n,t){return t().catch((e=>pd(n,e,t)))}async function $d(n){const t=Rt(n),e=qr(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Yy;for(;$N(t);)try{const r=await ON(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,JN(t,r)}catch(r){await pd(t,r)}Hx(t)&&qx(t)}function $N(n){return Ja(n)&&n.Ta.length<10}function JN(n,t){n.Ta.push(t);const e=qr(n);e.O_()&&e.X_&&e.ea(t.mutations)}function Hx(n){return Ja(n)&&!qr(n).x_()&&n.Ta.length>0}function qx(n){qr(n).start()}async function ZN(n){qr(n).ra()}async function t3(n){const t=qr(n);for(const e of n.Ta)t.ea(e.mutations)}async function e3(n,t,e){const i=n.Ta.shift(),r=Zy.from(i,t,e);await Fx(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await $d(n)}async function n3(n,t){t&&qr(n).X_&&await(async function(i,r){if((function(c){return zk(c)&&c!==it.ABORTED})(r.code)){const o=i.Ta.shift();qr(i).B_(),await Fx(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await $d(i)}})(n,t),Hx(n)&&qx(n)}async function U1(n,t){const e=Rt(n);e.asyncQueue.verifyOperationInProgress(),ft(Wa,"RemoteStore received new credentials");const i=Ja(e);e.Ea.add(3),await Uu(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Xd(e)}async function i3(n,t){const e=Rt(n);t?(e.Ea.delete(2),await Xd(e)):t||(e.Ea.add(2),await Uu(e),e.Ra.set("Unknown"))}function xl(n){return n.ma||(n.ma=(function(e,i,r){const o=Rt(e);return o.sa(),new BN(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:WN.bind(null,n),t_:KN.bind(null,n),r_:QN.bind(null,n),H_:XN.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),c_(n)?l_(n):n.Ra.set("Unknown")):(await n.ma.stop(),Bx(n))}))),n.ma}function qr(n){return n.fa||(n.fa=(function(e,i,r){const o=Rt(e);return o.sa(),new FN(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:ZN.bind(null,n),r_:n3.bind(null,n),ta:t3.bind(null,n),na:e3.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await $d(n)):(await n.fa.stop(),n.Ta.length>0&&(ft(Wa,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class u_{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new u_(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function h_(n,t){if(Us("AsyncQueue",`${t}: ${n}`),wl(n))return new ht(it.UNAVAILABLE,`${t}: ${n}`);throw n}class sl{static emptySet(t){return new sl(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||yt.comparator(e.key,i.key):(e,i)=>yt.comparator(e.key,i.key),this.keyedMap=Wc(),this.sortedSet=new ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof sl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new sl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class j1{constructor(){this.ga=new ye(yt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):St(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class dl{constructor(t,e,i,r,o,c,h,f,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new dl(t,e,sl.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&qd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class s3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class r3{constructor(){this.queries=B1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=Rt(e),o=r.queries;r.queries=B1(),o.forEach(((c,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new ht(it.ABORTED,"Firestore shutting down"))}}function B1(){return new $a((n=>ux(n)),qd)}async function a3(n,t){const e=Rt(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.ba()&&t.Da()&&(i=2):(o=new s3,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(c){const h=h_(c,`Initialization of query '${Xo(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&f_(e)}async function o3(n,t){const e=Rt(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const c=o.Sa.indexOf(t);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?r=t.Da()?0:1:!o.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function l3(n,t){const e=Rt(n);let i=!1;for(const r of t){const o=r.query,c=e.queries.get(o);if(c){for(const h of c.Sa)h.Fa(r)&&(i=!0);c.wa=r}}i&&f_(e)}function c3(n,t,e){const i=Rt(n),r=i.queries.get(t);if(r)for(const o of r.Sa)o.onError(e);i.queries.delete(t)}function f_(n){n.Ca.forEach((t=>{t.next()}))}var dy,F1;(F1=dy||(dy={})).Ma="default",F1.Cache="cache";class u3{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new dl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=dl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==dy.Cache}}class Yx{constructor(t){this.key=t}}class Gx{constructor(t){this.key=t}}class h3{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=hx(t),this.tu=new sl(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new j1,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,m=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((y,_)=>{const E=r.get(y),S=Yd(this.query,_)?_:null,A=!!E&&this.mutatedKeys.has(E.key),w=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let C=!1;E&&S?E.data.isEqual(S.data)?A!==w&&(i.track({type:3,doc:S}),C=!0):this.su(E,S)||(i.track({type:2,doc:S}),C=!0,(f&&this.eu(S,f)>0||m&&this.eu(S,m)<0)&&(h=!0)):!E&&S?(i.track({type:0,doc:S}),C=!0):E&&!S&&(i.track({type:1,doc:E}),C=!0,(f||m)&&(h=!0)),C&&(S?(c=c.add(S),o=w?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Cs:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(S,A){const w=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Rt:C})}};return w(S)-w(A)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(i),r=r??!1;const h=e&&!r?this._u():[],f=this.Xa.size===0&&this.current&&!r?1:0,m=f!==this.Za;return this.Za=f,c.length!==0||m?{snapshot:new dl(this.query,t.tu,o,c,t.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new j1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new Gx(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new Yx(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=Ut();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return dl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const d_="SyncEngine";class f3{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class d3{constructor(t){this.key=t,this.hu=!1}}class m3{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new $a((h=>ux(h)),qd),this.Iu=new Map,this.Eu=new Set,this.du=new ye(yt.comparator),this.Au=new Map,this.Ru=new n_,this.Vu={},this.mu=new Map,this.fu=fl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function g3(n,t,e=!0){const i=Jx(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await Wx(i,t,e,!0),r}async function p3(n,t){const e=Jx(n);await Wx(e,t,!0,!1)}async function Wx(n,t,e,i){const r=await kN(n.localStore,ns(t)),o=r.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await y3(n,t,o,c==="current",r.resumeToken)),n.isPrimaryClient&&e&&Ux(n.remoteStore,r),h}async function y3(n,t,e,i,r){n.pu=(_,E,S)=>(async function(w,C,V,B){let q=C.view.ru(V);q.Cs&&(q=await N1(w.localStore,C.query,!1).then((({documents:D})=>C.view.ru(D,q))));const rt=B&&B.targetChanges.get(C.targetId),tt=B&&B.targetMismatches.get(C.targetId)!=null,ot=C.view.applyChanges(q,w.isPrimaryClient,rt,tt);return q1(w,C.targetId,ot.au),ot.snapshot})(n,_,E,S);const o=await N1(n.localStore,t,!0),c=new h3(t,o.Qs),h=c.ru(o.documents),f=zu.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),m=c.applyChanges(h,n.isPrimaryClient,f);q1(n,e,m.au);const y=new f3(t,e,c);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),m.snapshot}async function _3(n,t,e){const i=Rt(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((c=>!qd(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await hy(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&a_(i.remoteStore,r.targetId),my(i,r.targetId)})).catch(Sl)):(my(i,r.targetId),await hy(i.localStore,r.targetId,!0))}async function v3(n,t){const e=Rt(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),a_(e.remoteStore,i.targetId))}async function b3(n,t,e){const i=R3(n);try{const r=await(function(c,h){const f=Rt(c),m=fe.now(),y=h.reduce(((S,A)=>S.add(A.key)),Ut());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let A=js(),w=Ut();return f.Ns.getEntries(S,y).next((C=>{A=C,A.forEach(((V,B)=>{B.isValidDocument()||(w=w.add(V))}))})).next((()=>f.localDocuments.getOverlayedDocuments(S,A))).next((C=>{_=C;const V=[];for(const B of h){const q=kk(B,_.get(B.key).overlayedDocument);q!=null&&V.push(new Jr(B.key,q,nx(q.value.mapValue),Si.exists(!0)))}return f.mutationQueue.addMutationBatch(S,m,V,h)})).next((C=>{E=C;const V=C.applyToLocalDocumentSet(_,w);return f.documentOverlayCache.saveOverlays(S,C.batchId,V)}))})).then((()=>({batchId:E.batchId,changes:dx(_)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(c,h,f){let m=c.Vu[c.currentUser.toKey()];m||(m=new ye(zt)),m=m.insert(h,f),c.Vu[c.currentUser.toKey()]=m})(i,r.batchId,e),await ju(i,r.changes),await $d(i.remoteStore)}catch(r){const o=h_(r,"Failed to persist write");e.reject(o)}}async function Kx(n,t){const e=Rt(n);try{const i=await MN(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const c=e.Au.get(o);c&&(Qt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.hu=!0:r.modifiedDocuments.size>0?Qt(c.hu,14607):r.removedDocuments.size>0&&(Qt(c.hu,42227),c.hu=!1))})),await ju(e,i,t)}catch(i){await Sl(i)}}function H1(n,t,e){const i=Rt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach(((o,c)=>{const h=c.view.va(t);h.snapshot&&r.push(h.snapshot)})),(function(c,h){const f=Rt(c);f.onlineState=h;let m=!1;f.queries.forEach(((y,_)=>{for(const E of _.Sa)E.va(h)&&(m=!0)})),m&&f_(f)})(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function E3(n,t,e){const i=Rt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let c=new ye(yt.comparator);c=c.insert(o,un.newNoDocument(o,xt.min()));const h=Ut().add(o),f=new Kd(xt.min(),new Map,new ye(zt),c,h);await Kx(i,f),i.du=i.du.remove(o),i.Au.delete(t),m_(i)}else await hy(i.localStore,t,!1).then((()=>my(i,t,e))).catch(Sl)}async function T3(n,t){const e=Rt(n),i=t.batch.batchId;try{const r=await IN(e.localStore,t);Xx(e,i,null),Qx(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await ju(e,r)}catch(r){await Sl(r)}}async function S3(n,t,e){const i=Rt(n);try{const r=await(function(c,h){const f=Rt(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return f.mutationQueue.lookupMutationBatch(m,h).next((_=>(Qt(_!==null,37113),y=_.keys(),f.mutationQueue.removeMutationBatch(m,_)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>f.localDocuments.getDocuments(m,y)))}))})(i.localStore,t);Xx(i,t,e),Qx(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await ju(i,r)}catch(r){await Sl(r)}}function Qx(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function Xx(n,t,e){const i=Rt(n);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function my(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||$x(n,i)}))}function $x(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(a_(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),m_(n))}function q1(n,t,e){for(const i of e)i instanceof Yx?(n.Ru.addReference(i.key,t),w3(n,i)):i instanceof Gx?(ft(d_,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||$x(n,i.key)):St(19791,{wu:i})}function w3(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(ft(d_,"New document in limbo: "+e),n.Eu.add(i),m_(n))}function m_(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new yt(le.fromString(t)),i=n.fu.next();n.Au.set(i,new d3(e)),n.du=n.du.insert(e,i),Ux(n.remoteStore,new Rr(ns(Xy(e.path)),i,"TargetPurposeLimboResolution",Bd.ce))}}async function ju(n,t,e){const i=Rt(n),r=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{c.push(i.pu(f,t,e).then((m=>{if((m||e)&&i.isPrimaryClient){const y=m?!m.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(m){r.push(m);const y=s_.As(f.targetId,m);o.push(y)}})))})),await Promise.all(c),i.Pu.H_(r),await(async function(f,m){const y=Rt(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>st.forEach(m,(E=>st.forEach(E.Es,(S=>y.persistence.referenceDelegate.addReference(_,E.targetId,S))).next((()=>st.forEach(E.ds,(S=>y.persistence.referenceDelegate.removeReference(_,E.targetId,S)))))))))}catch(_){if(!wl(_))throw _;ft(r_,"Failed to update sequence numbers: "+_)}for(const _ of m){const E=_.targetId;if(!_.fromCache){const S=y.Ms.get(E),A=S.snapshotVersion,w=S.withLastLimboFreeSnapshotVersion(A);y.Ms=y.Ms.insert(E,w)}}})(i.localStore,o))}async function x3(n,t){const e=Rt(n);if(!e.currentUser.isEqual(t)){ft(d_,"User change. New user:",t.toKey());const i=await Px(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new ht(it.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await ju(e,i.Ls)}}function A3(n,t){const e=Rt(n),i=e.Au.get(t);if(i&&i.hu)return Ut().add(i.key);{let r=Ut();const o=e.Iu.get(t);if(!o)return r;for(const c of o){const h=e.Tu.get(c);r=r.unionWith(h.view.nu)}return r}}function Jx(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Kx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=A3.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=E3.bind(null,t),t.Pu.H_=l3.bind(null,t.eventManager),t.Pu.yu=c3.bind(null,t.eventManager),t}function R3(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=T3.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=S3.bind(null,t),t}class yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Qd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return CN(this.persistence,new xN,t.initialUser,this.serializer)}Cu(t){return new Nx(i_.mi,this.serializer)}Du(t){return new PN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yd.provider={build:()=>new yd};class C3 extends yd{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Qt(this.persistence.referenceDelegate instanceof gd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new uN(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new Nx((i=>gd.mi(i,e)),this.serializer)}}class gy{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>H1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=x3.bind(null,this.syncEngine),await i3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new r3})()}createDatastore(t){const e=Qd(t.databaseInfo.databaseId),i=(function(o){return new jN(o)})(t.databaseInfo);return(function(o,c,h,f){return new qN(o,c,h,f)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,o,c,h){return new GN(i,r,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>H1(this.syncEngine,e,0)),(function(){return L1.v()?new L1:new VN})())}createSyncEngine(t,e){return(function(r,o,c,h,f,m,y){const _=new m3(r,o,c,h,f,m);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=Rt(e);ft(Wa,"RemoteStore shutting down."),i.Ea.add(5),await Uu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gy.provider={build:()=>new gy};class I3{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Us("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Yr="FirestoreClient";class M3{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=wn.UNAUTHENTICATED,this.clientId=qy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{ft(Yr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ft(Yr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=h_(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Ap(n,t){n.asyncQueue.verifyOperationInProgress(),ft(Yr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await Px(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function Y1(n,t){n.asyncQueue.verifyOperationInProgress();const e=await D3(n);ft(Yr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>U1(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>U1(t.remoteStore,r))),n._onlineComponents=t}async function D3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ft(Yr,"Using user provided OfflineComponentProvider");try{await Ap(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===it.FAILED_PRECONDITION||r.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;du("Error using user provided cache. Falling back to memory cache: "+e),await Ap(n,new yd)}}else ft(Yr,"Using default OfflineComponentProvider"),await Ap(n,new C3(void 0));return n._offlineComponents}async function Zx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ft(Yr,"Using user provided OnlineComponentProvider"),await Y1(n,n._uninitializedComponentsProvider._online)):(ft(Yr,"Using default OnlineComponentProvider"),await Y1(n,new gy))),n._onlineComponents}function O3(n){return Zx(n).then((t=>t.syncEngine))}async function G1(n){const t=await Zx(n),e=t.eventManager;return e.onListen=g3.bind(null,t.syncEngine),e.onUnlisten=_3.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=p3.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=v3.bind(null,t.syncEngine),e}function tA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const W1=new Map;const k3="firestore.googleapis.com",K1=!0;class Q1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=k3,this.ssl=K1}else this.host=t.host,this.ssl=t.ssl??K1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Ox;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<kx)throw new ht(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}G4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tA(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ht(it.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ht(it.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ht(it.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class g_{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new L4;switch(i.type){case"firstParty":return new j4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ht(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=W1.get(e);i&&(ft("ComponentProvider","Removing Datastore"),W1.delete(e),i.terminate())})(this),Promise.resolve()}}class Al{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Al(this.firestore,t,this._query)}}class ze{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ze(this.firestore,t,this._key)}toJSON(){return{type:ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(Pu(e,ze._jsonSchema))return new ze(t,i||null,new yt(le.fromString(e.referencePath)))}}ze._jsonSchemaVersion="firestore/documentReference/1.0",ze._jsonSchema={type:Le("string",ze._jsonSchemaVersion),referencePath:Le("string")};class Lr extends Al{constructor(t,e,i){super(t,e,Xy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ze(this.firestore,null,new yt(t))}withConverter(t){return new Lr(this.firestore,t,this._path)}}function _d(n,t,...e){if(n=Ge(n),Yw("collection","path",t),n instanceof g_){const i=le.fromString(t,...e);return o1(i),new Lr(n,null,i)}{if(!(n instanceof ze||n instanceof Lr))throw new ht(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(le.fromString(t,...e));return o1(i),new Lr(n.firestore,null,i)}}function Eu(n,t,...e){if(n=Ge(n),arguments.length===1&&(t=qy.newId()),Yw("doc","path",t),n instanceof g_){const i=le.fromString(t,...e);return a1(i),new ze(n,null,new yt(i))}{if(!(n instanceof ze||n instanceof Lr))throw new ht(it.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(le.fromString(t,...e));return a1(i),new ze(n.firestore,n instanceof Lr?n.converter:null,new yt(i))}}const X1="AsyncQueue";class $1{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Lx(this,"async_queue_retry"),this._c=()=>{const i=xp();i&&ft(X1,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=xp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=xp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new za;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!wl(t))throw t;ft(X1,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Us("INTERNAL UNHANDLED ERROR: ",J1(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=u_.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&St(47125,{Pc:J1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function J1(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function Z1(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1})(n,["next","error","complete"])}class ml extends g_{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new $1,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new $1(t),this._firestoreClient=void 0,await t}}}function N3(n,t,e){e||(e=cd);const i=ky(n,"firestore");if(i.isInitialized(e)){const r=i.getImmediate({identifier:e}),o=i.getOptions(e);if(Fa(o,t))return r;throw new ht(it.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new ht(it.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<kx)throw new ht(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&vl(t.host)&&$S(t.host),i.initialize({options:t,instanceIdentifier:e})}function eA(n){if(n._terminated)throw new ht(it.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||P3(n),n._firestoreClient}function P3(n){const t=n._freezeSettings(),e=(function(r,o,c,h){return new ik(r,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,tA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new M3(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}class ii{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ii(an.fromBase64String(t))}catch(e){throw new ht(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ii(an.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Pu(t,ii._jsonSchema))return ii.fromBase64String(t.bytes)}}ii._jsonSchemaVersion="firestore/bytes/1.0",ii._jsonSchema={type:Le("string",ii._jsonSchemaVersion),bytes:Le("string")};class Jd{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ht(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Zd{constructor(t){this._methodName=t}}class ss{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ht(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ht(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ss._jsonSchemaVersion}}static fromJSON(t){if(Pu(t,ss._jsonSchema))return new ss(t.latitude,t.longitude)}}ss._jsonSchemaVersion="firestore/geoPoint/1.0",ss._jsonSchema={type:Le("string",ss._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};class rs{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:rs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Pu(t,rs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new rs(t.vectorValues);throw new ht(it.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rs._jsonSchemaVersion="firestore/vectorValue/1.0",rs._jsonSchema={type:Le("string",rs._jsonSchemaVersion),vectorValues:Le("object")};const V3=/^__.*__$/;class L3{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Jr(t,this.data,this.fieldMask,e,this.fieldTransforms):new Lu(t,this.data,e,this.fieldTransforms)}}class nA{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Jr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function iA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ac:n})}}class p_{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new p_({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return vd(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(iA(this.Ac)&&V3.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class z3{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Qd(t)}Cc(t,e,i,r=!1){return new p_({Ac:t,methodName:e,Dc:i,path:rn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function y_(n){const t=n._freezeSettings(),e=Qd(n._databaseId);return new z3(n._databaseId,!!t.ignoreUndefinedProperties,e)}function U3(n,t,e,i,r,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,t,e,r);v_("Data must be an object, but it was:",c,i);const h=sA(i,c);let f,m;if(o.merge)f=new Un(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const E=py(t,_,e);if(!c.contains(E))throw new ht(it.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);aA(y,E)||y.push(E)}f=new Un(y),m=c.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,m=c.fieldTransforms;return new L3(new An(h),f,m)}class tm extends Zd{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof tm}}class __ extends Zd{_toFieldTransform(t){return new Ik(t.path,new _u)}isEqual(t){return t instanceof __}}function j3(n,t,e,i){const r=n.Cc(1,t,e);v_("Data must be an object, but it was:",r,i);const o=[],c=An.empty();$r(i,((f,m)=>{const y=b_(t,f,e);m=Ge(m);const _=r.yc(y);if(m instanceof tm)o.push(y);else{const E=Bu(m,_);E!=null&&(o.push(y),c.set(y,E))}}));const h=new Un(o);return new nA(c,h,r.fieldTransforms)}function B3(n,t,e,i,r,o){const c=n.Cc(1,t,e),h=[py(t,i,e)],f=[r];if(o.length%2!=0)throw new ht(it.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)h.push(py(t,o[E])),f.push(o[E+1]);const m=[],y=An.empty();for(let E=h.length-1;E>=0;--E)if(!aA(m,h[E])){const S=h[E];let A=f[E];A=Ge(A);const w=c.yc(S);if(A instanceof tm)m.push(S);else{const C=Bu(A,w);C!=null&&(m.push(S),y.set(S,C))}}const _=new Un(m);return new nA(y,_,c.fieldTransforms)}function F3(n,t,e,i=!1){return Bu(e,n.Cc(i?4:3,t))}function Bu(n,t){if(rA(n=Ge(n)))return v_("Unsupported field value:",t,n),sA(n,t);if(n instanceof Zd)return(function(i,r){if(!iA(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,r){const o=[];let c=0;for(const h of i){let f=Bu(h,r.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,t)}return(function(i,r){if((i=Ge(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Ak(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=fe.fromDate(i);return{timestampValue:md(r.serializer,o)}}if(i instanceof fe){const o=new fe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:md(r.serializer,o)}}if(i instanceof ss)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ii)return{bytesValue:xx(r.serializer,i._byteString)};if(i instanceof ze){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:e_(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof rs)return(function(c,h){return{mapValue:{fields:{[tx]:{stringValue:ex},[ud]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return $y(h.serializer,m)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${jd(i)}`)})(n,t)}function sA(n,t){const e={};return Kw(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$r(n,((i,r)=>{const o=Bu(r,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function rA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof fe||n instanceof ss||n instanceof ii||n instanceof ze||n instanceof Zd||n instanceof rs)}function v_(n,t,e){if(!rA(e)||!Gw(e)){const i=jd(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function py(n,t,e){if((t=Ge(t))instanceof Jd)return t._internalPath;if(typeof t=="string")return b_(n,t);throw vd("Field path arguments must be of type string or ",n,!1,void 0,e)}const H3=new RegExp("[~\\*/\\[\\]]");function b_(n,t,e){if(t.search(H3)>=0)throw vd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Jd(...t.split("."))._internalPath}catch{throw vd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function vd(n,t,e,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new ht(it.INVALID_ARGUMENT,h+n+f)}function aA(n,t){return n.some((e=>e.isEqual(t)))}class oA{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new q3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(E_("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class q3 extends oA{data(){return super.data()}}function E_(n,t){return typeof t=="string"?b_(n,t):t instanceof Jd?t._internalPath:t._delegate._internalPath}function Y3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ht(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class T_{}class G3 extends T_{}function lA(n,t,...e){let i=[];t instanceof T_&&i.push(t),i=i.concat(e),(function(o){const c=o.filter((f=>f instanceof S_)).length,h=o.filter((f=>f instanceof em)).length;if(c>1||c>0&&h>0)throw new ht(it.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class em extends G3{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new em(t,e,i)}_apply(t){const e=this._parse(t);return uA(t._query,e),new Al(t.firestore,t.converter,ry(t._query,e))}_parse(t){const e=y_(t.firestore);return(function(o,c,h,f,m,y,_){let E;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ht(it.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){eT(_,y);const A=[];for(const w of _)A.push(tT(f,o,w));E={arrayValue:{values:A}}}else E=tT(f,o,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||eT(_,y),E=F3(h,c,_,y==="in"||y==="not-in");return Ve.create(m,y,E)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function cA(n,t,e){const i=t,r=E_("where",n);return em._create(r,i,e)}class S_ extends T_{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new S_(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:xi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(r,o){let c=r;const h=o.getFlattenedFilters();for(const f of h)uA(c,f),c=ry(c,f)})(t._query,e),new Al(t.firestore,t.converter,ry(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function tT(n,t,e){if(typeof(e=Ge(e))=="string"){if(e==="")throw new ht(it.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cx(t)&&e.indexOf("/")!==-1)throw new ht(it.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(le.fromString(e));if(!yt.isDocumentKey(i))throw new ht(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return g1(n,new yt(i))}if(e instanceof ze)return g1(n,e._key);throw new ht(it.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jd(e)}.`)}function eT(n,t){if(!Array.isArray(n)||n.length===0)throw new ht(it.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function uA(n,t){const e=(function(r,o){for(const c of r)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ht(it.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(it.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class W3{convertValue(t,e="none"){switch(Hr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return we(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Fr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return $r(t,((r,o)=>{i[r]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[ud].arrayValue?.values?.map((i=>we(i.doubleValue)));return new rs(e)}convertGeoPoint(t){return new ss(we(t.latitude),we(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Hd(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(gu(t));default:return null}}convertTimestamp(t){const e=Br(t);return new fe(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=le.fromString(t);Qt(Dx(i),9688,{name:t});const r=new pu(i.get(1),i.get(3)),o=new yt(i.popFirst(5));return r.isEqual(e)||Us(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function K3(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class Qc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ja extends oA{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new $f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(E_("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(it.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=ja._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}ja._jsonSchemaVersion="firestore/documentSnapshot/1.0",ja._jsonSchema={type:Le("string",ja._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};class $f extends ja{data(t={}){return super.data(t)}}class rl{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Qc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new $f(this._firestore,this._userDataWriter,i.key,i,new Qc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ht(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((h=>{const f=new $f(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Qc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new $f(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Qc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,y=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:Q3(h.type),doc:f,oldIndex:m,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(it.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=rl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=qy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Q3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:n})}}rl._jsonSchemaVersion="firestore/querySnapshot/1.0",rl._jsonSchema={type:Le("string",rl._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};class hA extends W3{constructor(t){super(),this.firestore=t}convertBytes(t){return new ii(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ze(this.firestore,null,e)}}function fA(n,t,e,...i){n=Ua(n,ze);const r=Ua(n.firestore,ml),o=y_(r);let c;return c=typeof(t=Ge(t))=="string"||t instanceof Jd?B3(o,"updateDoc",n._key,t,e,i):j3(o,"updateDoc",n._key,t),w_(r,[c.toMutation(n._key,Si.exists(!0))])}function dA(n){return w_(Ua(n.firestore,ml),[new Jy(n._key,Si.none())])}function mA(n,t){const e=Ua(n.firestore,ml),i=Eu(n),r=K3(n.converter,t);return w_(e,[U3(y_(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Si.exists(!1))]).then((()=>i))}function gA(n,...t){n=Ge(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||Z1(t[i])||(e=t[i++]);const r={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(Z1(t[i])){const f=t[i];t[i]=f.next?.bind(f),t[i+1]=f.error?.bind(f),t[i+2]=f.complete?.bind(f)}let o,c,h;if(n instanceof ze)c=Ua(n.firestore,ml),h=Xy(n._key.path),o={next:f=>{t[i]&&t[i](X3(c,n,f))},error:t[i+1],complete:t[i+2]};else{const f=Ua(n,Al);c=Ua(f.firestore,ml),h=f._query;const m=new hA(c);o={next:y=>{t[i]&&t[i](new rl(c,m,f,y))},error:t[i+1],complete:t[i+2]},Y3(n._query)}return(function(m,y,_,E){const S=new I3(E),A=new u3(y,S,_);return m.asyncQueue.enqueueAndForget((async()=>a3(await G1(m),A))),()=>{S.Nu(),m.asyncQueue.enqueueAndForget((async()=>o3(await G1(m),A)))}})(eA(c),h,r,o)}function w_(n,t){return(function(i,r){const o=new za;return i.asyncQueue.enqueueAndForget((async()=>b3(await O3(i),r,o))),o.promise})(eA(n),t)}function X3(n,t,e){const i=e.docs.get(t._key),r=new hA(n);return new ja(n,r,t._key,i,new Qc(e.hasPendingWrites,e.fromCache),t.converter)}function bd(){return new __("serverTimestamp")}(function(t,e=!0){(function(r){Tl=r})(bl),ll(new Ha("firestore",((i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new ml(new z4(i.getProvider("auth-internal")),new B4(c,i.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ht(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(m.options.projectId,y)})(c,r),c);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Pr(n1,i1,t),Pr(n1,i1,"esm2020")})();const $3={apiKey:"AIzaSyCTyX-O56qZ3ImQnuo6RvP2SFB3U5WYz6E",authDomain:"expense-track-c543f.firebaseapp.com",projectId:"expense-track-c543f",storageBucket:"expense-track-c543f.firebasestorage.app",messagingSenderId:"639110160440",appId:"1:639110160440:web:4487511611c9e7a88046cd"},pA=cD().length===0?tw($3):ew(),Cr=N3(pA,{experimentalForceLongPolling:!0,useFetchStreams:!1}),Ei=N4(pA),yA=Y.createContext();function nm(){return Y.useContext(yA)}function J3({children:n}){const[t,e]=Y.useState(null),[i,r]=Y.useState(!0);function o(m,y){return vO(Ei,m,y)}function c(m,y){return bO(Ei,m,y)}function h(){return SO(Ei)}Y.useEffect(()=>{if(!Ei){r(!1);return}return jy(Ei,y=>{e(y),r(!1)})},[]);const f={currentUser:t,signup:o,login:c,logout:h};return O.jsx(yA.Provider,{value:f,children:!i&&n})}var _A={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},nT=Or.createContext&&Or.createContext(_A),Z3=["attr","size","title"];function t6(n,t){if(n==null)return{};var e=e6(n,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function e6(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Ed(){return Ed=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ed.apply(this,arguments)}function iT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Td(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?iT(Object(e),!0).forEach(function(i){n6(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):iT(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function n6(n,t,e){return t=i6(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function i6(n){var t=s6(n,"string");return typeof t=="symbol"?t:t+""}function s6(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function vA(n){return n&&n.map((t,e)=>Or.createElement(t.tag,Td({key:e},t.attr),vA(t.child)))}function In(n){return t=>Or.createElement(r6,Ed({attr:Td({},n.attr)},t),vA(n.child))}function r6(n){var t=e=>{var{attr:i,size:r,title:o}=n,c=t6(n,Z3),h=r||e.size||"1em",f;return e.className&&(f=e.className),n.className&&(f=(f?f+" ":"")+n.className),Or.createElement("svg",Ed({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,c,{className:f,style:Td(Td({color:n.color||e.color},e.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Or.createElement("title",null,o),n.children)};return nT!==void 0?Or.createElement(nT.Consumer,null,e=>t(e)):t(_A)}function sT(n){return In({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(n)}function yy(n){return In({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(n)}function a6(n){return In({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function o6(n){return In({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"},child:[]}]})(n)}function bA(n){return In({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function l6(n){return In({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function c6(n){return In({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(n)}function u6(n){return In({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M560 224h-29.5c-8.8-20-21.6-37.7-37.4-52.5L512 96h-32c-29.4 0-55.4 13.5-73 34.3-7.6-1.1-15.1-2.3-23-2.3H256c-77.4 0-141.9 55-156.8 128H56c-14.8 0-26.5-13.5-23.5-28.8C34.7 215.8 45.4 208 57 208h1c3.3 0 6-2.7 6-6v-20c0-3.3-2.7-6-6-6-28.5 0-53.9 20.4-57.5 48.6C-3.9 258.8 22.7 288 56 288h40c0 52.2 25.4 98.1 64 127.3V496c0 8.8 7.2 16 16 16h64c8.8 0 16-7.2 16-16v-48h128v48c0 8.8 7.2 16 16 16h64c8.8 0 16-7.2 16-16v-80.7c11.8-8.9 22.3-19.4 31.3-31.3H560c8.8 0 16-7.2 16-16V240c0-8.8-7.2-16-16-16zm-128 64c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM256 96h128c5.4 0 10.7.4 15.9.8 0-.3.1-.5.1-.8 0-53-43-96-96-96s-96 43-96 96c0 2.1.5 4.1.6 6.2 15.2-3.9 31-6.2 47.4-6.2z"},child:[]}]})(n)}function EA(n){return In({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function TA(n){return In({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function h6(n){return In({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(n)}function f6(n){return In({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function SA(n){return In({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function wA(n){return In({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(n)}function d6(){const{currentUser:n,logout:t}=nm(),e=Nd(),[i,r]=Y.useState(!1);async function o(){try{await t(),e("/login")}catch(c){console.error("Failed to log out",c)}}return O.jsxs("nav",{style:{position:"sticky",top:0,zIndex:100,background:"rgba(255,255,255,0.85)",backdropFilter:"blur(12px)",boxShadow:"0 10px 30px rgba(0,0,0,0.06)"},children:[O.jsxs("div",{className:"container navbar-inner",children:[O.jsxs(Zo,{to:"/",className:"brand",children:[O.jsx(wA,{}),O.jsx("span",{children:"Expensify"})]}),n&&O.jsxs(O.Fragment,{children:[O.jsx("button",{className:"menu-toggle",onClick:()=>r(!i),children:i?O.jsx(f6,{}):O.jsx(a6,{})}),O.jsxs("div",{className:`nav-links ${i?"open":""}`,children:[O.jsxs(Zo,{to:"/",className:"nav-btn",children:[O.jsx(o6,{})," Dashboard"]}),O.jsxs(Zo,{to:"/income",className:"nav-btn",children:[O.jsx(yy,{})," Income"]}),O.jsx(Zo,{to:"/expenses",className:"nav-btn",children:" Expenses"}),O.jsxs("button",{onClick:o,className:"nav-btn logout",children:[O.jsx(h6,{})," Logout"]})]})]})]}),O.jsx("style",{children:`
        .navbar-inner {
          max-width: 1200px;
          margin: 0 auto;
          padding: 1rem;
          display: flex;
          align-items: center;
          justify-content: space-between;
        }

        .brand {
          display: flex;
          align-items: center;
          gap: 0.6rem;
          font-size: 1.6rem;
          font-weight: 800;
          color: var(--color-primary);
          text-decoration: none;
          letter-spacing: 0.5px;
        }

        .nav-links {
          display: flex;
          gap: 0.5rem;
          align-items: center;
        }

        .nav-btn {
          display: flex;
          align-items: center;
          gap: 0.4rem;
          padding: 0.6rem 1rem;
          border-radius: 10px;
          text-decoration: none;
          background: transparent;
          border: none;
          cursor: pointer;
          font-size: 0.9rem;
          font-weight: 500;
          color: #333;
          transition: all 0.25s ease;
        }

        .nav-btn:hover {
          background: rgba(0, 123, 255, 0.08);
          color: var(--color-primary);
          transform: translateY(-1px);
        }

        .logout:hover {
          background: rgba(220, 53, 69, 0.1);
          color: #dc3545;
        }

        .menu-toggle {
          display: none;
          background: none;
          border: none;
          font-size: 1.4rem;
          cursor: pointer;
        }

        /* Mobile */
        @media (max-width: 768px) {
          .menu-toggle {
            display: block;
          }

          .nav-links {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            flex-direction: column;
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            padding: 1rem;
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
            transform: translateY(-10px);
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
          }

          .nav-links.open {
            transform: translateY(0);
            opacity: 1;
            pointer-events: auto;
          }

          .nav-btn {
            width: 100%;
            justify-content: flex-start;
          }
        }
      `})]})}function Rp({children:n}){return O.jsxs("div",{className:"layout",style:{minHeight:"100vh",display:"flex",flexDirection:"column",background:`
          radial-gradient(at 20% 20%, #c7d2fe 0px, transparent 50%),
          radial-gradient(at 80% 0%, #bae6fd 0px, transparent 50%),
          radial-gradient(at 0% 50%, #ddd6fe 0px, transparent 50%),
          radial-gradient(at 80% 50%, #bbf7d0 0px, transparent 50%),
          radial-gradient(at 0% 100%, #fef3c7 0px, transparent 50%),
          radial-gradient(at 80% 100%, #fecaca 0px, transparent 50%)
        `},children:[O.jsx(d6,{}),O.jsx("main",{className:"container",style:{flex:1,padding:"2.5rem 1rem",maxWidth:"1200px",margin:"0 auto",width:"100%"},children:n}),O.jsxs("footer",{style:{textAlign:"center",padding:"1.5rem",color:"var(--text-muted)",fontSize:"0.85rem",borderTop:"1px solid rgba(0,0,0,0.05)",background:"rgba(255,255,255,0.7)",backdropFilter:"blur(8px)"},children:[" ",new Date().getFullYear()," ",O.jsx("strong",{children:"Expensify"}),"  Track your money smartly "]})]})}function m6(){const n=Y.useRef(),t=Y.useRef(),{login:e,signup:i}=nm(),[r,o]=Y.useState(""),[c,h]=Y.useState(!1),[f,m]=Y.useState(!0),y=Nd();async function _(E){E.preventDefault();try{o(""),h(!0),f?await e(n.current.value,t.current.value):await i(n.current.value,t.current.value),y("/")}catch{o(`Failed to ${f?"log in":"create an account"}`)}h(!1)}return O.jsxs("div",{className:"auth-wrapper",children:[O.jsxs("div",{className:"auth-card fade-in",children:[O.jsx("h1",{children:f?"Welcome Back ":"Create Your Account "}),O.jsx("p",{className:"subtitle",children:f?"Log in to continue managing your expenses":"Sign up to start tracking your spending smartly"}),r&&O.jsx("div",{className:"auth-error",children:r}),O.jsxs("form",{onSubmit:_,children:[O.jsxs("div",{className:"input-group",children:[O.jsx("label",{children:"Email"}),O.jsxs("div",{className:"input-icon",children:[O.jsx(l6,{}),O.jsx("input",{type:"email",ref:n,required:!0,placeholder:"you@example.com"})]})]}),O.jsxs("div",{className:"input-group",children:[O.jsx("label",{children:"Password"}),O.jsxs("div",{className:"input-icon",children:[O.jsx(c6,{}),O.jsx("input",{type:"password",ref:t,required:!0,placeholder:""})]})]}),O.jsx("button",{disabled:c,className:"btn btn-primary w-full",children:c?"Please wait":f?"Log In":"Sign Up"})]}),O.jsxs("div",{className:"auth-switch",children:[f?"Don't have an account?":"Already have an account?",O.jsx("button",{onClick:()=>m(!f),children:f?"Sign Up":"Log In"})]})]}),O.jsx("style",{children:`
        .auth-wrapper {
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          background: linear-gradient(135deg, #6366F1, #22C55E);
          padding: 1rem;
        }

        .auth-card {
          width: 100%;
          max-width: 420px;
          background: rgba(255,255,255,0.85);
          backdrop-filter: blur(14px);
          border-radius: 20px;
          padding: 2.2rem;
          box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .auth-card h1 {
          text-align: center;
          font-size: 1.8rem;
          font-weight: 700;
          margin-bottom: 0.3rem;
          color: #111827;
        }

        .subtitle {
          text-align: center;
          font-size: 0.9rem;
          color: #6b7280;
          margin-bottom: 1.8rem;
        }

        .auth-error {
          background: #fee2e2;
          color: #b91c1c;
          padding: 0.8rem;
          border-radius: 10px;
          font-size: 0.85rem;
          margin-bottom: 1rem;
          text-align: center;
        }

        .input-group {
          margin-bottom: 1.2rem;
        }

        .input-group label {
          font-size: 0.85rem;
          font-weight: 600;
          margin-bottom: 0.4rem;
          display: block;
        }

        .input-icon {
          display: flex;
          align-items: center;
          gap: 0.6rem;
          background: #f9fafb;
          padding: 0.7rem 0.8rem;
          border-radius: 10px;
          border: 1px solid #e5e7eb;
        }

        .input-icon input {
          border: none;
          outline: none;
          background: transparent;
          width: 100%;
          font-size: 0.95rem;
        }

        .btn {
          margin-top: 0.6rem;
          padding: 0.75rem;
          border-radius: 12px;
          font-weight: 600;
        }

        .auth-switch {
          margin-top: 1.5rem;
          text-align: center;
          font-size: 0.9rem;
          color: #6b7280;
        }

        .auth-switch button {
          background: none;
          border: none;
          margin-left: 6px;
          color: #4f46e5;
          font-weight: 600;
          cursor: pointer;
          text-decoration: underline;
        }

        .fade-in {
          animation: fade 0.4s ease-in;
        }

        @keyframes fade {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `})]})}function xA(){const[n,t]=Y.useState([]),[e,i]=Y.useState(!0);return Y.useEffect(()=>{let h=null;const f=jy(Ei,m=>{if(!m){t([]),i(!1);return}const y=lA(_d(Cr,"expenses"),cA("uid","==",m.uid));h=gA(y,_=>{const E=_.docs.map(S=>({id:S.id,...S.data(),date:S.data().date?.toDate?.()||null})).sort((S,A)=>{const w=S.date?.getTime?.()||0;return(A.date?.getTime?.()||0)-w});t(E),i(!1)},_=>{console.error("Firestore listener error:",_)})});return()=>{h&&h(),f()}},[]),{expenses:n,loading:e,addExpense:async h=>{Ei.currentUser&&await mA(_d(Cr,"expenses"),{...h,uid:Ei.currentUser.uid,date:h.date?new Date(h.date):bd()})},deleteExpense:async h=>{await dA(Eu(Cr,"expenses",h))},updateExpense:async(h,f)=>{await fA(Eu(Cr,"expenses",h),{...f,date:f.date?new Date(f.date):bd()})}}}function AA(){const[n,t]=Y.useState([]),[e,i]=Y.useState(!0);return Y.useEffect(()=>{let h=null;const f=jy(Ei,m=>{if(!m){t([]),i(!1);return}const y=lA(_d(Cr,"incomes"),cA("uid","==",m.uid));h=gA(y,_=>{const E=_.docs.map(S=>({id:S.id,...S.data(),date:S.data().date?.toDate?.()||null})).sort((S,A)=>{const w=S.date?.getTime?.()||0;return(A.date?.getTime?.()||0)-w});t(E),i(!1)},_=>{console.error("Firestore listener error:",_)})});return()=>{h&&h(),f()}},[]),{incomes:n,loading:e,addIncome:async h=>{Ei.currentUser&&await mA(_d(Cr,"incomes"),{...h,uid:Ei.currentUser.uid,date:h.date?new Date(h.date):bd()})},deleteIncome:async h=>{await dA(Eu(Cr,"incomes",h))},updateIncome:async(h,f)=>{await fA(Eu(Cr,"incomes",h),{...f,date:f.date?new Date(f.date):bd()})}}}function Fu(n){return n+.5|0}const Ir=(n,t,e)=>Math.max(Math.min(n,e),t);function Xc(n){return Ir(Fu(n*2.55),0,255)}function zr(n){return Ir(Fu(n*255),0,255)}function Ms(n){return Ir(Fu(n/2.55)/100,0,1)}function rT(n){return Ir(Fu(n*100),0,100)}const ei={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},_y=[..."0123456789ABCDEF"],g6=n=>_y[n&15],p6=n=>_y[(n&240)>>4]+_y[n&15],Af=n=>(n&240)>>4===(n&15),y6=n=>Af(n.r)&&Af(n.g)&&Af(n.b)&&Af(n.a);function _6(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&ei[n[1]]*17,g:255&ei[n[2]]*17,b:255&ei[n[3]]*17,a:t===5?ei[n[4]]*17:255}:(t===7||t===9)&&(e={r:ei[n[1]]<<4|ei[n[2]],g:ei[n[3]]<<4|ei[n[4]],b:ei[n[5]]<<4|ei[n[6]],a:t===9?ei[n[7]]<<4|ei[n[8]]:255})),e}const v6=(n,t)=>n<255?t(n):"";function b6(n){var t=y6(n)?g6:p6;return n?"#"+t(n.r)+t(n.g)+t(n.b)+v6(n.a,t):void 0}const E6=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function RA(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function T6(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function S6(n,t,e){const i=RA(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function w6(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function x_(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),h=(o+c)/2;let f,m,y;return o!==c&&(y=o-c,m=h>.5?y/(2-o-c):y/(o+c),f=w6(e,i,r,y,o),f=f*60+.5),[f|0,m||0,h]}function A_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(zr)}function R_(n,t,e){return A_(RA,n,t,e)}function x6(n,t,e){return A_(S6,n,t,e)}function A6(n,t,e){return A_(T6,n,t,e)}function CA(n){return(n%360+360)%360}function R6(n){const t=E6.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Xc(+t[5]):zr(+t[5]));const r=CA(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=x6(r,o,c):t[1]==="hsv"?i=A6(r,o,c):i=R_(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function C6(n,t){var e=x_(n);e[0]=CA(e[0]+t),e=R_(e),n.r=e[0],n.g=e[1],n.b=e[2]}function I6(n){if(!n)return;const t=x_(n),e=t[0],i=rT(t[1]),r=rT(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Ms(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const aT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},oT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function M6(){const n={},t=Object.keys(oT),e=Object.keys(aT);let i,r,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,aT[o]);o=parseInt(oT[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let Rf;function D6(n){Rf||(Rf=M6(),Rf.transparent=[0,0,0,0]);const t=Rf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const O6=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function k6(n){const t=O6.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?Xc(c):Ir(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?Xc(i):Ir(i,0,255)),r=255&(t[4]?Xc(r):Ir(r,0,255)),o=255&(t[6]?Xc(o):Ir(o,0,255)),{r:i,g:r,b:o,a:e}}}function N6(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Ms(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Cp=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Yo=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function P6(n,t,e){const i=Yo(Ms(n.r)),r=Yo(Ms(n.g)),o=Yo(Ms(n.b));return{r:zr(Cp(i+e*(Yo(Ms(t.r))-i))),g:zr(Cp(r+e*(Yo(Ms(t.g))-r))),b:zr(Cp(o+e*(Yo(Ms(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Cf(n,t,e){if(n){let i=x_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=R_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function IA(n,t){return n&&Object.assign(t||{},n)}function lT(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=zr(n[3]))):(t=IA(n,{r:0,g:0,b:0,a:1}),t.a=zr(t.a)),t}function V6(n){return n.charAt(0)==="r"?k6(n):R6(n)}class Tu{constructor(t){if(t instanceof Tu)return t;const e=typeof t;let i;e==="object"?i=lT(t):e==="string"&&(i=_6(t)||D6(t)||V6(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=IA(this._rgb);return t&&(t.a=Ms(t.a)),t}set rgb(t){this._rgb=lT(t)}rgbString(){return this._valid?N6(this._rgb):void 0}hexString(){return this._valid?b6(this._rgb):void 0}hslString(){return this._valid?I6(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=i.a-r.a,m=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-m,i.r=255&m*i.r+o*r.r+.5,i.g=255&m*i.g+o*r.g+.5,i.b=255&m*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=P6(this._rgb,t._rgb,e)),this}clone(){return new Tu(this.rgb)}alpha(t){return this._rgb.a=zr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Fu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Cf(this._rgb,2,t),this}darken(t){return Cf(this._rgb,2,-t),this}saturate(t){return Cf(this._rgb,1,t),this}desaturate(t){return Cf(this._rgb,1,-t),this}rotate(t){return C6(this._rgb,t),this}}function Rs(){}const L6=(()=>{let n=0;return()=>n++})();function oe(n){return n==null}function He(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function qt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function oi(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Qi(n,t){return oi(n)?n:t}function Ht(n,t){return typeof n>"u"?t:n}const z6=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,MA=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function he(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function te(n,t,e,i){let r,o,c;if(He(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(qt(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function Sd(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function wd(n){if(He(n))return n.map(wd);if(qt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=wd(n[e[r]]);return t}return n}function DA(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function U6(n,t,e,i){if(!DA(n))return;const r=t[n],o=e[n];qt(r)&&qt(o)?Su(r,o,i):t[n]=wd(o)}function Su(n,t,e){const i=He(t)?t:[t],r=i.length;if(!qt(n))return n;e=e||{};const o=e.merger||U6;let c;for(let h=0;h<r;++h){if(c=i[h],!qt(c))continue;const f=Object.keys(c);for(let m=0,y=f.length;m<y;++m)o(f[m],n,c,e)}return n}function ru(n,t){return Su(n,t,{merger:j6})}function j6(n,t,e){if(!DA(n))return;const i=t[n],r=e[n];qt(i)&&qt(r)?ru(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=wd(r))}const cT={"":n=>n,x:n=>n.x,y:n=>n.y};function B6(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function F6(n){const t=B6(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Ka(n,t){return(cT[t]||(cT[t]=F6(t)))(n)}function C_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const wu=n=>typeof n<"u",Gr=n=>typeof n=="function",uT=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function H6(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ae=Math.PI,Ue=2*ae,xd=Number.POSITIVE_INFINITY,q6=ae/180,qe=ae/2,Ma=ae/4,hT=ae*2/3,OA=Math.log10,Ur=Math.sign;function Jf(n,t,e){return Math.abs(n-t)<e}function fT(n){const t=Math.round(n);n=Jf(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(OA(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function Y6(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function G6(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Ad(n){return!G6(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function W6(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function K6(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function ks(n){return n*(ae/180)}function Q6(n){return n*(180/ae)}function dT(n){if(!oi(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function kA(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*ae&&(o+=Ue),{angle:o,distance:r}}function X6(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Zi(n){return(n%Ue+Ue)%Ue}function Rd(n,t,e,i){const r=Zi(n),o=Zi(t),c=Zi(e),h=Zi(o-r),f=Zi(c-r),m=Zi(r-o),y=Zi(r-c);return r===o||r===c||i&&o===c||h>f&&m<y}function Cn(n,t,e){return Math.max(t,Math.min(e,n))}function $6(n){return Cn(n,-32768,32767)}function La(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function I_(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const vy=(n,t,e,i)=>I_(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),J6=(n,t,e)=>I_(n,e,i=>n[i][t]>=e);function Z6(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const NA=["push","pop","shift","splice","unshift"];function tP(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),NA.forEach(e=>{const i="_onData"+C_(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function mT(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(NA.forEach(o=>{delete n[o]}),delete n._chartjs)}function PA(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const VA=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function LA(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,VA.call(window,()=>{i=!1,n.apply(t,e)}))}}function eP(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const M_=n=>n==="start"?"left":n==="end"?"right":"center",cn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,nP=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,If=n=>n===0||n===1,gT=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Ue/e)),pT=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Ue/e)+1,au={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*qe)+1,easeOutSine:n=>Math.sin(n*qe),easeInOutSine:n=>-.5*(Math.cos(ae*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>If(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>If(n)?n:gT(n,.075,.3),easeOutElastic:n=>If(n)?n:pT(n,.075,.3),easeInOutElastic(n){return If(n)?n:n<.5?.5*gT(n*2,.1125,.45):.5+.5*pT(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-au.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?au.easeInBounce(n*2)*.5:au.easeOutBounce(n*2-1)*.5+.5};function zA(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function yT(n){return zA(n)?n:new Tu(n)}function Ip(n){return zA(n)?n:new Tu(n).saturate(.5).darken(.1).hexString()}const iP=["x","y","borderWidth","radius","tension"],sP=["color","borderColor","backgroundColor"];function rP(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:sP},numbers:{type:"number",properties:iP}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function aP(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const _T=new Map;function oP(n,t){t=t||{};const e=n+JSON.stringify(t);let i=_T.get(e);return i||(i=new Intl.NumberFormat(n,t),_T.set(e,i)),i}function D_(n,t,e){return oP(t,e).format(n)}const lP={values(n){return He(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const m=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(m<1e-4||m>1e15)&&(r="scientific"),o=cP(n,e)}const c=OA(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),D_(n,i,f)}};function cP(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var UA={formatters:lP};function uP(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:UA.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Qa=Object.create(null),by=Object.create(null);function ou(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Mp(n,t,e){return typeof t=="string"?Su(ou(n,t),e):Su(ou(n,""),t)}class hP{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Ip(r.backgroundColor),this.hoverBorderColor=(i,r)=>Ip(r.borderColor),this.hoverColor=(i,r)=>Ip(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Mp(this,t,e)}get(t){return ou(this,t)}describe(t,e){return Mp(by,t,e)}override(t,e){return Mp(Qa,t,e)}route(t,e,i,r){const o=ou(this,t),c=ou(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],m=c[r];return qt(f)?Object.assign({},m,f):Ht(f,m)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var xe=new hP({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[rP,aP,uP]);function fP(n){return!n||oe(n.size)||oe(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function vT(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function Da(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function bT(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function ET(n,t,e,i){jA(n,t,e,i,null)}function jA(n,t,e,i,r){let o,c,h,f,m,y,_,E;const S=t.pointStyle,A=t.rotation,w=t.radius;let C=(A||0)*q6;if(S&&typeof S=="object"&&(o=S.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(C),n.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),n.restore();return}if(!(isNaN(w)||w<=0)){switch(n.beginPath(),S){default:r?n.ellipse(e,i,r/2,w,0,0,Ue):n.arc(e,i,w,0,Ue),n.closePath();break;case"triangle":y=r?r/2:w,n.moveTo(e+Math.sin(C)*y,i-Math.cos(C)*w),C+=hT,n.lineTo(e+Math.sin(C)*y,i-Math.cos(C)*w),C+=hT,n.lineTo(e+Math.sin(C)*y,i-Math.cos(C)*w),n.closePath();break;case"rectRounded":m=w*.516,f=w-m,c=Math.cos(C+Ma)*f,_=Math.cos(C+Ma)*(r?r/2-m:f),h=Math.sin(C+Ma)*f,E=Math.sin(C+Ma)*(r?r/2-m:f),n.arc(e-_,i-h,m,C-ae,C-qe),n.arc(e+E,i-c,m,C-qe,C),n.arc(e+_,i+h,m,C,C+qe),n.arc(e-E,i+c,m,C+qe,C+ae),n.closePath();break;case"rect":if(!A){f=Math.SQRT1_2*w,y=r?r/2:f,n.rect(e-y,i-f,2*y,2*f);break}C+=Ma;case"rectRot":_=Math.cos(C)*(r?r/2:w),c=Math.cos(C)*w,h=Math.sin(C)*w,E=Math.sin(C)*(r?r/2:w),n.moveTo(e-_,i-h),n.lineTo(e+E,i-c),n.lineTo(e+_,i+h),n.lineTo(e-E,i+c),n.closePath();break;case"crossRot":C+=Ma;case"cross":_=Math.cos(C)*(r?r/2:w),c=Math.cos(C)*w,h=Math.sin(C)*w,E=Math.sin(C)*(r?r/2:w),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c);break;case"star":_=Math.cos(C)*(r?r/2:w),c=Math.cos(C)*w,h=Math.sin(C)*w,E=Math.sin(C)*(r?r/2:w),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c),C+=Ma,_=Math.cos(C)*(r?r/2:w),c=Math.cos(C)*w,h=Math.sin(C)*w,E=Math.sin(C)*(r?r/2:w),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c);break;case"line":c=r?r/2:Math.cos(C)*w,h=Math.sin(C)*w,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(C)*(r?r/2:w),i+Math.sin(C)*w);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function BA(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function O_(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function k_(n){n.restore()}function dP(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),oe(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function mP(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,m=e+o.actualBoundingBoxDescent,y=r.strikethrough?(f+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,y),n.lineTo(h,y),n.stroke()}}function gP(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function xu(n,t,e,i,r,o={}){const c=He(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,m;for(n.save(),n.font=r.string,dP(n,o),f=0;f<c.length;++f)m=c[f],o.backdrop&&gP(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),oe(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(m,e,i,o.maxWidth)),n.fillText(m,e,i,o.maxWidth),mP(n,e,i,m,o),i+=Number(r.lineHeight);n.restore()}function Cd(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*ae,ae,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,ae,qe,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,qe,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-qe,!0),n.lineTo(e+c.topLeft,i)}const pP=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,yP=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function _P(n,t){const e=(""+n).match(pP);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const vP=n=>+n||0;function N_(n,t){const e={},i=qt(t),r=i?Object.keys(t):t,o=qt(n)?i?c=>Ht(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=vP(o(c));return e}function FA(n){return N_(n,{top:"y",right:"x",bottom:"y",left:"x"})}function al(n){return N_(n,["topLeft","topRight","bottomLeft","bottomRight"])}function li(n){const t=FA(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function hn(n,t){n=n||{},t=t||xe.font;let e=Ht(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Ht(n.style,t.style);i&&!(""+i).match(yP)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Ht(n.family,t.family),lineHeight:_P(Ht(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Ht(n.weight,t.weight),string:""};return r.string=fP(r),r}function Mf(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function bP(n,t,e){const{min:i,max:r}=n,o=MA(t,(r-i)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function Rl(n,t){return Object.assign(Object.create(n),t)}function P_(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=GA("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>P_([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return qA(h,f,()=>CP(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return ST(h).includes(f)},ownKeys(h){return ST(h)},set(h,f,m){const y=h._storage||(h._storage=r());return h[f]=y[f]=m,delete h._keys,!0}})}function gl(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:HA(n,i),setContext:o=>gl(n,o,e,i),override:o=>gl(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return qA(o,c,()=>TP(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function HA(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Gr(e)?e:()=>e,isIndexable:Gr(i)?i:()=>i}}const EP=(n,t)=>n?n+C_(t):t,V_=(n,t)=>qt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function qA(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function TP(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let h=i[t];return Gr(h)&&c.isScriptable(t)&&(h=SP(t,h,n,e)),He(h)&&h.length&&(h=wP(t,h,n,c.isIndexable)),V_(t,h)&&(h=gl(h,r,o&&o[t],c)),h}function SP(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,c||i);return h.delete(n),V_(n,f)&&(f=L_(r._scopes,r,n,f)),f}function wP(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(qt(t[0])){const f=t,m=r._scopes.filter(y=>y!==f);t=[];for(const y of f){const _=L_(m,r,n,y);t.push(gl(_,o,c&&c[n],h))}}return t}function YA(n,t,e){return Gr(n)?n(t,e):n}const xP=(n,t)=>n===!0?t:typeof n=="string"?Ka(t,n):void 0;function AP(n,t,e,i,r){for(const o of t){const c=xP(e,o);if(c){n.add(c);const h=YA(c._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function L_(n,t,e,i){const r=t._rootScopes,o=YA(t._fallback,e,i),c=[...n,...r],h=new Set;h.add(i);let f=TT(h,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=TT(h,c,o,f,i),f===null)?!1:P_(Array.from(h),[""],r,o,()=>RP(t,e,i))}function TT(n,t,e,i,r){for(;e;)e=AP(n,t,e,i,r);return e}function RP(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return He(r)&&qt(e)?e:r||{}}function CP(n,t,e,i){let r;for(const o of t)if(r=GA(EP(o,n),e),typeof r<"u")return V_(n,r)?L_(e,i,n,r):r}function GA(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function ST(n){let t=n._keys;return t||(t=n._keys=IP(n._scopes)),t}function IP(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function z_(){return typeof window<"u"&&typeof document<"u"}function U_(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Id(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const im=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function MP(n,t){return im(n).getPropertyValue(t)}const DP=["top","right","bottom","left"];function Ba(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=DP[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const OP=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function kP(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,h,f;if(OP(r,o,n.target))h=r,f=o;else{const m=t.getBoundingClientRect();h=i.clientX-m.left,f=i.clientY-m.top,c=!0}return{x:h,y:f,box:c}}function Na(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=im(e),o=r.boxSizing==="border-box",c=Ba(r,"padding"),h=Ba(r,"border","width"),{x:f,y:m,box:y}=kP(n,e),_=c.left+(y&&h.left),E=c.top+(y&&h.top);let{width:S,height:A}=t;return o&&(S-=c.width+h.width,A-=c.height+h.height),{x:Math.round((f-_)/S*e.width/i),y:Math.round((m-E)/A*e.height/i)}}function NP(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&U_(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=im(o),f=Ba(h,"border","width"),m=Ba(h,"padding");t=c.width-m.width-f.width,e=c.height-m.height-f.height,i=Id(h.maxWidth,o,"clientWidth"),r=Id(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||xd,maxHeight:r||xd}}const Mr=n=>Math.round(n*10)/10;function PP(n,t,e,i){const r=im(n),o=Ba(r,"margin"),c=Id(r.maxWidth,n,"clientWidth")||xd,h=Id(r.maxHeight,n,"clientHeight")||xd,f=NP(n,t,e);let{width:m,height:y}=f;if(r.boxSizing==="content-box"){const E=Ba(r,"border","width"),S=Ba(r,"padding");m-=S.width+E.width,y-=S.height+E.height}return m=Math.max(0,m-o.width),y=Math.max(0,i?m/i:y-o.height),m=Mr(Math.min(m,c,f.maxWidth)),y=Mr(Math.min(y,h,f.maxHeight)),m&&!y&&(y=Mr(m/2)),(t!==void 0||e!==void 0)&&i&&f.height&&y>f.height&&(y=f.height,m=Mr(Math.floor(y*i))),{width:m,height:y}}function wT(n,t,e){const i=t||1,r=Mr(n.height*i),o=Mr(n.width*i);n.height=Mr(n.height),n.width=Mr(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const VP=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};z_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function xT(n,t){const e=MP(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const LP=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},zP=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function ol(n,t,e){return n?LP(t,e):zP()}function WA(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function KA(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Df(n,t,e){return n.options.clip?n[e]:t[e]}function UP(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Df(e,t,"left"),right:Df(e,t,"right"),top:Df(i,t,"top"),bottom:Df(i,t,"bottom")}:t}function jP(n,t){const e=t._clip;if(e.disabled)return!1;const i=UP(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}class BP{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=VA.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Cs=new BP;const AT="transparent",FP={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=yT(n||AT),r=i.valid&&yT(t||AT);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class HP{constructor(t,e,i,r){const o=e[i];r=Mf([t.to,r,o,t.from]);const c=Mf([t.from,o,r]);this._active=!0,this._fn=t.fn||FP[t.type||typeof c],this._easing=au[t.easing]||au.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Mf([t.to,e,r,t.from]),this._from=Mf([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class QA{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!qt(t))return;const e=Object.keys(xe.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!qt(o))return;const c={};for(const h of e)c[h]=o[h];(He(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,r=YP(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&qP(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const m=c[f];if(m.charAt(0)==="$")continue;if(m==="options"){r.push(...this._animateOptions(t,e));continue}const y=e[m];let _=o[m];const E=i.get(m);if(_)if(E&&_.active()){_.update(E,y,h);continue}else _.cancel();if(!E||!E.duration){t[m]=y;continue}o[m]=_=new HP(E,t,m,y),r.push(_)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Cs.add(this._chart,i),!0}}function qP(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function YP(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function RT(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function GP(n,t,e){if(e===!1)return!1;const i=RT(n,e),r=RT(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function WP(n){let t,e,i,r;return qt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function XA(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function CT(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,h,f,m;if(t===null)return;let y=!1;for(c=0,h=r.length;c<h;++c){if(f=+r[c],f===e){if(y=!0,i.all)continue;break}m=n.values[f],oi(m)&&(o||t===0||Ur(t)===Ur(m))&&(t+=m)}return!y&&!i.all?0:t}function KP(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,m,y;for(f=0,m=c.length;f<m;++f)y=c[f],h[f]={[r]:y,[o]:n[y]};return h}function Dp(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function QP(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function XP(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function $P(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function IT(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function MT(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,m=c.axis,y=QP(o,c,i),_=t.length;let E;for(let S=0;S<_;++S){const A=t[S],{[f]:w,[m]:C}=A,V=A._stacks||(A._stacks={});E=V[m]=$P(r,y,w),E[h]=C,E._top=IT(E,c,!0,i.type),E._bottom=IT(E,c,!1,i.type);const B=E._visualValues||(E._visualValues={});B[h]=C}}function Op(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function JP(n,t){return Rl(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function ZP(n,t,e){return Rl(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Vc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const kp=n=>n==="reset"||n==="none",DT=(n,t)=>t?n:Object.assign({},n),t5=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:XA(e,!0),values:null};class j_{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Dp(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Vc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(_,E,S,A)=>_==="x"?E:_==="r"?A:S,o=e.xAxisID=Ht(i.xAxisID,Op(t,"x")),c=e.yAxisID=Ht(i.yAxisID,Op(t,"y")),h=e.rAxisID=Ht(i.rAxisID,Op(t,"r")),f=e.indexAxis,m=e.iAxisID=r(f,o,c,h),y=e.vAxisID=r(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(m),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&mT(this._data,this),t._stacked&&Vc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(qt(e)){const r=this._cachedMeta;this._data=KP(e,r)}else if(i!==e){if(i){mT(i,this);const r=this._cachedMeta;Vc(r),r._parsed=[]}e&&Object.isExtensible(e)&&tP(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=Dp(e.vScale,e),e.stack!==i.stack&&(r=!0,Vc(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(MT(this,e._parsed),e._stacked=Dp(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=t===0&&e===r.length?!0:i._sorted,m=t>0&&i._parsed[t-1],y,_,E;if(this._parsing===!1)i._parsed=r,i._sorted=!0,E=r;else{He(r[t])?E=this.parseArrayData(i,r,t,e):qt(r[t])?E=this.parseObjectData(i,r,t,e):E=this.parsePrimitiveData(i,r,t,e);const S=()=>_[h]===null||m&&_[h]<m[h];for(y=0;y<e;++y)i._parsed[y+t]=_=E[y],f&&(S()&&(f=!1),m=_);i._sorted=f}c&&MT(this,E)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,m=o.getLabels(),y=o===c,_=new Array(r);let E,S,A;for(E=0,S=r;E<S;++E)A=E+i,_[E]={[h]:y||o.parse(m[A],A),[f]:c.parse(e[A],A)};return _}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,h=new Array(r);let f,m,y,_;for(f=0,m=r;f<m;++f)y=f+i,_=e[y],h[f]={x:o.parse(_[0],y),y:c.parse(_[1],y)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,m=new Array(r);let y,_,E,S;for(y=0,_=r;y<_;++y)E=y+i,S=e[E],m[y]={x:o.parse(Ka(S,h),E),y:c.parse(Ka(S,f),E)};return m}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:XA(r,!0),values:e._stacks[t.axis]._visualValues};return CT(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,c=CT(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,h=this._getOtherScale(t),f=t5(e,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:_}=XP(h);let E,S;function A(){S=r[E];const w=S[h.axis];return!oi(S[t.axis])||y>w||_<w}for(E=0;E<c&&!(!A()&&(this.updateRangeFromParsed(m,t,S,f),o));++E);if(o){for(E=c-1;E>=0;--E)if(!A()){this.updateRangeFromParsed(m,t,S,f);break}}return m}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],oi(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=WP(Ht(this.options.clip,GP(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||r.length-h,m=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(t,o,h,f),y=h;y<h+f;++y){const _=r[y];_.hidden||(_.active&&m?c.push(_):_.draw(t,o))}for(y=0;y<c.length;++y)c[y].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=ZP(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=JP(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&wu(i);if(h)return DT(h,f);const m=this.chart.config,y=m.datasetElementScopeKeys(this._type,t),_=r?[`${t}Hover`,"hover",t,""]:[t,""],E=m.getOptionScopes(this.getDataset(),y),S=Object.keys(xe.elements[t]),A=()=>this.getContext(i,r,e),w=m.resolveNamedOptions(E,S,A,_);return w.$shared&&(w.$shared=f,o[c]=Object.freeze(DT(w,f))),w}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(r.options.animation!==!1){const y=this.chart.config,_=y.datasetAnimationScopeKeys(this._type,e),E=y.getOptionScopes(this.getDataset(),_);f=y.createResolver(E,this.getContext(t,i,e))}const m=new QA(r,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(m)),m}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||kp(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){kp(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!kp(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,m]of this._syncList)this[h](f,m);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let h;const f=m=>{for(m.length+=e,h=m.length-1;h>=c;h--)m[h]=m[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Vc(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function e5(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=PA(i.sort((r,o)=>r-o))}return n._cache.$bar}function n5(n){const t=n.iScale,e=e5(t,n.type);let i=t._length,r,o,c,h;const f=()=>{c===32767||c===-32768||(wu(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(r=0,o=e.length;r<o;++r)c=t.getPixelForValue(e[r]),f();for(h=void 0,r=0,o=t.ticks.length;r<o;++r)c=t.getPixelForTick(r),f();return i}function i5(n,t,e,i){const r=e.barThickness;let o,c;return oe(r)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function s5(n,t,e,i){const r=t.pixels,o=r[n];let c=n>0?r[n-1]:null,h=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const m=o-(o-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/i,ratio:e.barPercentage,start:m}}function r5(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(r,o),h=Math.max(r,o);let f=c,m=h;Math.abs(c)>Math.abs(h)&&(f=h,m=c),t[e.axis]=m,t._custom={barStart:f,barEnd:m,start:r,end:o,min:c,max:h}}function $A(n,t,e,i){return He(n)?r5(n,t,e,i):t[e.axis]=e.parse(n,i),t}function OT(n,t,e,i){const r=n.iScale,o=n.vScale,c=r.getLabels(),h=r===o,f=[];let m,y,_,E;for(m=e,y=e+i;m<y;++m)E=t[m],_={},_[r.axis]=h||r.parse(c[m],m),f.push($A(E,_,o,m));return f}function Np(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function a5(n,t,e){return n!==0?Ur(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function o5(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function l5(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:m,bottom:y}=o5(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=m:(e._bottom||0)===i?r=y:(o[kT(y,c,h,f)]=!0,r=m)),o[kT(r,c,h,f)]=!0,n.borderSkipped=o}function kT(n,t,e,i){return i?(n=c5(n,t,e),n=NT(n,e,t)):n=NT(n,t,e),n}function c5(n,t,e){return n===t?e:n===e?t:n}function NT(n,t,e){return n==="start"?t:n==="end"?e:n}function u5(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class h5 extends j_{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return OT(t,e,i,r)}parseArrayData(t,e,i,r){return OT(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,m=o.axis==="x"?h:f,y=c.axis==="x"?h:f,_=[];let E,S,A,w;for(E=i,S=i+r;E<S;++E)w=e[E],A={},A[o.axis]=o.parse(Ka(w,m),E),_.push($A(Ka(w,y),A,c,E));return _}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),c=o._custom,h=Np(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),m=h.isHorizontal(),y=this._getRuler(),{sharedOptions:_,includeOptions:E}=this._getSharedOptions(e,r);for(let S=e;S<e+i;S++){const A=this.getParsed(S),w=o||oe(A[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(S),C=this._calculateBarIndexPixels(S,y),V=(A._stacks||{})[h.axis],B={horizontal:m,base:w.base,enableBorderRadius:!V||Np(A._custom)||c===V._top||c===V._bottom,x:m?w.head:C.center,y:m?C.center:w.head,height:m?C.size:Math.abs(w.size),width:m?Math.abs(w.size):C.size};E&&(B.options=_||this.resolveDataElementOptions(S,t[S].active?"active":r));const q=B.options||t[S].options;l5(B,q,V,c),u5(B,q,y.ratio),this.updateElement(t[S],S,B,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(y=>y.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),f=h&&h[i.axis],m=y=>{const _=y._parsed.find(S=>S[i.axis]===f),E=_&&_[y.vScale.axis];if(oe(E)||isNaN(E))return!0};for(const y of r)if(!(e!==void 0&&m(y))&&((o===!1||c.indexOf(y.stack)===-1||o===void 0&&y.stack===void 0)&&c.push(y.stack),y.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Ht(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,c;for(o=0,c=e.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||n5(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,h=o||0,f=this.getParsed(t),m=f._custom,y=Np(m);let _=f[e.axis],E=0,S=i?this.applyStack(e,f,i):_,A,w;S!==_&&(E=S-_,S=_),y&&(_=m.barStart,S=m.barEnd-m.barStart,_!==0&&Ur(_)!==Ur(m.barEnd)&&(E=0),E+=_);const C=!oe(o)&&!y?o:E;let V=e.getPixelForValue(C);if(this.chart.getDataVisibility(t)?A=e.getPixelForValue(E+S):A=V,w=A-V,Math.abs(w)<c){w=a5(w,e,h)*c,_===h&&(V-=w/2);const B=e.getPixelForDecimal(0),q=e.getPixelForDecimal(1),rt=Math.min(B,q),tt=Math.max(B,q);V=Math.max(Math.min(V,tt),rt),A=V+w,i&&!y&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(A)-e.getValueForPixel(V))}if(V===e.getPixelForValue(h)){const B=Ur(w)*e.getLineWidthForValue(h)/2;V+=B,w-=B}return{size:w,base:V,head:A,center:A+w/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,c=Ht(r.maxBarThickness,1/0);let h,f;const m=this._getAxisCount();if(e.grouped){const y=o?this._getStackCount(t):e.stackCount,_=r.barThickness==="flex"?s5(t,e,r,y*m):i5(t,e,r,y*m),E=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,S=this._getAxis().indexOf(Ht(E,this.getFirstScaleIdForIndexAxis())),A=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+S;h=_.start+_.chunk*A+_.chunk/2,f=Math.min(c,_.chunk*_.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(c,e.min*e.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function f5(n,t,e){let i=1,r=1,o=0,c=0;if(t<Ue){const h=n,f=h+t,m=Math.cos(h),y=Math.sin(h),_=Math.cos(f),E=Math.sin(f),S=(q,rt,tt)=>Rd(q,h,f,!0)?1:Math.max(rt,rt*e,tt,tt*e),A=(q,rt,tt)=>Rd(q,h,f,!0)?-1:Math.min(rt,rt*e,tt,tt*e),w=S(0,m,_),C=S(qe,y,E),V=A(ae,m,_),B=A(ae+qe,y,E);i=(w-V)/2,r=(C-B)/2,o=-(w+V)/2,c=-(C+B)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:c}}class d5 extends j_{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data,{labels:{pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=t.legend.options;return e.labels.length&&e.datasets.length?e.labels.map((f,m)=>{const _=t.getDatasetMeta(0).controller.getStyle(m);return{text:f,fillStyle:_.backgroundColor,fontColor:o,hidden:!t.getDataVisibility(m),lineDash:_.borderDash,lineDashOffset:_.borderDashOffset,lineJoin:_.borderJoinStyle,lineWidth:_.borderWidth,strokeStyle:_.borderColor,textAlign:r,pointStyle:i,borderRadius:c&&(h||_.borderRadius),index:m}}):[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=f=>+i[f];if(qt(i[t])){const{key:f="value"}=this._parsing;o=m=>+Ka(i[m],f)}let c,h;for(c=t,h=t+e;c<h;++c)r._parsed[c]=o(c)}}_getRotation(){return ks(this.options.rotation-90)}_getCircumference(){return ks(this.options.circumference)}_getRotationExtents(){let t=Ue,e=-Ue;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),c=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-c)/2,0),f=Math.min(z6(this.options.cutout,h),1),m=this._getRingWeight(this.index),{circumference:y,rotation:_}=this._getRotationExtents(),{ratioX:E,ratioY:S,offsetX:A,offsetY:w}=f5(_,y,f),C=(i.width-c)/E,V=(i.height-c)/S,B=Math.max(Math.min(C,V)/2,0),q=MA(this.options.radius,B),rt=Math.max(q*f,0),tt=(q-rt)/this._getVisibleDatasetWeightTotal();this.offsetX=A*q,this.offsetY=w*q,r.total=this.calculateTotal(),this.outerRadius=q-tt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-tt*m,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/Ue)}updateElements(t,e,i,r){const o=r==="reset",c=this.chart,h=c.chartArea,m=c.options.animation,y=(h.left+h.right)/2,_=(h.top+h.bottom)/2,E=o&&m.animateScale,S=E?0:this.innerRadius,A=E?0:this.outerRadius,{sharedOptions:w,includeOptions:C}=this._getSharedOptions(e,r);let V=this._getRotation(),B;for(B=0;B<e;++B)V+=this._circumference(B,o);for(B=e;B<e+i;++B){const q=this._circumference(B,o),rt=t[B],tt={x:y+this.offsetX,y:_+this.offsetY,startAngle:V,endAngle:V+q,circumference:q,outerRadius:A,innerRadius:S};C&&(tt.options=w||this.resolveDataElementOptions(B,rt.active?"active":r)),V+=q,this.updateElement(rt,B,tt,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Ue*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=D_(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,c,h,f;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){c=i.getDatasetMeta(r),t=c.data,h=c.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)f=h.resolveDataElementOptions(r),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Ht(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}function Oa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class B_{static override(t){Object.assign(B_.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Oa()}parse(){return Oa()}format(){return Oa()}add(){return Oa()}diff(){return Oa()}startOf(){return Oa()}endOf(){return Oa()}}var m5={_date:B_};function g5(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const m=h._reversePixels?J6:vy;if(i){if(r._sharedOptions){const y=o[0],_=typeof y.getRange=="function"&&y.getRange(t);if(_){const E=m(o,t,e-_),S=m(o,t,e+_);return{lo:E.lo,hi:S.hi}}}}else{const y=m(o,t,e);if(f){const{vScale:_}=r._cachedMeta,{_parsed:E}=n,S=E.slice(0,y.lo+1).reverse().findIndex(w=>!oe(w[_.axis]));y.lo-=Math.max(0,S);const A=E.slice(y.hi).findIndex(w=>!oe(w[_.axis]));y.hi+=Math.max(0,A)}return y}}return{lo:0,hi:o.length-1}}function sm(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:m,data:y}=o[h],{lo:_,hi:E}=g5(o[h],t,c,r);for(let S=_;S<=E;++S){const A=y[S];A.skip||i(A,m,S)}}}function p5(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Pp(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||sm(n,e,t,function(h,f,m){!r&&!BA(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:m})},!0),o}function y5(n,t,e,i){let r=[];function o(c,h,f){const{startAngle:m,endAngle:y}=c.getProps(["startAngle","endAngle"],i),{angle:_}=kA(c,{x:t.x,y:t.y});Rd(_,m,y)&&r.push({element:c,datasetIndex:h,index:f})}return sm(n,e,t,o),r}function _5(n,t,e,i,r,o){let c=[];const h=p5(e);let f=Number.POSITIVE_INFINITY;function m(y,_,E){const S=y.inRange(t.x,t.y,r);if(i&&!S)return;const A=y.getCenterPoint(r);if(!(!!o||n.isPointInArea(A))&&!S)return;const C=h(t,A);C<f?(c=[{element:y,datasetIndex:_,index:E}],f=C):C===f&&c.push({element:y,datasetIndex:_,index:E})}return sm(n,e,t,m),c}function Vp(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?y5(n,t,e,r):_5(n,t,e,i,r,o)}function PT(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return sm(n,e,t,(f,m,y)=>{f[c]&&f[c](t[e],r)&&(o.push({element:f,datasetIndex:m,index:y}),h=h||f.inRange(t.x,t.y,r))}),i&&!h?[]:o}var v5={modes:{index(n,t,e,i){const r=Na(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?Pp(n,r,o,i,c):Vp(n,r,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const y=h[0].index,_=m.data[y];_&&!_.skip&&f.push({element:_,datasetIndex:m.index,index:y})}),f):[]},dataset(n,t,e,i){const r=Na(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?Pp(n,r,o,i,c):Vp(n,r,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,m=n.getDatasetMeta(f).data;h=[];for(let y=0;y<m.length;++y)h.push({element:m[y],datasetIndex:f,index:y})}return h},point(n,t,e,i){const r=Na(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Pp(n,r,o,i,c)},nearest(n,t,e,i){const r=Na(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Vp(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=Na(t,n);return PT(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=Na(t,n);return PT(n,r,"y",e.intersect,i)}}};const JA=["left","top","right","bottom"];function Lc(n,t){return n.filter(e=>e.pos===t)}function VT(n,t){return n.filter(e=>JA.indexOf(e.pos)===-1&&e.box.axis===t)}function zc(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function b5(n){const t=[];let e,i,r,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return t}function E5(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!JA.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function T5(n,t){const e=E5(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,m=e[h.stack],y=m&&h.stackWeight/m.weight;h.horizontal?(h.width=y?y*i:f&&t.availableWidth,h.height=r):(h.width=i,h.height=y?y*r:f&&t.availableHeight)}return e}function S5(n){const t=b5(n),e=zc(t.filter(m=>m.box.fullSize),!0),i=zc(Lc(t,"left"),!0),r=zc(Lc(t,"right")),o=zc(Lc(t,"top"),!0),c=zc(Lc(t,"bottom")),h=VT(t,"x"),f=VT(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(c).concat(h),chartArea:Lc(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(c).concat(h)}}function LT(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function ZA(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function w5(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!qt(r)){e.size&&(n[r]-=e.size);const _=i[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?o.height:o.width),e.size=_.size/_.count,n[r]+=e.size}o.getPadding&&ZA(c,o.getPadding());const h=Math.max(0,t.outerWidth-LT(c,n,"left","right")),f=Math.max(0,t.outerHeight-LT(c,n,"top","bottom")),m=h!==n.w,y=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:m,other:y}:{same:y,other:m}}function x5(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function A5(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function $c(n,t,e,i){const r=[];let o,c,h,f,m,y;for(o=0,c=n.length,m=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,A5(h.horizontal,t));const{same:_,other:E}=w5(t,e,h,i);m|=_&&r.length,y=y||E,f.fullSize||r.push(h)}return m&&$c(r,t,e,i)||y}function Of(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function zT(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const h of n){const f=h.box,m=i[h.stack]||{placed:0,weight:1},y=h.stackWeight/m.weight||1;if(h.horizontal){const _=t.w*y,E=m.size||f.height;wu(m.start)&&(c=m.start),f.fullSize?Of(f,r.left,c,e.outerWidth-r.right-r.left,E):Of(f,t.left+m.placed,c,_,E),m.start=c,m.placed+=_,c=f.bottom}else{const _=t.h*y,E=m.size||f.width;wu(m.start)&&(o=m.start),f.fullSize?Of(f,o,r.top,E,e.outerHeight-r.bottom-r.top):Of(f,o,t.top+m.placed,E,_),m.start=o,m.placed+=_,o=f.right}}t.x=o,t.y=c}var si={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=li(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),h=S5(n.boxes),f=h.vertical,m=h.horizontal;te(n.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const y=f.reduce((w,C)=>C.box.options&&C.box.options.display===!1?w:w+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/y,hBoxMaxHeight:c/2}),E=Object.assign({},r);ZA(E,li(i));const S=Object.assign({maxPadding:E,w:o,h:c,x:r.left,y:r.top},r),A=T5(f.concat(m),_);$c(h.fullSize,S,_,A),$c(f,S,_,A),$c(m,S,_,A)&&$c(f,S,_,A),x5(S),zT(h.leftAndTop,S,_,A),S.x+=S.w,S.y+=S.h,zT(h.rightAndBottom,S,_,A),n.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},te(h.chartArea,w=>{const C=w.box;Object.assign(C,n.chartArea),C.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class t2{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class R5 extends t2{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Zf="$chartjs",C5={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},UT=n=>n===null||n==="";function I5(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Zf]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",UT(r)){const o=xT(n,"width");o!==void 0&&(n.width=o)}if(UT(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=xT(n,"height");o!==void 0&&(n.height=o)}return n}const e2=VP?{passive:!0}:!1;function M5(n,t,e){n&&n.addEventListener(t,e,e2)}function D5(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,e2)}function O5(n,t){const e=C5[n.type]||n.type,{x:i,y:r}=Na(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Md(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function k5(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Md(h.addedNodes,i),c=c&&!Md(h.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function N5(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Md(h.removedNodes,i),c=c&&!Md(h.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Au=new Map;let jT=0;function n2(){const n=window.devicePixelRatio;n!==jT&&(jT=n,Au.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function P5(n,t){Au.size||window.addEventListener("resize",n2),Au.set(n,t)}function V5(n){Au.delete(n),Au.size||window.removeEventListener("resize",n2)}function L5(n,t,e){const i=n.canvas,r=i&&U_(i);if(!r)return;const o=LA((h,f)=>{const m=r.clientWidth;e(h,f),m<r.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],m=f.contentRect.width,y=f.contentRect.height;m===0&&y===0||o(m,y)});return c.observe(r),P5(n,o),c}function Lp(n,t,e){e&&e.disconnect(),t==="resize"&&V5(n)}function z5(n,t,e){const i=n.canvas,r=LA(o=>{n.ctx!==null&&e(O5(o,n))},n);return M5(i,t,r),r}class U5 extends t2{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(I5(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Zf])return!1;const i=e[Zf].initial;["height","width"].forEach(o=>{const c=i[o];oe(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[Zf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:k5,detach:N5,resize:L5}[e]||z5;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:Lp,detach:Lp,resize:Lp}[e]||D5)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return PP(t,e,i,r)}isAttached(t){const e=t&&U_(t);return!!(e&&e.isConnected)}}function j5(n){return!z_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?R5:U5}class Za{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Ad(this.x)&&Ad(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function B5(n,t){const e=n.options.ticks,i=F5(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?q5(t):[],c=o.length,h=o[0],f=o[c-1],m=[];if(c>r)return Y5(t,m,o,c/r),m;const y=H5(o,t,r);if(c>0){let _,E;const S=c>1?Math.round((f-h)/(c-1)):null;for(kf(t,m,y,oe(S)?0:h-S,h),_=0,E=c-1;_<E;_++)kf(t,m,y,o[_],o[_+1]);return kf(t,m,y,f,oe(S)?t.length:f+S),m}return kf(t,m,y),m}function F5(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function H5(n,t,e){const i=G5(n),r=t.length/e;if(!i)return Math.max(r,1);const o=Y6(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>r)return f}return Math.max(r,1)}function q5(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function Y5(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function kf(n,t,e,i,r){const o=Ht(i,0),c=Math.min(Ht(r,n.length),n.length);let h=0,f,m,y;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),y=o;y<0;)h++,y=Math.round(o+h*e);for(m=Math.max(o,0);m<c;m++)m===y&&(t.push(n[m]),h++,y=Math.round(o+h*e))}function G5(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const W5=n=>n==="left"?"right":n==="right"?"left":n,BT=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,FT=(n,t)=>Math.min(t||n,n);function HT(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function K5(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(r),m;if(!(e&&(i===1?m=Math.max(f-o,c-f):t===0?m=(n.getPixelForTick(1)-f)/2:m=(f-n.getPixelForTick(r-1))/2,f+=r<t?m:-m,f<o-h||f>c+h)))return f}function Q5(n,t){te(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function Uc(n){return n.drawTicks?n.tickLength:0}function qT(n,t){if(!n.display)return 0;const e=hn(n.font,t),i=li(n.padding);return(He(n.text)?n.text.length:1)*e.lineHeight+i.height}function X5(n,t){return Rl(n,{scale:t,type:"scale"})}function $5(n,t,e){return Rl(n,{tick:e,index:t,type:"tick"})}function J5(n,t,e){let i=M_(n);return(e&&t!=="right"||!e&&t==="right")&&(i=W5(i)),i}function Z5(n,t,e,i){const{top:r,left:o,bottom:c,right:h,chart:f}=n,{chartArea:m,scales:y}=f;let _=0,E,S,A;const w=c-r,C=h-o;if(n.isHorizontal()){if(S=cn(i,o,h),qt(e)){const V=Object.keys(e)[0],B=e[V];A=y[V].getPixelForValue(B)+w-t}else e==="center"?A=(m.bottom+m.top)/2+w-t:A=BT(n,e,t);E=h-o}else{if(qt(e)){const V=Object.keys(e)[0],B=e[V];S=y[V].getPixelForValue(B)-C+t}else e==="center"?S=(m.left+m.right)/2-C+t:S=BT(n,e,t);A=cn(i,c,r),_=e==="left"?-qe:qe}return{titleX:S,titleY:A,maxWidth:E,rotation:_}}class Cl extends Za{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Qi(t,Number.POSITIVE_INFINITY),e=Qi(e,Number.NEGATIVE_INFINITY),i=Qi(i,Number.POSITIVE_INFINITY),r=Qi(r,Number.NEGATIVE_INFINITY),{min:Qi(t,i),max:Qi(e,r),minDefined:oi(t),maxDefined:oi(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,m=h.length;f<m;++f)c=h[f].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Qi(e,Qi(i,e)),max:Qi(i,Qi(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){he(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=bP(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?HT(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=B5(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){he(this.options.afterUpdate,[this])}beforeSetDimensions(){he(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){he(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),he(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){he(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=he(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){he(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){he(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=FT(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,h,f,m;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const y=this._getLabelSizes(),_=y.widest.width,E=y.highest.height,S=Cn(this.chart.width-_,0,this.maxWidth);h=t.offset?this.maxWidth/i:S/(i-1),_+6>h&&(h=S/(i-(t.offset?.5:1)),f=this.maxHeight-Uc(t.grid)-e.padding-qT(t.title,this.chart.options.font),m=Math.sqrt(_*_+E*E),c=Q6(Math.min(Math.asin(Cn((y.highest.height+6)/h,-1,1)),Math.asin(Cn(f/m,-1,1))-Math.asin(Cn(E/m,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){he(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){he(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=qT(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=Uc(o)+f):(t.height=this.maxHeight,t.width=Uc(o)+f),i.display&&this.ticks.length){const{first:m,last:y,widest:_,highest:E}=this._getLabelSizes(),S=i.padding*2,A=ks(this.labelRotation),w=Math.cos(A),C=Math.sin(A);if(h){const V=i.mirror?0:C*_.width+w*E.height;t.height=Math.min(this.maxHeight,t.height+V+S)}else{const V=i.mirror?0:w*_.width+C*E.height;t.width=Math.min(this.maxWidth,t.width+V+S)}this._calculatePadding(m,y,C,w)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,m=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let E=0,S=0;f?m?(E=r*t.width,S=i*e.height):(E=i*t.height,S=r*e.width):o==="start"?S=e.width:o==="end"?E=t.width:o!=="inner"&&(E=t.width/2,S=e.width/2),this.paddingLeft=Math.max((E-y+c)*this.width/(this.width-y),0),this.paddingRight=Math.max((S-_+c)*this.width/(this.width-_),0)}else{let y=e.height/2,_=t.height/2;o==="start"?(y=0,_=t.height):o==="end"&&(y=e.height,_=0),this.paddingTop=y+c,this.paddingBottom=_+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){he(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)oe(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=HT(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/FT(e,i));let m=0,y=0,_,E,S,A,w,C,V,B,q,rt,tt;for(_=0;_<e;_+=f){if(A=t[_].label,w=this._resolveTickFontOptions(_),r.font=C=w.string,V=o[C]=o[C]||{data:{},gc:[]},B=w.lineHeight,q=rt=0,!oe(A)&&!He(A))q=vT(r,V.data,V.gc,q,A),rt=B;else if(He(A))for(E=0,S=A.length;E<S;++E)tt=A[E],!oe(tt)&&!He(tt)&&(q=vT(r,V.data,V.gc,q,tt),rt+=B);c.push(q),h.push(rt),m=Math.max(q,m),y=Math.max(rt,y)}Q5(o,e);const ot=c.indexOf(m),D=h.indexOf(y),I=M=>({width:c[M]||0,height:h[M]||0});return{first:I(0),last:I(e-1),widest:I(ot),highest:I(D),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return $6(this._alignToPixels?Da(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=$5(this.getContext(),t,i))}return this.$context||(this.$context=X5(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=ks(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*r?h/i:f/r:f*r<h*i?f/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,f=o.offset,m=this.isHorizontal(),_=this.ticks.length+(f?1:0),E=Uc(o),S=[],A=h.setContext(this.getContext()),w=A.display?A.width:0,C=w/2,V=function(Q){return Da(i,Q,w)};let B,q,rt,tt,ot,D,I,M,N,P,z,k;if(c==="top")B=V(this.bottom),D=this.bottom-E,M=B-C,P=V(t.top)+C,k=t.bottom;else if(c==="bottom")B=V(this.top),P=t.top,k=V(t.bottom)-C,D=B+C,M=this.top+E;else if(c==="left")B=V(this.right),ot=this.right-E,I=B-C,N=V(t.left)+C,z=t.right;else if(c==="right")B=V(this.left),N=t.left,z=V(t.right)-C,ot=B+C,I=this.left+E;else if(e==="x"){if(c==="center")B=V((t.top+t.bottom)/2+.5);else if(qt(c)){const Q=Object.keys(c)[0],at=c[Q];B=V(this.chart.scales[Q].getPixelForValue(at))}P=t.top,k=t.bottom,D=B+C,M=D+E}else if(e==="y"){if(c==="center")B=V((t.left+t.right)/2);else if(qt(c)){const Q=Object.keys(c)[0],at=c[Q];B=V(this.chart.scales[Q].getPixelForValue(at))}ot=B-C,I=ot-E,N=t.left,z=t.right}const Dt=Ht(r.ticks.maxTicksLimit,_),wt=Math.max(1,Math.ceil(_/Dt));for(q=0;q<_;q+=wt){const Q=this.getContext(q),at=o.setContext(Q),dt=h.setContext(Q),bt=at.lineWidth,Nt=at.color,U=dt.dash||[],Z=dt.dashOffset,ct=at.tickWidth,ut=at.tickColor,_t=at.tickBorderDash||[],Et=at.tickBorderDashOffset;rt=K5(this,q,f),rt!==void 0&&(tt=Da(i,rt,bt),m?ot=I=N=z=tt:D=M=P=k=tt,S.push({tx1:ot,ty1:D,tx2:I,ty2:M,x1:N,y1:P,x2:z,y2:k,width:bt,color:Nt,borderDash:U,borderDashOffset:Z,tickWidth:ct,tickColor:ut,tickBorderDash:_t,tickBorderDashOffset:Et}))}return this._ticksLength=_,this._borderValue=B,S}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:m,padding:y,mirror:_}=o,E=Uc(i.grid),S=E+y,A=_?-y:S,w=-ks(this.labelRotation),C=[];let V,B,q,rt,tt,ot,D,I,M,N,P,z,k="middle";if(r==="top")ot=this.bottom-A,D=this._getXAxisLabelAlignment();else if(r==="bottom")ot=this.top+A,D=this._getXAxisLabelAlignment();else if(r==="left"){const wt=this._getYAxisLabelAlignment(E);D=wt.textAlign,tt=wt.x}else if(r==="right"){const wt=this._getYAxisLabelAlignment(E);D=wt.textAlign,tt=wt.x}else if(e==="x"){if(r==="center")ot=(t.top+t.bottom)/2+S;else if(qt(r)){const wt=Object.keys(r)[0],Q=r[wt];ot=this.chart.scales[wt].getPixelForValue(Q)+S}D=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")tt=(t.left+t.right)/2-S;else if(qt(r)){const wt=Object.keys(r)[0],Q=r[wt];tt=this.chart.scales[wt].getPixelForValue(Q)}D=this._getYAxisLabelAlignment(E).textAlign}e==="y"&&(f==="start"?k="top":f==="end"&&(k="bottom"));const Dt=this._getLabelSizes();for(V=0,B=h.length;V<B;++V){q=h[V],rt=q.label;const wt=o.setContext(this.getContext(V));I=this.getPixelForTick(V)+o.labelOffset,M=this._resolveTickFontOptions(V),N=M.lineHeight,P=He(rt)?rt.length:1;const Q=P/2,at=wt.color,dt=wt.textStrokeColor,bt=wt.textStrokeWidth;let Nt=D;c?(tt=I,D==="inner"&&(V===B-1?Nt=this.options.reverse?"left":"right":V===0?Nt=this.options.reverse?"right":"left":Nt="center"),r==="top"?m==="near"||w!==0?z=-P*N+N/2:m==="center"?z=-Dt.highest.height/2-Q*N+N:z=-Dt.highest.height+N/2:m==="near"||w!==0?z=N/2:m==="center"?z=Dt.highest.height/2-Q*N:z=Dt.highest.height-P*N,_&&(z*=-1),w!==0&&!wt.showLabelBackdrop&&(tt+=N/2*Math.sin(w))):(ot=I,z=(1-P)*N/2);let U;if(wt.showLabelBackdrop){const Z=li(wt.backdropPadding),ct=Dt.heights[V],ut=Dt.widths[V];let _t=z-Z.top,Et=0-Z.left;switch(k){case"middle":_t-=ct/2;break;case"bottom":_t-=ct;break}switch(D){case"center":Et-=ut/2;break;case"right":Et-=ut;break;case"inner":V===B-1?Et-=ut:V>0&&(Et-=ut/2);break}U={left:Et,top:_t,width:ut+Z.width,height:ct+Z.height,color:wt.backdropColor}}C.push({label:rt,font:M,textOffset:z,options:{rotation:w,color:at,strokeColor:dt,strokeWidth:bt,textAlign:Nt,textBaseline:k,translation:[tt,ot],backdrop:U}})}return C}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ks(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let m,y;return e==="left"?r?(y=this.right+o,i==="near"?m="left":i==="center"?(m="center",y+=f/2):(m="right",y+=f)):(y=this.right-h,i==="near"?m="right":i==="center"?(m="center",y-=f/2):(m="left",y=this.left)):e==="right"?r?(y=this.left+o,i==="near"?m="right":i==="center"?(m="center",y-=f/2):(m="left",y-=f)):(y=this.left+h,i==="near"?m="left":i==="center"?(m="center",y+=f/2):(m="right",y=this.right)):m="right",{textAlign:m,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,m,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const f=r[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let m,y,_,E;this.isHorizontal()?(m=Da(t,this.left,c)-c/2,y=Da(t,this.right,h)+h/2,_=E=f):(_=Da(t,this.top,c)-c/2,E=Da(t,this.bottom,h)+h/2,m=y=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(m,_),e.lineTo(y,E),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&O_(i,r);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,m=c.label,y=c.textOffset;xu(i,m,0,y,f,h)}r&&k_(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=hn(i.font),c=li(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||qt(e)?(f+=c.bottom,He(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:m,titleY:y,maxWidth:_,rotation:E}=Z5(this,f,e,h);xu(t,i.text,0,0,o,{color:i.color,maxWidth:_,rotation:E,textAlign:J5(h,e,r),textBaseline:"middle",translation:[m,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Ht(t.grid&&t.grid.z,-1),r=Ht(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Cl.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return hn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Nf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;nV(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,tV(t,c,i),this.override&&xe.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in xe[r]&&(delete xe[r][i],this.override&&delete Qa[i])}}function tV(n,t,e){const i=Su(Object.create(null),[e?xe.get(e):{},xe.get(t),n.defaults]);xe.set(t,i),n.defaultRoutes&&eV(t,n.defaultRoutes),n.descriptors&&xe.describe(t,n.descriptors)}function eV(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");xe.route(o,r,f,h)})}function nV(n){return"id"in n&&"defaults"in n}class iV{constructor(){this.controllers=new Nf(j_,"datasets",!0),this.elements=new Nf(Za,"elements"),this.plugins=new Nf(Object,"plugins"),this.scales=new Nf(Cl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):te(r,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const r=C_(t);he(i["before"+r],[],i),e[t](i),he(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var $i=new iV;class sV{constructor(){this._init=void 0}notify(t,e,i,r){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,h=c[i],f=[e,r,o.options];if(he(h,f,c)===!1&&r.cancelable)return!1}return!0}invalidate(){oe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Ht(i.options&&i.options.plugins,{}),o=rV(i);return r===!1&&!e?[]:oV(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function rV(n){const t={},e=[],i=Object.keys($i.plugins.items);for(let o=0;o<i.length;o++)e.push($i.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function aV(n,t){return!t&&n===!1?null:n===!0?{}:n}function oV(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const h of t){const f=h.id,m=aV(i[f],r);m!==null&&o.push({plugin:h,options:lV(n.config,{plugin:h,local:e[f]},m,c)})}return o}function lV(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ey(n,t){const e=xe.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function cV(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function uV(n,t){return n===t?"_index_":"_value_"}function YT(n){if(n==="x"||n==="y"||n==="r")return n}function hV(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Ty(n,...t){if(YT(n))return n;for(const e of t){const i=e.axis||hV(e.position)||n.length>1&&YT(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function GT(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function fV(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return GT(n,"x",e[0])||GT(n,"y",e[0])}return{}}function dV(n,t){const e=Qa[n.type]||{scales:{}},i=t.scales||{},r=Ey(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!qt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=Ty(c,h,fV(c,n),xe.scales[h.type]),m=uV(f,r),y=e.scales||{};o[c]=ru(Object.create(null),[{axis:f},h,y[f],y[m]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||Ey(h,t),y=(Qa[h]||{}).scales||{};Object.keys(y).forEach(_=>{const E=cV(_,f),S=c[E+"AxisID"]||E;o[S]=o[S]||Object.create(null),ru(o[S],[{axis:E},i[S],y[_]])})}),Object.keys(o).forEach(c=>{const h=o[c];ru(h,[xe.scales[h.type],xe.scale])}),o}function i2(n){const t=n.options||(n.options={});t.plugins=Ht(t.plugins,{}),t.scales=dV(n,t)}function s2(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function mV(n){return n=n||{},n.data=s2(n.data),i2(n),n}const WT=new Map,r2=new Set;function Pf(n,t){let e=WT.get(n);return e||(e=t(),WT.set(n,e),r2.add(e)),e}const jc=(n,t,e)=>{const i=Ka(t,e);i!==void 0&&n.add(i)};class gV{constructor(t){this._config=mV(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=s2(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),i2(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Pf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Pf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Pf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Pf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const f=new Set;e.forEach(y=>{t&&(f.add(t),y.forEach(_=>jc(f,t,_))),y.forEach(_=>jc(f,r,_)),y.forEach(_=>jc(f,Qa[o]||{},_)),y.forEach(_=>jc(f,xe,_)),y.forEach(_=>jc(f,by,_))});const m=Array.from(f);return m.length===0&&m.push(Object.create(null)),r2.has(e)&&c.set(e,m),m}chartOptionScopes(){const{options:t,type:e}=this;return[t,Qa[e]||{},xe.datasets[e]||{},{type:e},xe,by]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=KT(this._resolverCache,t,r);let f=c;if(yV(c,e)){o.$shared=!1,i=Gr(i)?i():i;const m=this.createResolver(t,i,h);f=gl(c,i,m)}for(const m of e)o[m]=f[m];return o}createResolver(t,e,i=[""],r){const{resolver:o}=KT(this._resolverCache,t,i);return qt(e)?gl(o,e,void 0,r):o}}function KT(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:P_(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const pV=n=>qt(n)&&Object.getOwnPropertyNames(n).some(t=>Gr(n[t]));function yV(n,t){const{isScriptable:e,isIndexable:i}=HA(n);for(const r of t){const o=e(r),c=i(r),h=(c||o)&&n[r];if(o&&(Gr(h)||pV(h))||c&&He(h))return!0}return!1}var _V="4.5.1";const vV=["top","bottom","left","right","chartArea"];function QT(n,t){return n==="top"||n==="bottom"||vV.indexOf(n)===-1&&t==="x"}function XT(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function $T(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),he(e&&e.onComplete,[n],t)}function bV(n){const t=n.chart,e=t.options.animation;he(e&&e.onProgress,[n],t)}function a2(n){return z_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const td={},JT=n=>{const t=a2(n);return Object.values(td).filter(e=>e.canvas===t).pop()};function EV(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function TV(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let rm=class{static defaults=xe;static instances=td;static overrides=Qa;static registry=$i;static version=_V;static getChart=JT;static register(...t){$i.add(...t),ZT()}static unregister(...t){$i.remove(...t),ZT()}constructor(t,e){const i=this.config=new gV(e),r=a2(t),o=JT(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||j5(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),f=h&&h.canvas,m=f&&f.height,y=f&&f.width;if(this.id=L6(),this.ctx=h,this.canvas=f,this.width=y,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sV,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=eP(_=>this.update(_),c.resizeDelay||0),this._dataChanges=[],td[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Cs.listen(this,"complete",$T),Cs.listen(this,"progress",bV),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return oe(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return $i}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():wT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return bT(this.canvas,this.ctx),this}stop(){return Cs.stop(this),this}resize(t,e){Cs.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,wT(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),he(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};te(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=Ty(c,h),m=f==="r",y=f==="x";return{options:h,dposition:m?"chartArea":y?"bottom":"left",dtype:m?"radialLinear":y?"category":"linear"}}))),te(o,c=>{const h=c.options,f=h.id,m=Ty(f,h),y=Ht(h.type,c.dtype);(h.position===void 0||QT(h.position,m)!==QT(c.dposition))&&(h.position=c.dposition),r[f]=!0;let _=null;if(f in i&&i[f].type===y)_=i[f];else{const E=$i.getScale(y);_=new E({id:f,type:y,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(h,t)}),te(r,(c,h)=>{c||delete i[h]}),te(i,c=>{si.configure(this,c,c.options),si.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(XT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Ey(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=$i.getController(h),{datasetElementType:m,dataElementType:y}=xe.datasets[h];Object.assign(f,{dataElementType:$i.getElement(y),datasetElementType:m&&$i.getElement(m)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){te(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,y=this.data.datasets.length;m<y;m++){const{controller:_}=this.getDatasetMeta(m),E=!r&&o.indexOf(_)===-1;_.buildOrUpdateElements(E),c=Math.max(+_.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||te(o,m=>{m.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(XT("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){te(this.scales,t=>{si.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!uT(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;EV(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!uT(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;si.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],te(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Gr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Cs.has(this)?this.attached&&!Cs.running(this)&&Cs.start(this):(this.draw(),$T({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=jP(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&O_(e,r),t.controller.draw(),r&&k_(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return BA(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=v5.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Rl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);wu(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Cs.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),bT(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete td[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};te(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,m)=>{e.addEventListener(this,f,m),t[f]=m},r=(f,m)=>{t[f]&&(e.removeEventListener(this,f,m),delete t[f])},o=(f,m)=>{this.canvas&&this.resize(f,m)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){te(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},te(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!Sd(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,m)=>f.filter(y=>!m.some(_=>y.datasetIndex===_.datasetIndex&&y.index===_.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,h=this._getActiveElements(t,r,i,c),f=H6(t),m=TV(t,this._lastEvent,i,f);i&&(this._lastEvent=null,he(o.onHover,[t,h,this],this),f&&he(o.onClick,[t,h,this],this));const y=!Sd(h,r);return(y||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=m,y}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function ZT(){return te(rm.instances,n=>n._plugins.invalidate())}function SV(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:c,innerRadius:h,options:f}=t,{borderWidth:m,borderJoinStyle:y}=f,_=Math.min(m/c,Zi(i-e));if(n.beginPath(),n.arc(r,o,c-m/2,i+_/2,e-_/2),h>0){const E=Math.min(m/h,Zi(i-e));n.arc(r,o,h+m/2,e-E/2,i+E/2,!0)}else{const E=Math.min(m/2,c*Zi(i-e));if(y==="round")n.arc(r,o,E,e-ae/2,i+ae/2,!0);else if(y==="bevel"){const S=2*E*E,A=-S*Math.cos(e+ae/2)+r,w=-S*Math.sin(e+ae/2)+o,C=S*Math.cos(i+ae/2)+r,V=S*Math.sin(i+ae/2)+o;n.lineTo(A,w),n.lineTo(C,V)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function wV(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:c,outerRadius:h,innerRadius:f}=t;let m=r/h;n.beginPath(),n.arc(o,c,h,i-m,e+m),f>r?(m=r/f,n.arc(o,c,f,e+m,i-m,!0)):n.arc(o,c,r,e+qe,i-qe),n.closePath(),n.clip()}function xV(n){return N_(n,["outerStart","outerEnd","innerStart","innerEnd"])}function AV(n,t,e,i){const r=xV(n.options.borderRadius),o=(e-t)/2,c=Math.min(o,i*t/2),h=f=>{const m=(e-Math.min(o,f))*i/2;return Cn(f,0,Math.min(o,m))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:Cn(r.innerStart,0,c),innerEnd:Cn(r.innerEnd,0,c)}}function Go(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Dd(n,t,e,i,r,o){const{x:c,y:h,startAngle:f,pixelMargin:m,innerRadius:y}=t,_=Math.max(t.outerRadius+i+e-m,0),E=y>0?y+i+e+m:0;let S=0;const A=r-f;if(i){const wt=y>0?y-i:0,Q=_>0?_-i:0,at=(wt+Q)/2,dt=at!==0?A*at/(at+i):A;S=(A-dt)/2}const w=Math.max(.001,A*_-e/ae)/_,C=(A-w)/2,V=f+C+S,B=r-C-S,{outerStart:q,outerEnd:rt,innerStart:tt,innerEnd:ot}=AV(t,E,_,B-V),D=_-q,I=_-rt,M=V+q/D,N=B-rt/I,P=E+tt,z=E+ot,k=V+tt/P,Dt=B-ot/z;if(n.beginPath(),o){const wt=(M+N)/2;if(n.arc(c,h,_,M,wt),n.arc(c,h,_,wt,N),rt>0){const bt=Go(I,N,c,h);n.arc(bt.x,bt.y,rt,N,B+qe)}const Q=Go(z,B,c,h);if(n.lineTo(Q.x,Q.y),ot>0){const bt=Go(z,Dt,c,h);n.arc(bt.x,bt.y,ot,B+qe,Dt+Math.PI)}const at=(B-ot/E+(V+tt/E))/2;if(n.arc(c,h,E,B-ot/E,at,!0),n.arc(c,h,E,at,V+tt/E,!0),tt>0){const bt=Go(P,k,c,h);n.arc(bt.x,bt.y,tt,k+Math.PI,V-qe)}const dt=Go(D,V,c,h);if(n.lineTo(dt.x,dt.y),q>0){const bt=Go(D,M,c,h);n.arc(bt.x,bt.y,q,V-qe,M)}}else{n.moveTo(c,h);const wt=Math.cos(M)*_+c,Q=Math.sin(M)*_+h;n.lineTo(wt,Q);const at=Math.cos(N)*_+c,dt=Math.sin(N)*_+h;n.lineTo(at,dt)}n.closePath()}function RV(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h}=t;let f=t.endAngle;if(o){Dd(n,t,e,i,f,r);for(let m=0;m<o;++m)n.fill();isNaN(h)||(f=c+(h%Ue||Ue))}return Dd(n,t,e,i,f,r),n.fill(),f}function CV(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h,options:f}=t,{borderWidth:m,borderJoinStyle:y,borderDash:_,borderDashOffset:E,borderRadius:S}=f,A=f.borderAlign==="inner";if(!m)return;n.setLineDash(_||[]),n.lineDashOffset=E,A?(n.lineWidth=m*2,n.lineJoin=y||"round"):(n.lineWidth=m,n.lineJoin=y||"bevel");let w=t.endAngle;if(o){Dd(n,t,e,i,w,r);for(let C=0;C<o;++C)n.stroke();isNaN(h)||(w=c+(h%Ue||Ue))}A&&wV(n,t,w),f.selfJoin&&w-c>=ae&&S===0&&y!=="miter"&&SV(n,t,w),o||(Dd(n,t,e,i,w,r),n.stroke())}class IV extends Za{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:c}=kA(r,{x:t,y:e}),{startAngle:h,endAngle:f,innerRadius:m,outerRadius:y,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),E=(this.options.spacing+this.options.borderWidth)/2,S=Ht(_,f-h),A=Rd(o,h,f)&&h!==f,w=S>=Ue||A,C=La(c,m+E,y+E);return w&&C}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:m}=this.options,y=(r+o)/2,_=(c+h+m+f)/2;return{x:e+Math.cos(y)*_,y:i+Math.sin(y)*_}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,c=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>Ue?Math.floor(i/Ue):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*r,Math.sin(h)*r);const f=1-Math.sin(Math.min(ae,i||0)),m=r*f;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,RV(t,this,m,o,c),CV(t,this,m,o,c),t.restore()}}function o2(n,t){const{x:e,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,f,m,y,_;return n.horizontal?(_=c/2,h=Math.min(e,r),f=Math.max(e,r),m=i-_,y=i+_):(_=o/2,h=e-_,f=e+_,m=Math.min(i,r),y=Math.max(i,r)),{left:h,top:m,right:f,bottom:y}}function Dr(n,t,e,i){return n?0:Cn(t,e,i)}function MV(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=FA(i);return{t:Dr(r.top,o.top,0,e),r:Dr(r.right,o.right,0,t),b:Dr(r.bottom,o.bottom,0,e),l:Dr(r.left,o.left,0,t)}}function DV(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=al(r),c=Math.min(t,e),h=n.borderSkipped,f=i||qt(r);return{topLeft:Dr(!f||h.top||h.left,o.topLeft,0,c),topRight:Dr(!f||h.top||h.right,o.topRight,0,c),bottomLeft:Dr(!f||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:Dr(!f||h.bottom||h.right,o.bottomRight,0,c)}}function OV(n){const t=o2(n),e=t.right-t.left,i=t.bottom-t.top,r=MV(n,e/2,i/2),o=DV(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function zp(n,t,e,i){const r=t===null,o=e===null,h=n&&!(r&&o)&&o2(n,i);return h&&(r||La(t,h.left,h.right))&&(o||La(e,h.top,h.bottom))}function kV(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function NV(n,t){n.rect(t.x,t.y,t.w,t.h)}function Up(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class PV extends Za{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=OV(this),h=kV(c.radius)?Cd:NV;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,Up(c,e,o)),t.clip(),h(t,Up(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,Up(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return zp(this,t,e,i)}inXRange(t,e){return zp(this,t,null,e)}inYRange(t,e){return zp(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const tS=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},VV=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class eS extends Za{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=he(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=hn(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=tS(i,o);let m,y;e.font=r.string,this.isHorizontal()?(m=this.maxWidth,y=this._fitRows(c,o,h,f)+10):(y=this.maxHeight,m=this._fitCols(c,r,h,f)+10),this.width=Math.min(m,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],m=this.lineWidths=[0],y=r+h;let _=t;o.textAlign="left",o.textBaseline="middle";let E=-1,S=-y;return this.legendItems.forEach((A,w)=>{const C=i+e/2+o.measureText(A.text).width;(w===0||m[m.length-1]+C+2*h>c)&&(_+=y,m[m.length-(w>0?0:1)]=0,S+=y,E++),f[w]={left:0,top:S,row:E,width:C,height:r},m[m.length-1]+=C+h}),_}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],m=this.columnSizes=[],y=c-t;let _=h,E=0,S=0,A=0,w=0;return this.legendItems.forEach((C,V)=>{const{itemWidth:B,itemHeight:q}=LV(i,e,o,C,r);V>0&&S+q+2*h>y&&(_+=E+h,m.push({width:E,height:S}),A+=E+h,w++,E=S=0),f[V]={left:A,top:S,col:w,width:B,height:q},E=Math.max(E,B),S+=q+h}),_+=E,m.push({width:E,height:S}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=ol(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=cn(i,this.left+r,this.right-this.lineWidths[h]);for(const m of e)h!==m.row&&(h=m.row,f=cn(i,this.left+r,this.right-this.lineWidths[h])),m.top+=this.top+t+r,m.left=c.leftForLtr(c.x(f),m.width),f+=m.width+r}else{let h=0,f=cn(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const m of e)m.col!==h&&(h=m.col,f=cn(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),m.top=f,m.left+=this.left+r,m.left=c.leftForLtr(c.x(m.left),m.width),f+=m.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;O_(t,this),this._draw(),k_(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,h=xe.color,f=ol(t.rtl,this.left,this.width),m=hn(c.font),{padding:y}=c,_=m.size,E=_/2;let S;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=m.string;const{boxWidth:A,boxHeight:w,itemHeight:C}=tS(c,_),V=function(ot,D,I){if(isNaN(A)||A<=0||isNaN(w)||w<0)return;r.save();const M=Ht(I.lineWidth,1);if(r.fillStyle=Ht(I.fillStyle,h),r.lineCap=Ht(I.lineCap,"butt"),r.lineDashOffset=Ht(I.lineDashOffset,0),r.lineJoin=Ht(I.lineJoin,"miter"),r.lineWidth=M,r.strokeStyle=Ht(I.strokeStyle,h),r.setLineDash(Ht(I.lineDash,[])),c.usePointStyle){const N={radius:w*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:M},P=f.xPlus(ot,A/2),z=D+E;jA(r,N,P,z,c.pointStyleWidth&&A)}else{const N=D+Math.max((_-w)/2,0),P=f.leftForLtr(ot,A),z=al(I.borderRadius);r.beginPath(),Object.values(z).some(k=>k!==0)?Cd(r,{x:P,y:N,w:A,h:w,radius:z}):r.rect(P,N,A,w),r.fill(),M!==0&&r.stroke()}r.restore()},B=function(ot,D,I){xu(r,I.text,ot,D+C/2,m,{strikethrough:I.hidden,textAlign:f.textAlign(I.textAlign)})},q=this.isHorizontal(),rt=this._computeTitleHeight();q?S={x:cn(o,this.left+y,this.right-i[0]),y:this.top+y+rt,line:0}:S={x:this.left+y,y:cn(o,this.top+rt+y,this.bottom-e[0].height),line:0},WA(this.ctx,t.textDirection);const tt=C+y;this.legendItems.forEach((ot,D)=>{r.strokeStyle=ot.fontColor,r.fillStyle=ot.fontColor;const I=r.measureText(ot.text).width,M=f.textAlign(ot.textAlign||(ot.textAlign=c.textAlign)),N=A+E+I;let P=S.x,z=S.y;f.setWidth(this.width),q?D>0&&P+N+y>this.right&&(z=S.y+=tt,S.line++,P=S.x=cn(o,this.left+y,this.right-i[S.line])):D>0&&z+tt>this.bottom&&(P=S.x=P+e[S.line].width+y,S.line++,z=S.y=cn(o,this.top+rt+y,this.bottom-e[S.line].height));const k=f.x(P);if(V(k,z,ot),P=nP(M,P+A+E,q?P+N:this.right,t.rtl),B(f.x(P),z,ot),q)S.x+=N+y;else if(typeof ot.text!="string"){const Dt=m.lineHeight;S.y+=l2(ot,Dt)+y}else S.y+=tt}),KA(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=hn(e.font),r=li(e.padding);if(!e.display)return;const o=ol(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=i.size/2,m=r.top+f;let y,_=this.left,E=this.width;if(this.isHorizontal())E=Math.max(...this.lineWidths),y=this.top+m,_=cn(t.align,_,this.right-E);else{const A=this.columnSizes.reduce((w,C)=>Math.max(w,C.height),0);y=m+cn(t.align,this.top,this.bottom-A-t.labels.padding-this._computeTitleHeight())}const S=cn(h,_,_+E);c.textAlign=o.textAlign(M_(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,xu(c,e.text,S,y,i)}_computeTitleHeight(){const t=this.options.title,e=hn(t.font),i=li(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(La(t,this.left,this.right)&&La(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],La(t,r.left,r.left+r.width)&&La(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!jV(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=VV(r,i);r&&!o&&he(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&he(e.onHover,[t,i,this],this)}else i&&he(e.onClick,[t,i,this],this)}}function LV(n,t,e,i,r){const o=zV(i,n,t,e),c=UV(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function zV(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function UV(n,t,e){let i=n;return typeof t.text!="string"&&(i=l2(t,e)),i}function l2(n,t){const e=n.text?n.text.length:0;return t*e}function jV(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var BV={id:"legend",_element:eS,start(n,t,e){const i=n.legend=new eS({ctx:n.ctx,options:e,chart:n});si.configure(n,i,e),si.addBox(n,i)},stop(n){si.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;si.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const m=f.controller.getStyle(e?0:void 0),y=li(m.borderWidth);return{text:t[f.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:r||m.textAlign,borderRadius:c&&(h||m.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class c2 extends Za{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=He(i.text)?i.text.length:1;this._padding=li(i.padding);const o=r*hn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:c}=this,h=c.align;let f=0,m,y,_;return this.isHorizontal()?(y=cn(h,i,o),_=e+t,m=o-i):(c.position==="left"?(y=i+t,_=cn(h,r,e),f=ae*-.5):(y=o-t,_=cn(h,e,r),f=ae*.5),m=r-e),{titleX:y,titleY:_,maxWidth:m,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=hn(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:m}=this._drawArgs(o);xu(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:m,textAlign:M_(e.align),textBaseline:"middle",translation:[c,h]})}}function FV(n,t){const e=new c2({ctx:n.ctx,options:t,chart:n});si.configure(n,e,t),si.addBox(n,e),n.titleBlock=e}var HV={id:"title",_element:c2,start(n,t,e){FV(n,e)},stop(n){const t=n.titleBlock;si.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;si.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Jc={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const m=f.getCenterPoint(),y=X6(t,m);y<r&&(r=y,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Xi(n,t){return t&&(He(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Is(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function qV(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function nS(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=t,f=hn(t.bodyFont),m=hn(t.titleFont),y=hn(t.footerFont),_=o.length,E=r.length,S=i.length,A=li(t.padding);let w=A.height,C=0,V=i.reduce((rt,tt)=>rt+tt.before.length+tt.lines.length+tt.after.length,0);if(V+=n.beforeBody.length+n.afterBody.length,_&&(w+=_*m.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),V){const rt=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;w+=S*rt+(V-S)*f.lineHeight+(V-1)*t.bodySpacing}E&&(w+=t.footerMarginTop+E*y.lineHeight+(E-1)*t.footerSpacing);let B=0;const q=function(rt){C=Math.max(C,e.measureText(rt).width+B)};return e.save(),e.font=m.string,te(n.title,q),e.font=f.string,te(n.beforeBody.concat(n.afterBody),q),B=t.displayColors?c+2+t.boxPadding:0,te(i,rt=>{te(rt.before,q),te(rt.lines,q),te(rt.after,q)}),B=0,e.font=y.string,te(n.footer,q),e.restore(),C+=A.width,{width:C,height:w}}function YV(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function GV(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function WV(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:h,right:f}}=n;let m="center";return i==="center"?m=r<=(h+f)/2?"left":"right":r<=o/2?m="left":r>=c-o/2&&(m="right"),GV(m,n,t,e)&&(m="center"),m}function iS(n,t,e){const i=e.yAlign||t.yAlign||YV(n,e);return{xAlign:e.xAlign||t.xAlign||WV(n,t,e,i),yAlign:i}}function KV(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function QV(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function sS(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,m=r+o,{topLeft:y,topRight:_,bottomLeft:E,bottomRight:S}=al(c);let A=KV(t,h);const w=QV(t,f,m);return f==="center"?h==="left"?A+=m:h==="right"&&(A-=m):h==="left"?A-=Math.max(y,E)+r:h==="right"&&(A+=Math.max(_,S)+r),{x:Cn(A,0,i.width-t.width),y:Cn(w,0,i.height-t.height)}}function Vf(n,t,e){const i=li(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function rS(n){return Xi([],Is(n))}function XV(n,t,e){return Rl(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function aS(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const u2={beforeTitle:Rs,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Rs,beforeBody:Rs,beforeLabel:Rs,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return oe(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Rs,afterBody:Rs,beforeFooter:Rs,footer:Rs,afterFooter:Rs};function Sn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?u2[t].call(e,i):r}class oS extends Za{static positioners=Jc;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new QA(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=XV(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Sn(i,"beforeTitle",this,t),o=Sn(i,"title",this,t),c=Sn(i,"afterTitle",this,t);let h=[];return h=Xi(h,Is(r)),h=Xi(h,Is(o)),h=Xi(h,Is(c)),h}getBeforeBody(t,e){return rS(Sn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return te(t,o=>{const c={before:[],lines:[],after:[]},h=aS(i,o);Xi(c.before,Is(Sn(h,"beforeLabel",this,o))),Xi(c.lines,Sn(h,"label",this,o)),Xi(c.after,Is(Sn(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return rS(Sn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Sn(i,"beforeFooter",this,t),o=Sn(i,"footer",this,t),c=Sn(i,"afterFooter",this,t);let h=[];return h=Xi(h,Is(r)),h=Xi(h,Is(o)),h=Xi(h,Is(c)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],f,m;for(f=0,m=e.length;f<m;++f)h.push(qV(this.chart,e[f]));return t.filter&&(h=h.filter((y,_,E)=>t.filter(y,_,E,i))),t.itemSort&&(h=h.sort((y,_)=>t.itemSort(y,_,i))),te(h,y=>{const _=aS(t.callbacks,y);r.push(Sn(_,"labelColor",this,y)),o.push(Sn(_,"labelPointStyle",this,y)),c.push(Sn(_,"labelTextColor",this,y))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Jc[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=nS(this,i),m=Object.assign({},h,f),y=iS(this.chart,i,m),_=sS(i,m,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:_.x,y:_.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:m,bottomLeft:y,bottomRight:_}=al(h),{x:E,y:S}=t,{width:A,height:w}=e;let C,V,B,q,rt,tt;return o==="center"?(rt=S+w/2,r==="left"?(C=E,V=C-c,q=rt+c,tt=rt-c):(C=E+A,V=C+c,q=rt-c,tt=rt+c),B=C):(r==="left"?V=E+Math.max(f,y)+c:r==="right"?V=E+A-Math.max(m,_)-c:V=this.caretX,o==="top"?(q=S,rt=q-c,C=V-c,B=V+c):(q=S+w,rt=q+c,C=V+c,B=V-c),tt=q),{x1:C,x2:V,x3:B,y1:q,y2:rt,y3:tt}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,h,f;if(o){const m=ol(i.rtl,this.x,this.width);for(t.x=Vf(this,i.titleAlign,i),e.textAlign=m.textAlign(i.titleAlign),e.textBaseline="middle",c=hn(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(r[f],m.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:m}=o,y=hn(o.bodyFont),_=Vf(this,"left",o),E=r.x(_),S=f<y.lineHeight?(y.lineHeight-f)/2:0,A=e.y+S;if(o.usePointStyle){const w={radius:Math.min(m,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},C=r.leftForLtr(E,m)+m/2,V=A+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,ET(t,w,C,V),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,ET(t,w,C,V)}else{t.lineWidth=qt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const w=r.leftForLtr(E,m),C=r.leftForLtr(r.xPlus(E,1),m-2),V=al(c.borderRadius);Object.values(V).some(B=>B!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Cd(t,{x:w,y:A,w:m,h:f,radius:V}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Cd(t,{x:C,y:A+1,w:m-2,h:f-2,radius:V}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(w,A,m,f),t.strokeRect(w,A,m,f),t.fillStyle=c.backgroundColor,t.fillRect(C,A+1,m-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:m,boxPadding:y}=i,_=hn(i.bodyFont);let E=_.lineHeight,S=0;const A=ol(i.rtl,this.x,this.width),w=function(I){e.fillText(I,A.x(t.x+S),t.y+E/2),t.y+=E+o},C=A.textAlign(c);let V,B,q,rt,tt,ot,D;for(e.textAlign=c,e.textBaseline="middle",e.font=_.string,t.x=Vf(this,C,i),e.fillStyle=i.bodyColor,te(this.beforeBody,w),S=h&&C!=="right"?c==="center"?m/2+y:m+2+y:0,rt=0,ot=r.length;rt<ot;++rt){for(V=r[rt],B=this.labelTextColors[rt],e.fillStyle=B,te(V.before,w),q=V.lines,h&&q.length&&(this._drawColorBox(e,t,rt,A,i),E=Math.max(_.lineHeight,f)),tt=0,D=q.length;tt<D;++tt)w(q[tt]),E=_.lineHeight;te(V.after,w)}S=0,E=_.lineHeight,te(this.afterBody,w),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,h;if(o){const f=ol(i.rtl,this.x,this.width);for(t.x=Vf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=hn(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(r[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:m,height:y}=i,{topLeft:_,topRight:E,bottomLeft:S,bottomRight:A}=al(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+_,f),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+m-E,f),e.quadraticCurveTo(h+m,f,h+m,f+E),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+m,f+y-A),e.quadraticCurveTo(h+m,f+y,h+m-A,f+y),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+S,f+y),e.quadraticCurveTo(h,f+y,h,f+y-S),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,f+_),e.quadraticCurveTo(h,f,h+_,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=Jc[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=nS(this,t),f=Object.assign({},c,this._size),m=iS(e,t,f),y=sS(t,f,m,e);(r._to!==y.x||o._to!==y.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=li(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),WA(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),KA(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:f})=>{const m=this.chart.getDatasetMeta(h);if(!m)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:m.data[f],index:f}}),o=!Sd(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),f=e||!Sd(c,o)||h;return f&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=Jc[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}var $V={id:"tooltip",_element:oS,positioners:Jc,afterInit(n,t,e){e&&(n.tooltip=new oS({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:u2},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const JV=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function ZV(n,t,e,i){const r=n.indexOf(t);if(r===-1)return JV(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const tL=(n,t)=>n===null?null:Cn(Math.round(n),0,t);function lS(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class eL extends Cl{static id="category";static defaults={ticks:{callback:lS}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(oe(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:ZV(i,t,Ht(e,t),this._addedLabels),tL(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return lS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function nL(n,t){const e=[],{bounds:r,step:o,min:c,max:h,precision:f,count:m,maxTicks:y,maxDigits:_,includeBounds:E}=n,S=o||1,A=y-1,{min:w,max:C}=t,V=!oe(c),B=!oe(h),q=!oe(m),rt=(C-w)/(_+1);let tt=fT((C-w)/A/S)*S,ot,D,I,M;if(tt<1e-14&&!V&&!B)return[{value:w},{value:C}];M=Math.ceil(C/tt)-Math.floor(w/tt),M>A&&(tt=fT(M*tt/A/S)*S),oe(f)||(ot=Math.pow(10,f),tt=Math.ceil(tt*ot)/ot),r==="ticks"?(D=Math.floor(w/tt)*tt,I=Math.ceil(C/tt)*tt):(D=w,I=C),V&&B&&o&&W6((h-c)/o,tt/1e3)?(M=Math.round(Math.min((h-c)/tt,y)),tt=(h-c)/M,D=c,I=h):q?(D=V?c:D,I=B?h:I,M=m-1,tt=(I-D)/M):(M=(I-D)/tt,Jf(M,Math.round(M),tt/1e3)?M=Math.round(M):M=Math.ceil(M));const N=Math.max(dT(tt),dT(D));ot=Math.pow(10,oe(f)?N:f),D=Math.round(D*ot)/ot,I=Math.round(I*ot)/ot;let P=0;for(V&&(E&&D!==c?(e.push({value:c}),D<c&&P++,Jf(Math.round((D+P*tt)*ot)/ot,c,cS(c,rt,n))&&P++):D<c&&P++);P<M;++P){const z=Math.round((D+P*tt)*ot)/ot;if(B&&z>h)break;e.push({value:z})}return B&&E&&I!==h?e.length&&Jf(e[e.length-1].value,h,cS(h,rt,n))?e[e.length-1].value=h:e.push({value:h}):(!B||I===h)&&e.push({value:I}),e}function cS(n,t,{horizontal:e,minRotation:i}){const r=ks(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class iL extends Cl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return oe(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=f=>r=e?r:f,h=f=>o=i?o:f;if(t){const f=Ur(r),m=Ur(o);f<0&&m<0?h(0):f>0&&m>0&&c(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=nL(r,o);return t.bounds==="ticks"&&K6(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return D_(t,this.chart.options.locale,this.options.ticks.format)}}class sL extends iL{static id="linear";static defaults={ticks:{callback:UA.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=oi(t)?t:0,this.max=oi(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=ks(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const am={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Rn=Object.keys(am);function uS(n,t){return n-t}function hS(n,t){if(oe(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),oi(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(Ad(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function fS(n,t,e,i){const r=Rn.length;for(let o=Rn.indexOf(n);o<r-1;++o){const c=am[Rn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return Rn[o]}return Rn[r-1]}function rL(n,t,e,i,r){for(let o=Rn.length-1;o>=Rn.indexOf(e);o--){const c=Rn[o];if(am[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return Rn[e?Rn.indexOf(e):0]}function aL(n){for(let t=Rn.indexOf(n)+1,e=Rn.length;t<e;++t)if(am[Rn[t]].common)return Rn[t]}function dS(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=I_(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function oL(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+r.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function mS(n,t,e){const i=[],r={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],r[h]=c,i.push({value:h,major:!1});return o===0||!e?i:oL(n,i,r,e)}class gS extends Cl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new m5._date(t.adapters.date);r.init(e),ru(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:hS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(m){!c&&!isNaN(m.min)&&(r=Math.min(r,m.min)),!h&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=oi(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=oi(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=Z6(r,o,c);return this._unit=e.unit||(i.autoSkip?fS(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):rL(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:aL(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),mS(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=Cn(e,0,c),i=Cn(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||fS(o.minUnit,e,i,this._getLabelCapacity(e)),h=Ht(r.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,m=Ad(f)||f===!0,y={};let _=e,E,S;if(m&&(_=+t.startOf(_,"isoWeek",f)),_=+t.startOf(_,m?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const A=r.ticks.source==="data"&&this.getDataTimestamps();for(E=_,S=0;E<i;E=+t.add(E,h,c),S++)dS(y,E,A);return(E===i||r.bounds==="ticks"||S===1)&&dS(y,E,A),Object.keys(y).sort(uS).map(w=>+w)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return he(c,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,m=this._majorUnit,y=f&&h[f],_=m&&h[m],E=i[e],S=m&&_&&E&&E.major;return this._adapter.format(t,r||(S?_:y))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=ks(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,mS(this,[t],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(hS(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return PA(t.sort(uS))}}function Lf(n,t,e){let i=0,r=n.length-1,o,c,h,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=vy(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=vy(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[r]);const m=c-o;return m?h+(f-h)*(t-o)/m:h}class D9 extends gS{static id="timeseries";static defaults=gS.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Lf(e,this.min),this._tableRange=Lf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,h,f,m,y;for(c=0,h=t.length;c<h;++c)m=t[c],m>=e&&m<=i&&r.push(m);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)y=r[c+1],f=r[c-1],m=r[c],Math.round((y+f)/2)!==m&&o.push({time:m,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Lf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Lf(this._table,i*this._tableRange+this._minPos,!0)}}const h2="label";function pS(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function lL(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function f2(n,t){n.labels=t}function d2(n,t,e=h2){const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function cL(n,t=h2){const e={labels:[],datasets:[]};return f2(e,n.labels),d2(e,n.datasets,t),e}function uL(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:m=[],fallbackContent:y,updateMode:_,...E}=n,S=Y.useRef(null),A=Y.useRef(null),w=()=>{S.current&&(A.current=new rm(S.current,{type:c,data:cL(h,o),options:f&&{...f},plugins:m}),pS(t,A.current))},C=()=>{pS(t,null),A.current&&(A.current.destroy(),A.current=null)};return Y.useEffect(()=>{!r&&A.current&&f&&lL(A.current,f)},[r,f]),Y.useEffect(()=>{!r&&A.current&&f2(A.current.config.data,h.labels)},[r,h.labels]),Y.useEffect(()=>{!r&&A.current&&h.datasets&&d2(A.current.config.data,h.datasets,o)},[r,h.datasets]),Y.useEffect(()=>{A.current&&(r?(C(),setTimeout(w)):A.current.update(_))},[r,f,h.labels,h.datasets,_]),Y.useEffect(()=>{A.current&&(C(),setTimeout(w))},[c]),Y.useEffect(()=>(w(),()=>C()),[]),O.jsx("canvas",{ref:S,role:"img",height:e,width:i,...E,children:y})}const hL=Y.forwardRef(uL);function m2(n,t){return rm.register(t),Y.forwardRef((e,i)=>O.jsx(hL,{...e,ref:i,type:n}))}const yS=m2("bar",h5),fL=m2("doughnut",d5),g2=6048e5,dL=864e5,_S=Symbol.for("constructDateFrom");function Ai(n,t){return typeof n=="function"?n(t):n&&typeof n=="object"&&_S in n?n[_S](t):n instanceof Date?new n.constructor(t):new Date(t)}function Bn(n,t){return Ai(t||n,n)}function mL(n,t,e){const i=Bn(n,e?.in);return isNaN(t)?Ai(n,NaN):(i.setDate(i.getDate()+t),i)}function gL(n,t,e){const i=Bn(n,e?.in);if(isNaN(t))return Ai(n,NaN);if(!t)return i;const r=i.getDate(),o=Ai(n,i.getTime());o.setMonth(i.getMonth()+t+1,0);const c=o.getDate();return r>=c?o:(i.setFullYear(o.getFullYear(),o.getMonth(),r),i)}let pL={};function om(){return pL}function Wr(n,t){const e=om(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,r=Bn(n,t?.in),o=r.getDay(),c=(o<i?7:0)+o-i;return r.setDate(r.getDate()-c),r.setHours(0,0,0,0),r}function Od(n,t){return Wr(n,{...t,weekStartsOn:1})}function p2(n,t){const e=Bn(n,t?.in),i=e.getFullYear(),r=Ai(e,0);r.setFullYear(i+1,0,4),r.setHours(0,0,0,0);const o=Od(r),c=Ai(e,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const h=Od(c);return e.getTime()>=o.getTime()?i+1:e.getTime()>=h.getTime()?i:i-1}function vS(n){const t=Bn(n),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+n-+e}function F_(n,...t){const e=Ai.bind(null,t.find(i=>typeof i=="object"));return t.map(e)}function bS(n,t){const e=Bn(n,t?.in);return e.setHours(0,0,0,0),e}function yL(n,t,e){const[i,r]=F_(e?.in,n,t),o=bS(i),c=bS(r),h=+o-vS(o),f=+c-vS(c);return Math.round((h-f)/dL)}function _L(n,t){const e=p2(n,t),i=Ai(n,0);return i.setFullYear(e,0,4),i.setHours(0,0,0,0),Od(i)}function vL(n,t,e){return mL(n,t*7,e)}function bL(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function EL(n){return!(!bL(n)&&typeof n!="number"||isNaN(+Bn(n)))}function TL(n,t){const e=Bn(n,t?.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}const SL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},wL=(n,t,e)=>{let i;const r=SL[n];return typeof r=="string"?i=r:t===1?i=r.one:i=r.other.replace("{{count}}",t.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+i:i+" ago":i};function jp(n){return(t={})=>{const e=t.width?String(t.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}const xL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},AL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},RL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},CL={date:jp({formats:xL,defaultWidth:"full"}),time:jp({formats:AL,defaultWidth:"full"}),dateTime:jp({formats:RL,defaultWidth:"full"})},IL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ML=(n,t,e,i)=>IL[n];function Bc(n){return(t,e)=>{const i=e?.context?String(e.context):"standalone";let r;if(i==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,h=e?.width?String(e.width):c;r=n.formattingValues[h]||n.formattingValues[c]}else{const c=n.defaultWidth,h=e?.width?String(e.width):n.defaultWidth;r=n.values[h]||n.values[c]}const o=n.argumentCallback?n.argumentCallback(t):t;return r[o]}}const DL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},OL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},NL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},PL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},VL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},LL=(n,t)=>{const e=Number(n),i=e%100;if(i>20||i<10)switch(i%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},zL={ordinalNumber:LL,era:Bc({values:DL,defaultWidth:"wide"}),quarter:Bc({values:OL,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Bc({values:kL,defaultWidth:"wide"}),day:Bc({values:NL,defaultWidth:"wide"}),dayPeriod:Bc({values:PL,defaultWidth:"wide",formattingValues:VL,defaultFormattingWidth:"wide"})};function Fc(n){return(t,e={})=>{const i=e.width,r=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],o=t.match(r);if(!o)return null;const c=o[0],h=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(h)?jL(h,_=>_.test(c)):UL(h,_=>_.test(c));let m;m=n.valueCallback?n.valueCallback(f):f,m=e.valueCallback?e.valueCallback(m):m;const y=t.slice(c.length);return{value:m,rest:y}}}function UL(n,t){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&t(n[e]))return e}function jL(n,t){for(let e=0;e<n.length;e++)if(t(n[e]))return e}function BL(n){return(t,e={})=>{const i=t.match(n.matchPattern);if(!i)return null;const r=i[0],o=t.match(n.parsePattern);if(!o)return null;let c=n.valueCallback?n.valueCallback(o[0]):o[0];c=e.valueCallback?e.valueCallback(c):c;const h=t.slice(r.length);return{value:c,rest:h}}}const FL=/^(\d+)(th|st|nd|rd)?/i,HL=/\d+/i,qL={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},YL={any:[/^b/i,/^(a|c)/i]},GL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},WL={any:[/1/i,/2/i,/3/i,/4/i]},KL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},QL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},XL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$L={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},JL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ZL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},t9={ordinalNumber:BL({matchPattern:FL,parsePattern:HL,valueCallback:n=>parseInt(n,10)}),era:Fc({matchPatterns:qL,defaultMatchWidth:"wide",parsePatterns:YL,defaultParseWidth:"any"}),quarter:Fc({matchPatterns:GL,defaultMatchWidth:"wide",parsePatterns:WL,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Fc({matchPatterns:KL,defaultMatchWidth:"wide",parsePatterns:QL,defaultParseWidth:"any"}),day:Fc({matchPatterns:XL,defaultMatchWidth:"wide",parsePatterns:$L,defaultParseWidth:"any"}),dayPeriod:Fc({matchPatterns:JL,defaultMatchWidth:"any",parsePatterns:ZL,defaultParseWidth:"any"})},e9={code:"en-US",formatDistance:wL,formatLong:CL,formatRelative:ML,localize:zL,match:t9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function n9(n,t){const e=Bn(n,t?.in);return yL(e,TL(e))+1}function i9(n,t){const e=Bn(n,t?.in),i=+Od(e)-+_L(e);return Math.round(i/g2)+1}function y2(n,t){const e=Bn(n,t?.in),i=e.getFullYear(),r=om(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,c=Ai(t?.in||n,0);c.setFullYear(i+1,0,o),c.setHours(0,0,0,0);const h=Wr(c,t),f=Ai(t?.in||n,0);f.setFullYear(i,0,o),f.setHours(0,0,0,0);const m=Wr(f,t);return+e>=+h?i+1:+e>=+m?i:i-1}function s9(n,t){const e=om(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,r=y2(n,t),o=Ai(t?.in||n,0);return o.setFullYear(r,0,i),o.setHours(0,0,0,0),Wr(o,t)}function r9(n,t){const e=Bn(n,t?.in),i=+Wr(e,t)-+s9(e,t);return Math.round(i/g2)+1}function Zt(n,t){const e=n<0?"-":"",i=Math.abs(n).toString().padStart(t,"0");return e+i}const Tr={y(n,t){const e=n.getFullYear(),i=e>0?e:1-e;return Zt(t==="yy"?i%100:i,t.length)},M(n,t){const e=n.getMonth();return t==="M"?String(e+1):Zt(e+1,2)},d(n,t){return Zt(n.getDate(),t.length)},a(n,t){const e=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];default:return e==="am"?"a.m.":"p.m."}},h(n,t){return Zt(n.getHours()%12||12,t.length)},H(n,t){return Zt(n.getHours(),t.length)},m(n,t){return Zt(n.getMinutes(),t.length)},s(n,t){return Zt(n.getSeconds(),t.length)},S(n,t){const e=t.length,i=n.getMilliseconds(),r=Math.trunc(i*Math.pow(10,e-3));return Zt(r,t.length)}},Wo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ES={G:function(n,t,e){const i=n.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(i,{width:"abbreviated"});case"GGGGG":return e.era(i,{width:"narrow"});default:return e.era(i,{width:"wide"})}},y:function(n,t,e){if(t==="yo"){const i=n.getFullYear(),r=i>0?i:1-i;return e.ordinalNumber(r,{unit:"year"})}return Tr.y(n,t)},Y:function(n,t,e,i){const r=y2(n,i),o=r>0?r:1-r;if(t==="YY"){const c=o%100;return Zt(c,2)}return t==="Yo"?e.ordinalNumber(o,{unit:"year"}):Zt(o,t.length)},R:function(n,t){const e=p2(n);return Zt(e,t.length)},u:function(n,t){const e=n.getFullYear();return Zt(e,t.length)},Q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Zt(i,2);case"Qo":return e.ordinalNumber(i,{unit:"quarter"});case"QQQ":return e.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(i,{width:"narrow",context:"formatting"});default:return e.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Zt(i,2);case"qo":return e.ordinalNumber(i,{unit:"quarter"});case"qqq":return e.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(i,{width:"narrow",context:"standalone"});default:return e.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,t,e){const i=n.getMonth();switch(t){case"M":case"MM":return Tr.M(n,t);case"Mo":return e.ordinalNumber(i+1,{unit:"month"});case"MMM":return e.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(i,{width:"narrow",context:"formatting"});default:return e.month(i,{width:"wide",context:"formatting"})}},L:function(n,t,e){const i=n.getMonth();switch(t){case"L":return String(i+1);case"LL":return Zt(i+1,2);case"Lo":return e.ordinalNumber(i+1,{unit:"month"});case"LLL":return e.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(i,{width:"narrow",context:"standalone"});default:return e.month(i,{width:"wide",context:"standalone"})}},w:function(n,t,e,i){const r=r9(n,i);return t==="wo"?e.ordinalNumber(r,{unit:"week"}):Zt(r,t.length)},I:function(n,t,e){const i=i9(n);return t==="Io"?e.ordinalNumber(i,{unit:"week"}):Zt(i,t.length)},d:function(n,t,e){return t==="do"?e.ordinalNumber(n.getDate(),{unit:"date"}):Tr.d(n,t)},D:function(n,t,e){const i=n9(n);return t==="Do"?e.ordinalNumber(i,{unit:"dayOfYear"}):Zt(i,t.length)},E:function(n,t,e){const i=n.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(i,{width:"short",context:"formatting"});default:return e.day(i,{width:"wide",context:"formatting"})}},e:function(n,t,e,i){const r=n.getDay(),o=(r-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Zt(o,2);case"eo":return e.ordinalNumber(o,{unit:"day"});case"eee":return e.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(r,{width:"short",context:"formatting"});default:return e.day(r,{width:"wide",context:"formatting"})}},c:function(n,t,e,i){const r=n.getDay(),o=(r-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Zt(o,t.length);case"co":return e.ordinalNumber(o,{unit:"day"});case"ccc":return e.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(r,{width:"narrow",context:"standalone"});case"cccccc":return e.day(r,{width:"short",context:"standalone"});default:return e.day(r,{width:"wide",context:"standalone"})}},i:function(n,t,e){const i=n.getDay(),r=i===0?7:i;switch(t){case"i":return String(r);case"ii":return Zt(r,t.length);case"io":return e.ordinalNumber(r,{unit:"day"});case"iii":return e.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(i,{width:"short",context:"formatting"});default:return e.day(i,{width:"wide",context:"formatting"})}},a:function(n,t,e){const r=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(r,{width:"narrow",context:"formatting"});default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(n,t,e){const i=n.getHours();let r;switch(i===12?r=Wo.noon:i===0?r=Wo.midnight:r=i/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(r,{width:"narrow",context:"formatting"});default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(n,t,e){const i=n.getHours();let r;switch(i>=17?r=Wo.evening:i>=12?r=Wo.afternoon:i>=4?r=Wo.morning:r=Wo.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(r,{width:"narrow",context:"formatting"});default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(n,t,e){if(t==="ho"){let i=n.getHours()%12;return i===0&&(i=12),e.ordinalNumber(i,{unit:"hour"})}return Tr.h(n,t)},H:function(n,t,e){return t==="Ho"?e.ordinalNumber(n.getHours(),{unit:"hour"}):Tr.H(n,t)},K:function(n,t,e){const i=n.getHours()%12;return t==="Ko"?e.ordinalNumber(i,{unit:"hour"}):Zt(i,t.length)},k:function(n,t,e){let i=n.getHours();return i===0&&(i=24),t==="ko"?e.ordinalNumber(i,{unit:"hour"}):Zt(i,t.length)},m:function(n,t,e){return t==="mo"?e.ordinalNumber(n.getMinutes(),{unit:"minute"}):Tr.m(n,t)},s:function(n,t,e){return t==="so"?e.ordinalNumber(n.getSeconds(),{unit:"second"}):Tr.s(n,t)},S:function(n,t){return Tr.S(n,t)},X:function(n,t,e){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return SS(i);case"XXXX":case"XX":return Pa(i);default:return Pa(i,":")}},x:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"x":return SS(i);case"xxxx":case"xx":return Pa(i);default:return Pa(i,":")}},O:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+TS(i,":");default:return"GMT"+Pa(i,":")}},z:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+TS(i,":");default:return"GMT"+Pa(i,":")}},t:function(n,t,e){const i=Math.trunc(+n/1e3);return Zt(i,t.length)},T:function(n,t,e){return Zt(+n,t.length)}};function TS(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),r=Math.trunc(i/60),o=i%60;return o===0?e+String(r):e+String(r)+t+Zt(o,2)}function SS(n,t){return n%60===0?(n>0?"-":"+")+Zt(Math.abs(n)/60,2):Pa(n,t)}function Pa(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),r=Zt(Math.trunc(i/60),2),o=Zt(i%60,2);return e+r+t+o}const wS=(n,t)=>{switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},_2=(n,t)=>{switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},a9=(n,t)=>{const e=n.match(/(P+)(p+)?/)||[],i=e[1],r=e[2];if(!r)return wS(n,t);let o;switch(i){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",wS(i,t)).replace("{{time}}",_2(r,t))},o9={p:_2,P:a9},l9=/^D+$/,c9=/^Y+$/,u9=["D","DD","YY","YYYY"];function h9(n){return l9.test(n)}function f9(n){return c9.test(n)}function d9(n,t,e){const i=m9(n,t,e);if(console.warn(i),u9.includes(n))throw new RangeError(i)}function m9(n,t,e){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${t}\`) for formatting ${i} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const g9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,p9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,y9=/^'([^]*?)'?$/,_9=/''/g,v9=/[a-zA-Z]/;function ri(n,t,e){const i=om(),r=i.locale??e9,o=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,h=Bn(n,e?.in);if(!EL(h))throw new RangeError("Invalid time value");let f=t.match(p9).map(y=>{const _=y[0];if(_==="p"||_==="P"){const E=o9[_];return E(y,r.formatLong)}return y}).join("").match(g9).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const _=y[0];if(_==="'")return{isToken:!1,value:b9(y)};if(ES[_])return{isToken:!0,value:y};if(_.match(v9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:y}});r.localize.preprocessor&&(f=r.localize.preprocessor(h,f));const m={firstWeekContainsDate:o,weekStartsOn:c,locale:r};return f.map(y=>{if(!y.isToken)return y.value;const _=y.value;(f9(_)||h9(_))&&d9(_,t,String(n));const E=ES[_[0]];return E(h,_,r.localize,m)}).join("")}function b9(n){const t=n.match(y9);return t?t[1].replace(_9,"'"):n}function zf(n,t,e){const[i,r]=F_(e?.in,n,t);return+Wr(i,e)==+Wr(r,e)}function Ko(n,t,e){const[i,r]=F_(e?.in,n,t);return i.getFullYear()===r.getFullYear()&&i.getMonth()===r.getMonth()}function Uf(n,t,e){return gL(n,-t,e)}function E9(n,t,e){return vL(n,-1,e)}rm.register(IV,$V,BV,eL,sL,PV,HV);function T9(){const{expenses:n,loading:t}=xA(),{incomes:e}=AA(),i=Y.useMemo(()=>{const S=new Date,A=Uf(S,1),w=E9(S),C=n.reduce((M,N)=>M+(parseFloat(N.amount)||0),0),V=e.reduce((M,N)=>M+(parseFloat(N.amount)||0),0),B=n.filter(M=>Ko(M.date,S)).reduce((M,N)=>M+parseFloat(N.amount),0),q=e.filter(M=>Ko(M.date,S)).reduce((M,N)=>M+parseFloat(N.amount),0),rt=n.filter(M=>zf(M.date,S)).reduce((M,N)=>M+parseFloat(N.amount),0),tt=e.filter(M=>zf(M.date,S)).reduce((M,N)=>M+parseFloat(N.amount),0),ot=n.filter(M=>Ko(M.date,A)).reduce((M,N)=>M+parseFloat(N.amount),0),D=n.filter(M=>zf(M.date,w)).reduce((M,N)=>M+parseFloat(N.amount),0),I=V-C;return{totalExpense:C,totalIncome:V,thisMonthExpense:B,thisMonthIncome:q,thisWeekExpense:rt,thisWeekIncome:tt,prevMonthExpense:ot,prevWeekExpense:D,purseAmount:I}},[n,e]),r=Y.useMemo(()=>{const S={};return n.forEach(A=>{const w=A.category||"Other";S[w]=(S[w]||0)+parseFloat(A.amount)}),{labels:Object.keys(S),datasets:[{data:Object.values(S),backgroundColor:["#6366F1","#22C55E","#F59E0B","#EF4444","#06B6D4","#A855F7"]}]}},[n]),o=Y.useMemo(()=>{const S={};for(let A=5;A>=0;A--){const w=Uf(new Date,A);S[ri(w,"MMM")]=0}return n.forEach(A=>{const w=ri(A.date,"MMM");S[w]!==void 0&&(S[w]+=parseFloat(A.amount))}),{labels:Object.keys(S),datasets:[{label:"Monthly Spending",data:Object.values(S),backgroundColor:"rgba(99,102,241,0.6)",borderRadius:8}]}},[n]),c=Y.useMemo(()=>{const S={},A=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];A.forEach(C=>{S[C]=0});const w=new Date;return Wr(w),n.forEach(C=>{if(zf(C.date,w)){const V=C.date.getDay(),B=A[V===0?6:V-1];S[B]+=parseFloat(C.amount)}}),{labels:Object.keys(S),datasets:[{label:"Weekly Spending",data:Object.values(S),backgroundColor:"rgba(34,197,94,0.6)",borderRadius:8}]}},[n]),h=Y.useMemo(()=>{const S=new Date,A=Uf(S,1),w={},C={};return n.forEach(V=>{const B=parseFloat(V.amount)||0,q=V.category||"Other";Ko(V.date,S)&&(w[q]=(w[q]||0)+B),Ko(V.date,A)&&(C[q]=(C[q]||0)+B)}),Object.keys(w).map(V=>({category:V,change:(w[V]||0)-(C[V]||0)})).sort((V,B)=>B.change-V.change)},[n]),f=Y.useMemo(()=>{if(!n.length)return 0;const S=new Set(n.map(A=>ri(A.date,"yyyy-MM-dd")));return i.totalExpense/S.size},[n,i.totalExpense]),m=Y.useMemo(()=>{let S=0,A=0;for(let w=1;w<=3;w++){const C=Uf(new Date,w),V=n.filter(B=>Ko(B.date,C)).reduce((B,q)=>B+parseFloat(q.amount),0);V>0&&(S+=V,A++)}return A?S/A:0},[n]),y=i.prevMonthExpense>0?(i.thisMonthExpense-i.prevMonthExpense)/i.prevMonthExpense*100:0,_=i.prevWeekExpense>0?(i.thisWeekExpense-i.prevWeekExpense)/i.prevWeekExpense*100:0,E=i.totalIncome>0?(i.purseAmount/i.totalIncome*100).toFixed(1):0;return t?O.jsx("div",{className:"dashboard-loader",children:"Loading dashboard"}):O.jsxs("div",{className:"dashboard fade-in",children:[O.jsxs("header",{className:"dashboard-header",children:[O.jsx("h1",{children:"Dashboard Overview"}),O.jsx("span",{children:ri(new Date,"MMMM d, yyyy")})]}),y>20&&O.jsxs("div",{className:"alert-card",children:[" You are spending ",O.jsxs("strong",{children:[y.toFixed(1),"%"]})," more than last month"]}),_>20&&O.jsxs("div",{className:"alert-card alert-warning",children:[" This week's spending is ",O.jsxs("strong",{children:[_.toFixed(1),"%"]})," higher than last week"]}),O.jsxs("section",{className:"stats-grid",children:[O.jsxs("div",{className:"stat-card highlight",children:[O.jsx(wA,{}),O.jsxs("div",{children:[O.jsx("p",{children:"Total Income"}),O.jsxs("h2",{children:["",i.totalIncome.toLocaleString()]}),O.jsx("span",{children:"Lifetime"})]})]}),O.jsxs("div",{className:"stat-card highlight purse",children:[O.jsx(u6,{}),O.jsxs("div",{children:[O.jsx("p",{children:"Purse Amount"}),O.jsxs("h2",{children:["",i.purseAmount.toLocaleString()]}),O.jsxs("span",{children:[E,"% of income"]})]})]}),O.jsxs("div",{className:"stat-card",children:[O.jsxs("div",{children:[O.jsx("p",{children:"This Month Income"}),O.jsxs("h2",{children:["",i.thisMonthIncome.toLocaleString()]})]}),O.jsx("span",{className:"muted",children:"Monthly earnings"})]}),O.jsxs("div",{className:"stat-card",children:[O.jsxs("div",{children:[O.jsx("p",{children:"This Month Expense"}),O.jsxs("h2",{children:["",i.thisMonthExpense.toLocaleString()]})]}),O.jsxs("span",{className:`trend ${i.thisMonthExpense>i.prevMonthExpense?"up":"down"}`,children:[i.thisMonthExpense>i.prevMonthExpense?O.jsx(yy,{}):O.jsx(sT,{})," vs last month"]})]}),O.jsxs("div",{className:"stat-card",children:[O.jsxs("div",{children:[O.jsx("p",{children:"This Week Income"}),O.jsxs("h2",{children:["",i.thisWeekIncome.toLocaleString()]})]}),O.jsx("span",{className:"muted",children:"Weekly earnings"})]}),O.jsxs("div",{className:"stat-card",children:[O.jsxs("div",{children:[O.jsx("p",{children:"This Week Expense"}),O.jsxs("h2",{children:["",i.thisWeekExpense.toLocaleString()]})]}),O.jsxs("span",{className:`trend ${i.thisWeekExpense>i.prevWeekExpense?"up":"down"}`,children:[i.thisWeekExpense>i.prevWeekExpense?O.jsx(yy,{}):O.jsx(sT,{})," vs last week"]})]}),O.jsxs("div",{className:"stat-card",children:[O.jsxs("div",{children:[O.jsx("p",{children:"Avg / Day"}),O.jsxs("h2",{children:["",f.toFixed(0)]})]}),O.jsx("span",{className:"muted",children:"Spending habit"})]}),O.jsxs("div",{className:"stat-card highlight",children:[O.jsxs("div",{children:[O.jsx("p",{children:"Predicted Next Month"}),O.jsxs("h2",{children:["",m.toFixed(0)]})]}),O.jsx("span",{children:"Forecast"})]})]}),O.jsxs("section",{className:"charts-grid",children:[O.jsxs("div",{className:"chart-card",children:[O.jsx("h3",{children:"Spending by Category"}),O.jsx("div",{className:"chart-box",children:r.labels.length?O.jsx(fL,{data:r}):O.jsx("p",{className:"empty",children:"No data available"})})]}),O.jsxs("div",{className:"chart-card",children:[O.jsx("h3",{children:"Weekly Trend"}),O.jsx("div",{className:"chart-box",children:O.jsx(yS,{data:c})})]}),O.jsxs("div",{className:"chart-card",children:[O.jsx("h3",{children:"Monthly Trend"}),O.jsx("div",{className:"chart-box",children:O.jsx(yS,{data:o})})]}),O.jsxs("div",{className:"chart-card",children:[O.jsx("h3",{children:"Top Category Growth"}),h.slice(0,3).map(S=>O.jsxs("div",{className:"growth-row",children:[O.jsx("span",{children:S.category}),O.jsxs("span",{className:S.change>=0?"up":"down",children:[S.change>=0?"+":"-","",Math.abs(S.change).toFixed(0)]})]},S.category))]})]}),O.jsx("style",{children:`
        .dashboard-header {
          display: flex;
          justify-content: space-between;
          margin-bottom: 1.5rem;
        }
        .stats-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
          gap: 1.2rem;
          margin-bottom: 2rem;
        }
        .stat-card {
          padding: 1.4rem;
          border-radius: 16px;
          background: white;
          display: flex;
          justify-content: space-between;
          align-items: center;
          position: relative;
          overflow: hidden;
          border: 1px solid #e5e7eb;
          transition: all 0.3s ease;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
        }
        .stat-card:hover {
          box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
          border-color: #d1d5db;
        }
        .stat-card::before {
          content: '';
          position: absolute;
          top: -50%;
          right: -50%;
          width: 200px;
          height: 200px;
          background: radial-gradient(circle, rgba(99, 102, 241, 0.05) 0%, transparent 70%);
          border-radius: 50%;
          pointer-events: none;
        }
        .stat-card p {
          font-size: 0.85rem;
          color: #6b7280;
          margin: 0;
          font-weight: 500;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }
        .stat-card h2 {
          font-size: 1.6rem;
          margin: 0.3rem 0 0 0;
          color: #1f2937;
          font-weight: 700;
        }
        .stat-card span {
          font-size: 0.75rem;
          color: #9ca3af;
          font-weight: 500;
        }
        .stat-card.highlight {
          background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);
          color: white;
          border: none;
          box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
        }
        .stat-card.highlight:hover {
          box-shadow: 0 8px 20px rgba(99, 102, 241, 0.4);
          transform: translateY(-2px);
        }
        .stat-card.highlight.purse {
          background: linear-gradient(135deg, #16a34a 0%, #15803d 100%);
          box-shadow: 0 4px 12px rgba(22, 163, 74, 0.3);
        }
        .stat-card.highlight.purse:hover {
          box-shadow: 0 8px 20px rgba(22, 163, 74, 0.4);
        }
        .stat-card.highlight p {
          color: rgba(255, 255, 255, 0.85);
        }
        .stat-card.highlight h2 {
          color: white;
        }
        .stat-card.highlight span {
          color: rgba(255, 255, 255, 0.7);
        }
        .stat-card svg {
          font-size: 1.5rem;
          margin-right: 0.8rem;
          color: #6366f1;
          opacity: 0.8;
        }
        .stat-card.highlight svg {
          color: rgba(255, 255, 255, 0.95);
        }
        .trend {
          display: inline-flex;
          align-items: center;
          gap: 0.3rem;
          padding: 0.3rem 0.6rem;
          border-radius: 6px;
          font-size: 0.7rem;
          font-weight: 600;
          margin-top: 0.4rem;
          width: fit-content;
        }
        .trend.up {
          background: rgba(34, 197, 94, 0.1);
          color: #16a34a;
        }
        .trend.down {
          background: rgba(220, 38, 38, 0.1);
          color: #dc2626;
        }
        .muted {
          color: #9ca3af !important;
          font-size: 0.75rem !important;
        }
        .charts-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
          gap: 1.5rem;
        }
        .chart-card {
          background: white;
          border-radius: 16px;
          padding: 1.5rem;
        }
        .chart-box {
          height: 280px;
        }
        .growth-row {
          display: flex;
          justify-content: space-between;
          margin-top: 0.6rem;
        }
        .up { color: #16a34a; }
        .down { color: #dc2626; }
        .alert-card {
          background: #fff7ed;
          border-left: 5px solid #f97316;
          padding: 1rem;
          margin-bottom: 1.2rem;
          border-radius: 12px;
        }
        .alert-card.alert-warning {
          background: #fef3c7;
          border-left: 5px solid #eab308;
        }
        .fade-in {
          animation: fade 0.4s ease-in;
        }
        @keyframes fade {
          from { opacity: 0; transform: translateY(8px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `})]})}const S9=["Food","Travel","Mobile Recharge","Taxies","Utilities","Movie","Xerox","Pharmacy","Others"];function w9(){const{expenses:n,addExpense:t,deleteExpense:e,updateExpense:i}=xA(),[r,o]=Y.useState(!1),[c,h]=Y.useState(null),[f,m]=Y.useState(""),[y,_]=Y.useState({title:"",amount:"",category:"Food",date:ri(new Date,"yyyy-MM-dd")}),E=n.filter(w=>w.title.toLowerCase().includes(f.toLowerCase())||w.category.toLowerCase().includes(f.toLowerCase())),S=(w=null)=>{w?(h(w.id),_({title:w.title,amount:w.amount,category:w.category,date:ri(w.date,"yyyy-MM-dd")})):(h(null),_({title:"",amount:"",category:"Food",date:ri(new Date,"yyyy-MM-dd")})),o(!0)},A=async w=>{w.preventDefault();const C={title:y.title,amount:parseFloat(y.amount),category:y.category,date:new Date(y.date)};c?await i(c,C):await t(C),o(!1)};return O.jsxs("div",{className:"fade-in",children:[O.jsxs("header",{className:"expenses-header",children:[O.jsx("h1",{children:"Expenses"}),O.jsxs("button",{className:"btn btn-primary",onClick:()=>S(),children:[O.jsx(EA,{})," Add Expense"]})]}),O.jsxs("div",{className:"card search-card",children:[O.jsx(TA,{}),O.jsx("input",{placeholder:"Search by title or category",value:f,onChange:w=>m(w.target.value)})]}),O.jsx("div",{className:"card table-card",children:O.jsxs("table",{children:[O.jsx("thead",{children:O.jsxs("tr",{children:[O.jsx("th",{children:"Date"}),O.jsx("th",{children:"Title"}),O.jsx("th",{children:"Category"}),O.jsx("th",{className:"amount",children:"Amount"}),O.jsx("th",{className:"actions",children:"Actions"})]})}),O.jsxs("tbody",{children:[E.map(w=>O.jsxs("tr",{children:[O.jsx("td",{children:ri(w.date,"MMM d, yyyy")}),O.jsx("td",{className:"title",children:w.title}),O.jsx("td",{children:O.jsx("span",{className:`badge ${w.category.toLowerCase()}`,children:w.category})}),O.jsxs("td",{className:"amount",children:["",parseFloat(w.amount).toFixed(2)]}),O.jsxs("td",{className:"actions",children:[O.jsx("button",{onClick:()=>S(w),className:"icon-btn edit",children:O.jsx(bA,{})}),O.jsx("button",{onClick:()=>window.confirm("Delete this expense?")&&e(w.id),className:"icon-btn delete",children:O.jsx(SA,{})})]})]},w.id)),E.length===0&&O.jsx("tr",{children:O.jsx("td",{colSpan:"5",className:"empty",children:"No expenses found"})})]})]})}),r&&O.jsx("div",{className:"modal-overlay",children:O.jsxs("div",{className:"modal-card",children:[O.jsx("h2",{children:c?"Edit Expense":"Add Expense"}),O.jsxs("form",{onSubmit:A,children:[O.jsxs("div",{className:"input-group",children:[O.jsx("label",{children:"Title"}),O.jsx("input",{required:!0,value:y.title,onChange:w=>_({...y,title:w.target.value})})]}),O.jsxs("div",{className:"row",children:[O.jsxs("div",{className:"input-group",children:[O.jsx("label",{children:"Amount"}),O.jsx("input",{type:"number",step:"0.01",required:!0,value:y.amount,onChange:w=>_({...y,amount:w.target.value})})]}),O.jsxs("div",{className:"input-group",children:[O.jsx("label",{children:"Date"}),O.jsx("input",{type:"date",required:!0,value:y.date,onChange:w=>_({...y,date:w.target.value})})]})]}),O.jsxs("div",{className:"input-group",children:[O.jsx("label",{children:"Category"}),O.jsx("select",{value:y.category,onChange:w=>_({...y,category:w.target.value}),children:S9.map(w=>O.jsx("option",{children:w},w))})]}),O.jsxs("div",{className:"modal-actions",children:[O.jsx("button",{type:"button",className:"btn ghost",onClick:()=>o(!1),children:"Cancel"}),O.jsxs("button",{className:"btn btn-primary",children:[c?"Update":"Add"," Expense"]})]})]})]})}),O.jsx("style",{children:`
        .expenses-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 1.5rem;
        }

        .search-card {
          display: flex;
          align-items: center;
          gap: 0.75rem;
          padding: 1rem;
          margin-bottom: 1.5rem;
        }

        .search-card input {
          border: none;
          outline: none;
          width: 100%;
          font-size: 0.95rem;
        }

        .table-card {
          overflow-x: auto;
        }

        table {
          width: 100%;
          border-collapse: collapse;
          min-width: 700px;
        }

        thead {
          background: #f9fafb;
        }

        th, td {
          padding: 0.9rem;
          text-align: left;
        }

        tbody tr:hover {
          background: #f9fafb;
        }

        .title {
          font-weight: 500;
        }

        .amount {
          font-weight: 600;
        }

        .actions {
          text-align: right;
        }

        .icon-btn {
          background: none;
          border: none;
          cursor: pointer;
          padding: 6px;
          margin-left: 6px;
          border-radius: 6px;
        }

        .icon-btn.edit:hover {
          background: rgba(99,102,241,0.15);
        }

        .icon-btn.delete:hover {
          background: rgba(239,68,68,0.15);
          color: #ef4444;
        }

        .badge {
          padding: 4px 10px;
          border-radius: 999px;
          font-size: 0.8rem;
          background: rgba(99,102,241,0.12);
          color: #4f46e5;
        }

        .empty {
          text-align: center;
          padding: 2rem;
          color: var(--text-muted);
        }

        .modal-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.6);
          backdrop-filter: blur(8px);
          -webkit-backdrop-filter: blur(8px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          animation: fadeIn 0.3s ease;
        }

        .modal-card {
          background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
          padding: 2.5rem;
          border-radius: 24px;
          width: 100%;
          max-width: 520px;
          animation: slideUp 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
          box-shadow: 
            0 20px 25px -5px rgba(0, 0, 0, 0.15),
            0 10px 10px -5px rgba(0, 0, 0, 0.08);
          border: 1px solid rgba(255, 255, 255, 0.8);
        }

        .modal-card h2 {
          margin: 0 0 1.5rem 0;
          font-size: 1.5rem;
          color: #1f2937;
          font-weight: 600;
        }

        .input-group {
          margin-bottom: 1.25rem;
        }

        .input-group label {
          display: block;
          font-size: 0.9rem;
          font-weight: 500;
          color: #374151;
          margin-bottom: 0.5rem;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .input-group input,
        .input-group select {
          width: 100%;
          padding: 0.875rem 1rem;
          border: 2px solid #e5e7eb;
          border-radius: 12px;
          font-size: 0.95rem;
          font-family: inherit;
          transition: all 0.3s ease;
          background: white;
        }

        .input-group input:focus,
        .input-group select:focus {
          outline: none;
          border-color: #4f46e5;
          box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
          background: white;
        }

        .input-group input:hover,
        .input-group select:hover {
          border-color: #d1d5db;
        }

        .row {
          display: flex;
          gap: 1rem;
        }

        .row .input-group {
          flex: 1;
        }

        .modal-actions {
          display: flex;
          justify-content: flex-end;
          gap: 1rem;
          margin-top: 2rem;
          padding-top: 1.5rem;
          border-top: 1px solid #e5e7eb;
        }

        .btn {
          padding: 0.875rem 1.5rem;
          border: none;
          border-radius: 12px;
          font-size: 0.95rem;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.3s ease;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .btn-primary {
          background: linear-gradient(135deg, #4f46e5 0%, #6366f1 100%);
          color: white;
          box-shadow: 0 4px 15px -3px rgba(79, 70, 229, 0.4);
        }

        .btn-primary:hover {
          transform: translateY(-2px);
          box-shadow: 0 6px 20px -3px rgba(79, 70, 229, 0.5);
        }

        .btn-primary:active {
          transform: translateY(0);
        }

        .ghost {
          background: #f3f4f6;
          color: #374151;
          border: 1px solid #e5e7eb;
        }

        .ghost:hover {
          background: #e5e7eb;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .ghost:active {
          transform: translateY(0);
        }

        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }

        @keyframes slideUp {
          from { 
            opacity: 0; 
            transform: translateY(20px);
          }
          to { 
            opacity: 1; 
            transform: translateY(0);
          }
        }
      `})]})}const x9=["Salary","Freelance","Bonus","Investment","Gift","Other"];function A9(){const{incomes:n,addIncome:t,deleteIncome:e,updateIncome:i}=AA(),[r,o]=Y.useState(!1),[c,h]=Y.useState(null),[f,m]=Y.useState(""),[y,_]=Y.useState({title:"",amount:"",source:"Salary",date:ri(new Date,"yyyy-MM-dd")}),E=n.filter(w=>w.title.toLowerCase().includes(f.toLowerCase())||w.source.toLowerCase().includes(f.toLowerCase())),S=(w=null)=>{w?(h(w.id),_({title:w.title,amount:w.amount,source:w.source,date:ri(w.date,"yyyy-MM-dd")})):(h(null),_({title:"",amount:"",source:"Salary",date:ri(new Date,"yyyy-MM-dd")})),o(!0)},A=async w=>{w.preventDefault();const C={title:y.title,amount:parseFloat(y.amount),source:y.source,date:new Date(y.date)};c?await i(c,C):await t(C),o(!1)};return O.jsxs("div",{className:"fade-in",children:[O.jsxs("header",{className:"expenses-header",children:[O.jsx("h1",{children:"Income"}),O.jsxs("button",{className:"btn btn-primary",onClick:()=>S(),children:[O.jsx(EA,{})," Add Income"]})]}),O.jsxs("div",{className:"card search-card",children:[O.jsx(TA,{}),O.jsx("input",{placeholder:"Search by title or source",value:f,onChange:w=>m(w.target.value)})]}),O.jsx("div",{className:"card table-card",children:O.jsxs("table",{children:[O.jsx("thead",{children:O.jsxs("tr",{children:[O.jsx("th",{children:"Date"}),O.jsx("th",{children:"Title"}),O.jsx("th",{children:"Source"}),O.jsx("th",{className:"amount",children:"Amount"}),O.jsx("th",{className:"actions",children:"Actions"})]})}),O.jsxs("tbody",{children:[E.map(w=>O.jsxs("tr",{children:[O.jsx("td",{children:ri(w.date,"MMM d, yyyy")}),O.jsx("td",{className:"title",children:w.title}),O.jsx("td",{children:O.jsx("span",{className:`badge ${w.source.toLowerCase()}`,children:w.source})}),O.jsxs("td",{className:"amount",children:["",parseFloat(w.amount).toFixed(2)]}),O.jsxs("td",{className:"actions",children:[O.jsx("button",{onClick:()=>S(w),className:"icon-btn edit",children:O.jsx(bA,{})}),O.jsx("button",{onClick:()=>window.confirm("Delete this income?")&&e(w.id),className:"icon-btn delete",children:O.jsx(SA,{})})]})]},w.id)),E.length===0&&O.jsx("tr",{children:O.jsx("td",{colSpan:"5",className:"empty",children:"No income records found"})})]})]})}),r&&O.jsx("div",{className:"modal-overlay",children:O.jsxs("div",{className:"modal-card",children:[O.jsx("h2",{children:c?"Edit Income":"Add Income"}),O.jsxs("form",{onSubmit:A,children:[O.jsxs("div",{className:"input-group",children:[O.jsx("label",{children:"Title"}),O.jsx("input",{required:!0,value:y.title,onChange:w=>_({...y,title:w.target.value})})]}),O.jsxs("div",{className:"row",children:[O.jsxs("div",{className:"input-group",children:[O.jsx("label",{children:"Amount"}),O.jsx("input",{type:"number",step:"0.01",required:!0,value:y.amount,onChange:w=>_({...y,amount:w.target.value})})]}),O.jsxs("div",{className:"input-group",children:[O.jsx("label",{children:"Date"}),O.jsx("input",{type:"date",required:!0,value:y.date,onChange:w=>_({...y,date:w.target.value})})]})]}),O.jsxs("div",{className:"input-group",children:[O.jsx("label",{children:"Source"}),O.jsx("select",{value:y.source,onChange:w=>_({...y,source:w.target.value}),children:x9.map(w=>O.jsx("option",{children:w},w))})]}),O.jsxs("div",{className:"modal-actions",children:[O.jsx("button",{type:"button",className:"btn ghost",onClick:()=>o(!1),children:"Cancel"}),O.jsxs("button",{className:"btn btn-primary",children:[c?"Update":"Add"," Income"]})]})]})]})}),O.jsx("style",{children:`
        .expenses-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 1.5rem;
        }

        .search-card {
          display: flex;
          align-items: center;
          gap: 0.75rem;
          padding: 1rem;
          margin-bottom: 1.5rem;
        }

        .search-card input {
          border: none;
          outline: none;
          width: 100%;
          font-size: 0.95rem;
        }

        .table-card {
          overflow-x: auto;
        }

        table {
          width: 100%;
          border-collapse: collapse;
          min-width: 700px;
        }

        thead {
          background: #f9fafb;
        }

        th, td {
          padding: 0.9rem;
          text-align: left;
        }

        tbody tr:hover {
          background: #f9fafb;
        }

        .title {
          font-weight: 500;
        }

        .amount {
          font-weight: 600;
          color: #16a34a;
        }

        .actions {
          text-align: right;
        }

        .icon-btn {
          background: none;
          border: none;
          cursor: pointer;
          padding: 6px;
          margin-left: 6px;
          border-radius: 6px;
        }

        .icon-btn.edit:hover {
          background: rgba(99,102,241,0.15);
        }

        .icon-btn.delete:hover {
          background: rgba(239,68,68,0.15);
          color: #ef4444;
        }

        .badge {
          padding: 4px 10px;
          border-radius: 999px;
          font-size: 0.8rem;
          background: rgba(34,197,94,0.12);
          color: #16a34a;
        }

        .badge.salary {
          background: rgba(99,102,241,0.12);
          color: #4f46e5;
        }

        .badge.freelance {
          background: rgba(168,85,247,0.12);
          color: #a855f7;
        }

        .badge.bonus {
          background: rgba(245,158,11,0.12);
          color: #f59e0b;
        }

        .badge.investment {
          background: rgba(6,182,212,0.12);
          color: #06b6d4;
        }

        .badge.gift {
          background: rgba(236,72,153,0.12);
          color: #ec4899;
        }

        .empty {
          text-align: center;
          padding: 2rem;
          color: var(--text-muted);
        }

        .modal-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.6);
          backdrop-filter: blur(8px);
          -webkit-backdrop-filter: blur(8px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          animation: fadeIn 0.3s ease;
        }

        .modal-card {
          background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
          padding: 2.5rem;
          border-radius: 24px;
          width: 100%;
          max-width: 520px;
          animation: slideUp 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
          box-shadow: 
            0 20px 25px -5px rgba(0, 0, 0, 0.15),
            0 10px 10px -5px rgba(0, 0, 0, 0.08);
          border: 1px solid rgba(255, 255, 255, 0.8);
        }

        .modal-card h2 {
          margin: 0 0 1.5rem 0;
          font-size: 1.5rem;
          color: #1f2937;
          font-weight: 600;
        }

        .input-group {
          margin-bottom: 1.25rem;
        }

        .input-group label {
          display: block;
          font-size: 0.9rem;
          font-weight: 500;
          color: #374151;
          margin-bottom: 0.5rem;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .input-group input,
        .input-group select {
          width: 100%;
          padding: 0.875rem 1rem;
          border: 2px solid #e5e7eb;
          border-radius: 12px;
          font-size: 0.95rem;
          font-family: inherit;
          transition: all 0.3s ease;
          background: white;
        }

        .input-group input:focus,
        .input-group select:focus {
          outline: none;
          border-color: #16a34a;
          box-shadow: 0 0 0 3px rgba(22, 163, 74, 0.1);
          background: white;
        }

        .input-group input:hover,
        .input-group select:hover {
          border-color: #d1d5db;
        }

        .row {
          display: flex;
          gap: 1rem;
        }

        .row .input-group {
          flex: 1;
        }

        .modal-actions {
          display: flex;
          justify-content: flex-end;
          gap: 1rem;
          margin-top: 2rem;
          padding-top: 1.5rem;
          border-top: 1px solid #e5e7eb;
        }

        .btn {
          padding: 0.875rem 1.5rem;
          border: none;
          border-radius: 12px;
          font-size: 0.95rem;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.3s ease;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .btn-primary {
          background: linear-gradient(135deg, #16a34a 0%, #15803d 100%);
          color: white;
          box-shadow: 0 4px 15px -3px rgba(22, 163, 74, 0.4);
        }

        .btn-primary:hover {
          transform: translateY(-2px);
          box-shadow: 0 6px 20px -3px rgba(22, 163, 74, 0.5);
        }

        .btn-primary:active {
          transform: translateY(0);
        }

        .ghost {
          background: #f3f4f6;
          color: #374151;
          border: 1px solid #e5e7eb;
        }

        .ghost:hover {
          background: #e5e7eb;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .ghost:active {
          transform: translateY(0);
        }

        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }

        @keyframes slideUp {
          from { 
            opacity: 0; 
            transform: translateY(20px);
          }
          to { 
            opacity: 1; 
            transform: translateY(0);
          }
        }
      `})]})}function Bp({children:n}){const{currentUser:t}=nm();return t?n:O.jsx(jS,{to:"/login"})}function R9({children:n}){const{currentUser:t}=nm();return t?O.jsx(jS,{to:"/"}):n}function C9(){return O.jsx(J3,{children:O.jsxs(nI,{children:[O.jsx(Hc,{path:"/login",element:O.jsx(R9,{children:O.jsx(m6,{})})}),O.jsx(Hc,{path:"/",element:O.jsx(Bp,{children:O.jsx(Rp,{children:O.jsx(T9,{})})})}),O.jsx(Hc,{path:"/expenses",element:O.jsx(Bp,{children:O.jsx(Rp,{children:O.jsx(w9,{})})})}),O.jsx(Hc,{path:"/income",element:O.jsx(Bp,{children:O.jsx(Rp,{children:O.jsx(A9,{})})})})]})})}rC.createRoot(document.getElementById("root")).render(O.jsx(Or.StrictMode,{children:O.jsx(AI,{basename:"/expense-tracker",children:O.jsx(C9,{})})}));
