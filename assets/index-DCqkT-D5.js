(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function gS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Dp={exports:{}},Gc={};var H1;function gM(){if(H1)return Gc;H1=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:o}}return Gc.Fragment=t,Gc.jsx=e,Gc.jsxs=e,Gc}var q1;function pM(){return q1||(q1=1,Dp.exports=gM()),Dp.exports}var E=pM(),Op={exports:{}},Rt={};var G1;function yM(){if(G1)return Rt;G1=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),b=Symbol.iterator;function T(U){return U===null||typeof U!="object"?null:(U=b&&U[b]||U["@@iterator"],typeof U=="function"?U:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,R={};function O(U,et,ct){this.props=U,this.context=et,this.refs=R,this.updater=ct||A}O.prototype.isReactComponent={},O.prototype.setState=function(U,et){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,et,"setState")},O.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function V(){}V.prototype=O.prototype;function H(U,et,ct){this.props=U,this.context=et,this.refs=R,this.updater=ct||A}var G=H.prototype=new V;G.constructor=H,w(G,O.prototype),G.isPureReactComponent=!0;var Y=Array.isArray;function nt(){}var N={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function I(U,et,ct){var ht=ct.ref;return{$$typeof:n,type:U,key:et,ref:ht!==void 0?ht:null,props:ct}}function P(U,et){return I(U.type,et,U.props)}function L(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function z(U){var et={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ct){return et[ct]})}var k=/\/+/g;function ut(U,et){return typeof U=="object"&&U!==null&&U.key!=null?z(""+U.key):et.toString(36)}function gt(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(nt,nt):(U.status="pending",U.then(function(et){U.status==="pending"&&(U.status="fulfilled",U.value=et)},function(et){U.status==="pending"&&(U.status="rejected",U.reason=et)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function X(U,et,ct,ht,Et){var St=typeof U;(St==="undefined"||St==="boolean")&&(U=null);var Ht=!1;if(U===null)Ht=!0;else switch(St){case"bigint":case"string":case"number":Ht=!0;break;case"object":switch(U.$$typeof){case n:case t:Ht=!0;break;case p:return Ht=U._init,X(Ht(U._payload),et,ct,ht,Et)}}if(Ht)return Et=Et(U),Ht=ht===""?"."+ut(U,0):ht,Y(Et)?(ct="",Ht!=null&&(ct=Ht.replace(k,"$&/")+"/"),X(Et,et,ct,"",function(aa){return aa})):Et!=null&&(L(Et)&&(Et=P(Et,ct+(Et.key==null||U&&U.key===Et.key?"":(""+Et.key).replace(k,"$&/")+"/")+Ht)),et.push(Et)),1;Ht=0;var He=ht===""?".":ht+":";if(Y(U))for(var ge=0;ge<U.length;ge++)ht=U[ge],St=He+ut(ht,ge),Ht+=X(ht,et,ct,St,Et);else if(ge=T(U),typeof ge=="function")for(U=ge.call(U),ge=0;!(ht=U.next()).done;)ht=ht.value,St=He+ut(ht,ge++),Ht+=X(ht,et,ct,St,Et);else if(St==="object"){if(typeof U.then=="function")return X(gt(U),et,ct,ht,Et);throw et=String(U),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return Ht}function ot(U,et,ct){if(U==null)return U;var ht=[],Et=0;return X(U,ht,"","",function(St){return et.call(ct,St,Et++)}),ht}function mt(U){if(U._status===-1){var et=U._result;et=et(),et.then(function(ct){(U._status===0||U._status===-1)&&(U._status=1,U._result=ct)},function(ct){(U._status===0||U._status===-1)&&(U._status=2,U._result=ct)}),U._status===-1&&(U._status=0,U._result=et)}if(U._status===1)return U._result.default;throw U._result}var bt=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Nt={map:ot,forEach:function(U,et,ct){ot(U,function(){et.apply(this,arguments)},ct)},count:function(U){var et=0;return ot(U,function(){et++}),et},toArray:function(U){return ot(U,function(et){return et})||[]},only:function(U){if(!L(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Rt.Activity=_,Rt.Children=Nt,Rt.Component=O,Rt.Fragment=e,Rt.Profiler=r,Rt.PureComponent=H,Rt.StrictMode=i,Rt.Suspense=f,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return N.H.useMemoCache(U)}},Rt.cache=function(U){return function(){return U.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(U,et,ct){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ht=w({},U.props),Et=U.key;if(et!=null)for(St in et.key!==void 0&&(Et=""+et.key),et)!M.call(et,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&et.ref===void 0||(ht[St]=et[St]);var St=arguments.length-2;if(St===1)ht.children=ct;else if(1<St){for(var Ht=Array(St),He=0;He<St;He++)Ht[He]=arguments[He+2];ht.children=Ht}return I(U.type,Et,ht)},Rt.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},Rt.createElement=function(U,et,ct){var ht,Et={},St=null;if(et!=null)for(ht in et.key!==void 0&&(St=""+et.key),et)M.call(et,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(Et[ht]=et[ht]);var Ht=arguments.length-2;if(Ht===1)Et.children=ct;else if(1<Ht){for(var He=Array(Ht),ge=0;ge<Ht;ge++)He[ge]=arguments[ge+2];Et.children=He}if(U&&U.defaultProps)for(ht in Ht=U.defaultProps,Ht)Et[ht]===void 0&&(Et[ht]=Ht[ht]);return I(U,St,Et)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(U){return{$$typeof:u,render:U}},Rt.isValidElement=L,Rt.lazy=function(U){return{$$typeof:p,_payload:{_status:-1,_result:U},_init:mt}},Rt.memo=function(U,et){return{$$typeof:d,type:U,compare:et===void 0?null:et}},Rt.startTransition=function(U){var et=N.T,ct={};N.T=ct;try{var ht=U(),Et=N.S;Et!==null&&Et(ct,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(nt,bt)}catch(St){bt(St)}finally{et!==null&&ct.types!==null&&(et.types=ct.types),N.T=et}},Rt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Rt.use=function(U){return N.H.use(U)},Rt.useActionState=function(U,et,ct){return N.H.useActionState(U,et,ct)},Rt.useCallback=function(U,et){return N.H.useCallback(U,et)},Rt.useContext=function(U){return N.H.useContext(U)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(U,et){return N.H.useDeferredValue(U,et)},Rt.useEffect=function(U,et){return N.H.useEffect(U,et)},Rt.useEffectEvent=function(U){return N.H.useEffectEvent(U)},Rt.useId=function(){return N.H.useId()},Rt.useImperativeHandle=function(U,et,ct){return N.H.useImperativeHandle(U,et,ct)},Rt.useInsertionEffect=function(U,et){return N.H.useInsertionEffect(U,et)},Rt.useLayoutEffect=function(U,et){return N.H.useLayoutEffect(U,et)},Rt.useMemo=function(U,et){return N.H.useMemo(U,et)},Rt.useOptimistic=function(U,et){return N.H.useOptimistic(U,et)},Rt.useReducer=function(U,et,ct){return N.H.useReducer(U,et,ct)},Rt.useRef=function(U){return N.H.useRef(U)},Rt.useState=function(U){return N.H.useState(U)},Rt.useSyncExternalStore=function(U,et,ct){return N.H.useSyncExternalStore(U,et,ct)},Rt.useTransition=function(){return N.H.useTransition()},Rt.version="19.2.3",Rt}var Y1;function a_(){return Y1||(Y1=1,Op.exports=yM()),Op.exports}var B=a_();const Br=gS(B);var Np={exports:{}},Yc={},kp={exports:{}},Pp={};var W1;function _M(){return W1||(W1=1,(function(n){function t(X,ot){var mt=X.length;X.push(ot);t:for(;0<mt;){var bt=mt-1>>>1,Nt=X[bt];if(0<r(Nt,ot))X[bt]=ot,X[mt]=Nt,mt=bt;else break t}}function e(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var ot=X[0],mt=X.pop();if(mt!==ot){X[0]=mt;t:for(var bt=0,Nt=X.length,U=Nt>>>1;bt<U;){var et=2*(bt+1)-1,ct=X[et],ht=et+1,Et=X[ht];if(0>r(ct,mt))ht<Nt&&0>r(Et,ct)?(X[bt]=Et,X[ht]=mt,bt=ht):(X[bt]=ct,X[et]=mt,bt=et);else if(ht<Nt&&0>r(Et,mt))X[bt]=Et,X[ht]=mt,bt=ht;else break t}}return ot}function r(X,ot){var mt=X.sortIndex-ot.sortIndex;return mt!==0?mt:X.id-ot.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var f=[],d=[],p=1,_=null,b=3,T=!1,A=!1,w=!1,R=!1,O=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function G(X){for(var ot=e(d);ot!==null;){if(ot.callback===null)i(d);else if(ot.startTime<=X)i(d),ot.sortIndex=ot.expirationTime,t(f,ot);else break;ot=e(d)}}function Y(X){if(w=!1,G(X),!A)if(e(f)!==null)A=!0,nt||(nt=!0,z());else{var ot=e(d);ot!==null&&gt(Y,ot.startTime-X)}}var nt=!1,N=-1,M=5,I=-1;function P(){return R?!0:!(n.unstable_now()-I<M)}function L(){if(R=!1,nt){var X=n.unstable_now();I=X;var ot=!0;try{t:{A=!1,w&&(w=!1,V(N),N=-1),T=!0;var mt=b;try{e:{for(G(X),_=e(f);_!==null&&!(_.expirationTime>X&&P());){var bt=_.callback;if(typeof bt=="function"){_.callback=null,b=_.priorityLevel;var Nt=bt(_.expirationTime<=X);if(X=n.unstable_now(),typeof Nt=="function"){_.callback=Nt,G(X),ot=!0;break e}_===e(f)&&i(f),G(X)}else i(f);_=e(f)}if(_!==null)ot=!0;else{var U=e(d);U!==null&&gt(Y,U.startTime-X),ot=!1}}break t}finally{_=null,b=mt,T=!1}ot=void 0}}finally{ot?z():nt=!1}}}var z;if(typeof H=="function")z=function(){H(L)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,ut=k.port2;k.port1.onmessage=L,z=function(){ut.postMessage(null)}}else z=function(){O(L,0)};function gt(X,ot){N=O(function(){X(n.unstable_now())},ot)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(X){switch(b){case 1:case 2:case 3:var ot=3;break;default:ot=b}var mt=b;b=ot;try{return X()}finally{b=mt}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function(X,ot){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var mt=b;b=X;try{return ot()}finally{b=mt}},n.unstable_scheduleCallback=function(X,ot,mt){var bt=n.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?bt+mt:bt):mt=bt,X){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=mt+Nt,X={id:p++,callback:ot,priorityLevel:X,startTime:mt,expirationTime:Nt,sortIndex:-1},mt>bt?(X.sortIndex=mt,t(d,X),e(f)===null&&X===e(d)&&(w?(V(N),N=-1):w=!0,gt(Y,mt-bt))):(X.sortIndex=Nt,t(f,X),A||T||(A=!0,nt||(nt=!0,z()))),X},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(X){var ot=b;return function(){var mt=b;b=ot;try{return X.apply(this,arguments)}finally{b=mt}}}})(Pp)),Pp}var $1;function vM(){return $1||($1=1,kp.exports=_M()),kp.exports}var Lp={exports:{}},hn={};var K1;function bM(){if(K1)return hn;K1=1;var n=a_();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,d,p){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:f,containerInfo:d,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,hn.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,p)},hn.flushSync=function(f){var d=l.T,p=i.p;try{if(l.T=null,i.p=2,f)return f()}finally{l.T=d,i.p=p,i.d.f()}},hn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},hn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},hn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,_=u(p,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,T=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:T}):p==="script"&&i.d.X(f,{crossOrigin:_,integrity:b,fetchPriority:T,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},hn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=u(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},hn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,_=u(p,d.crossOrigin);i.d.L(f,p,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},hn.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=u(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},hn.requestFormReset=function(f){i.d.r(f)},hn.unstable_batchedUpdates=function(f,d){return f(d)},hn.useFormState=function(f,d,p){return l.H.useFormState(f,d,p)},hn.useFormStatus=function(){return l.H.useHostTransitionStatus()},hn.version="19.2.3",hn}var X1;function EM(){if(X1)return Lp.exports;X1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Lp.exports=bM(),Lp.exports}var Q1;function TM(){if(Q1)return Yc;Q1=1;var n=vM(),t=a_(),e=EM();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function u(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(i(188))}function d(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var c=s,h=a;;){var g=c.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===c)return f(g),s;if(y===h)return f(g),a;y=y.sibling}throw Error(i(188))}if(c.return!==h.return)c=g,h=y;else{for(var S=!1,C=g.child;C;){if(C===c){S=!0,c=g,h=y;break}if(C===h){S=!0,h=g,c=y;break}C=C.sibling}if(!S){for(C=y.child;C;){if(C===c){S=!0,c=y,h=g;break}if(C===h){S=!0,h=y,c=g;break}C=C.sibling}if(!S)throw Error(i(189))}}if(c.alternate!==h)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:a}function p(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=p(s),a!==null)return a;s=s.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),H=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=L&&s[L]||s["@@iterator"],typeof s=="function"?s:null)}var k=Symbol.for("react.client.reference");function ut(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===k?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case O:return"Profiler";case R:return"StrictMode";case Y:return"Suspense";case nt:return"SuspenseList";case I:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case A:return"Portal";case H:return s.displayName||"Context";case V:return(s._context.displayName||"Context")+".Consumer";case G:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case N:return a=s.displayName||null,a!==null?a:ut(s.type)||"Memo";case M:a=s._payload,s=s._init;try{return ut(s(a))}catch{}}return null}var gt=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},bt=[],Nt=-1;function U(s){return{current:s}}function et(s){0>Nt||(s.current=bt[Nt],bt[Nt]=null,Nt--)}function ct(s,a){Nt++,bt[Nt]=s.current,s.current=a}var ht=U(null),Et=U(null),St=U(null),Ht=U(null);function He(s,a){switch(ct(St,a),ct(Et,s),ct(ht,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?f1(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=f1(a),s=d1(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}et(ht),ct(ht,s)}function ge(){et(ht),et(Et),et(St)}function aa(s){s.memoizedState!==null&&ct(Ht,s);var a=ht.current,c=d1(a,s.type);a!==c&&(ct(Et,s),ct(ht,c))}function co(s){Et.current===s&&(et(ht),et(Et)),Ht.current===s&&(et(Ht),Bc._currentValue=mt)}var uo,ho;function Ci(s){if(uo===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);uo=a&&a[1]||"",ho=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+uo+s+ho}var Bl=!1;function oa(s,a){if(!s||Bl)return"";Bl=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(Z){var Q=Z}Reflect.construct(s,[],st)}else{try{st.call()}catch(Z){Q=Z}s.call(st.prototype)}}else{try{throw Error()}catch(Z){Q=Z}(st=s())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(Z){if(Z&&Q&&typeof Z.stack=="string")return[Z.stack,Q.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),S=y[0],C=y[1];if(S&&C){var j=S.split(`
`),K=C.split(`
`);for(g=h=0;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;for(;g<K.length&&!K[g].includes("DetermineComponentFrameRoot");)g++;if(h===j.length||g===K.length)for(h=j.length-1,g=K.length-1;1<=h&&0<=g&&j[h]!==K[g];)g--;for(;1<=h&&0<=g;h--,g--)if(j[h]!==K[g]){if(h!==1||g!==1)do if(h--,g--,0>g||j[h]!==K[g]){var tt=`
`+j[h].replace(" at new "," at ");return s.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",s.displayName)),tt}while(1<=h&&0<=g);break}}}finally{Bl=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Ci(c):""}function Fl(s,a){switch(s.tag){case 26:case 27:case 5:return Ci(s.type);case 16:return Ci("Lazy");case 13:return s.child!==a&&a!==null?Ci("Suspense Fallback"):Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return oa(s.type,!1);case 11:return oa(s.type.render,!1);case 1:return oa(s.type,!0);case 31:return Ci("Activity");default:return""}}function Hl(s){try{var a="",c=null;do a+=Fl(s,c),c=s,s=s.return;while(s);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Ie=Object.prototype.hasOwnProperty,qe=n.unstable_scheduleCallback,Qs=n.unstable_cancelCallback,Nm=n.unstable_shouldYield,hh=n.unstable_requestPaint,vn=n.unstable_now,la=n.unstable_getCurrentPriorityLevel,ql=n.unstable_ImmediatePriority,Gl=n.unstable_UserBlockingPriority,Js=n.unstable_NormalPriority,km=n.unstable_LowPriority,fh=n.unstable_IdlePriority,dh=n.log,mh=n.unstable_setDisableYieldValue,di=null,en=null;function Wn(s){if(typeof dh=="function"&&mh(s),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(di,s)}catch{}}var Se=Math.clz32?Math.clz32:ph,gh=Math.log,fo=Math.LN2;function ph(s){return s>>>=0,s===0?32:31-(gh(s)/fo|0)|0}var Mi=256,ca=262144,De=4194304;function Ii(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Di(s,a,c){var h=s.pendingLanes;if(h===0)return 0;var g=0,y=s.suspendedLanes,S=s.pingedLanes;s=s.warmLanes;var C=h&134217727;return C!==0?(h=C&~y,h!==0?g=Ii(h):(S&=C,S!==0?g=Ii(S):c||(c=C&~s,c!==0&&(g=Ii(c))))):(C=h&~y,C!==0?g=Ii(C):S!==0?g=Ii(S):c||(c=h&~s,c!==0&&(g=Ii(c)))),g===0?0:a!==0&&a!==g&&(a&y)===0&&(y=g&-g,c=a&-a,y>=c||y===32&&(c&4194048)!==0)?a:g}function mi(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Pm(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yh(){var s=De;return De<<=1,(De&62914560)===0&&(De=4194304),s}function Oi(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function ua(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Lm(s,a,c,h,g,y){var S=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var C=s.entanglements,j=s.expirationTimes,K=s.hiddenUpdates;for(c=S&~c;0<c;){var tt=31-Se(c),st=1<<tt;C[tt]=0,j[tt]=-1;var Q=K[tt];if(Q!==null)for(K[tt]=null,tt=0;tt<Q.length;tt++){var Z=Q[tt];Z!==null&&(Z.lane&=-536870913)}c&=~st}h!==0&&ha(s,h,0),y!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=y&~(S&~a))}function ha(s,a,c){s.pendingLanes|=a,s.suspendedLanes&=~a;var h=31-Se(a);s.entangledLanes|=a,s.entanglements[h]=s.entanglements[h]|1073741824|c&261930}function Yl(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var h=31-Se(c),g=1<<h;g&a|s[h]&a&&(s[h]|=a),c&=~g}}function Wl(s,a){var c=a&-a;return c=(c&42)!==0?1:fa(c),(c&(s.suspendedLanes|a))!==0?0:c}function fa(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function hs(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function _h(){var s=ot.p;return s!==0?s:(s=window.event,s===void 0?32:L1(s.type))}function gi(s,a){var c=ot.p;try{return ot.p=s,a()}finally{ot.p=c}}var pi=Math.random().toString(36).slice(2),Oe="__reactFiber$"+pi,Ke="__reactProps$"+pi,Ni="__reactContainer$"+pi,mo="__reactEvents$"+pi,Vm="__reactListeners$"+pi,vh="__reactHandles$"+pi,bh="__reactResources$"+pi,ki="__reactMarker$"+pi;function go(s){delete s[Oe],delete s[Ke],delete s[mo],delete s[Vm],delete s[vh]}function Pi(s){var a=s[Oe];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Ni]||c[Oe]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=b1(s);s!==null;){if(c=s[Oe])return c;s=b1(s)}return a}s=c,c=s.parentNode}return null}function $n(s){if(s=s[Oe]||s[Ni]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function Pn(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Li(s){var a=s[bh];return a||(a=s[bh]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ne(s){s[ki]=!0}var $l=new Set,Kl={};function Vi(s,a){ji(s,a),ji(s+"Capture",a)}function ji(s,a){for(Kl[s]=a,s=0;s<a.length;s++)$l.add(a[s])}var Xl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ql={},Jl={};function Eh(s){return Ie.call(Jl,s)?!0:Ie.call(Ql,s)?!1:Xl.test(s)?Jl[s]=!0:(Ql[s]=!0,!1)}function po(s,a,c){if(Eh(a))if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+c)}}function Ln(s,a,c){if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+c)}}function ke(s,a,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(a,c,""+h)}}function Xe(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Zs(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Zl(s,a,c){var h=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,y=h.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(S){c=""+S,y.call(this,S)}}),Object.defineProperty(s,a,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Jt(s){if(!s._valueTracker){var a=Zs(s)?"checked":"value";s._valueTracker=Zl(s,a,""+s[a])}}function da(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return s&&(h=Zs(s)?s.checked?"true":"false":s.value),s=h,s!==c?(a.setValue(s),!0):!1}function zi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ma=/[\n"\\]/g;function Tn(s){return s.replace(ma,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function yo(s,a,c,h,g,y,S,C){s.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.type=S:s.removeAttribute("type"),a!=null?S==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Xe(a)):s.value!==""+Xe(a)&&(s.value=""+Xe(a)):S!=="submit"&&S!=="reset"||s.removeAttribute("value"),a!=null?tc(s,S,Xe(a)):c!=null?tc(s,S,Xe(c)):h!=null&&s.removeAttribute("value"),g==null&&y!=null&&(s.defaultChecked=!!y),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.name=""+Xe(C):s.removeAttribute("name")}function Th(s,a,c,h,g,y,S,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||a!=null)){Jt(s);return}c=c!=null?""+Xe(c):"",a=a!=null?""+Xe(a):c,C||a===s.value||(s.value=a),s.defaultValue=a}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=C?s.checked:!!h,s.defaultChecked=!!h,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.name=S),Jt(s)}function tc(s,a,c){a==="number"&&zi(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function tr(s,a,c,h){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&h&&(s[c].defaultSelected=!0)}else{for(c=""+Xe(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Sh(s,a,c){if(a!=null&&(a=""+Xe(a),a!==s.value&&(s.value=a),c==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=c!=null?""+Xe(c):""}function er(s,a,c,h){if(a==null){if(h!=null){if(c!=null)throw Error(i(92));if(gt(h)){if(1<h.length)throw Error(i(93));h=h[0]}c=h}c==null&&(c=""),a=c}c=Xe(a),s.defaultValue=c,h=s.textContent,h===c&&h!==""&&h!==null&&(s.value=h),Jt(s)}function Sn(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var wh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ec(s,a,c){var h=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":h?s.setProperty(a,c):typeof c!="number"||c===0||wh.has(a)?a==="float"?s.cssFloat=c:s[a]=(""+c).trim():s[a]=c+"px"}function nc(s,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var g in a)h=a[g],a.hasOwnProperty(g)&&c[g]!==h&&ec(s,g,h)}else for(var y in a)a.hasOwnProperty(y)&&ec(s,y,a[y])}function _o(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vo(s){return nr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function yi(){}var ic=null;function Kn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ir=null,Ui=null;function ga(s){var a=$n(s);if(a&&(s=a.stateNode)){var c=s[Ke]||null;t:switch(s=a.stateNode,a.type){case"input":if(yo(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Tn(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==s&&h.form===s.form){var g=h[Ke]||null;if(!g)throw Error(i(90));yo(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<c.length;a++)h=c[a],h.form===s.form&&da(h)}break t;case"textarea":Sh(s,c.value,c.defaultValue);break t;case"select":a=c.value,a!=null&&tr(s,!!c.multiple,a,!1)}}}var bo=!1;function sr(s,a,c){if(bo)return s(a,c);bo=!0;try{var h=s(a);return h}finally{if(bo=!1,(ir!==null||Ui!==null)&&(vf(),ir&&(a=ir,s=Ui,Ui=ir=null,ga(a),s)))for(a=0;a<s.length;a++)ga(s[a])}}function _i(s,a){var c=s.stateNode;if(c===null)return null;var h=c[Ke]||null;if(h===null)return null;c=h[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break t;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pa=!1;if(Xn)try{var se={};Object.defineProperty(se,"passive",{get:function(){pa=!0}}),window.addEventListener("test",se,se),window.removeEventListener("test",se,se)}catch{pa=!1}var Bi=null,sc=null,ya=null;function rc(){if(ya)return ya;var s,a=sc,c=a.length,h,g="value"in Bi?Bi.value:Bi.textContent,y=g.length;for(s=0;s<c&&a[s]===g[s];s++);var S=c-s;for(h=1;h<=S&&a[c-h]===g[y-h];h++);return ya=g.slice(s,1<h?1-h:void 0)}function _a(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function fs(){return!0}function vi(){return!1}function nn(s){function a(c,h,g,y,S){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var C in s)s.hasOwnProperty(C)&&(c=s[C],this[C]=c?c(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?fs:vi,this.isPropagationStopped=vi,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=fs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=fs)},persist:function(){},isPersistent:fs}),a}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=nn(ds),rr=_({},ds,{view:0,detail:0}),ac=nn(rr),ar,Eo,Hi,To=_({},rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:or,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Hi&&(Hi&&s.type==="mousemove"?(ar=s.screenX-Hi.screenX,Eo=s.screenY-Hi.screenY):Eo=ar=0,Hi=s),ar)},movementY:function(s){return"movementY"in s?s.movementY:Eo}}),oc=nn(To),va=_({},To,{dataTransfer:0}),Ah=nn(va),Rh=_({},rr,{relatedTarget:0}),ba=nn(Rh),lc=_({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),Ch=nn(lc),So=_({},ds,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Mh=nn(So),Ih=_({},ds,{data:0}),qi=nn(Ih),Dh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Nh[s])?!!a[s]:!1}function or(){return kh}var bn=_({},rr,{key:function(s){if(s.key){var a=Dh[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=_a(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Oh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:or,charCode:function(s){return s.type==="keypress"?_a(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?_a(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ph=nn(bn),Lh=_({},To,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ms=nn(Lh),m=_({},rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:or}),v=nn(m),x=_({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),D=nn(x),W=_({},To,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),J=nn(W),lt=_({},ds,{newState:0,oldState:0}),Mt=nn(lt),we=[9,13,27,32],$t=Xn&&"CompositionEvent"in window,pe=null;Xn&&"documentMode"in document&&(pe=document.documentMode);var Qn=Xn&&"TextEvent"in window&&!pe,Gi=Xn&&(!$t||pe&&8<pe&&11>=pe),bi=" ",Ei=!1;function Ea(s,a){switch(s){case"keyup":return we.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var xo=!1;function zR(s,a){switch(s){case"compositionend":return wo(a);case"keypress":return a.which!==32?null:(Ei=!0,bi);case"textInput":return s=a.data,s===bi&&Ei?null:s;default:return null}}function UR(s,a){if(xo)return s==="compositionend"||!$t&&Ea(s,a)?(s=rc(),ya=sc=Bi=null,xo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Gi&&a.locale!=="ko"?null:a.data;default:return null}}var BR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S0(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!BR[s.type]:a==="textarea"}function w0(s,a,c,h){ir?Ui?Ui.push(h):Ui=[h]:ir=h,a=Af(a,"onChange"),0<a.length&&(c=new Fi("onChange","change",null,c,h),s.push({event:c,listeners:a}))}var cc=null,uc=null;function FR(s){a1(s,0)}function Vh(s){var a=Pn(s);if(da(a))return s}function x0(s,a){if(s==="change")return a}var A0=!1;if(Xn){var jm;if(Xn){var zm="oninput"in document;if(!zm){var R0=document.createElement("div");R0.setAttribute("oninput","return;"),zm=typeof R0.oninput=="function"}jm=zm}else jm=!1;A0=jm&&(!document.documentMode||9<document.documentMode)}function C0(){cc&&(cc.detachEvent("onpropertychange",M0),uc=cc=null)}function M0(s){if(s.propertyName==="value"&&Vh(uc)){var a=[];w0(a,uc,s,Kn(s)),sr(FR,a)}}function HR(s,a,c){s==="focusin"?(C0(),cc=a,uc=c,cc.attachEvent("onpropertychange",M0)):s==="focusout"&&C0()}function qR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Vh(uc)}function GR(s,a){if(s==="click")return Vh(a)}function YR(s,a){if(s==="input"||s==="change")return Vh(a)}function WR(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Vn=typeof Object.is=="function"?Object.is:WR;function hc(s,a){if(Vn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!Ie.call(a,g)||!Vn(s[g],a[g]))return!1}return!0}function I0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function D0(s,a){var c=I0(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=a&&h>=a)return{node:c,offset:a-s};s=h}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=I0(c)}}function O0(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?O0(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function N0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=zi(s.document);a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=zi(s.document)}return a}function Um(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var $R=Xn&&"documentMode"in document&&11>=document.documentMode,Ao=null,Bm=null,fc=null,Fm=!1;function k0(s,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Fm||Ao==null||Ao!==zi(h)||(h=Ao,"selectionStart"in h&&Um(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),fc&&hc(fc,h)||(fc=h,h=Af(Bm,"onSelect"),0<h.length&&(a=new Fi("onSelect","select",null,a,c),s.push({event:a,listeners:h}),a.target=Ao)))}function Ta(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Ro={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionrun:Ta("Transition","TransitionRun"),transitionstart:Ta("Transition","TransitionStart"),transitioncancel:Ta("Transition","TransitionCancel"),transitionend:Ta("Transition","TransitionEnd")},Hm={},P0={};Xn&&(P0=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function Sa(s){if(Hm[s])return Hm[s];if(!Ro[s])return s;var a=Ro[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in P0)return Hm[s]=a[c];return s}var L0=Sa("animationend"),V0=Sa("animationiteration"),j0=Sa("animationstart"),KR=Sa("transitionrun"),XR=Sa("transitionstart"),QR=Sa("transitioncancel"),z0=Sa("transitionend"),U0=new Map,qm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qm.push("scrollEnd");function Ti(s,a){U0.set(s,a),Vi(a,[s])}var jh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Jn=[],Co=0,Gm=0;function zh(){for(var s=Co,a=Gm=Co=0;a<s;){var c=Jn[a];Jn[a++]=null;var h=Jn[a];Jn[a++]=null;var g=Jn[a];Jn[a++]=null;var y=Jn[a];if(Jn[a++]=null,h!==null&&g!==null){var S=h.pending;S===null?g.next=g:(g.next=S.next,S.next=g),h.pending=g}y!==0&&B0(c,g,y)}}function Uh(s,a,c,h){Jn[Co++]=s,Jn[Co++]=a,Jn[Co++]=c,Jn[Co++]=h,Gm|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function Ym(s,a,c,h){return Uh(s,a,c,h),Bh(s)}function wa(s,a){return Uh(s,null,null,a),Bh(s)}function B0(s,a,c){s.lanes|=c;var h=s.alternate;h!==null&&(h.lanes|=c);for(var g=!1,y=s.return;y!==null;)y.childLanes|=c,h=y.alternate,h!==null&&(h.childLanes|=c),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(g=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,g&&a!==null&&(g=31-Se(c),s=y.hiddenUpdates,h=s[g],h===null?s[g]=[a]:h.push(a),a.lane=c|536870912),y):null}function Bh(s){if(50<kc)throw kc=0,ep=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Mo={};function JR(s,a,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(s,a,c,h){return new JR(s,a,c,h)}function Wm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function gs(s,a){var c=s.alternate;return c===null?(c=jn(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function F0(s,a){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,a=c.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Fh(s,a,c,h,g,y){var S=0;if(h=s,typeof s=="function")Wm(s)&&(S=1);else if(typeof s=="string")S=iM(s,c,ht.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case I:return s=jn(31,c,a,g),s.elementType=I,s.lanes=y,s;case w:return xa(c.children,g,y,a);case R:S=8,g|=24;break;case O:return s=jn(12,c,a,g|2),s.elementType=O,s.lanes=y,s;case Y:return s=jn(13,c,a,g),s.elementType=Y,s.lanes=y,s;case nt:return s=jn(19,c,a,g),s.elementType=nt,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case H:S=10;break t;case V:S=9;break t;case G:S=11;break t;case N:S=14;break t;case M:S=16,h=null;break t}S=29,c=Error(i(130,s===null?"null":typeof s,"")),h=null}return a=jn(S,c,a,g),a.elementType=s,a.type=h,a.lanes=y,a}function xa(s,a,c,h){return s=jn(7,s,h,a),s.lanes=c,s}function $m(s,a,c){return s=jn(6,s,null,a),s.lanes=c,s}function H0(s){var a=jn(18,null,null,0);return a.stateNode=s,a}function Km(s,a,c){return a=jn(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var q0=new WeakMap;function Zn(s,a){if(typeof s=="object"&&s!==null){var c=q0.get(s);return c!==void 0?c:(a={value:s,source:a,stack:Hl(a)},q0.set(s,a),a)}return{value:s,source:a,stack:Hl(a)}}var Io=[],Do=0,Hh=null,dc=0,ti=[],ei=0,lr=null,Yi=1,Wi="";function ps(s,a){Io[Do++]=dc,Io[Do++]=Hh,Hh=s,dc=a}function G0(s,a,c){ti[ei++]=Yi,ti[ei++]=Wi,ti[ei++]=lr,lr=s;var h=Yi;s=Wi;var g=32-Se(h)-1;h&=~(1<<g),c+=1;var y=32-Se(a)+g;if(30<y){var S=g-g%5;y=(h&(1<<S)-1).toString(32),h>>=S,g-=S,Yi=1<<32-Se(a)+g|c<<g|h,Wi=y+s}else Yi=1<<y|c<<g|h,Wi=s}function Xm(s){s.return!==null&&(ps(s,1),G0(s,1,0))}function Qm(s){for(;s===Hh;)Hh=Io[--Do],Io[Do]=null,dc=Io[--Do],Io[Do]=null;for(;s===lr;)lr=ti[--ei],ti[ei]=null,Wi=ti[--ei],ti[ei]=null,Yi=ti[--ei],ti[ei]=null}function Y0(s,a){ti[ei++]=Yi,ti[ei++]=Wi,ti[ei++]=lr,Yi=a.id,Wi=a.overflow,lr=s}var sn=null,he=null,Ft=!1,cr=null,ni=!1,Jm=Error(i(519));function ur(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mc(Zn(a,s)),Jm}function W0(s){var a=s.stateNode,c=s.type,h=s.memoizedProps;switch(a[Oe]=s,a[Ke]=h,c){case"dialog":Pt("cancel",a),Pt("close",a);break;case"iframe":case"object":case"embed":Pt("load",a);break;case"video":case"audio":for(c=0;c<Lc.length;c++)Pt(Lc[c],a);break;case"source":Pt("error",a);break;case"img":case"image":case"link":Pt("error",a),Pt("load",a);break;case"details":Pt("toggle",a);break;case"input":Pt("invalid",a),Th(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Pt("invalid",a);break;case"textarea":Pt("invalid",a),er(a,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||h.suppressHydrationWarning===!0||u1(a.textContent,c)?(h.popover!=null&&(Pt("beforetoggle",a),Pt("toggle",a)),h.onScroll!=null&&Pt("scroll",a),h.onScrollEnd!=null&&Pt("scrollend",a),h.onClick!=null&&(a.onclick=yi),a=!0):a=!1,a||ur(s,!0)}function $0(s){for(sn=s.return;sn;)switch(sn.tag){case 5:case 31:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:sn=sn.return}}function Oo(s){if(s!==sn)return!1;if(!Ft)return $0(s),Ft=!0,!1;var a=s.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||pp(s.type,s.memoizedProps)),c=!c),c&&he&&ur(s),$0(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));he=v1(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));he=v1(s)}else a===27?(a=he,wr(s.type)?(s=Ep,Ep=null,he=s):he=a):he=sn?si(s.stateNode.nextSibling):null;return!0}function Aa(){he=sn=null,Ft=!1}function Zm(){var s=cr;return s!==null&&(Rn===null?Rn=s:Rn.push.apply(Rn,s),cr=null),s}function mc(s){cr===null?cr=[s]:cr.push(s)}var tg=U(null),Ra=null,ys=null;function hr(s,a,c){ct(tg,a._currentValue),a._currentValue=c}function _s(s){s._currentValue=tg.current,et(tg)}function eg(s,a,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===c)break;s=s.return}}function ng(s,a,c,h){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var y=g.dependencies;if(y!==null){var S=g.child;y=y.firstContext;t:for(;y!==null;){var C=y;y=g;for(var j=0;j<a.length;j++)if(C.context===a[j]){y.lanes|=c,C=y.alternate,C!==null&&(C.lanes|=c),eg(y.return,c,s),h||(S=null);break t}y=C.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(i(341));S.lanes|=c,y=S.alternate,y!==null&&(y.lanes|=c),eg(S,c,s),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===s){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function No(s,a,c,h){s=null;for(var g=a,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var C=g.type;Vn(g.pendingProps.value,S.value)||(s!==null?s.push(C):s=[C])}}else if(g===Ht.current){if(S=g.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(Bc):s=[Bc])}g=g.return}s!==null&&ng(a,s,c,h),a.flags|=262144}function qh(s){for(s=s.firstContext;s!==null;){if(!Vn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ca(s){Ra=s,ys=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function rn(s){return K0(Ra,s)}function Gh(s,a){return Ra===null&&Ca(s),K0(s,a)}function K0(s,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},ys===null){if(s===null)throw Error(i(308));ys=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else ys=ys.next=a;return c}var ZR=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(c,h){s.push(h)}};this.abort=function(){a.aborted=!0,s.forEach(function(c){return c()})}},tC=n.unstable_scheduleCallback,eC=n.unstable_NormalPriority,Pe={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ig(){return{controller:new ZR,data:new Map,refCount:0}}function gc(s){s.refCount--,s.refCount===0&&tC(eC,function(){s.controller.abort()})}var pc=null,sg=0,ko=0,Po=null;function nC(s,a){if(pc===null){var c=pc=[];sg=0,ko=op(),Po={status:"pending",value:void 0,then:function(h){c.push(h)}}}return sg++,a.then(X0,X0),a}function X0(){if(--sg===0&&pc!==null){Po!==null&&(Po.status="fulfilled");var s=pc;pc=null,ko=0,Po=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function iC(s,a){var c=[],h={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return s.then(function(){h.status="fulfilled",h.value=a;for(var g=0;g<c.length;g++)(0,c[g])(a)},function(g){for(h.status="rejected",h.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),h}var Q0=X.S;X.S=function(s,a){kb=vn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&nC(s,a),Q0!==null&&Q0(s,a)};var Ma=U(null);function rg(){var s=Ma.current;return s!==null?s:ce.pooledCache}function Yh(s,a){a===null?ct(Ma,Ma.current):ct(Ma,a.pool)}function J0(){var s=rg();return s===null?null:{parent:Pe._currentValue,pool:s}}var Lo=Error(i(460)),ag=Error(i(474)),Wh=Error(i(542)),$h={then:function(){}};function Z0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function tv(s,a,c){switch(c=s[c],c===void 0?s.push(a):c!==a&&(a.then(yi,yi),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,nv(s),s;default:if(typeof a.status=="string")a.then(yi,yi);else{if(s=ce,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(h){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=h}},function(h){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,nv(s),s}throw Da=a,Lo}}function Ia(s){try{var a=s._init;return a(s._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Da=c,Lo):c}}var Da=null;function ev(){if(Da===null)throw Error(i(459));var s=Da;return Da=null,s}function nv(s){if(s===Lo||s===Wh)throw Error(i(483))}var Vo=null,yc=0;function Kh(s){var a=yc;return yc+=1,Vo===null&&(Vo=[]),tv(Vo,s,a)}function _c(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Xh(s,a){throw a.$$typeof===b?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function iv(s){function a(q,F){if(s){var $=q.deletions;$===null?(q.deletions=[F],q.flags|=16):$.push(F)}}function c(q,F){if(!s)return null;for(;F!==null;)a(q,F),F=F.sibling;return null}function h(q){for(var F=new Map;q!==null;)q.key!==null?F.set(q.key,q):F.set(q.index,q),q=q.sibling;return F}function g(q,F){return q=gs(q,F),q.index=0,q.sibling=null,q}function y(q,F,$){return q.index=$,s?($=q.alternate,$!==null?($=$.index,$<F?(q.flags|=67108866,F):$):(q.flags|=67108866,F)):(q.flags|=1048576,F)}function S(q){return s&&q.alternate===null&&(q.flags|=67108866),q}function C(q,F,$,it){return F===null||F.tag!==6?(F=$m($,q.mode,it),F.return=q,F):(F=g(F,$),F.return=q,F)}function j(q,F,$,it){var _t=$.type;return _t===w?tt(q,F,$.props.children,it,$.key):F!==null&&(F.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===M&&Ia(_t)===F.type)?(F=g(F,$.props),_c(F,$),F.return=q,F):(F=Fh($.type,$.key,$.props,null,q.mode,it),_c(F,$),F.return=q,F)}function K(q,F,$,it){return F===null||F.tag!==4||F.stateNode.containerInfo!==$.containerInfo||F.stateNode.implementation!==$.implementation?(F=Km($,q.mode,it),F.return=q,F):(F=g(F,$.children||[]),F.return=q,F)}function tt(q,F,$,it,_t){return F===null||F.tag!==7?(F=xa($,q.mode,it,_t),F.return=q,F):(F=g(F,$),F.return=q,F)}function st(q,F,$){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=$m(""+F,q.mode,$),F.return=q,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return $=Fh(F.type,F.key,F.props,null,q.mode,$),_c($,F),$.return=q,$;case A:return F=Km(F,q.mode,$),F.return=q,F;case M:return F=Ia(F),st(q,F,$)}if(gt(F)||z(F))return F=xa(F,q.mode,$,null),F.return=q,F;if(typeof F.then=="function")return st(q,Kh(F),$);if(F.$$typeof===H)return st(q,Gh(q,F),$);Xh(q,F)}return null}function Q(q,F,$,it){var _t=F!==null?F.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return _t!==null?null:C(q,F,""+$,it);if(typeof $=="object"&&$!==null){switch($.$$typeof){case T:return $.key===_t?j(q,F,$,it):null;case A:return $.key===_t?K(q,F,$,it):null;case M:return $=Ia($),Q(q,F,$,it)}if(gt($)||z($))return _t!==null?null:tt(q,F,$,it,null);if(typeof $.then=="function")return Q(q,F,Kh($),it);if($.$$typeof===H)return Q(q,F,Gh(q,$),it);Xh(q,$)}return null}function Z(q,F,$,it,_t){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return q=q.get($)||null,C(F,q,""+it,_t);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case T:return q=q.get(it.key===null?$:it.key)||null,j(F,q,it,_t);case A:return q=q.get(it.key===null?$:it.key)||null,K(F,q,it,_t);case M:return it=Ia(it),Z(q,F,$,it,_t)}if(gt(it)||z(it))return q=q.get($)||null,tt(F,q,it,_t,null);if(typeof it.then=="function")return Z(q,F,$,Kh(it),_t);if(it.$$typeof===H)return Z(q,F,$,Gh(F,it),_t);Xh(F,it)}return null}function pt(q,F,$,it){for(var _t=null,Yt=null,yt=F,Dt=F=0,Vt=null;yt!==null&&Dt<$.length;Dt++){yt.index>Dt?(Vt=yt,yt=null):Vt=yt.sibling;var Wt=Q(q,yt,$[Dt],it);if(Wt===null){yt===null&&(yt=Vt);break}s&&yt&&Wt.alternate===null&&a(q,yt),F=y(Wt,F,Dt),Yt===null?_t=Wt:Yt.sibling=Wt,Yt=Wt,yt=Vt}if(Dt===$.length)return c(q,yt),Ft&&ps(q,Dt),_t;if(yt===null){for(;Dt<$.length;Dt++)yt=st(q,$[Dt],it),yt!==null&&(F=y(yt,F,Dt),Yt===null?_t=yt:Yt.sibling=yt,Yt=yt);return Ft&&ps(q,Dt),_t}for(yt=h(yt);Dt<$.length;Dt++)Vt=Z(yt,q,Dt,$[Dt],it),Vt!==null&&(s&&Vt.alternate!==null&&yt.delete(Vt.key===null?Dt:Vt.key),F=y(Vt,F,Dt),Yt===null?_t=Vt:Yt.sibling=Vt,Yt=Vt);return s&&yt.forEach(function(Mr){return a(q,Mr)}),Ft&&ps(q,Dt),_t}function Tt(q,F,$,it){if($==null)throw Error(i(151));for(var _t=null,Yt=null,yt=F,Dt=F=0,Vt=null,Wt=$.next();yt!==null&&!Wt.done;Dt++,Wt=$.next()){yt.index>Dt?(Vt=yt,yt=null):Vt=yt.sibling;var Mr=Q(q,yt,Wt.value,it);if(Mr===null){yt===null&&(yt=Vt);break}s&&yt&&Mr.alternate===null&&a(q,yt),F=y(Mr,F,Dt),Yt===null?_t=Mr:Yt.sibling=Mr,Yt=Mr,yt=Vt}if(Wt.done)return c(q,yt),Ft&&ps(q,Dt),_t;if(yt===null){for(;!Wt.done;Dt++,Wt=$.next())Wt=st(q,Wt.value,it),Wt!==null&&(F=y(Wt,F,Dt),Yt===null?_t=Wt:Yt.sibling=Wt,Yt=Wt);return Ft&&ps(q,Dt),_t}for(yt=h(yt);!Wt.done;Dt++,Wt=$.next())Wt=Z(yt,q,Dt,Wt.value,it),Wt!==null&&(s&&Wt.alternate!==null&&yt.delete(Wt.key===null?Dt:Wt.key),F=y(Wt,F,Dt),Yt===null?_t=Wt:Yt.sibling=Wt,Yt=Wt);return s&&yt.forEach(function(mM){return a(q,mM)}),Ft&&ps(q,Dt),_t}function oe(q,F,$,it){if(typeof $=="object"&&$!==null&&$.type===w&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case T:t:{for(var _t=$.key;F!==null;){if(F.key===_t){if(_t=$.type,_t===w){if(F.tag===7){c(q,F.sibling),it=g(F,$.props.children),it.return=q,q=it;break t}}else if(F.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===M&&Ia(_t)===F.type){c(q,F.sibling),it=g(F,$.props),_c(it,$),it.return=q,q=it;break t}c(q,F);break}else a(q,F);F=F.sibling}$.type===w?(it=xa($.props.children,q.mode,it,$.key),it.return=q,q=it):(it=Fh($.type,$.key,$.props,null,q.mode,it),_c(it,$),it.return=q,q=it)}return S(q);case A:t:{for(_t=$.key;F!==null;){if(F.key===_t)if(F.tag===4&&F.stateNode.containerInfo===$.containerInfo&&F.stateNode.implementation===$.implementation){c(q,F.sibling),it=g(F,$.children||[]),it.return=q,q=it;break t}else{c(q,F);break}else a(q,F);F=F.sibling}it=Km($,q.mode,it),it.return=q,q=it}return S(q);case M:return $=Ia($),oe(q,F,$,it)}if(gt($))return pt(q,F,$,it);if(z($)){if(_t=z($),typeof _t!="function")throw Error(i(150));return $=_t.call($),Tt(q,F,$,it)}if(typeof $.then=="function")return oe(q,F,Kh($),it);if($.$$typeof===H)return oe(q,F,Gh(q,$),it);Xh(q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,F!==null&&F.tag===6?(c(q,F.sibling),it=g(F,$),it.return=q,q=it):(c(q,F),it=$m($,q.mode,it),it.return=q,q=it),S(q)):c(q,F)}return function(q,F,$,it){try{yc=0;var _t=oe(q,F,$,it);return Vo=null,_t}catch(yt){if(yt===Lo||yt===Wh)throw yt;var Yt=jn(29,yt,null,q.mode);return Yt.lanes=it,Yt.return=q,Yt}}}var Oa=iv(!0),sv=iv(!1),fr=!1;function og(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function dr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function mr(s,a,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Kt&2)!==0){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,a=Bh(s),B0(s,null,c),a}return Uh(s,h,a,c),Bh(s)}function vc(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,Yl(s,c)}}function cg(s,a){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var S={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?g=y=S:y=y.next=S,c=c.next}while(c!==null);y===null?g=y=a:y=y.next=a}else g=y=a;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}var ug=!1;function bc(){if(ug){var s=Po;if(s!==null)throw s}}function Ec(s,a,c,h){ug=!1;var g=s.updateQueue;fr=!1;var y=g.firstBaseUpdate,S=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var j=C,K=j.next;j.next=null,S===null?y=K:S.next=K,S=j;var tt=s.alternate;tt!==null&&(tt=tt.updateQueue,C=tt.lastBaseUpdate,C!==S&&(C===null?tt.firstBaseUpdate=K:C.next=K,tt.lastBaseUpdate=j))}if(y!==null){var st=g.baseState;S=0,tt=K=j=null,C=y;do{var Q=C.lane&-536870913,Z=Q!==C.lane;if(Z?(Lt&Q)===Q:(h&Q)===Q){Q!==0&&Q===ko&&(ug=!0),tt!==null&&(tt=tt.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var pt=s,Tt=C;Q=a;var oe=c;switch(Tt.tag){case 1:if(pt=Tt.payload,typeof pt=="function"){st=pt.call(oe,st,Q);break t}st=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=Tt.payload,Q=typeof pt=="function"?pt.call(oe,st,Q):pt,Q==null)break t;st=_({},st,Q);break t;case 2:fr=!0}}Q=C.callback,Q!==null&&(s.flags|=64,Z&&(s.flags|=8192),Z=g.callbacks,Z===null?g.callbacks=[Q]:Z.push(Q))}else Z={lane:Q,tag:C.tag,payload:C.payload,callback:C.callback,next:null},tt===null?(K=tt=Z,j=st):tt=tt.next=Z,S|=Q;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;Z=C,C=Z.next,Z.next=null,g.lastBaseUpdate=Z,g.shared.pending=null}}while(!0);tt===null&&(j=st),g.baseState=j,g.firstBaseUpdate=K,g.lastBaseUpdate=tt,y===null&&(g.shared.lanes=0),vr|=S,s.lanes=S,s.memoizedState=st}}function rv(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function av(s,a){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)rv(c[s],a)}var jo=U(null),Qh=U(0);function ov(s,a){s=Rs,ct(Qh,s),ct(jo,a),Rs=s|a.baseLanes}function hg(){ct(Qh,Rs),ct(jo,jo.current)}function fg(){Rs=Qh.current,et(jo),et(Qh)}var zn=U(null),ii=null;function gr(s){var a=s.alternate;ct(xe,xe.current&1),ct(zn,s),ii===null&&(a===null||jo.current!==null||a.memoizedState!==null)&&(ii=s)}function dg(s){ct(xe,xe.current),ct(zn,s),ii===null&&(ii=s)}function lv(s){s.tag===22?(ct(xe,xe.current),ct(zn,s),ii===null&&(ii=s)):pr()}function pr(){ct(xe,xe.current),ct(zn,zn.current)}function Un(s){et(zn),ii===s&&(ii=null),et(xe)}var xe=U(0);function Jh(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||vp(c)||bp(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var vs=0,It=null,re=null,Le=null,Zh=!1,zo=!1,Na=!1,tf=0,Tc=0,Uo=null,sC=0;function Ee(){throw Error(i(321))}function mg(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!Vn(s[c],a[c]))return!1;return!0}function gg(s,a,c,h,g,y){return vs=y,It=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,X.H=s===null||s.memoizedState===null?Gv:Ig,Na=!1,y=c(h,g),Na=!1,zo&&(y=uv(a,c,h,g)),cv(s),y}function cv(s){X.H=xc;var a=re!==null&&re.next!==null;if(vs=0,Le=re=It=null,Zh=!1,Tc=0,Uo=null,a)throw Error(i(300));s===null||Ve||(s=s.dependencies,s!==null&&qh(s)&&(Ve=!0))}function uv(s,a,c,h){It=s;var g=0;do{if(zo&&(Uo=null),Tc=0,zo=!1,25<=g)throw Error(i(301));if(g+=1,Le=re=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}X.H=Yv,y=a(c,h)}while(zo);return y}function rC(){var s=X.H,a=s.useState()[0];return a=typeof a.then=="function"?Sc(a):a,s=s.useState()[0],(re!==null?re.memoizedState:null)!==s&&(It.flags|=1024),a}function pg(){var s=tf!==0;return tf=0,s}function yg(s,a,c){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~c}function _g(s){if(Zh){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Zh=!1}vs=0,Le=re=It=null,zo=!1,Tc=tf=0,Uo=null}function En(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?It.memoizedState=Le=s:Le=Le.next=s,Le}function Ae(){if(re===null){var s=It.alternate;s=s!==null?s.memoizedState:null}else s=re.next;var a=Le===null?It.memoizedState:Le.next;if(a!==null)Le=a,re=s;else{if(s===null)throw It.alternate===null?Error(i(467)):Error(i(310));re=s,s={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},Le===null?It.memoizedState=Le=s:Le=Le.next=s}return Le}function ef(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sc(s){var a=Tc;return Tc+=1,Uo===null&&(Uo=[]),s=tv(Uo,s,a),a=It,(Le===null?a.memoizedState:Le.next)===null&&(a=a.alternate,X.H=a===null||a.memoizedState===null?Gv:Ig),s}function nf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Sc(s);if(s.$$typeof===H)return rn(s)}throw Error(i(438,String(s)))}function vg(s){var a=null,c=It.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var h=It.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=ef(),It.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(s),h=0;h<s;h++)c[h]=P;return a.index++,c}function bs(s,a){return typeof a=="function"?a(s):a}function sf(s){var a=Ae();return bg(a,re,s)}function bg(s,a,c){var h=s.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var g=s.baseQueue,y=h.pending;if(y!==null){if(g!==null){var S=g.next;g.next=y.next,y.next=S}a.baseQueue=g=y,h.pending=null}if(y=s.baseState,g===null)s.memoizedState=y;else{a=g.next;var C=S=null,j=null,K=a,tt=!1;do{var st=K.lane&-536870913;if(st!==K.lane?(Lt&st)===st:(vs&st)===st){var Q=K.revertLane;if(Q===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),st===ko&&(tt=!0);else if((vs&Q)===Q){K=K.next,Q===ko&&(tt=!0);continue}else st={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},j===null?(C=j=st,S=y):j=j.next=st,It.lanes|=Q,vr|=Q;st=K.action,Na&&c(y,st),y=K.hasEagerState?K.eagerState:c(y,st)}else Q={lane:st,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},j===null?(C=j=Q,S=y):j=j.next=Q,It.lanes|=st,vr|=st;K=K.next}while(K!==null&&K!==a);if(j===null?S=y:j.next=C,!Vn(y,s.memoizedState)&&(Ve=!0,tt&&(c=Po,c!==null)))throw c;s.memoizedState=y,s.baseState=S,s.baseQueue=j,h.lastRenderedState=y}return g===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function Eg(s){var a=Ae(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var h=c.dispatch,g=c.pending,y=a.memoizedState;if(g!==null){c.pending=null;var S=g=g.next;do y=s(y,S.action),S=S.next;while(S!==g);Vn(y,a.memoizedState)||(Ve=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),c.lastRenderedState=y}return[y,h]}function hv(s,a,c){var h=It,g=Ae(),y=Ft;if(y){if(c===void 0)throw Error(i(407));c=c()}else c=a();var S=!Vn((re||g).memoizedState,c);if(S&&(g.memoizedState=c,Ve=!0),g=g.queue,wg(mv.bind(null,h,g,s),[s]),g.getSnapshot!==a||S||Le!==null&&Le.memoizedState.tag&1){if(h.flags|=2048,Bo(9,{destroy:void 0},dv.bind(null,h,g,c,a),null),ce===null)throw Error(i(349));y||(vs&127)!==0||fv(h,a,c)}return c}function fv(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=It.updateQueue,a===null?(a=ef(),It.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function dv(s,a,c,h){a.value=c,a.getSnapshot=h,gv(a)&&pv(s)}function mv(s,a,c){return c(function(){gv(a)&&pv(s)})}function gv(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!Vn(s,c)}catch{return!0}}function pv(s){var a=wa(s,2);a!==null&&Cn(a,s,2)}function Tg(s){var a=En();if(typeof s=="function"){var c=s;if(s=c(),Na){Wn(!0);try{c()}finally{Wn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:s},a}function yv(s,a,c,h){return s.baseState=c,bg(s,re,typeof h=="function"?h:bs)}function aC(s,a,c,h,g){if(of(s))throw Error(i(485));if(s=a.action,s!==null){var y={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};X.T!==null?c(!0):y.isTransition=!1,h(y),c=a.pending,c===null?(y.next=a.pending=y,_v(a,y)):(y.next=c.next,a.pending=c.next=y)}}function _v(s,a){var c=a.action,h=a.payload,g=s.state;if(a.isTransition){var y=X.T,S={};X.T=S;try{var C=c(g,h),j=X.S;j!==null&&j(S,C),vv(s,a,C)}catch(K){Sg(s,a,K)}finally{y!==null&&S.types!==null&&(y.types=S.types),X.T=y}}else try{y=c(g,h),vv(s,a,y)}catch(K){Sg(s,a,K)}}function vv(s,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){bv(s,a,h)},function(h){return Sg(s,a,h)}):bv(s,a,c)}function bv(s,a,c){a.status="fulfilled",a.value=c,Ev(a),s.state=c,a=s.pending,a!==null&&(c=a.next,c===a?s.pending=null:(c=c.next,a.next=c,_v(s,c)))}function Sg(s,a,c){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=c,Ev(a),a=a.next;while(a!==h)}s.action=null}function Ev(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function Tv(s,a){return a}function Sv(s,a){if(Ft){var c=ce.formState;if(c!==null){t:{var h=It;if(Ft){if(he){e:{for(var g=he,y=ni;g.nodeType!==8;){if(!y){g=null;break e}if(g=si(g.nextSibling),g===null){g=null;break e}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){he=si(g.nextSibling),h=g.data==="F!";break t}}ur(h)}h=!1}h&&(a=c[0])}}return c=En(),c.memoizedState=c.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tv,lastRenderedState:a},c.queue=h,c=Fv.bind(null,It,h),h.dispatch=c,h=Tg(!1),y=Mg.bind(null,It,!1,h.queue),h=En(),g={state:a,dispatch:null,action:s,pending:null},h.queue=g,c=aC.bind(null,It,g,y,c),g.dispatch=c,h.memoizedState=s,[a,c,!1]}function wv(s){var a=Ae();return xv(a,re,s)}function xv(s,a,c){if(a=bg(s,a,Tv)[0],s=sf(bs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Sc(a)}catch(S){throw S===Lo?Wh:S}else h=a;a=Ae();var g=a.queue,y=g.dispatch;return c!==a.memoizedState&&(It.flags|=2048,Bo(9,{destroy:void 0},oC.bind(null,g,c),null)),[h,y,s]}function oC(s,a){s.action=a}function Av(s){var a=Ae(),c=re;if(c!==null)return xv(a,c,s);Ae(),a=a.memoizedState,c=Ae();var h=c.queue.dispatch;return c.memoizedState=s,[a,h,!1]}function Bo(s,a,c,h){return s={tag:s,create:c,deps:h,inst:a,next:null},a=It.updateQueue,a===null&&(a=ef(),It.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,a.lastEffect=s),s}function Rv(){return Ae().memoizedState}function rf(s,a,c,h){var g=En();It.flags|=s,g.memoizedState=Bo(1|a,{destroy:void 0},c,h===void 0?null:h)}function af(s,a,c,h){var g=Ae();h=h===void 0?null:h;var y=g.memoizedState.inst;re!==null&&h!==null&&mg(h,re.memoizedState.deps)?g.memoizedState=Bo(a,y,c,h):(It.flags|=s,g.memoizedState=Bo(1|a,y,c,h))}function Cv(s,a){rf(8390656,8,s,a)}function wg(s,a){af(2048,8,s,a)}function lC(s){It.flags|=4;var a=It.updateQueue;if(a===null)a=ef(),It.updateQueue=a,a.events=[s];else{var c=a.events;c===null?a.events=[s]:c.push(s)}}function Mv(s){var a=Ae().memoizedState;return lC({ref:a,nextImpl:s}),function(){if((Kt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function Iv(s,a){return af(4,2,s,a)}function Dv(s,a){return af(4,4,s,a)}function Ov(s,a){if(typeof a=="function"){s=s();var c=a(s);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Nv(s,a,c){c=c!=null?c.concat([s]):null,af(4,4,Ov.bind(null,a,s),c)}function xg(){}function kv(s,a){var c=Ae();a=a===void 0?null:a;var h=c.memoizedState;return a!==null&&mg(a,h[1])?h[0]:(c.memoizedState=[s,a],s)}function Pv(s,a){var c=Ae();a=a===void 0?null:a;var h=c.memoizedState;if(a!==null&&mg(a,h[1]))return h[0];if(h=s(),Na){Wn(!0);try{s()}finally{Wn(!1)}}return c.memoizedState=[h,a],h}function Ag(s,a,c){return c===void 0||(vs&1073741824)!==0&&(Lt&261930)===0?s.memoizedState=a:(s.memoizedState=c,s=Lb(),It.lanes|=s,vr|=s,c)}function Lv(s,a,c,h){return Vn(c,a)?c:jo.current!==null?(s=Ag(s,c,h),Vn(s,a)||(Ve=!0),s):(vs&42)===0||(vs&1073741824)!==0&&(Lt&261930)===0?(Ve=!0,s.memoizedState=c):(s=Lb(),It.lanes|=s,vr|=s,a)}function Vv(s,a,c,h,g){var y=ot.p;ot.p=y!==0&&8>y?y:8;var S=X.T,C={};X.T=C,Mg(s,!1,a,c);try{var j=g(),K=X.S;if(K!==null&&K(C,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var tt=iC(j,h);wc(s,a,tt,Hn(s))}else wc(s,a,h,Hn(s))}catch(st){wc(s,a,{then:function(){},status:"rejected",reason:st},Hn())}finally{ot.p=y,S!==null&&C.types!==null&&(S.types=C.types),X.T=S}}function cC(){}function Rg(s,a,c,h){if(s.tag!==5)throw Error(i(476));var g=jv(s).queue;Vv(s,g,a,mt,c===null?cC:function(){return zv(s),c(h)})}function jv(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:mt},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:c},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function zv(s){var a=jv(s);a.next===null&&(a=s.alternate.memoizedState),wc(s,a.next.queue,{},Hn())}function Cg(){return rn(Bc)}function Uv(){return Ae().memoizedState}function Bv(){return Ae().memoizedState}function uC(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var c=Hn();s=dr(c);var h=mr(a,s,c);h!==null&&(Cn(h,a,c),vc(h,a,c)),a={cache:ig()},s.payload=a;return}a=a.return}}function hC(s,a,c){var h=Hn();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},of(s)?Hv(a,c):(c=Ym(s,a,c,h),c!==null&&(Cn(c,s,h),qv(c,a,h)))}function Fv(s,a,c){var h=Hn();wc(s,a,c,h)}function wc(s,a,c,h){var g={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(of(s))Hv(a,g);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var S=a.lastRenderedState,C=y(S,c);if(g.hasEagerState=!0,g.eagerState=C,Vn(C,S))return Uh(s,a,g,0),ce===null&&zh(),!1}catch{}if(c=Ym(s,a,g,h),c!==null)return Cn(c,s,h),qv(c,a,h),!0}return!1}function Mg(s,a,c,h){if(h={lane:2,revertLane:op(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},of(s)){if(a)throw Error(i(479))}else a=Ym(s,c,h,2),a!==null&&Cn(a,s,2)}function of(s){var a=s.alternate;return s===It||a!==null&&a===It}function Hv(s,a){zo=Zh=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function qv(s,a,c){if((c&4194048)!==0){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,Yl(s,c)}}var xc={readContext:rn,use:nf,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee};xc.useEffectEvent=Ee;var Gv={readContext:rn,use:nf,useCallback:function(s,a){return En().memoizedState=[s,a===void 0?null:a],s},useContext:rn,useEffect:Cv,useImperativeHandle:function(s,a,c){c=c!=null?c.concat([s]):null,rf(4194308,4,Ov.bind(null,a,s),c)},useLayoutEffect:function(s,a){return rf(4194308,4,s,a)},useInsertionEffect:function(s,a){rf(4,2,s,a)},useMemo:function(s,a){var c=En();a=a===void 0?null:a;var h=s();if(Na){Wn(!0);try{s()}finally{Wn(!1)}}return c.memoizedState=[h,a],h},useReducer:function(s,a,c){var h=En();if(c!==void 0){var g=c(a);if(Na){Wn(!0);try{c(a)}finally{Wn(!1)}}}else g=a;return h.memoizedState=h.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},h.queue=s,s=s.dispatch=hC.bind(null,It,s),[h.memoizedState,s]},useRef:function(s){var a=En();return s={current:s},a.memoizedState=s},useState:function(s){s=Tg(s);var a=s.queue,c=Fv.bind(null,It,a);return a.dispatch=c,[s.memoizedState,c]},useDebugValue:xg,useDeferredValue:function(s,a){var c=En();return Ag(c,s,a)},useTransition:function(){var s=Tg(!1);return s=Vv.bind(null,It,s.queue,!0,!1),En().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,c){var h=It,g=En();if(Ft){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),ce===null)throw Error(i(349));(Lt&127)!==0||fv(h,a,c)}g.memoizedState=c;var y={value:c,getSnapshot:a};return g.queue=y,Cv(mv.bind(null,h,y,s),[s]),h.flags|=2048,Bo(9,{destroy:void 0},dv.bind(null,h,y,c,a),null),c},useId:function(){var s=En(),a=ce.identifierPrefix;if(Ft){var c=Wi,h=Yi;c=(h&~(1<<32-Se(h)-1)).toString(32)+c,a="_"+a+"R_"+c,c=tf++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=sC++,a="_"+a+"r_"+c.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:Cg,useFormState:Sv,useActionState:Sv,useOptimistic:function(s){var a=En();a.memoizedState=a.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=Mg.bind(null,It,!0,c),c.dispatch=a,[s,a]},useMemoCache:vg,useCacheRefresh:function(){return En().memoizedState=uC.bind(null,It)},useEffectEvent:function(s){var a=En(),c={impl:s};return a.memoizedState=c,function(){if((Kt&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}},Ig={readContext:rn,use:nf,useCallback:kv,useContext:rn,useEffect:wg,useImperativeHandle:Nv,useInsertionEffect:Iv,useLayoutEffect:Dv,useMemo:Pv,useReducer:sf,useRef:Rv,useState:function(){return sf(bs)},useDebugValue:xg,useDeferredValue:function(s,a){var c=Ae();return Lv(c,re.memoizedState,s,a)},useTransition:function(){var s=sf(bs)[0],a=Ae().memoizedState;return[typeof s=="boolean"?s:Sc(s),a]},useSyncExternalStore:hv,useId:Uv,useHostTransitionStatus:Cg,useFormState:wv,useActionState:wv,useOptimistic:function(s,a){var c=Ae();return yv(c,re,s,a)},useMemoCache:vg,useCacheRefresh:Bv};Ig.useEffectEvent=Mv;var Yv={readContext:rn,use:nf,useCallback:kv,useContext:rn,useEffect:wg,useImperativeHandle:Nv,useInsertionEffect:Iv,useLayoutEffect:Dv,useMemo:Pv,useReducer:Eg,useRef:Rv,useState:function(){return Eg(bs)},useDebugValue:xg,useDeferredValue:function(s,a){var c=Ae();return re===null?Ag(c,s,a):Lv(c,re.memoizedState,s,a)},useTransition:function(){var s=Eg(bs)[0],a=Ae().memoizedState;return[typeof s=="boolean"?s:Sc(s),a]},useSyncExternalStore:hv,useId:Uv,useHostTransitionStatus:Cg,useFormState:Av,useActionState:Av,useOptimistic:function(s,a){var c=Ae();return re!==null?yv(c,re,s,a):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:vg,useCacheRefresh:Bv};Yv.useEffectEvent=Mv;function Dg(s,a,c,h){a=s.memoizedState,c=c(h,a),c=c==null?a:_({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Og={enqueueSetState:function(s,a,c){s=s._reactInternals;var h=Hn(),g=dr(h);g.payload=a,c!=null&&(g.callback=c),a=mr(s,g,h),a!==null&&(Cn(a,s,h),vc(a,s,h))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var h=Hn(),g=dr(h);g.tag=1,g.payload=a,c!=null&&(g.callback=c),a=mr(s,g,h),a!==null&&(Cn(a,s,h),vc(a,s,h))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=Hn(),h=dr(c);h.tag=2,a!=null&&(h.callback=a),a=mr(s,h,c),a!==null&&(Cn(a,s,c),vc(a,s,c))}};function Wv(s,a,c,h,g,y,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,S):a.prototype&&a.prototype.isPureReactComponent?!hc(c,h)||!hc(g,y):!0}function $v(s,a,c,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==s&&Og.enqueueReplaceState(a,a.state,null)}function ka(s,a){var c=a;if("ref"in a){c={};for(var h in a)h!=="ref"&&(c[h]=a[h])}if(s=s.defaultProps){c===a&&(c=_({},c));for(var g in s)c[g]===void 0&&(c[g]=s[g])}return c}function Kv(s){jh(s)}function Xv(s){console.error(s)}function Qv(s){jh(s)}function lf(s,a){try{var c=s.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function Jv(s,a,c){try{var h=s.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Ng(s,a,c){return c=dr(c),c.tag=3,c.payload={element:null},c.callback=function(){lf(s,a)},c}function Zv(s){return s=dr(s),s.tag=3,s}function tb(s,a,c,h){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;s.payload=function(){return g(y)},s.callback=function(){Jv(a,c,h)}}var S=c.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(s.callback=function(){Jv(a,c,h),typeof g!="function"&&(br===null?br=new Set([this]):br.add(this));var C=h.stack;this.componentDidCatch(h.value,{componentStack:C!==null?C:""})})}function fC(s,a,c,h,g){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=c.alternate,a!==null&&No(a,c,g,!0),c=zn.current,c!==null){switch(c.tag){case 31:case 13:return ii===null?bf():c.alternate===null&&Te===0&&(Te=3),c.flags&=-257,c.flags|=65536,c.lanes=g,h===$h?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([h]):a.add(h),sp(s,h,g)),!1;case 22:return c.flags|=65536,h===$h?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([h]):c.add(h)),sp(s,h,g)),!1}throw Error(i(435,c.tag))}return sp(s,h,g),bf(),!1}if(Ft)return a=zn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,h!==Jm&&(s=Error(i(422),{cause:h}),mc(Zn(s,c)))):(h!==Jm&&(a=Error(i(423),{cause:h}),mc(Zn(a,c))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,h=Zn(h,c),g=Ng(s.stateNode,h,g),cg(s,g),Te!==4&&(Te=2)),!1;var y=Error(i(520),{cause:h});if(y=Zn(y,c),Nc===null?Nc=[y]:Nc.push(y),Te!==4&&(Te=2),a===null)return!0;h=Zn(h,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,s=g&-g,c.lanes|=s,s=Ng(c.stateNode,h,s),cg(c,s),!1;case 1:if(a=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(br===null||!br.has(y))))return c.flags|=65536,g&=-g,c.lanes|=g,g=Zv(g),tb(g,s,c,h),cg(c,g),!1}c=c.return}while(c!==null);return!1}var kg=Error(i(461)),Ve=!1;function an(s,a,c,h){a.child=s===null?sv(a,null,c,h):Oa(a,s.child,c,h)}function eb(s,a,c,h,g){c=c.render;var y=a.ref;if("ref"in h){var S={};for(var C in h)C!=="ref"&&(S[C]=h[C])}else S=h;return Ca(a),h=gg(s,a,c,S,y,g),C=pg(),s!==null&&!Ve?(yg(s,a,g),Es(s,a,g)):(Ft&&C&&Xm(a),a.flags|=1,an(s,a,h,g),a.child)}function nb(s,a,c,h,g){if(s===null){var y=c.type;return typeof y=="function"&&!Wm(y)&&y.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=y,ib(s,a,y,h,g)):(s=Fh(c.type,null,h,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!Fg(s,g)){var S=y.memoizedProps;if(c=c.compare,c=c!==null?c:hc,c(S,h)&&s.ref===a.ref)return Es(s,a,g)}return a.flags|=1,s=gs(y,h),s.ref=a.ref,s.return=a,a.child=s}function ib(s,a,c,h,g){if(s!==null){var y=s.memoizedProps;if(hc(y,h)&&s.ref===a.ref)if(Ve=!1,a.pendingProps=h=y,Fg(s,g))(s.flags&131072)!==0&&(Ve=!0);else return a.lanes=s.lanes,Es(s,a,g)}return Pg(s,a,c,h,g)}function sb(s,a,c,h){var g=h.children,y=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(y=y!==null?y.baseLanes|c:c,s!==null){for(h=a.child=s.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~y}else h=0,a.child=null;return rb(s,a,y,c,h)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Yh(a,y!==null?y.cachePool:null),y!==null?ov(a,y):hg(),lv(a);else return h=a.lanes=536870912,rb(s,a,y!==null?y.baseLanes|c:c,c,h)}else y!==null?(Yh(a,y.cachePool),ov(a,y),pr(),a.memoizedState=null):(s!==null&&Yh(a,null),hg(),pr());return an(s,a,g,c),a.child}function Ac(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function rb(s,a,c,h,g){var y=rg();return y=y===null?null:{parent:Pe._currentValue,pool:y},a.memoizedState={baseLanes:c,cachePool:y},s!==null&&Yh(a,null),hg(),lv(a),s!==null&&No(s,a,h,!0),a.childLanes=g,null}function cf(s,a){return a=hf({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function ab(s,a,c){return Oa(a,s.child,null,c),s=cf(a,a.pendingProps),s.flags|=2,Un(a),a.memoizedState=null,s}function dC(s,a,c){var h=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Ft){if(h.mode==="hidden")return s=cf(a,h),a.lanes=536870912,Ac(null,s);if(dg(a),(s=he)?(s=_1(s,ni),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:lr!==null?{id:Yi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},c=H0(s),c.return=a,a.child=c,sn=a,he=null)):s=null,s===null)throw ur(a);return a.lanes=536870912,null}return cf(a,h)}var y=s.memoizedState;if(y!==null){var S=y.dehydrated;if(dg(a),g)if(a.flags&256)a.flags&=-257,a=ab(s,a,c);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(Ve||No(s,a,c,!1),g=(c&s.childLanes)!==0,Ve||g){if(h=ce,h!==null&&(S=Wl(h,c),S!==0&&S!==y.retryLane))throw y.retryLane=S,wa(s,S),Cn(h,s,S),kg;bf(),a=ab(s,a,c)}else s=y.treeContext,he=si(S.nextSibling),sn=a,Ft=!0,cr=null,ni=!1,s!==null&&Y0(a,s),a=cf(a,h),a.flags|=4096;return a}return s=gs(s.child,{mode:h.mode,children:h.children}),s.ref=a.ref,a.child=s,s.return=a,s}function uf(s,a){var c=a.ref;if(c===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(a.flags|=4194816)}}function Pg(s,a,c,h,g){return Ca(a),c=gg(s,a,c,h,void 0,g),h=pg(),s!==null&&!Ve?(yg(s,a,g),Es(s,a,g)):(Ft&&h&&Xm(a),a.flags|=1,an(s,a,c,g),a.child)}function ob(s,a,c,h,g,y){return Ca(a),a.updateQueue=null,c=uv(a,h,c,g),cv(s),h=pg(),s!==null&&!Ve?(yg(s,a,y),Es(s,a,y)):(Ft&&h&&Xm(a),a.flags|=1,an(s,a,c,y),a.child)}function lb(s,a,c,h,g){if(Ca(a),a.stateNode===null){var y=Mo,S=c.contextType;typeof S=="object"&&S!==null&&(y=rn(S)),y=new c(h,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Og,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=h,y.state=a.memoizedState,y.refs={},og(a),S=c.contextType,y.context=typeof S=="object"&&S!==null?rn(S):Mo,y.state=a.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&(Dg(a,c,S,h),y.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&Og.enqueueReplaceState(y,y.state,null),Ec(a,h,y,g),bc(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(s===null){y=a.stateNode;var C=a.memoizedProps,j=ka(c,C);y.props=j;var K=y.context,tt=c.contextType;S=Mo,typeof tt=="object"&&tt!==null&&(S=rn(tt));var st=c.getDerivedStateFromProps;tt=typeof st=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,tt||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||K!==S)&&$v(a,y,h,S),fr=!1;var Q=a.memoizedState;y.state=Q,Ec(a,h,y,g),bc(),K=a.memoizedState,C||Q!==K||fr?(typeof st=="function"&&(Dg(a,c,st,h),K=a.memoizedState),(j=fr||Wv(a,c,j,h,Q,K,S))?(tt||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=K),y.props=h,y.state=K,y.context=S,h=j):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{y=a.stateNode,lg(s,a),S=a.memoizedProps,tt=ka(c,S),y.props=tt,st=a.pendingProps,Q=y.context,K=c.contextType,j=Mo,typeof K=="object"&&K!==null&&(j=rn(K)),C=c.getDerivedStateFromProps,(K=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==st||Q!==j)&&$v(a,y,h,j),fr=!1,Q=a.memoizedState,y.state=Q,Ec(a,h,y,g),bc();var Z=a.memoizedState;S!==st||Q!==Z||fr||s!==null&&s.dependencies!==null&&qh(s.dependencies)?(typeof C=="function"&&(Dg(a,c,C,h),Z=a.memoizedState),(tt=fr||Wv(a,c,tt,h,Q,Z,j)||s!==null&&s.dependencies!==null&&qh(s.dependencies))?(K||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,Z,j),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,Z,j)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===s.memoizedProps&&Q===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&Q===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Z),y.props=h,y.state=Z,y.context=j,h=tt):(typeof y.componentDidUpdate!="function"||S===s.memoizedProps&&Q===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&Q===s.memoizedState||(a.flags|=1024),h=!1)}return y=h,uf(s,a),h=(a.flags&128)!==0,y||h?(y=a.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&h?(a.child=Oa(a,s.child,null,g),a.child=Oa(a,null,c,g)):an(s,a,c,g),a.memoizedState=y.state,s=a.child):s=Es(s,a,g),s}function cb(s,a,c,h){return Aa(),a.flags|=256,an(s,a,c,h),a.child}var Lg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vg(s){return{baseLanes:s,cachePool:J0()}}function jg(s,a,c){return s=s!==null?s.childLanes&~c:0,a&&(s|=Fn),s}function ub(s,a,c){var h=a.pendingProps,g=!1,y=(a.flags&128)!==0,S;if((S=y)||(S=s!==null&&s.memoizedState===null?!1:(xe.current&2)!==0),S&&(g=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,s===null){if(Ft){if(g?gr(a):pr(),(s=he)?(s=_1(s,ni),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:lr!==null?{id:Yi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},c=H0(s),c.return=a,a.child=c,sn=a,he=null)):s=null,s===null)throw ur(a);return bp(s)?a.lanes=32:a.lanes=536870912,null}var C=h.children;return h=h.fallback,g?(pr(),g=a.mode,C=hf({mode:"hidden",children:C},g),h=xa(h,g,c,null),C.return=a,h.return=a,C.sibling=h,a.child=C,h=a.child,h.memoizedState=Vg(c),h.childLanes=jg(s,S,c),a.memoizedState=Lg,Ac(null,h)):(gr(a),zg(a,C))}var j=s.memoizedState;if(j!==null&&(C=j.dehydrated,C!==null)){if(y)a.flags&256?(gr(a),a.flags&=-257,a=Ug(s,a,c)):a.memoizedState!==null?(pr(),a.child=s.child,a.flags|=128,a=null):(pr(),C=h.fallback,g=a.mode,h=hf({mode:"visible",children:h.children},g),C=xa(C,g,c,null),C.flags|=2,h.return=a,C.return=a,h.sibling=C,a.child=h,Oa(a,s.child,null,c),h=a.child,h.memoizedState=Vg(c),h.childLanes=jg(s,S,c),a.memoizedState=Lg,a=Ac(null,h));else if(gr(a),bp(C)){if(S=C.nextSibling&&C.nextSibling.dataset,S)var K=S.dgst;S=K,h=Error(i(419)),h.stack="",h.digest=S,mc({value:h,source:null,stack:null}),a=Ug(s,a,c)}else if(Ve||No(s,a,c,!1),S=(c&s.childLanes)!==0,Ve||S){if(S=ce,S!==null&&(h=Wl(S,c),h!==0&&h!==j.retryLane))throw j.retryLane=h,wa(s,h),Cn(S,s,h),kg;vp(C)||bf(),a=Ug(s,a,c)}else vp(C)?(a.flags|=192,a.child=s.child,a=null):(s=j.treeContext,he=si(C.nextSibling),sn=a,Ft=!0,cr=null,ni=!1,s!==null&&Y0(a,s),a=zg(a,h.children),a.flags|=4096);return a}return g?(pr(),C=h.fallback,g=a.mode,j=s.child,K=j.sibling,h=gs(j,{mode:"hidden",children:h.children}),h.subtreeFlags=j.subtreeFlags&65011712,K!==null?C=gs(K,C):(C=xa(C,g,c,null),C.flags|=2),C.return=a,h.return=a,h.sibling=C,a.child=h,Ac(null,h),h=a.child,C=s.child.memoizedState,C===null?C=Vg(c):(g=C.cachePool,g!==null?(j=Pe._currentValue,g=g.parent!==j?{parent:j,pool:j}:g):g=J0(),C={baseLanes:C.baseLanes|c,cachePool:g}),h.memoizedState=C,h.childLanes=jg(s,S,c),a.memoizedState=Lg,Ac(s.child,h)):(gr(a),c=s.child,s=c.sibling,c=gs(c,{mode:"visible",children:h.children}),c.return=a,c.sibling=null,s!==null&&(S=a.deletions,S===null?(a.deletions=[s],a.flags|=16):S.push(s)),a.child=c,a.memoizedState=null,c)}function zg(s,a){return a=hf({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function hf(s,a){return s=jn(22,s,null,a),s.lanes=0,s}function Ug(s,a,c){return Oa(a,s.child,null,c),s=zg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function hb(s,a,c){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),eg(s.return,a,c)}function Bg(s,a,c,h,g,y){var S=s.memoizedState;S===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g,treeForkCount:y}:(S.isBackwards=a,S.rendering=null,S.renderingStartTime=0,S.last=h,S.tail=c,S.tailMode=g,S.treeForkCount=y)}function fb(s,a,c){var h=a.pendingProps,g=h.revealOrder,y=h.tail;h=h.children;var S=xe.current,C=(S&2)!==0;if(C?(S=S&1|2,a.flags|=128):S&=1,ct(xe,S),an(s,a,h,c),h=Ft?dc:0,!C&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&hb(s,c,a);else if(s.tag===19)hb(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&Jh(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),Bg(a,!1,g,c,y,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Jh(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Bg(a,!0,c,null,y,h);break;case"together":Bg(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function Es(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),vr|=a.lanes,(c&a.childLanes)===0)if(s!==null){if(No(s,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,c=gs(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=gs(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function Fg(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&qh(s)))}function mC(s,a,c){switch(a.tag){case 3:He(a,a.stateNode.containerInfo),hr(a,Pe,s.memoizedState.cache),Aa();break;case 27:case 5:aa(a);break;case 4:He(a,a.stateNode.containerInfo);break;case 10:hr(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,dg(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(gr(a),a.flags|=128,null):(c&a.child.childLanes)!==0?ub(s,a,c):(gr(a),s=Es(s,a,c),s!==null?s.sibling:null);gr(a);break;case 19:var g=(s.flags&128)!==0;if(h=(c&a.childLanes)!==0,h||(No(s,a,c,!1),h=(c&a.childLanes)!==0),g){if(h)return fb(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ct(xe,xe.current),h)break;return null;case 22:return a.lanes=0,sb(s,a,c,a.pendingProps);case 24:hr(a,Pe,s.memoizedState.cache)}return Es(s,a,c)}function db(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps)Ve=!0;else{if(!Fg(s,c)&&(a.flags&128)===0)return Ve=!1,mC(s,a,c);Ve=(s.flags&131072)!==0}else Ve=!1,Ft&&(a.flags&1048576)!==0&&G0(a,dc,a.index);switch(a.lanes=0,a.tag){case 16:t:{var h=a.pendingProps;if(s=Ia(a.elementType),a.type=s,typeof s=="function")Wm(s)?(h=ka(s,h),a.tag=1,a=lb(null,a,s,h,c)):(a.tag=0,a=Pg(null,a,s,h,c));else{if(s!=null){var g=s.$$typeof;if(g===G){a.tag=11,a=eb(null,a,s,h,c);break t}else if(g===N){a.tag=14,a=nb(null,a,s,h,c);break t}}throw a=ut(s)||s,Error(i(306,a,""))}}return a;case 0:return Pg(s,a,a.type,a.pendingProps,c);case 1:return h=a.type,g=ka(h,a.pendingProps),lb(s,a,h,g,c);case 3:t:{if(He(a,a.stateNode.containerInfo),s===null)throw Error(i(387));h=a.pendingProps;var y=a.memoizedState;g=y.element,lg(s,a),Ec(a,h,null,c);var S=a.memoizedState;if(h=S.cache,hr(a,Pe,h),h!==y.cache&&ng(a,[Pe],c,!0),bc(),h=S.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=cb(s,a,h,c);break t}else if(h!==g){g=Zn(Error(i(424)),a),mc(g),a=cb(s,a,h,c);break t}else for(s=a.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,he=si(s.firstChild),sn=a,Ft=!0,cr=null,ni=!0,c=sv(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Aa(),h===g){a=Es(s,a,c);break t}an(s,a,h,c)}a=a.child}return a;case 26:return uf(s,a),s===null?(c=w1(a.type,null,a.pendingProps,null))?a.memoizedState=c:Ft||(c=a.type,s=a.pendingProps,h=Rf(St.current).createElement(c),h[Oe]=a,h[Ke]=s,on(h,c,s),Ne(h),a.stateNode=h):a.memoizedState=w1(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return aa(a),s===null&&Ft&&(h=a.stateNode=E1(a.type,a.pendingProps,St.current),sn=a,ni=!0,g=he,wr(a.type)?(Ep=g,he=si(h.firstChild)):he=g),an(s,a,a.pendingProps.children,c),uf(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Ft&&((g=h=he)&&(h=qC(h,a.type,a.pendingProps,ni),h!==null?(a.stateNode=h,sn=a,he=si(h.firstChild),ni=!1,g=!0):g=!1),g||ur(a)),aa(a),g=a.type,y=a.pendingProps,S=s!==null?s.memoizedProps:null,h=y.children,pp(g,y)?h=null:S!==null&&pp(g,S)&&(a.flags|=32),a.memoizedState!==null&&(g=gg(s,a,rC,null,null,c),Bc._currentValue=g),uf(s,a),an(s,a,h,c),a.child;case 6:return s===null&&Ft&&((s=c=he)&&(c=GC(c,a.pendingProps,ni),c!==null?(a.stateNode=c,sn=a,he=null,s=!0):s=!1),s||ur(a)),null;case 13:return ub(s,a,c);case 4:return He(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=Oa(a,null,h,c):an(s,a,h,c),a.child;case 11:return eb(s,a,a.type,a.pendingProps,c);case 7:return an(s,a,a.pendingProps,c),a.child;case 8:return an(s,a,a.pendingProps.children,c),a.child;case 12:return an(s,a,a.pendingProps.children,c),a.child;case 10:return h=a.pendingProps,hr(a,a.type,h.value),an(s,a,h.children,c),a.child;case 9:return g=a.type._context,h=a.pendingProps.children,Ca(a),g=rn(g),h=h(g),a.flags|=1,an(s,a,h,c),a.child;case 14:return nb(s,a,a.type,a.pendingProps,c);case 15:return ib(s,a,a.type,a.pendingProps,c);case 19:return fb(s,a,c);case 31:return dC(s,a,c);case 22:return sb(s,a,c,a.pendingProps);case 24:return Ca(a),h=rn(Pe),s===null?(g=rg(),g===null&&(g=ce,y=ig(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=c),g=y),a.memoizedState={parent:h,cache:g},og(a),hr(a,Pe,g)):((s.lanes&c)!==0&&(lg(s,a),Ec(a,null,null,c),bc()),g=s.memoizedState,y=a.memoizedState,g.parent!==h?(g={parent:h,cache:h},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),hr(a,Pe,h)):(h=y.cache,hr(a,Pe,h),h!==g.cache&&ng(a,[Pe],c,!0))),an(s,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Ts(s){s.flags|=4}function Hg(s,a,c,h,g){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(Ub())s.flags|=8192;else throw Da=$h,ag}else s.flags&=-16777217}function mb(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!M1(a))if(Ub())s.flags|=8192;else throw Da=$h,ag}function ff(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?yh():536870912,s.lanes|=a,Go|=a)}function Rc(s,a){if(!Ft)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function fe(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=c,a}function gC(s,a,c){var h=a.pendingProps;switch(Qm(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(a),null;case 1:return fe(a),null;case 3:return c=a.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),_s(Pe),ge(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Oo(a)?Ts(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Zm())),fe(a),null;case 26:var g=a.type,y=a.memoizedState;return s===null?(Ts(a),y!==null?(fe(a),mb(a,y)):(fe(a),Hg(a,g,null,h,c))):y?y!==s.memoizedState?(Ts(a),fe(a),mb(a,y)):(fe(a),a.flags&=-16777217):(s=s.memoizedProps,s!==h&&Ts(a),fe(a),Hg(a,g,s,h,c)),null;case 27:if(co(a),c=St.current,g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Ts(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return fe(a),null}s=ht.current,Oo(a)?W0(a):(s=E1(g,h,c),a.stateNode=s,Ts(a))}return fe(a),null;case 5:if(co(a),g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Ts(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return fe(a),null}if(y=ht.current,Oo(a))W0(a);else{var S=Rf(St.current);switch(y){case 1:y=S.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=S.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=S.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?S.createElement("select",{is:h.is}):S.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?S.createElement(g,{is:h.is}):S.createElement(g)}}y[Oe]=a,y[Ke]=h;t:for(S=a.child;S!==null;){if(S.tag===5||S.tag===6)y.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===a)break t;for(;S.sibling===null;){if(S.return===null||S.return===a)break t;S=S.return}S.sibling.return=S.return,S=S.sibling}a.stateNode=y;t:switch(on(y,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&Ts(a)}}return fe(a),Hg(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,c),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==h&&Ts(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(i(166));if(s=St.current,Oo(a)){if(s=a.stateNode,c=a.memoizedProps,h=null,g=sn,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}s[Oe]=a,s=!!(s.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||u1(s.nodeValue,c)),s||ur(a,!0)}else s=Rf(s).createTextNode(h),s[Oe]=a,a.stateNode=s}return fe(a),null;case 31:if(c=a.memoizedState,s===null||s.memoizedState!==null){if(h=Oo(a),c!==null){if(s===null){if(!h)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Oe]=a}else Aa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;fe(a),s=!1}else c=Zm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=c),s=!0;if(!s)return a.flags&256?(Un(a),a):(Un(a),null);if((a.flags&128)!==0)throw Error(i(558))}return fe(a),null;case 13:if(h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=Oo(a),h!==null&&h.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Oe]=a}else Aa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;fe(a),g=!1}else g=Zm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Un(a),a):(Un(a),null)}return Un(a),(a.flags&128)!==0?(a.lanes=c,a):(c=h!==null,s=s!==null&&s.memoizedState!==null,c&&(h=a.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)),c!==s&&c&&(a.child.flags|=8192),ff(a,a.updateQueue),fe(a),null);case 4:return ge(),s===null&&hp(a.stateNode.containerInfo),fe(a),null;case 10:return _s(a.type),fe(a),null;case 19:if(et(xe),h=a.memoizedState,h===null)return fe(a),null;if(g=(a.flags&128)!==0,y=h.rendering,y===null)if(g)Rc(h,!1);else{if(Te!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=Jh(s),y!==null){for(a.flags|=128,Rc(h,!1),s=y.updateQueue,a.updateQueue=s,ff(a,s),a.subtreeFlags=0,s=c,c=a.child;c!==null;)F0(c,s),c=c.sibling;return ct(xe,xe.current&1|2),Ft&&ps(a,h.treeForkCount),a.child}s=s.sibling}h.tail!==null&&vn()>yf&&(a.flags|=128,g=!0,Rc(h,!1),a.lanes=4194304)}else{if(!g)if(s=Jh(y),s!==null){if(a.flags|=128,g=!0,s=s.updateQueue,a.updateQueue=s,ff(a,s),Rc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Ft)return fe(a),null}else 2*vn()-h.renderingStartTime>yf&&c!==536870912&&(a.flags|=128,g=!0,Rc(h,!1),a.lanes=4194304);h.isBackwards?(y.sibling=a.child,a.child=y):(s=h.last,s!==null?s.sibling=y:a.child=y,h.last=y)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=vn(),s.sibling=null,c=xe.current,ct(xe,g?c&1|2:c&1),Ft&&ps(a,h.treeForkCount),s):(fe(a),null);case 22:case 23:return Un(a),fg(),h=a.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(c&536870912)!==0&&(a.flags&128)===0&&(fe(a),a.subtreeFlags&6&&(a.flags|=8192)):fe(a),c=a.updateQueue,c!==null&&ff(a,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048),s!==null&&et(Ma),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),_s(Pe),fe(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function pC(s,a){switch(Qm(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return _s(Pe),ge(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return co(a),null;case 31:if(a.memoizedState!==null){if(Un(a),a.alternate===null)throw Error(i(340));Aa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(Un(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Aa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return et(xe),null;case 4:return ge(),null;case 10:return _s(a.type),null;case 22:case 23:return Un(a),fg(),s!==null&&et(Ma),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return _s(Pe),null;case 25:return null;default:return null}}function gb(s,a){switch(Qm(a),a.tag){case 3:_s(Pe),ge();break;case 26:case 27:case 5:co(a);break;case 4:ge();break;case 31:a.memoizedState!==null&&Un(a);break;case 13:Un(a);break;case 19:et(xe);break;case 10:_s(a.type);break;case 22:case 23:Un(a),fg(),s!==null&&et(Ma);break;case 24:_s(Pe)}}function Cc(s,a){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&s)===s){h=void 0;var y=c.create,S=c.inst;h=y(),S.destroy=h}c=c.next}while(c!==g)}}catch(C){te(a,a.return,C)}}function yr(s,a,c){try{var h=a.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&s)===s){var S=h.inst,C=S.destroy;if(C!==void 0){S.destroy=void 0,g=a;var j=c,K=C;try{K()}catch(tt){te(g,j,tt)}}}h=h.next}while(h!==y)}}catch(tt){te(a,a.return,tt)}}function pb(s){var a=s.updateQueue;if(a!==null){var c=s.stateNode;try{av(a,c)}catch(h){te(s,s.return,h)}}}function yb(s,a,c){c.props=ka(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(h){te(s,a,h)}}function Mc(s,a){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof c=="function"?s.refCleanup=c(h):c.current=h}}catch(g){te(s,a,g)}}function $i(s,a){var c=s.ref,h=s.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(g){te(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){te(s,a,g)}else c.current=null}function _b(s){var a=s.type,c=s.memoizedProps,h=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break t;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(g){te(s,s.return,g)}}function qg(s,a,c){try{var h=s.stateNode;jC(h,s.type,c,a),h[Ke]=a}catch(g){te(s,s.return,g)}}function vb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&wr(s.type)||s.tag===4}function Gg(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||vb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&wr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Yg(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(s),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=yi));else if(h!==4&&(h===27&&wr(s.type)&&(c=s.stateNode,a=null),s=s.child,s!==null))for(Yg(s,a,c),s=s.sibling;s!==null;)Yg(s,a,c),s=s.sibling}function df(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(h!==4&&(h===27&&wr(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(df(s,a,c),s=s.sibling;s!==null;)df(s,a,c),s=s.sibling}function bb(s){var a=s.stateNode,c=s.memoizedProps;try{for(var h=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);on(a,h,c),a[Oe]=s,a[Ke]=c}catch(y){te(s,s.return,y)}}var Ss=!1,je=!1,Wg=!1,Eb=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function yC(s,a){if(s=s.containerInfo,mp=kf,s=N0(s),Um(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else t:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break t}var S=0,C=-1,j=-1,K=0,tt=0,st=s,Q=null;e:for(;;){for(var Z;st!==c||g!==0&&st.nodeType!==3||(C=S+g),st!==y||h!==0&&st.nodeType!==3||(j=S+h),st.nodeType===3&&(S+=st.nodeValue.length),(Z=st.firstChild)!==null;)Q=st,st=Z;for(;;){if(st===s)break e;if(Q===c&&++K===g&&(C=S),Q===y&&++tt===h&&(j=S),(Z=st.nextSibling)!==null)break;st=Q,Q=st.parentNode}st=Z}c=C===-1||j===-1?null:{start:C,end:j}}else c=null}c=c||{start:0,end:0}}else c=null;for(gp={focusedElem:s,selectionRange:c},kf=!1,Qe=a;Qe!==null;)if(a=Qe,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Qe=s;else for(;Qe!==null;){switch(a=Qe,y=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(c=0;c<s.length;c++)g=s[c],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,c=a,g=y.memoizedProps,y=y.memoizedState,h=c.stateNode;try{var pt=ka(c.type,g);s=h.getSnapshotBeforeUpdate(pt,y),h.__reactInternalSnapshotBeforeUpdate=s}catch(Tt){te(c,c.return,Tt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,c=s.nodeType,c===9)_p(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":_p(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Qe=s;break}Qe=a.return}}function Tb(s,a,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:xs(s,c),h&4&&Cc(5,c);break;case 1:if(xs(s,c),h&4)if(s=c.stateNode,a===null)try{s.componentDidMount()}catch(S){te(c,c.return,S)}else{var g=ka(c.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(S){te(c,c.return,S)}}h&64&&pb(c),h&512&&Mc(c,c.return);break;case 3:if(xs(s,c),h&64&&(s=c.updateQueue,s!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{av(s,a)}catch(S){te(c,c.return,S)}}break;case 27:a===null&&h&4&&bb(c);case 26:case 5:xs(s,c),a===null&&h&4&&_b(c),h&512&&Mc(c,c.return);break;case 12:xs(s,c);break;case 31:xs(s,c),h&4&&xb(s,c);break;case 13:xs(s,c),h&4&&Ab(s,c),h&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=AC.bind(null,c),YC(s,c))));break;case 22:if(h=c.memoizedState!==null||Ss,!h){a=a!==null&&a.memoizedState!==null||je,g=Ss;var y=je;Ss=h,(je=a)&&!y?As(s,c,(c.subtreeFlags&8772)!==0):xs(s,c),Ss=g,je=y}break;case 30:break;default:xs(s,c)}}function Sb(s){var a=s.alternate;a!==null&&(s.alternate=null,Sb(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&go(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ye=null,wn=!1;function ws(s,a,c){for(c=c.child;c!==null;)wb(s,a,c),c=c.sibling}function wb(s,a,c){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(di,c)}catch{}switch(c.tag){case 26:je||$i(c,a),ws(s,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:je||$i(c,a);var h=ye,g=wn;wr(c.type)&&(ye=c.stateNode,wn=!1),ws(s,a,c),jc(c.stateNode),ye=h,wn=g;break;case 5:je||$i(c,a);case 6:if(h=ye,g=wn,ye=null,ws(s,a,c),ye=h,wn=g,ye!==null)if(wn)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(c.stateNode)}catch(y){te(c,a,y)}else try{ye.removeChild(c.stateNode)}catch(y){te(c,a,y)}break;case 18:ye!==null&&(wn?(s=ye,p1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),Zo(s)):p1(ye,c.stateNode));break;case 4:h=ye,g=wn,ye=c.stateNode.containerInfo,wn=!0,ws(s,a,c),ye=h,wn=g;break;case 0:case 11:case 14:case 15:yr(2,c,a),je||yr(4,c,a),ws(s,a,c);break;case 1:je||($i(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"&&yb(c,a,h)),ws(s,a,c);break;case 21:ws(s,a,c);break;case 22:je=(h=je)||c.memoizedState!==null,ws(s,a,c),je=h;break;default:ws(s,a,c)}}function xb(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Zo(s)}catch(c){te(a,a.return,c)}}}function Ab(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Zo(s)}catch(c){te(a,a.return,c)}}function _C(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Eb),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Eb),a;default:throw Error(i(435,s.tag))}}function mf(s,a){var c=_C(s);a.forEach(function(h){if(!c.has(h)){c.add(h);var g=RC.bind(null,s,h);h.then(g,g)}})}function xn(s,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h],y=s,S=a,C=S;t:for(;C!==null;){switch(C.tag){case 27:if(wr(C.type)){ye=C.stateNode,wn=!1;break t}break;case 5:ye=C.stateNode,wn=!1;break t;case 3:case 4:ye=C.stateNode.containerInfo,wn=!0;break t}C=C.return}if(ye===null)throw Error(i(160));wb(y,S,g),ye=null,wn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Rb(a,s),a=a.sibling}var Si=null;function Rb(s,a){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:xn(a,s),An(s),h&4&&(yr(3,s,s.return),Cc(3,s),yr(5,s,s.return));break;case 1:xn(a,s),An(s),h&512&&(je||c===null||$i(c,c.return)),h&64&&Ss&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var g=Si;if(xn(a,s),An(s),h&512&&(je||c===null||$i(c,c.return)),h&4){var y=c!==null?c.memoizedState:null;if(h=s.memoizedState,c===null)if(h===null)if(s.stateNode===null){t:{h=s.type,c=s.memoizedProps,g=g.ownerDocument||g;e:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[ki]||y[Oe]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),on(y,h,c),y[Oe]=s,Ne(y),h=y;break t;case"link":var S=R1("link","href",g).get(h+(c.href||""));if(S){for(var C=0;C<S.length;C++)if(y=S[C],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){S.splice(C,1);break e}}y=g.createElement(h),on(y,h,c),g.head.appendChild(y);break;case"meta":if(S=R1("meta","content",g).get(h+(c.content||""))){for(C=0;C<S.length;C++)if(y=S[C],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){S.splice(C,1);break e}}y=g.createElement(h),on(y,h,c),g.head.appendChild(y);break;default:throw Error(i(468,h))}y[Oe]=s,Ne(y),h=y}s.stateNode=h}else C1(g,s.type,s.stateNode);else s.stateNode=A1(g,h,s.memoizedProps);else y!==h?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,h===null?C1(g,s.type,s.stateNode):A1(g,h,s.memoizedProps)):h===null&&s.stateNode!==null&&qg(s,s.memoizedProps,c.memoizedProps)}break;case 27:xn(a,s),An(s),h&512&&(je||c===null||$i(c,c.return)),c!==null&&h&4&&qg(s,s.memoizedProps,c.memoizedProps);break;case 5:if(xn(a,s),An(s),h&512&&(je||c===null||$i(c,c.return)),s.flags&32){g=s.stateNode;try{Sn(g,"")}catch(pt){te(s,s.return,pt)}}h&4&&s.stateNode!=null&&(g=s.memoizedProps,qg(s,g,c!==null?c.memoizedProps:g)),h&1024&&(Wg=!0);break;case 6:if(xn(a,s),An(s),h&4){if(s.stateNode===null)throw Error(i(162));h=s.memoizedProps,c=s.stateNode;try{c.nodeValue=h}catch(pt){te(s,s.return,pt)}}break;case 3:if(If=null,g=Si,Si=Cf(a.containerInfo),xn(a,s),Si=g,An(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Zo(a.containerInfo)}catch(pt){te(s,s.return,pt)}Wg&&(Wg=!1,Cb(s));break;case 4:h=Si,Si=Cf(s.stateNode.containerInfo),xn(a,s),An(s),Si=h;break;case 12:xn(a,s),An(s);break;case 31:xn(a,s),An(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,mf(s,h)));break;case 13:xn(a,s),An(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(pf=vn()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,mf(s,h)));break;case 22:g=s.memoizedState!==null;var j=c!==null&&c.memoizedState!==null,K=Ss,tt=je;if(Ss=K||g,je=tt||j,xn(a,s),je=tt,Ss=K,An(s),h&8192)t:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(c===null||j||Ss||je||Pa(s)),c=null,a=s;;){if(a.tag===5||a.tag===26){if(c===null){j=c=a;try{if(y=j.stateNode,g)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{C=j.stateNode;var st=j.memoizedProps.style,Q=st!=null&&st.hasOwnProperty("display")?st.display:null;C.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(pt){te(j,j.return,pt)}}}else if(a.tag===6){if(c===null){j=a;try{j.stateNode.nodeValue=g?"":j.memoizedProps}catch(pt){te(j,j.return,pt)}}}else if(a.tag===18){if(c===null){j=a;try{var Z=j.stateNode;g?y1(Z,!0):y1(j.stateNode,!1)}catch(pt){te(j,j.return,pt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=s.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,mf(s,c))));break;case 19:xn(a,s),An(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,mf(s,h)));break;case 30:break;case 21:break;default:xn(a,s),An(s)}}function An(s){var a=s.flags;if(a&2){try{for(var c,h=s.return;h!==null;){if(vb(h)){c=h;break}h=h.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var g=c.stateNode,y=Gg(s);df(s,y,g);break;case 5:var S=c.stateNode;c.flags&32&&(Sn(S,""),c.flags&=-33);var C=Gg(s);df(s,C,S);break;case 3:case 4:var j=c.stateNode.containerInfo,K=Gg(s);Yg(s,K,j);break;default:throw Error(i(161))}}catch(tt){te(s,s.return,tt)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Cb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;Cb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function xs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Tb(s,a.alternate,a),a=a.sibling}function Pa(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:yr(4,a,a.return),Pa(a);break;case 1:$i(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&yb(a,a.return,c),Pa(a);break;case 27:jc(a.stateNode);case 26:case 5:$i(a,a.return),Pa(a);break;case 22:a.memoizedState===null&&Pa(a);break;case 30:Pa(a);break;default:Pa(a)}s=s.sibling}}function As(s,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,g=s,y=a,S=y.flags;switch(y.tag){case 0:case 11:case 15:As(g,y,c),Cc(4,y);break;case 1:if(As(g,y,c),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(K){te(h,h.return,K)}if(h=y,g=h.updateQueue,g!==null){var C=h.stateNode;try{var j=g.shared.hiddenCallbacks;if(j!==null)for(g.shared.hiddenCallbacks=null,g=0;g<j.length;g++)rv(j[g],C)}catch(K){te(h,h.return,K)}}c&&S&64&&pb(y),Mc(y,y.return);break;case 27:bb(y);case 26:case 5:As(g,y,c),c&&h===null&&S&4&&_b(y),Mc(y,y.return);break;case 12:As(g,y,c);break;case 31:As(g,y,c),c&&S&4&&xb(g,y);break;case 13:As(g,y,c),c&&S&4&&Ab(g,y);break;case 22:y.memoizedState===null&&As(g,y,c),Mc(y,y.return);break;case 30:break;default:As(g,y,c)}a=a.sibling}}function $g(s,a){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&gc(c))}function Kg(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&gc(s))}function wi(s,a,c,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Mb(s,a,c,h),a=a.sibling}function Mb(s,a,c,h){var g=a.flags;switch(a.tag){case 0:case 11:case 15:wi(s,a,c,h),g&2048&&Cc(9,a);break;case 1:wi(s,a,c,h);break;case 3:wi(s,a,c,h),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&gc(s)));break;case 12:if(g&2048){wi(s,a,c,h),s=a.stateNode;try{var y=a.memoizedProps,S=y.id,C=y.onPostCommit;typeof C=="function"&&C(S,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(j){te(a,a.return,j)}}else wi(s,a,c,h);break;case 31:wi(s,a,c,h);break;case 13:wi(s,a,c,h);break;case 23:break;case 22:y=a.stateNode,S=a.alternate,a.memoizedState!==null?y._visibility&2?wi(s,a,c,h):Ic(s,a):y._visibility&2?wi(s,a,c,h):(y._visibility|=2,Fo(s,a,c,h,(a.subtreeFlags&10256)!==0||!1)),g&2048&&$g(S,a);break;case 24:wi(s,a,c,h),g&2048&&Kg(a.alternate,a);break;default:wi(s,a,c,h)}}function Fo(s,a,c,h,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var y=s,S=a,C=c,j=h,K=S.flags;switch(S.tag){case 0:case 11:case 15:Fo(y,S,C,j,g),Cc(8,S);break;case 23:break;case 22:var tt=S.stateNode;S.memoizedState!==null?tt._visibility&2?Fo(y,S,C,j,g):Ic(y,S):(tt._visibility|=2,Fo(y,S,C,j,g)),g&&K&2048&&$g(S.alternate,S);break;case 24:Fo(y,S,C,j,g),g&&K&2048&&Kg(S.alternate,S);break;default:Fo(y,S,C,j,g)}a=a.sibling}}function Ic(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=s,h=a,g=h.flags;switch(h.tag){case 22:Ic(c,h),g&2048&&$g(h.alternate,h);break;case 24:Ic(c,h),g&2048&&Kg(h.alternate,h);break;default:Ic(c,h)}a=a.sibling}}var Dc=8192;function Ho(s,a,c){if(s.subtreeFlags&Dc)for(s=s.child;s!==null;)Ib(s,a,c),s=s.sibling}function Ib(s,a,c){switch(s.tag){case 26:Ho(s,a,c),s.flags&Dc&&s.memoizedState!==null&&sM(c,Si,s.memoizedState,s.memoizedProps);break;case 5:Ho(s,a,c);break;case 3:case 4:var h=Si;Si=Cf(s.stateNode.containerInfo),Ho(s,a,c),Si=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=Dc,Dc=16777216,Ho(s,a,c),Dc=h):Ho(s,a,c));break;default:Ho(s,a,c)}}function Db(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Oc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];Qe=h,Nb(h,s)}Db(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ob(s),s=s.sibling}function Ob(s){switch(s.tag){case 0:case 11:case 15:Oc(s),s.flags&2048&&yr(9,s,s.return);break;case 3:Oc(s);break;case 12:Oc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,gf(s)):Oc(s);break;default:Oc(s)}}function gf(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];Qe=h,Nb(h,s)}Db(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:yr(8,a,a.return),gf(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,gf(a));break;default:gf(a)}s=s.sibling}}function Nb(s,a){for(;Qe!==null;){var c=Qe;switch(c.tag){case 0:case 11:case 15:yr(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:gc(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,Qe=h;else t:for(c=s;Qe!==null;){h=Qe;var g=h.sibling,y=h.return;if(Sb(h),h===c){Qe=null;break t}if(g!==null){g.return=y,Qe=g;break t}Qe=y}}}var vC={getCacheForType:function(s){var a=rn(Pe),c=a.data.get(s);return c===void 0&&(c=s(),a.data.set(s,c)),c},cacheSignal:function(){return rn(Pe).controller.signal}},bC=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ce=null,kt=null,Lt=0,Zt=0,Bn=null,_r=!1,qo=!1,Xg=!1,Rs=0,Te=0,vr=0,La=0,Qg=0,Fn=0,Go=0,Nc=null,Rn=null,Jg=!1,pf=0,kb=0,yf=1/0,_f=null,br=null,Ge=0,Er=null,Yo=null,Cs=0,Zg=0,tp=null,Pb=null,kc=0,ep=null;function Hn(){return(Kt&2)!==0&&Lt!==0?Lt&-Lt:X.T!==null?op():_h()}function Lb(){if(Fn===0)if((Lt&536870912)===0||Ft){var s=ca;ca<<=1,(ca&3932160)===0&&(ca=262144),Fn=s}else Fn=536870912;return s=zn.current,s!==null&&(s.flags|=32),Fn}function Cn(s,a,c){(s===ce&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)&&(Wo(s,0),Tr(s,Lt,Fn,!1)),ua(s,c),((Kt&2)===0||s!==ce)&&(s===ce&&((Kt&2)===0&&(La|=c),Te===4&&Tr(s,Lt,Fn,!1)),Ki(s))}function Vb(s,a,c){if((Kt&6)!==0)throw Error(i(327));var h=!c&&(a&127)===0&&(a&s.expiredLanes)===0||mi(s,a),g=h?SC(s,a):ip(s,a,!0),y=h;do{if(g===0){qo&&!h&&Tr(s,a,0,!1);break}else{if(c=s.current.alternate,y&&!EC(c)){g=ip(s,a,!1),y=!1;continue}if(g===2){if(y=a,s.errorRecoveryDisabledLanes&y)var S=0;else S=s.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;t:{var C=s;g=Nc;var j=C.current.memoizedState.isDehydrated;if(j&&(Wo(C,S).flags|=256),S=ip(C,S,!1),S!==2){if(Xg&&!j){C.errorRecoveryDisabledLanes|=y,La|=y,g=4;break t}y=Rn,Rn=g,y!==null&&(Rn===null?Rn=y:Rn.push.apply(Rn,y))}g=S}if(y=!1,g!==2)continue}}if(g===1){Wo(s,0),Tr(s,a,0,!0);break}t:{switch(h=s,y=g,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Tr(h,a,Fn,!_r);break t;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=pf+300-vn(),10<g)){if(Tr(h,a,Fn,!_r),Di(h,0,!0)!==0)break t;Cs=a,h.timeoutHandle=m1(jb.bind(null,h,c,Rn,_f,Jg,a,Fn,La,Go,_r,y,"Throttled",-0,0),g);break t}jb(h,c,Rn,_f,Jg,a,Fn,La,Go,_r,y,null,-0,0)}}break}while(!0);Ki(s)}function jb(s,a,c,h,g,y,S,C,j,K,tt,st,Q,Z){if(s.timeoutHandle=-1,st=a.subtreeFlags,st&8192||(st&16785408)===16785408){st={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yi},Ib(a,y,st);var pt=(y&62914560)===y?pf-vn():(y&4194048)===y?kb-vn():0;if(pt=rM(st,pt),pt!==null){Cs=y,s.cancelPendingCommit=pt(Yb.bind(null,s,a,y,c,h,g,S,C,j,tt,st,null,Q,Z)),Tr(s,y,S,!K);return}}Yb(s,a,y,c,h,g,S,C,j)}function EC(s){for(var a=s;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var g=c[h],y=g.getSnapshot;g=g.value;try{if(!Vn(y(),g))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Tr(s,a,c,h){a&=~Qg,a&=~La,s.suspendedLanes|=a,s.pingedLanes&=~a,h&&(s.warmLanes|=a),h=s.expirationTimes;for(var g=a;0<g;){var y=31-Se(g),S=1<<y;h[y]=-1,g&=~S}c!==0&&ha(s,c,a)}function vf(){return(Kt&6)===0?(Pc(0),!1):!0}function np(){if(kt!==null){if(Zt===0)var s=kt.return;else s=kt,ys=Ra=null,_g(s),Vo=null,yc=0,s=kt;for(;s!==null;)gb(s.alternate,s),s=s.return;kt=null}}function Wo(s,a){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,BC(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),Cs=0,np(),ce=s,kt=c=gs(s.current,null),Lt=a,Zt=0,Bn=null,_r=!1,qo=mi(s,a),Xg=!1,Go=Fn=Qg=La=vr=Te=0,Rn=Nc=null,Jg=!1,(a&8)!==0&&(a|=a&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=a;0<h;){var g=31-Se(h),y=1<<g;a|=s[g],h&=~y}return Rs=a,zh(),c}function zb(s,a){It=null,X.H=xc,a===Lo||a===Wh?(a=ev(),Zt=3):a===ag?(a=ev(),Zt=4):Zt=a===kg?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Bn=a,kt===null&&(Te=1,lf(s,Zn(a,s.current)))}function Ub(){var s=zn.current;return s===null?!0:(Lt&4194048)===Lt?ii===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?s===ii:!1}function Bb(){var s=X.H;return X.H=xc,s===null?xc:s}function Fb(){var s=X.A;return X.A=vC,s}function bf(){Te=4,_r||(Lt&4194048)!==Lt&&zn.current!==null||(qo=!0),(vr&134217727)===0&&(La&134217727)===0||ce===null||Tr(ce,Lt,Fn,!1)}function ip(s,a,c){var h=Kt;Kt|=2;var g=Bb(),y=Fb();(ce!==s||Lt!==a)&&(_f=null,Wo(s,a)),a=!1;var S=Te;t:do try{if(Zt!==0&&kt!==null){var C=kt,j=Bn;switch(Zt){case 8:np(),S=6;break t;case 3:case 2:case 9:case 6:zn.current===null&&(a=!0);var K=Zt;if(Zt=0,Bn=null,$o(s,C,j,K),c&&qo){S=0;break t}break;default:K=Zt,Zt=0,Bn=null,$o(s,C,j,K)}}TC(),S=Te;break}catch(tt){zb(s,tt)}while(!0);return a&&s.shellSuspendCounter++,ys=Ra=null,Kt=h,X.H=g,X.A=y,kt===null&&(ce=null,Lt=0,zh()),S}function TC(){for(;kt!==null;)Hb(kt)}function SC(s,a){var c=Kt;Kt|=2;var h=Bb(),g=Fb();ce!==s||Lt!==a?(_f=null,yf=vn()+500,Wo(s,a)):qo=mi(s,a);t:do try{if(Zt!==0&&kt!==null){a=kt;var y=Bn;e:switch(Zt){case 1:Zt=0,Bn=null,$o(s,a,y,1);break;case 2:case 9:if(Z0(y)){Zt=0,Bn=null,qb(a);break}a=function(){Zt!==2&&Zt!==9||ce!==s||(Zt=7),Ki(s)},y.then(a,a);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Z0(y)?(Zt=0,Bn=null,qb(a)):(Zt=0,Bn=null,$o(s,a,y,7));break;case 5:var S=null;switch(kt.tag){case 26:S=kt.memoizedState;case 5:case 27:var C=kt;if(S?M1(S):C.stateNode.complete){Zt=0,Bn=null;var j=C.sibling;if(j!==null)kt=j;else{var K=C.return;K!==null?(kt=K,Ef(K)):kt=null}break e}}Zt=0,Bn=null,$o(s,a,y,5);break;case 6:Zt=0,Bn=null,$o(s,a,y,6);break;case 8:np(),Te=6;break t;default:throw Error(i(462))}}wC();break}catch(tt){zb(s,tt)}while(!0);return ys=Ra=null,X.H=h,X.A=g,Kt=c,kt!==null?0:(ce=null,Lt=0,zh(),Te)}function wC(){for(;kt!==null&&!Nm();)Hb(kt)}function Hb(s){var a=db(s.alternate,s,Rs);s.memoizedProps=s.pendingProps,a===null?Ef(s):kt=a}function qb(s){var a=s,c=a.alternate;switch(a.tag){case 15:case 0:a=ob(c,a,a.pendingProps,a.type,void 0,Lt);break;case 11:a=ob(c,a,a.pendingProps,a.type.render,a.ref,Lt);break;case 5:_g(a);default:gb(c,a),a=kt=F0(a,Rs),a=db(c,a,Rs)}s.memoizedProps=s.pendingProps,a===null?Ef(s):kt=a}function $o(s,a,c,h){ys=Ra=null,_g(a),Vo=null,yc=0;var g=a.return;try{if(fC(s,g,a,c,Lt)){Te=1,lf(s,Zn(c,s.current)),kt=null;return}}catch(y){if(g!==null)throw kt=g,y;Te=1,lf(s,Zn(c,s.current)),kt=null;return}a.flags&32768?(Ft||h===1?s=!0:qo||(Lt&536870912)!==0?s=!1:(_r=s=!0,(h===2||h===9||h===3||h===6)&&(h=zn.current,h!==null&&h.tag===13&&(h.flags|=16384))),Gb(a,s)):Ef(a)}function Ef(s){var a=s;do{if((a.flags&32768)!==0){Gb(a,_r);return}s=a.return;var c=gC(a.alternate,a,Rs);if(c!==null){kt=c;return}if(a=a.sibling,a!==null){kt=a;return}kt=a=s}while(a!==null);Te===0&&(Te=5)}function Gb(s,a){do{var c=pC(s.alternate,s);if(c!==null){c.flags&=32767,kt=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(s=s.sibling,s!==null)){kt=s;return}kt=s=c}while(s!==null);Te=6,kt=null}function Yb(s,a,c,h,g,y,S,C,j){s.cancelPendingCommit=null;do Tf();while(Ge!==0);if((Kt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=Gm,Lm(s,c,y,S,C,j),s===ce&&(kt=ce=null,Lt=0),Yo=a,Er=s,Cs=c,Zg=y,tp=g,Pb=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,CC(Js,function(){return Qb(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=X.T,X.T=null,g=ot.p,ot.p=2,S=Kt,Kt|=4;try{yC(s,a,c)}finally{Kt=S,ot.p=g,X.T=h}}Ge=1,Wb(),$b(),Kb()}}function Wb(){if(Ge===1){Ge=0;var s=Er,a=Yo,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=X.T,X.T=null;var h=ot.p;ot.p=2;var g=Kt;Kt|=4;try{Rb(a,s);var y=gp,S=N0(s.containerInfo),C=y.focusedElem,j=y.selectionRange;if(S!==C&&C&&C.ownerDocument&&O0(C.ownerDocument.documentElement,C)){if(j!==null&&Um(C)){var K=j.start,tt=j.end;if(tt===void 0&&(tt=K),"selectionStart"in C)C.selectionStart=K,C.selectionEnd=Math.min(tt,C.value.length);else{var st=C.ownerDocument||document,Q=st&&st.defaultView||window;if(Q.getSelection){var Z=Q.getSelection(),pt=C.textContent.length,Tt=Math.min(j.start,pt),oe=j.end===void 0?Tt:Math.min(j.end,pt);!Z.extend&&Tt>oe&&(S=oe,oe=Tt,Tt=S);var q=D0(C,Tt),F=D0(C,oe);if(q&&F&&(Z.rangeCount!==1||Z.anchorNode!==q.node||Z.anchorOffset!==q.offset||Z.focusNode!==F.node||Z.focusOffset!==F.offset)){var $=st.createRange();$.setStart(q.node,q.offset),Z.removeAllRanges(),Tt>oe?(Z.addRange($),Z.extend(F.node,F.offset)):($.setEnd(F.node,F.offset),Z.addRange($))}}}}for(st=[],Z=C;Z=Z.parentNode;)Z.nodeType===1&&st.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<st.length;C++){var it=st[C];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}kf=!!mp,gp=mp=null}finally{Kt=g,ot.p=h,X.T=c}}s.current=a,Ge=2}}function $b(){if(Ge===2){Ge=0;var s=Er,a=Yo,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=X.T,X.T=null;var h=ot.p;ot.p=2;var g=Kt;Kt|=4;try{Tb(s,a.alternate,a)}finally{Kt=g,ot.p=h,X.T=c}}Ge=3}}function Kb(){if(Ge===4||Ge===3){Ge=0,hh();var s=Er,a=Yo,c=Cs,h=Pb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ge=5:(Ge=0,Yo=Er=null,Xb(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(br=null),hs(c),a=a.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(di,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=X.T,g=ot.p,ot.p=2,X.T=null;try{for(var y=s.onRecoverableError,S=0;S<h.length;S++){var C=h[S];y(C.value,{componentStack:C.stack})}}finally{X.T=a,ot.p=g}}(Cs&3)!==0&&Tf(),Ki(s),g=s.pendingLanes,(c&261930)!==0&&(g&42)!==0?s===ep?kc++:(kc=0,ep=s):kc=0,Pc(0)}}function Xb(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,gc(a)))}function Tf(){return Wb(),$b(),Kb(),Qb()}function Qb(){if(Ge!==5)return!1;var s=Er,a=Zg;Zg=0;var c=hs(Cs),h=X.T,g=ot.p;try{ot.p=32>c?32:c,X.T=null,c=tp,tp=null;var y=Er,S=Cs;if(Ge=0,Yo=Er=null,Cs=0,(Kt&6)!==0)throw Error(i(331));var C=Kt;if(Kt|=4,Ob(y.current),Mb(y,y.current,S,c),Kt=C,Pc(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(di,y)}catch{}return!0}finally{ot.p=g,X.T=h,Xb(s,a)}}function Jb(s,a,c){a=Zn(c,a),a=Ng(s.stateNode,a,2),s=mr(s,a,2),s!==null&&(ua(s,2),Ki(s))}function te(s,a,c){if(s.tag===3)Jb(s,s,c);else for(;a!==null;){if(a.tag===3){Jb(a,s,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(br===null||!br.has(h))){s=Zn(c,s),c=Zv(2),h=mr(a,c,2),h!==null&&(tb(c,h,a,s),ua(h,2),Ki(h));break}}a=a.return}}function sp(s,a,c){var h=s.pingCache;if(h===null){h=s.pingCache=new bC;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(c)||(Xg=!0,g.add(c),s=xC.bind(null,s,a,c),a.then(s,s))}function xC(s,a,c){var h=s.pingCache;h!==null&&h.delete(a),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,ce===s&&(Lt&c)===c&&(Te===4||Te===3&&(Lt&62914560)===Lt&&300>vn()-pf?(Kt&2)===0&&Wo(s,0):Qg|=c,Go===Lt&&(Go=0)),Ki(s)}function Zb(s,a){a===0&&(a=yh()),s=wa(s,a),s!==null&&(ua(s,a),Ki(s))}function AC(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),Zb(s,c)}function RC(s,a){var c=0;switch(s.tag){case 31:case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(a),Zb(s,c)}function CC(s,a){return qe(s,a)}var Sf=null,Ko=null,rp=!1,wf=!1,ap=!1,Sr=0;function Ki(s){s!==Ko&&s.next===null&&(Ko===null?Sf=Ko=s:Ko=Ko.next=s),wf=!0,rp||(rp=!0,IC())}function Pc(s,a){if(!ap&&wf){ap=!0;do for(var c=!1,h=Sf;h!==null;){if(s!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var S=h.suspendedLanes,C=h.pingedLanes;y=(1<<31-Se(42|s)+1)-1,y&=g&~(S&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,i1(h,y))}else y=Lt,y=Di(h,h===ce?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||mi(h,y)||(c=!0,i1(h,y));h=h.next}while(c);ap=!1}}function MC(){t1()}function t1(){wf=rp=!1;var s=0;Sr!==0&&UC()&&(s=Sr);for(var a=vn(),c=null,h=Sf;h!==null;){var g=h.next,y=e1(h,a);y===0?(h.next=null,c===null?Sf=g:c.next=g,g===null&&(Ko=c)):(c=h,(s!==0||(y&3)!==0)&&(wf=!0)),h=g}Ge!==0&&Ge!==5||Pc(s),Sr!==0&&(Sr=0)}function e1(s,a){for(var c=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var S=31-Se(y),C=1<<S,j=g[S];j===-1?((C&c)===0||(C&h)!==0)&&(g[S]=Pm(C,a)):j<=a&&(s.expiredLanes|=C),y&=~C}if(a=ce,c=Lt,c=Di(s,s===a?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,c===0||s===a&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&Qs(h),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||mi(s,c)){if(a=c&-c,a===s.callbackPriority)return a;switch(h!==null&&Qs(h),hs(c)){case 2:case 8:c=Gl;break;case 32:c=Js;break;case 268435456:c=fh;break;default:c=Js}return h=n1.bind(null,s),c=qe(c,h),s.callbackPriority=a,s.callbackNode=c,a}return h!==null&&h!==null&&Qs(h),s.callbackPriority=2,s.callbackNode=null,2}function n1(s,a){if(Ge!==0&&Ge!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(Tf()&&s.callbackNode!==c)return null;var h=Lt;return h=Di(s,s===ce?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(Vb(s,h,a),e1(s,vn()),s.callbackNode!=null&&s.callbackNode===c?n1.bind(null,s):null)}function i1(s,a){if(Tf())return null;Vb(s,a,!0)}function IC(){FC(function(){(Kt&6)!==0?qe(ql,MC):t1()})}function op(){if(Sr===0){var s=ko;s===0&&(s=Mi,Mi<<=1,(Mi&261888)===0&&(Mi=256)),Sr=s}return Sr}function s1(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:vo(""+s)}function r1(s,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,s.id&&c.setAttribute("form",s.id),a.parentNode.insertBefore(c,a),s=new FormData(s),c.parentNode.removeChild(c),s}function DC(s,a,c,h,g){if(a==="submit"&&c&&c.stateNode===g){var y=s1((g[Ke]||null).action),S=h.submitter;S&&(a=(a=S[Ke]||null)?s1(a.formAction):S.getAttribute("formAction"),a!==null&&(y=a,S=null));var C=new Fi("action","action",null,h,g);s.push({event:C,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Sr!==0){var j=S?r1(g,S):new FormData(g);Rg(c,{pending:!0,data:j,method:g.method,action:y},null,j)}}else typeof y=="function"&&(C.preventDefault(),j=S?r1(g,S):new FormData(g),Rg(c,{pending:!0,data:j,method:g.method,action:y},y,j))},currentTarget:g}]})}}for(var lp=0;lp<qm.length;lp++){var cp=qm[lp],OC=cp.toLowerCase(),NC=cp[0].toUpperCase()+cp.slice(1);Ti(OC,"on"+NC)}Ti(L0,"onAnimationEnd"),Ti(V0,"onAnimationIteration"),Ti(j0,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(KR,"onTransitionRun"),Ti(XR,"onTransitionStart"),Ti(QR,"onTransitionCancel"),Ti(z0,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lc));function a1(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],g=h.event;h=h.listeners;t:{var y=void 0;if(a)for(var S=h.length-1;0<=S;S--){var C=h[S],j=C.instance,K=C.currentTarget;if(C=C.listener,j!==y&&g.isPropagationStopped())break t;y=C,g.currentTarget=K;try{y(g)}catch(tt){jh(tt)}g.currentTarget=null,y=j}else for(S=0;S<h.length;S++){if(C=h[S],j=C.instance,K=C.currentTarget,C=C.listener,j!==y&&g.isPropagationStopped())break t;y=C,g.currentTarget=K;try{y(g)}catch(tt){jh(tt)}g.currentTarget=null,y=j}}}}function Pt(s,a){var c=a[mo];c===void 0&&(c=a[mo]=new Set);var h=s+"__bubble";c.has(h)||(o1(a,s,2,!1),c.add(h))}function up(s,a,c){var h=0;a&&(h|=4),o1(c,s,h,a)}var xf="_reactListening"+Math.random().toString(36).slice(2);function hp(s){if(!s[xf]){s[xf]=!0,$l.forEach(function(c){c!=="selectionchange"&&(kC.has(c)||up(c,!1,s),up(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[xf]||(a[xf]=!0,up("selectionchange",!1,a))}}function o1(s,a,c,h){switch(L1(a)){case 2:var g=lM;break;case 8:g=cM;break;default:g=Ap}c=g.bind(null,a,c,s),g=void 0,!pa||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function fp(s,a,c,h,g){var y=h;if((a&1)===0&&(a&2)===0&&h!==null)t:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var C=h.stateNode.containerInfo;if(C===g)break;if(S===4)for(S=h.return;S!==null;){var j=S.tag;if((j===3||j===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;C!==null;){if(S=Pi(C),S===null)return;if(j=S.tag,j===5||j===6||j===26||j===27){h=y=S;continue t}C=C.parentNode}}h=h.return}sr(function(){var K=y,tt=Kn(c),st=[];t:{var Q=U0.get(s);if(Q!==void 0){var Z=Fi,pt=s;switch(s){case"keypress":if(_a(c)===0)break t;case"keydown":case"keyup":Z=Ph;break;case"focusin":pt="focus",Z=ba;break;case"focusout":pt="blur",Z=ba;break;case"beforeblur":case"afterblur":Z=ba;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Ah;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=v;break;case L0:case V0:case j0:Z=Ch;break;case z0:Z=D;break;case"scroll":case"scrollend":Z=ac;break;case"wheel":Z=J;break;case"copy":case"cut":case"paste":Z=Mh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=ms;break;case"toggle":case"beforetoggle":Z=Mt}var Tt=(a&4)!==0,oe=!Tt&&(s==="scroll"||s==="scrollend"),q=Tt?Q!==null?Q+"Capture":null:Q;Tt=[];for(var F=K,$;F!==null;){var it=F;if($=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||$===null||q===null||(it=_i(F,q),it!=null&&Tt.push(Vc(F,it,$))),oe)break;F=F.return}0<Tt.length&&(Q=new Z(Q,pt,null,c,tt),st.push({event:Q,listeners:Tt}))}}if((a&7)===0){t:{if(Q=s==="mouseover"||s==="pointerover",Z=s==="mouseout"||s==="pointerout",Q&&c!==ic&&(pt=c.relatedTarget||c.fromElement)&&(Pi(pt)||pt[Ni]))break t;if((Z||Q)&&(Q=tt.window===tt?tt:(Q=tt.ownerDocument)?Q.defaultView||Q.parentWindow:window,Z?(pt=c.relatedTarget||c.toElement,Z=K,pt=pt?Pi(pt):null,pt!==null&&(oe=o(pt),Tt=pt.tag,pt!==oe||Tt!==5&&Tt!==27&&Tt!==6)&&(pt=null)):(Z=null,pt=K),Z!==pt)){if(Tt=oc,it="onMouseLeave",q="onMouseEnter",F="mouse",(s==="pointerout"||s==="pointerover")&&(Tt=ms,it="onPointerLeave",q="onPointerEnter",F="pointer"),oe=Z==null?Q:Pn(Z),$=pt==null?Q:Pn(pt),Q=new Tt(it,F+"leave",Z,c,tt),Q.target=oe,Q.relatedTarget=$,it=null,Pi(tt)===K&&(Tt=new Tt(q,F+"enter",pt,c,tt),Tt.target=$,Tt.relatedTarget=oe,it=Tt),oe=it,Z&&pt)e:{for(Tt=PC,q=Z,F=pt,$=0,it=q;it;it=Tt(it))$++;it=0;for(var _t=F;_t;_t=Tt(_t))it++;for(;0<$-it;)q=Tt(q),$--;for(;0<it-$;)F=Tt(F),it--;for(;$--;){if(q===F||F!==null&&q===F.alternate){Tt=q;break e}q=Tt(q),F=Tt(F)}Tt=null}else Tt=null;Z!==null&&l1(st,Q,Z,Tt,!1),pt!==null&&oe!==null&&l1(st,oe,pt,Tt,!0)}}t:{if(Q=K?Pn(K):window,Z=Q.nodeName&&Q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Q.type==="file")var Yt=x0;else if(S0(Q))if(A0)Yt=YR;else{Yt=qR;var yt=HR}else Z=Q.nodeName,!Z||Z.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&_o(K.elementType)&&(Yt=x0):Yt=GR;if(Yt&&(Yt=Yt(s,K))){w0(st,Yt,c,tt);break t}yt&&yt(s,Q,K),s==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&tc(Q,"number",Q.value)}switch(yt=K?Pn(K):window,s){case"focusin":(S0(yt)||yt.contentEditable==="true")&&(Ao=yt,Bm=K,fc=null);break;case"focusout":fc=Bm=Ao=null;break;case"mousedown":Fm=!0;break;case"contextmenu":case"mouseup":case"dragend":Fm=!1,k0(st,c,tt);break;case"selectionchange":if($R)break;case"keydown":case"keyup":k0(st,c,tt)}var Dt;if($t)t:{switch(s){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else xo?Ea(s,c)&&(Vt="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Vt="onCompositionStart");Vt&&(Gi&&c.locale!=="ko"&&(xo||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&xo&&(Dt=rc()):(Bi=tt,sc="value"in Bi?Bi.value:Bi.textContent,xo=!0)),yt=Af(K,Vt),0<yt.length&&(Vt=new qi(Vt,s,null,c,tt),st.push({event:Vt,listeners:yt}),Dt?Vt.data=Dt:(Dt=wo(c),Dt!==null&&(Vt.data=Dt)))),(Dt=Qn?zR(s,c):UR(s,c))&&(Vt=Af(K,"onBeforeInput"),0<Vt.length&&(yt=new qi("onBeforeInput","beforeinput",null,c,tt),st.push({event:yt,listeners:Vt}),yt.data=Dt)),DC(st,s,K,c,tt)}a1(st,a)})}function Vc(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Af(s,a){for(var c=a+"Capture",h=[];s!==null;){var g=s,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=_i(s,c),g!=null&&h.unshift(Vc(s,g,y)),g=_i(s,a),g!=null&&h.push(Vc(s,g,y))),s.tag===3)return h;s=s.return}return[]}function PC(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function l1(s,a,c,h,g){for(var y=a._reactName,S=[];c!==null&&c!==h;){var C=c,j=C.alternate,K=C.stateNode;if(C=C.tag,j!==null&&j===h)break;C!==5&&C!==26&&C!==27||K===null||(j=K,g?(K=_i(c,y),K!=null&&S.unshift(Vc(c,K,j))):g||(K=_i(c,y),K!=null&&S.push(Vc(c,K,j)))),c=c.return}S.length!==0&&s.push({event:a,listeners:S})}var LC=/\r\n?/g,VC=/\u0000|\uFFFD/g;function c1(s){return(typeof s=="string"?s:""+s).replace(LC,`
`).replace(VC,"")}function u1(s,a){return a=c1(a),c1(s)===a}function ae(s,a,c,h,g,y){switch(c){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Sn(s,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Sn(s,""+h);break;case"className":Ln(s,"class",h);break;case"tabIndex":Ln(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(s,c,h);break;case"style":nc(s,h,y);break;case"data":if(a!=="object"){Ln(s,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||c!=="href")){s.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=vo(""+h),s.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(a!=="input"&&ae(s,a,"name",g.name,g,null),ae(s,a,"formEncType",g.formEncType,g,null),ae(s,a,"formMethod",g.formMethod,g,null),ae(s,a,"formTarget",g.formTarget,g,null)):(ae(s,a,"encType",g.encType,g,null),ae(s,a,"method",g.method,g,null),ae(s,a,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=vo(""+h),s.setAttribute(c,h);break;case"onClick":h!=null&&(s.onclick=yi);break;case"onScroll":h!=null&&Pt("scroll",s);break;case"onScrollEnd":h!=null&&Pt("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}c=vo(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""+h):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":h===!0?s.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,h):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(c,h):s.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(c):s.setAttribute(c,h);break;case"popover":Pt("beforetoggle",s),Pt("toggle",s),po(s,"popover",h);break;case"xlinkActuate":ke(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":ke(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":ke(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":ke(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":ke(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":ke(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":ke(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":ke(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":ke(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":po(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=xh.get(c)||c,po(s,c,h))}}function dp(s,a,c,h,g,y){switch(c){case"style":nc(s,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof h=="string"?Sn(s,h):(typeof h=="number"||typeof h=="bigint")&&Sn(s,""+h);break;case"onScroll":h!=null&&Pt("scroll",s);break;case"onScrollEnd":h!=null&&Pt("scrollend",s);break;case"onClick":h!=null&&(s.onclick=yi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kl.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),a=c.slice(2,g?c.length-7:void 0),y=s[Ke]||null,y=y!=null?y[c]:null,typeof y=="function"&&s.removeEventListener(a,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(a,h,g);break t}c in s?s[c]=h:h===!0?s.setAttribute(c,""):po(s,c,h)}}}function on(s,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",s),Pt("load",s);var h=!1,g=!1,y;for(y in c)if(c.hasOwnProperty(y)){var S=c[y];if(S!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ae(s,a,y,S,c,null)}}g&&ae(s,a,"srcSet",c.srcSet,c,null),h&&ae(s,a,"src",c.src,c,null);return;case"input":Pt("invalid",s);var C=y=S=g=null,j=null,K=null;for(h in c)if(c.hasOwnProperty(h)){var tt=c[h];if(tt!=null)switch(h){case"name":g=tt;break;case"type":S=tt;break;case"checked":j=tt;break;case"defaultChecked":K=tt;break;case"value":y=tt;break;case"defaultValue":C=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,a));break;default:ae(s,a,h,tt,c,null)}}Th(s,y,C,j,K,S,g,!1);return;case"select":Pt("invalid",s),h=S=y=null;for(g in c)if(c.hasOwnProperty(g)&&(C=c[g],C!=null))switch(g){case"value":y=C;break;case"defaultValue":S=C;break;case"multiple":h=C;default:ae(s,a,g,C,c,null)}a=y,c=S,s.multiple=!!h,a!=null?tr(s,!!h,a,!1):c!=null&&tr(s,!!h,c,!0);return;case"textarea":Pt("invalid",s),y=g=h=null;for(S in c)if(c.hasOwnProperty(S)&&(C=c[S],C!=null))switch(S){case"value":h=C;break;case"defaultValue":g=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:ae(s,a,S,C,c,null)}er(s,h,g,y);return;case"option":for(j in c)c.hasOwnProperty(j)&&(h=c[j],h!=null)&&(j==="selected"?s.selected=h&&typeof h!="function"&&typeof h!="symbol":ae(s,a,j,h,c,null));return;case"dialog":Pt("beforetoggle",s),Pt("toggle",s),Pt("cancel",s),Pt("close",s);break;case"iframe":case"object":Pt("load",s);break;case"video":case"audio":for(h=0;h<Lc.length;h++)Pt(Lc[h],s);break;case"image":Pt("error",s),Pt("load",s);break;case"details":Pt("toggle",s);break;case"embed":case"source":case"link":Pt("error",s),Pt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in c)if(c.hasOwnProperty(K)&&(h=c[K],h!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ae(s,a,K,h,c,null)}return;default:if(_o(a)){for(tt in c)c.hasOwnProperty(tt)&&(h=c[tt],h!==void 0&&dp(s,a,tt,h,c,void 0));return}}for(C in c)c.hasOwnProperty(C)&&(h=c[C],h!=null&&ae(s,a,C,h,c,null))}function jC(s,a,c,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,S=null,C=null,j=null,K=null,tt=null;for(Z in c){var st=c[Z];if(c.hasOwnProperty(Z)&&st!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":j=st;default:h.hasOwnProperty(Z)||ae(s,a,Z,null,h,st)}}for(var Q in h){var Z=h[Q];if(st=c[Q],h.hasOwnProperty(Q)&&(Z!=null||st!=null))switch(Q){case"type":y=Z;break;case"name":g=Z;break;case"checked":K=Z;break;case"defaultChecked":tt=Z;break;case"value":S=Z;break;case"defaultValue":C=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:Z!==st&&ae(s,a,Q,Z,h,st)}}yo(s,S,C,j,K,tt,y,g);return;case"select":Z=S=C=Q=null;for(y in c)if(j=c[y],c.hasOwnProperty(y)&&j!=null)switch(y){case"value":break;case"multiple":Z=j;default:h.hasOwnProperty(y)||ae(s,a,y,null,h,j)}for(g in h)if(y=h[g],j=c[g],h.hasOwnProperty(g)&&(y!=null||j!=null))switch(g){case"value":Q=y;break;case"defaultValue":C=y;break;case"multiple":S=y;default:y!==j&&ae(s,a,g,y,h,j)}a=C,c=S,h=Z,Q!=null?tr(s,!!c,Q,!1):!!h!=!!c&&(a!=null?tr(s,!!c,a,!0):tr(s,!!c,c?[]:"",!1));return;case"textarea":Z=Q=null;for(C in c)if(g=c[C],c.hasOwnProperty(C)&&g!=null&&!h.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ae(s,a,C,null,h,g)}for(S in h)if(g=h[S],y=c[S],h.hasOwnProperty(S)&&(g!=null||y!=null))switch(S){case"value":Q=g;break;case"defaultValue":Z=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==y&&ae(s,a,S,g,h,y)}Sh(s,Q,Z);return;case"option":for(var pt in c)Q=c[pt],c.hasOwnProperty(pt)&&Q!=null&&!h.hasOwnProperty(pt)&&(pt==="selected"?s.selected=!1:ae(s,a,pt,null,h,Q));for(j in h)Q=h[j],Z=c[j],h.hasOwnProperty(j)&&Q!==Z&&(Q!=null||Z!=null)&&(j==="selected"?s.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":ae(s,a,j,Q,h,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in c)Q=c[Tt],c.hasOwnProperty(Tt)&&Q!=null&&!h.hasOwnProperty(Tt)&&ae(s,a,Tt,null,h,Q);for(K in h)if(Q=h[K],Z=c[K],h.hasOwnProperty(K)&&Q!==Z&&(Q!=null||Z!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:ae(s,a,K,Q,h,Z)}return;default:if(_o(a)){for(var oe in c)Q=c[oe],c.hasOwnProperty(oe)&&Q!==void 0&&!h.hasOwnProperty(oe)&&dp(s,a,oe,void 0,h,Q);for(tt in h)Q=h[tt],Z=c[tt],!h.hasOwnProperty(tt)||Q===Z||Q===void 0&&Z===void 0||dp(s,a,tt,Q,h,Z);return}}for(var q in c)Q=c[q],c.hasOwnProperty(q)&&Q!=null&&!h.hasOwnProperty(q)&&ae(s,a,q,null,h,Q);for(st in h)Q=h[st],Z=c[st],!h.hasOwnProperty(st)||Q===Z||Q==null&&Z==null||ae(s,a,st,Q,h,Z)}function h1(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zC(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var g=c[h],y=g.transferSize,S=g.initiatorType,C=g.duration;if(y&&C&&h1(S)){for(S=0,C=g.responseEnd,h+=1;h<c.length;h++){var j=c[h],K=j.startTime;if(K>C)break;var tt=j.transferSize,st=j.initiatorType;tt&&h1(st)&&(j=j.responseEnd,S+=tt*(j<C?1:(C-K)/(j-K)))}if(--h,a+=8*(y+S)/(g.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var mp=null,gp=null;function Rf(s){return s.nodeType===9?s:s.ownerDocument}function f1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d1(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function pp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var yp=null;function UC(){var s=window.event;return s&&s.type==="popstate"?s===yp?!1:(yp=s,!0):(yp=null,!1)}var m1=typeof setTimeout=="function"?setTimeout:void 0,BC=typeof clearTimeout=="function"?clearTimeout:void 0,g1=typeof Promise=="function"?Promise:void 0,FC=typeof queueMicrotask=="function"?queueMicrotask:typeof g1<"u"?function(s){return g1.resolve(null).then(s).catch(HC)}:m1;function HC(s){setTimeout(function(){throw s})}function wr(s){return s==="head"}function p1(s,a){var c=a,h=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"||c==="/&"){if(h===0){s.removeChild(g),Zo(a);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")jc(s.ownerDocument.documentElement);else if(c==="head"){c=s.ownerDocument.head,jc(c);for(var y=c.firstChild;y;){var S=y.nextSibling,C=y.nodeName;y[ki]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&y.rel.toLowerCase()==="stylesheet"||c.removeChild(y),y=S}}else c==="body"&&jc(s.ownerDocument.body);c=g}while(c);Zo(a)}function y1(s,a){var c=s;s=0;do{var h=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(s===0)break;s--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||s++;c=h}while(c)}function _p(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":_p(c),go(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function qC(s,a,c,h){for(;s.nodeType===1;){var g=c;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[ki])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=si(s.nextSibling),s===null)break}return null}function GC(s,a,c){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=si(s.nextSibling),s===null))return null;return s}function _1(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=si(s.nextSibling),s===null))return null;return s}function vp(s){return s.data==="$?"||s.data==="$~"}function bp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function YC(s,a){var c=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||c.readyState!=="loading")a();else{var h=function(){a(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function si(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var Ep=null;function v1(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"||c==="/&"){if(a===0)return si(s.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}s=s.nextSibling}return null}function b1(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return s;a--}else c!=="/$"&&c!=="/&"||a++}s=s.previousSibling}return null}function E1(s,a,c){switch(a=Rf(c),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function jc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);go(s)}var ri=new Map,T1=new Set;function Cf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ms=ot.d;ot.d={f:WC,r:$C,D:KC,C:XC,L:QC,m:JC,X:tM,S:ZC,M:eM};function WC(){var s=Ms.f(),a=vf();return s||a}function $C(s){var a=$n(s);a!==null&&a.tag===5&&a.type==="form"?zv(a):Ms.r(s)}var Xo=typeof document>"u"?null:document;function S1(s,a,c){var h=Xo;if(h&&typeof a=="string"&&a){var g=Tn(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),T1.has(g)||(T1.add(g),s={rel:s,crossOrigin:c,href:a},h.querySelector(g)===null&&(a=h.createElement("link"),on(a,"link",s),Ne(a),h.head.appendChild(a)))}}function KC(s){Ms.D(s),S1("dns-prefetch",s,null)}function XC(s,a){Ms.C(s,a),S1("preconnect",s,a)}function QC(s,a,c){Ms.L(s,a,c);var h=Xo;if(h&&s&&a){var g='link[rel="preload"][as="'+Tn(a)+'"]';a==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+Tn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+Tn(c.imageSizes)+'"]')):g+='[href="'+Tn(s)+'"]';var y=g;switch(a){case"style":y=Qo(s);break;case"script":y=Jo(s)}ri.has(y)||(s=_({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:s,as:a},c),ri.set(y,s),h.querySelector(g)!==null||a==="style"&&h.querySelector(zc(y))||a==="script"&&h.querySelector(Uc(y))||(a=h.createElement("link"),on(a,"link",s),Ne(a),h.head.appendChild(a)))}}function JC(s,a){Ms.m(s,a);var c=Xo;if(c&&s){var h=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Tn(h)+'"][href="'+Tn(s)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Jo(s)}if(!ri.has(y)&&(s=_({rel:"modulepreload",href:s},a),ri.set(y,s),c.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Uc(y)))return}h=c.createElement("link"),on(h,"link",s),Ne(h),c.head.appendChild(h)}}}function ZC(s,a,c){Ms.S(s,a,c);var h=Xo;if(h&&s){var g=Li(h).hoistableStyles,y=Qo(s);a=a||"default";var S=g.get(y);if(!S){var C={loading:0,preload:null};if(S=h.querySelector(zc(y)))C.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":a},c),(c=ri.get(y))&&Tp(s,c);var j=S=h.createElement("link");Ne(j),on(j,"link",s),j._p=new Promise(function(K,tt){j.onload=K,j.onerror=tt}),j.addEventListener("load",function(){C.loading|=1}),j.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Mf(S,a,h)}S={type:"stylesheet",instance:S,count:1,state:C},g.set(y,S)}}}function tM(s,a){Ms.X(s,a);var c=Xo;if(c&&s){var h=Li(c).hoistableScripts,g=Jo(s),y=h.get(g);y||(y=c.querySelector(Uc(g)),y||(s=_({src:s,async:!0},a),(a=ri.get(g))&&Sp(s,a),y=c.createElement("script"),Ne(y),on(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function eM(s,a){Ms.M(s,a);var c=Xo;if(c&&s){var h=Li(c).hoistableScripts,g=Jo(s),y=h.get(g);y||(y=c.querySelector(Uc(g)),y||(s=_({src:s,async:!0,type:"module"},a),(a=ri.get(g))&&Sp(s,a),y=c.createElement("script"),Ne(y),on(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function w1(s,a,c,h){var g=(g=St.current)?Cf(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=Qo(c.href),c=Li(g).hoistableStyles,h=c.get(a),h||(h={type:"style",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Qo(c.href);var y=Li(g).hoistableStyles,S=y.get(s);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,S),(y=g.querySelector(zc(s)))&&!y._p&&(S.instance=y,S.state.loading=5),ri.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ri.set(s,c),y||nM(g,s,c,S.state))),a&&h===null)throw Error(i(528,""));return S}if(a&&h!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Jo(c),c=Li(g).hoistableScripts,h=c.get(a),h||(h={type:"script",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Qo(s){return'href="'+Tn(s)+'"'}function zc(s){return'link[rel="stylesheet"]['+s+"]"}function x1(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function nM(s,a,c,h){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=s.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),on(a,"link",c),Ne(a),s.head.appendChild(a))}function Jo(s){return'[src="'+Tn(s)+'"]'}function Uc(s){return"script[async]"+s}function A1(s,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var h=s.querySelector('style[data-href~="'+Tn(c.href)+'"]');if(h)return a.instance=h,Ne(h),h;var g=_({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),Ne(h),on(h,"style",g),Mf(h,c.precedence,s),a.instance=h;case"stylesheet":g=Qo(c.href);var y=s.querySelector(zc(g));if(y)return a.state.loading|=4,a.instance=y,Ne(y),y;h=x1(c),(g=ri.get(g))&&Tp(h,g),y=(s.ownerDocument||s).createElement("link"),Ne(y);var S=y;return S._p=new Promise(function(C,j){S.onload=C,S.onerror=j}),on(y,"link",h),a.state.loading|=4,Mf(y,c.precedence,s),a.instance=y;case"script":return y=Jo(c.src),(g=s.querySelector(Uc(y)))?(a.instance=g,Ne(g),g):(h=c,(g=ri.get(y))&&(h=_({},c),Sp(h,g)),s=s.ownerDocument||s,g=s.createElement("script"),Ne(g),on(g,"link",h),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Mf(h,c.precedence,s));return a.instance}function Mf(s,a,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,S=0;S<h.length;S++){var C=h[S];if(C.dataset.precedence===a)y=C;else if(y!==g)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(s,a.firstChild))}function Tp(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Sp(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var If=null;function R1(s,a,c){if(If===null){var h=new Map,g=If=new Map;g.set(c,h)}else g=If,h=g.get(c),h||(h=new Map,g.set(c,h));if(h.has(s))return h;for(h.set(s,null),c=c.getElementsByTagName(s),g=0;g<c.length;g++){var y=c[g];if(!(y[ki]||y[Oe]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(a)||"";S=s+S;var C=h.get(S);C?C.push(y):h.set(S,[y])}}return h}function C1(s,a,c){s=s.ownerDocument||s,s.head.insertBefore(c,a==="title"?s.querySelector("head > title"):null)}function iM(s,a,c){if(c===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(s=a.disabled,typeof a.precedence=="string"&&s==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function M1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function sM(s,a,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var g=Qo(h.href),y=a.querySelector(zc(g));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=Df.bind(s),a.then(s,s)),c.state.loading|=4,c.instance=y,Ne(y);return}y=a.ownerDocument||a,h=x1(h),(g=ri.get(g))&&Tp(h,g),y=y.createElement("link"),Ne(y);var S=y;S._p=new Promise(function(C,j){S.onload=C,S.onerror=j}),on(y,"link",h),c.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(s.count++,c=Df.bind(s),a.addEventListener("load",c),a.addEventListener("error",c))}}var wp=0;function rM(s,a){return s.stylesheets&&s.count===0&&Nf(s,s.stylesheets),0<s.count||0<s.imgCount?function(c){var h=setTimeout(function(){if(s.stylesheets&&Nf(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+a);0<s.imgBytes&&wp===0&&(wp=62500*zC());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Nf(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>wp?50:800)+a);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function Df(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Of=null;function Nf(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Of=new Map,a.forEach(aM,s),Of=null,Df.call(s))}function aM(s,a){if(!(a.state.loading&4)){var c=Of.get(s);if(c)var h=c.get(null);else{c=new Map,Of.set(s,c);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var S=g[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(c.set(S.dataset.precedence,S),h=S)}h&&c.set(null,h)}g=a.instance,S=g.getAttribute("data-precedence"),y=c.get(S)||h,y===h&&c.set(null,g),c.set(S,g),this.count++,h=Df.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var Bc={$$typeof:H,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function oM(s,a,c,h,g,y,S,C,j){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.hiddenUpdates=Oi(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function I1(s,a,c,h,g,y,S,C,j,K,tt,st){return s=new oM(s,a,c,S,j,K,tt,st,C),a=1,y===!0&&(a|=24),y=jn(3,null,null,a),s.current=y,y.stateNode=s,a=ig(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:h,isDehydrated:c,cache:a},og(y),s}function D1(s){return s?(s=Mo,s):Mo}function O1(s,a,c,h,g,y){g=D1(g),h.context===null?h.context=g:h.pendingContext=g,h=dr(a),h.payload={element:c},y=y===void 0?null:y,y!==null&&(h.callback=y),c=mr(s,h,a),c!==null&&(Cn(c,s,a),vc(c,s,a))}function N1(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function xp(s,a){N1(s,a),(s=s.alternate)&&N1(s,a)}function k1(s){if(s.tag===13||s.tag===31){var a=wa(s,67108864);a!==null&&Cn(a,s,67108864),xp(s,67108864)}}function P1(s){if(s.tag===13||s.tag===31){var a=Hn();a=fa(a);var c=wa(s,a);c!==null&&Cn(c,s,a),xp(s,a)}}var kf=!0;function lM(s,a,c,h){var g=X.T;X.T=null;var y=ot.p;try{ot.p=2,Ap(s,a,c,h)}finally{ot.p=y,X.T=g}}function cM(s,a,c,h){var g=X.T;X.T=null;var y=ot.p;try{ot.p=8,Ap(s,a,c,h)}finally{ot.p=y,X.T=g}}function Ap(s,a,c,h){if(kf){var g=Rp(h);if(g===null)fp(s,a,h,Pf,c),V1(s,h);else if(hM(g,s,a,c,h))h.stopPropagation();else if(V1(s,h),a&4&&-1<uM.indexOf(s)){for(;g!==null;){var y=$n(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Ii(y.pendingLanes);if(S!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;S;){var j=1<<31-Se(S);C.entanglements[1]|=j,S&=~j}Ki(y),(Kt&6)===0&&(yf=vn()+500,Pc(0))}}break;case 31:case 13:C=wa(y,2),C!==null&&Cn(C,y,2),vf(),xp(y,2)}if(y=Rp(h),y===null&&fp(s,a,h,Pf,c),y===g)break;g=y}g!==null&&h.stopPropagation()}else fp(s,a,h,null,c)}}function Rp(s){return s=Kn(s),Cp(s)}var Pf=null;function Cp(s){if(Pf=null,s=Pi(s),s!==null){var a=o(s);if(a===null)s=null;else{var c=a.tag;if(c===13){if(s=l(a),s!==null)return s;s=null}else if(c===31){if(s=u(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Pf=s,null}function L1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(la()){case ql:return 2;case Gl:return 8;case Js:case km:return 32;case fh:return 268435456;default:return 32}default:return 32}}var Mp=!1,xr=null,Ar=null,Rr=null,Fc=new Map,Hc=new Map,Cr=[],uM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V1(s,a){switch(s){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":Fc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hc.delete(a.pointerId)}}function qc(s,a,c,h,g,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},a!==null&&(a=$n(a),a!==null&&k1(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function hM(s,a,c,h,g){switch(a){case"focusin":return xr=qc(xr,s,a,c,h,g),!0;case"dragenter":return Ar=qc(Ar,s,a,c,h,g),!0;case"mouseover":return Rr=qc(Rr,s,a,c,h,g),!0;case"pointerover":var y=g.pointerId;return Fc.set(y,qc(Fc.get(y)||null,s,a,c,h,g)),!0;case"gotpointercapture":return y=g.pointerId,Hc.set(y,qc(Hc.get(y)||null,s,a,c,h,g)),!0}return!1}function j1(s){var a=Pi(s.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){s.blockedOn=a,gi(s.priority,function(){P1(c)});return}}else if(a===31){if(a=u(c),a!==null){s.blockedOn=a,gi(s.priority,function(){P1(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Lf(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Rp(s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);ic=h,c.target.dispatchEvent(h),ic=null}else return a=$n(c),a!==null&&k1(a),s.blockedOn=c,!1;a.shift()}return!0}function z1(s,a,c){Lf(s)&&c.delete(a)}function fM(){Mp=!1,xr!==null&&Lf(xr)&&(xr=null),Ar!==null&&Lf(Ar)&&(Ar=null),Rr!==null&&Lf(Rr)&&(Rr=null),Fc.forEach(z1),Hc.forEach(z1)}function Vf(s,a){s.blockedOn===a&&(s.blockedOn=null,Mp||(Mp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,fM)))}var jf=null;function U1(s){jf!==s&&(jf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){jf===s&&(jf=null);for(var a=0;a<s.length;a+=3){var c=s[a],h=s[a+1],g=s[a+2];if(typeof h!="function"){if(Cp(h||c)===null)continue;break}var y=$n(c);y!==null&&(s.splice(a,3),a-=3,Rg(y,{pending:!0,data:g,method:c.method,action:h},h,g))}}))}function Zo(s){function a(j){return Vf(j,s)}xr!==null&&Vf(xr,s),Ar!==null&&Vf(Ar,s),Rr!==null&&Vf(Rr,s),Fc.forEach(a),Hc.forEach(a);for(var c=0;c<Cr.length;c++){var h=Cr[c];h.blockedOn===s&&(h.blockedOn=null)}for(;0<Cr.length&&(c=Cr[0],c.blockedOn===null);)j1(c),c.blockedOn===null&&Cr.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var g=c[h],y=c[h+1],S=g[Ke]||null;if(typeof y=="function")S||U1(c);else if(S){var C=null;if(y&&y.hasAttribute("formAction")){if(g=y,S=y[Ke]||null)C=S.formAction;else if(Cp(g)!==null)continue}else C=S.action;typeof C=="function"?c[h+1]=C:(c.splice(h,3),h-=3),U1(c)}}}function B1(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(S){return g=S})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function Ip(s){this._internalRoot=s}zf.prototype.render=Ip.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,h=Hn();O1(c,h,s,a,null,null)},zf.prototype.unmount=Ip.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;O1(s.current,2,null,s,null,null),vf(),a[Ni]=null}};function zf(s){this._internalRoot=s}zf.prototype.unstable_scheduleHydration=function(s){if(s){var a=_h();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Cr.length&&a!==0&&a<Cr[c].priority;c++);Cr.splice(c,0,s),c===0&&j1(s)}};var F1=t.version;if(F1!=="19.2.3")throw Error(i(527,F1,"19.2.3"));ot.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(a),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var dM={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uf.isDisabled&&Uf.supportsFiber)try{di=Uf.inject(dM),en=Uf}catch{}}return Yc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var c=!1,h="",g=Kv,y=Xv,S=Qv;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError)),a=I1(s,1,!1,null,null,c,h,null,g,y,S,B1),s[Ni]=a.current,hp(s),new Ip(a)},Yc.hydrateRoot=function(s,a,c){if(!r(s))throw Error(i(299));var h=!1,g="",y=Kv,S=Xv,C=Qv,j=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(C=c.onRecoverableError),c.formState!==void 0&&(j=c.formState)),a=I1(s,1,!0,a,c??null,h,g,j,y,S,C,B1),a.context=D1(null),c=a.current,h=Hn(),h=fa(h),g=dr(h),g.callback=null,mr(c,g,h),c=h,a.current.lanes=c,ua(a,c),Ki(a),s[Ni]=a.current,hp(s),new zf(a)},Yc.version="19.2.3",Yc}var J1;function SM(){if(J1)return Np.exports;J1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Np.exports=TM(),Np.exports}var wM=SM();const xM=gS(wM);var Z1="popstate";function AM(n={}){function t(i,r){let{pathname:o,search:l,hash:u}=i.location;return py("",{pathname:o,search:l,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:Tu(r)}return CM(t,e,null,n)}function _e(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function hi(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function RM(){return Math.random().toString(36).substring(2,10)}function tE(n,t){return{usr:n.state,key:n.key,idx:t}}function py(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Rl(t):t,state:e,key:t&&t.key||i||RM()}}function Tu({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Rl(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function CM(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,u="POP",f=null,d=p();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function p(){return(l.state||{idx:null}).idx}function _(){u="POP";let R=p(),O=R==null?null:R-d;d=R,f&&f({action:u,location:w.location,delta:O})}function b(R,O){u="PUSH";let V=py(w.location,R,O);d=p()+1;let H=tE(V,d),G=w.createHref(V);try{l.pushState(H,"",G)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;r.location.assign(G)}o&&f&&f({action:u,location:w.location,delta:1})}function T(R,O){u="REPLACE";let V=py(w.location,R,O);d=p();let H=tE(V,d),G=w.createHref(V);l.replaceState(H,"",G),o&&f&&f({action:u,location:w.location,delta:0})}function A(R){return MM(R)}let w={get action(){return u},get location(){return n(r,l)},listen(R){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(Z1,_),f=R,()=>{r.removeEventListener(Z1,_),f=null}},createHref(R){return t(r,R)},createURL:A,encodeLocation(R){let O=A(R);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:b,replace:T,go(R){return l.go(R)}};return w}function MM(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),_e(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Tu(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function pS(n,t,e="/"){return IM(n,t,e,!1)}function IM(n,t,e,i){let r=typeof t=="string"?Rl(t):t,o=Fs(r.pathname||"/",e);if(o==null)return null;let l=yS(n);DM(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let d=FM(o);u=UM(l[f],d,i)}return u}function yS(n,t=[],e=[],i="",r=!1){let o=(l,u,f=r,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&f)return;_e(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let _=zs([i,p.relativePath]),b=e.concat(p);l.children&&l.children.length>0&&(_e(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),yS(l.children,t,b,_,f)),!(l.path==null&&!l.index)&&t.push({path:_,score:jM(_,l.index),routesMeta:b})};return n.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let f of _S(l.path))o(l,u,!0,f)}),t}function _S(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=_S(i.join("/")),u=[];return u.push(...l.map(f=>f===""?o:[o,f].join("/"))),r&&u.push(...l),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function DM(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:zM(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var OM=/^:[\w-]+$/,NM=3,kM=2,PM=1,LM=10,VM=-2,eE=n=>n==="*";function jM(n,t){let e=n.split("/"),i=e.length;return e.some(eE)&&(i+=VM),t&&(i+=kM),e.filter(r=>!eE(r)).reduce((r,o)=>r+(OM.test(o)?NM:o===""?PM:LM),i)}function zM(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function UM(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",l=[];for(let u=0;u<i.length;++u){let f=i[u],d=u===i.length-1,p=o==="/"?t:t.slice(o.length)||"/",_=Sd({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},p),b=f.route;if(!_&&d&&e&&!i[i.length-1].route.index&&(_=Sd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!_)return null;Object.assign(r,_.params),l.push({params:r,pathname:zs([o,_.pathname]),pathnameBase:YM(zs([o,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(o=zs([o,_.pathnameBase]))}return l}function Sd(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=BM(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((d,{paramName:p,isOptional:_},b)=>{if(p==="*"){let A=u[b]||"";l=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const T=u[b];return _&&!T?d[p]=void 0:d[p]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:n}}function BM(n,t=!1,e=!0){hi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(i.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function FM(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Fs(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}var vS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HM=n=>vS.test(n);function qM(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?Rl(n):n,o;if(e)if(HM(e))o=e;else{if(e.includes("//")){let l=e;e=e.replace(/\/\/+/g,"/"),hi(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${e}`)}e.startsWith("/")?o=nE(e.substring(1),"/"):o=nE(e,t)}else o=t;return{pathname:o,search:WM(i),hash:$M(r)}}function nE(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function Vp(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GM(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function o_(n){let t=GM(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function l_(n,t,e,i=!1){let r;typeof n=="string"?r=Rl(n):(r={...n},_e(!r.pathname||!r.pathname.includes("?"),Vp("?","pathname","search",r)),_e(!r.pathname||!r.pathname.includes("#"),Vp("#","pathname","hash",r)),_e(!r.search||!r.search.includes("#"),Vp("#","search","hash",r)));let o=n===""||r.pathname==="",l=o?"/":r.pathname,u;if(l==null)u=e;else{let _=t.length-1;if(!i&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),_-=1;r.pathname=b.join("/")}u=_>=0?t[_]:"/"}let f=qM(r,u),d=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(d||p)&&(f.pathname+="/"),f}var zs=n=>n.join("/").replace(/\/\/+/g,"/"),YM=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),WM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,$M=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,KM=class{constructor(n,t,e,i=!1){this.status=n,this.statusText=t||"",this.internal=i,e instanceof Error?(this.data=e.toString(),this.error=e):this.data=e}};function XM(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function QM(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var bS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ES(n,t){let e=n;if(typeof e!="string"||!vS.test(e))return{absoluteURL:void 0,isExternal:!1,to:e};let i=e,r=!1;if(bS)try{let o=new URL(window.location.href),l=e.startsWith("//")?new URL(o.protocol+e):new URL(e),u=Fs(l.pathname,t);l.origin===o.origin&&u!=null?e=u+l.search+l.hash:r=!0}catch{hi(!1,`<Link to="${e}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var TS=["POST","PUT","PATCH","DELETE"];new Set(TS);var JM=["GET",...TS];new Set(JM);var Cl=B.createContext(null);Cl.displayName="DataRouter";var em=B.createContext(null);em.displayName="DataRouterState";var ZM=B.createContext(!1),SS=B.createContext({isTransitioning:!1});SS.displayName="ViewTransition";var tI=B.createContext(new Map);tI.displayName="Fetchers";var eI=B.createContext(null);eI.displayName="Await";var Yn=B.createContext(null);Yn.displayName="Navigation";var Yu=B.createContext(null);Yu.displayName="Location";var us=B.createContext({outlet:null,matches:[],isDataRoute:!1});us.displayName="Route";var c_=B.createContext(null);c_.displayName="RouteError";var wS="REACT_ROUTER_ERROR",nI="REDIRECT",iI="ROUTE_ERROR_RESPONSE";function sI(n){if(n.startsWith(`${wS}:${nI}:{`))try{let t=JSON.parse(n.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function rI(n){if(n.startsWith(`${wS}:${iI}:{`))try{let t=JSON.parse(n.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new KM(t.status,t.statusText,t.data)}catch{}}function aI(n,{relative:t}={}){_e(Ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=B.useContext(Yn),{hash:r,pathname:o,search:l}=Wu(n,{relative:t}),u=o;return e!=="/"&&(u=o==="/"?e:zs([e,o])),i.createHref({pathname:u,search:l,hash:r})}function Ml(){return B.useContext(Yu)!=null}function ea(){return _e(Ml(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Yu).location}var xS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AS(n){B.useContext(Yn).static||B.useLayoutEffect(n)}function Il(){let{isDataRoute:n}=B.useContext(us);return n?vI():oI()}function oI(){_e(Ml(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(Cl),{basename:t,navigator:e}=B.useContext(Yn),{matches:i}=B.useContext(us),{pathname:r}=ea(),o=JSON.stringify(o_(i)),l=B.useRef(!1);return AS(()=>{l.current=!0}),B.useCallback((f,d={})=>{if(hi(l.current,xS),!l.current)return;if(typeof f=="number"){e.go(f);return}let p=l_(f,JSON.parse(o),r,d.relative==="path");n==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:zs([t,p.pathname])),(d.replace?e.replace:e.push)(p,d.state,d)},[t,e,o,r,n])}B.createContext(null);function Wu(n,{relative:t}={}){let{matches:e}=B.useContext(us),{pathname:i}=ea(),r=JSON.stringify(o_(e));return B.useMemo(()=>l_(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function lI(n,t){return RS(n,t)}function RS(n,t,e,i,r){_e(Ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=B.useContext(Yn),{matches:l}=B.useContext(us),u=l[l.length-1],f=u?u.params:{},d=u?u.pathname:"/",p=u?u.pathnameBase:"/",_=u&&u.route;{let V=_&&_.path||"";MS(d,!_||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let b=ea(),T;if(t){let V=typeof t=="string"?Rl(t):t;_e(p==="/"||V.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${V.pathname}" was given in the \`location\` prop.`),T=V}else T=b;let A=T.pathname||"/",w=A;if(p!=="/"){let V=p.replace(/^\//,"").split("/");w="/"+A.replace(/^\//,"").split("/").slice(V.length).join("/")}let R=pS(n,{pathname:w});hi(_||R!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),hi(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=dI(R&&R.map(V=>Object.assign({},V,{params:Object.assign({},f,V.params),pathname:zs([p,o.encodeLocation?o.encodeLocation(V.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?p:zs([p,o.encodeLocation?o.encodeLocation(V.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathnameBase])})),l,e,i,r);return t&&O?B.createElement(Yu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},O):O}function cI(){let n=_I(),t=XM(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:o},"ErrorBoundary")," or"," ",B.createElement("code",{style:o},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),e?B.createElement("pre",{style:r},e):null,l)}var uI=B.createElement(cI,null),CS=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const e=rI(n.digest);e&&(n=e)}let t=n!==void 0?B.createElement(us.Provider,{value:this.props.routeContext},B.createElement(c_.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?B.createElement(hI,{error:n},t):t}};CS.contextType=ZM;var jp=new WeakMap;function hI({children:n,error:t}){let{basename:e}=B.useContext(Yn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=sI(t.digest);if(i){let r=jp.get(t);if(r)throw r;let o=ES(i.location,e);if(bS&&!jp.get(t))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw jp.set(t,l),l}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function fI({routeContext:n,match:t,children:e}){let i=B.useContext(Cl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),B.createElement(us.Provider,{value:n},e)}function dI(n,t=[],e=null,i=null,r=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let o=n,l=e?.errors;if(l!=null){let p=o.findIndex(_=>_.route.id&&l?.[_.route.id]!==void 0);_e(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,f=-1;if(e)for(let p=0;p<o.length;p++){let _=o[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(f=p),_.route.id){let{loaderData:b,errors:T}=e,A=_.route.loader&&!b.hasOwnProperty(_.route.id)&&(!T||T[_.route.id]===void 0);if(_.route.lazy||A){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let d=e&&i?(p,_)=>{i(p,{location:e.location,params:e.matches?.[0]?.params??{},unstable_pattern:QM(e.matches),errorInfo:_})}:void 0;return o.reduceRight((p,_,b)=>{let T,A=!1,w=null,R=null;e&&(T=l&&_.route.id?l[_.route.id]:void 0,w=_.route.errorElement||uI,u&&(f<0&&b===0?(MS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,R=null):f===b&&(A=!0,R=_.route.hydrateFallbackElement||null)));let O=t.concat(o.slice(0,b+1)),V=()=>{let H;return T?H=w:A?H=R:_.route.Component?H=B.createElement(_.route.Component,null):_.route.element?H=_.route.element:H=p,B.createElement(fI,{match:_,routeContext:{outlet:p,matches:O,isDataRoute:e!=null},children:H})};return e&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?B.createElement(CS,{location:e.location,revalidation:e.revalidation,component:w,error:T,children:V(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:d}):V()},null)}function u_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mI(n){let t=B.useContext(Cl);return _e(t,u_(n)),t}function gI(n){let t=B.useContext(em);return _e(t,u_(n)),t}function pI(n){let t=B.useContext(us);return _e(t,u_(n)),t}function h_(n){let t=pI(n),e=t.matches[t.matches.length-1];return _e(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function yI(){return h_("useRouteId")}function _I(){let n=B.useContext(c_),t=gI("useRouteError"),e=h_("useRouteError");return n!==void 0?n:t.errors?.[e]}function vI(){let{router:n}=mI("useNavigate"),t=h_("useNavigate"),e=B.useRef(!1);return AS(()=>{e.current=!0}),B.useCallback(async(r,o={})=>{hi(e.current,xS),e.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var iE={};function MS(n,t,e){!t&&!iE[n]&&(iE[n]=!0,hi(!1,e))}B.memo(bI);function bI({routes:n,future:t,state:e,onError:i}){return RS(n,void 0,e,i,t)}function IS({to:n,replace:t,state:e,relative:i}){_e(Ml(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=B.useContext(Yn);hi(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=B.useContext(us),{pathname:l}=ea(),u=Il(),f=l_(n,o_(o),l,i==="path"),d=JSON.stringify(f);return B.useEffect(()=>{u(JSON.parse(d),{replace:t,state:e,relative:i})},[u,d,i,t,e]),null}function Or(n){_e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function EI({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1,unstable_useTransitions:l}){_e(!Ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=B.useMemo(()=>({basename:u,navigator:r,static:o,unstable_useTransitions:l,future:{}}),[u,r,o,l]);typeof e=="string"&&(e=Rl(e));let{pathname:d="/",search:p="",hash:_="",state:b=null,key:T="default"}=e,A=B.useMemo(()=>{let w=Fs(d,u);return w==null?null:{location:{pathname:w,search:p,hash:_,state:b,key:T},navigationType:i}},[u,d,p,_,b,T,i]);return hi(A!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:B.createElement(Yn.Provider,{value:f},B.createElement(Yu.Provider,{children:t,value:A}))}function TI({children:n,location:t}){return lI(yy(n),t)}function yy(n,t=[]){let e=[];return B.Children.forEach(n,(i,r)=>{if(!B.isValidElement(i))return;let o=[...t,r];if(i.type===B.Fragment){e.push.apply(e,yy(i.props.children,o));return}_e(i.type===Or,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_e(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=yy(i.props.children,o)),e.push(l)}),e}var ld="get",cd="application/x-www-form-urlencoded";function nm(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function SI(n){return nm(n)&&n.tagName.toLowerCase()==="button"}function wI(n){return nm(n)&&n.tagName.toLowerCase()==="form"}function xI(n){return nm(n)&&n.tagName.toLowerCase()==="input"}function AI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function RI(n,t){return n.button===0&&(!t||t==="_self")&&!AI(n)}var Bf=null;function CI(){if(Bf===null)try{new FormData(document.createElement("form"),0),Bf=!1}catch{Bf=!0}return Bf}var MI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zp(n){return n!=null&&!MI.has(n)?(hi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cd}"`),null):n}function II(n,t){let e,i,r,o,l;if(wI(n)){let u=n.getAttribute("action");i=u?Fs(u,t):null,e=n.getAttribute("method")||ld,r=zp(n.getAttribute("enctype"))||cd,o=new FormData(n)}else if(SI(n)||xI(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||u.getAttribute("action");if(i=f?Fs(f,t):null,e=n.getAttribute("formmethod")||u.getAttribute("method")||ld,r=zp(n.getAttribute("formenctype"))||zp(u.getAttribute("enctype"))||cd,o=new FormData(u,n),!CI()){let{name:d,type:p,value:_}=n;if(p==="image"){let b=d?`${d}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else d&&o.append(d,_)}}else{if(nm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=ld,i=null,r=cd,l=n}return o&&r==="text/plain"&&(l=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function f_(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function DI(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&Fs(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function OI(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function kI(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let l=await OI(o,e);return l.links?l.links():[]}return[]}));return jI(i.flat(1).filter(NI).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function sE(n,t,e,i,r,o){let l=(f,d)=>e[d]?f.route.id!==e[d].route.id:!0,u=(f,d)=>e[d].pathname!==f.pathname||e[d].route.path?.endsWith("*")&&e[d].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,d)=>l(f,d)||u(f,d)):o==="data"?t.filter((f,d)=>{let p=i.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,d)||u(f,d))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function PI(n,t,{includeHydrateFallback:e}={}){return LI(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function LI(n){return[...new Set(n)]}function VI(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function jI(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(VI(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}function DS(){let n=B.useContext(Cl);return f_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function zI(){let n=B.useContext(em);return f_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var d_=B.createContext(void 0);d_.displayName="FrameworkContext";function OS(){let n=B.useContext(d_);return f_(n,"You must render this element inside a <HydratedRouter> element"),n}function UI(n,t){let e=B.useContext(d_),[i,r]=B.useState(!1),[o,l]=B.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:d,onMouseLeave:p,onTouchStart:_}=t,b=B.useRef(null);B.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let w=O=>{O.forEach(V=>{l(V.isIntersecting)})},R=new IntersectionObserver(w,{threshold:.5});return b.current&&R.observe(b.current),()=>{R.disconnect()}}},[n]),B.useEffect(()=>{if(i){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[i]);let T=()=>{r(!0)},A=()=>{r(!1),l(!1)};return e?n!=="intent"?[o,b,{}]:[o,b,{onFocus:Wc(u,T),onBlur:Wc(f,A),onMouseEnter:Wc(d,T),onMouseLeave:Wc(p,A),onTouchStart:Wc(_,T)}]:[!1,b,{}]}function Wc(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function BI({page:n,...t}){let{router:e}=DS(),i=B.useMemo(()=>pS(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?B.createElement(HI,{page:n,matches:i,...t}):null}function FI(n){let{manifest:t,routeModules:e}=OS(),[i,r]=B.useState([]);return B.useEffect(()=>{let o=!1;return kI(n,t,e).then(l=>{o||r(l)}),()=>{o=!0}},[n,t,e]),i}function HI({page:n,matches:t,...e}){let i=ea(),{manifest:r,routeModules:o}=OS(),{basename:l}=DS(),{loaderData:u,matches:f}=zI(),d=B.useMemo(()=>sE(n,t,f,r,i,"data"),[n,t,f,r,i]),p=B.useMemo(()=>sE(n,t,f,r,i,"assets"),[n,t,f,r,i]),_=B.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let A=new Set,w=!1;if(t.forEach(O=>{let V=r.routes[O.route.id];!V||!V.hasLoader||(!d.some(H=>H.route.id===O.route.id)&&O.route.id in u&&o[O.route.id]?.shouldRevalidate||V.hasClientLoader?w=!0:A.add(O.route.id))}),A.size===0)return[];let R=DI(n,l,"data");return w&&A.size>0&&R.searchParams.set("_routes",t.filter(O=>A.has(O.route.id)).map(O=>O.route.id).join(",")),[R.pathname+R.search]},[l,u,i,r,d,t,n,o]),b=B.useMemo(()=>PI(p,r),[p,r]),T=FI(p);return B.createElement(B.Fragment,null,_.map(A=>B.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...e})),b.map(A=>B.createElement("link",{key:A,rel:"modulepreload",href:A,...e})),T.map(({key:A,link:w})=>B.createElement("link",{key:A,nonce:e.nonce,...w})))}function qI(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var GI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GI&&(window.__reactRouterVersion="7.11.0")}catch{}function YI({basename:n,children:t,unstable_useTransitions:e,window:i}){let r=B.useRef();r.current==null&&(r.current=AM({window:i,v5Compat:!0}));let o=r.current,[l,u]=B.useState({action:o.action,location:o.location}),f=B.useCallback(d=>{e===!1?u(d):B.startTransition(()=>u(d))},[e]);return B.useLayoutEffect(()=>o.listen(f),[o,f]),B.createElement(EI,{basename:n,children:t,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:e})}var NS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ts=B.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:l,state:u,target:f,to:d,preventScrollReset:p,viewTransition:_,unstable_defaultShouldRevalidate:b,...T},A){let{basename:w,unstable_useTransitions:R}=B.useContext(Yn),O=typeof d=="string"&&NS.test(d),V=ES(d,w);d=V.to;let H=aI(d,{relative:r}),[G,Y,nt]=UI(i,T),N=XI(d,{replace:l,state:u,target:f,preventScrollReset:p,relative:r,viewTransition:_,unstable_defaultShouldRevalidate:b,unstable_useTransitions:R});function M(P){t&&t(P),P.defaultPrevented||N(P)}let I=B.createElement("a",{...T,...nt,href:V.absoluteURL||H,onClick:V.isExternal||o?t:M,ref:qI(A,Y),target:f,"data-discover":!O&&e==="render"?"true":void 0});return G&&!O?B.createElement(B.Fragment,null,I,B.createElement(BI,{page:H})):I});ts.displayName="Link";var WI=B.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:l,viewTransition:u,children:f,...d},p){let _=Wu(l,{relative:d.relative}),b=ea(),T=B.useContext(em),{navigator:A,basename:w}=B.useContext(Yn),R=T!=null&&eD(_)&&u===!0,O=A.encodeLocation?A.encodeLocation(_).pathname:_.pathname,V=b.pathname,H=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;e||(V=V.toLowerCase(),H=H?H.toLowerCase():null,O=O.toLowerCase()),H&&w&&(H=Fs(H,w)||H);const G=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let Y=V===O||!r&&V.startsWith(O)&&V.charAt(G)==="/",nt=H!=null&&(H===O||!r&&H.startsWith(O)&&H.charAt(O.length)==="/"),N={isActive:Y,isPending:nt,isTransitioning:R},M=Y?t:void 0,I;typeof i=="function"?I=i(N):I=[i,Y?"active":null,nt?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(N):o;return B.createElement(ts,{...d,"aria-current":M,className:I,ref:p,style:P,to:l,viewTransition:u},typeof f=="function"?f(N):f)});WI.displayName="NavLink";var $I=B.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:l=ld,action:u,onSubmit:f,relative:d,preventScrollReset:p,viewTransition:_,unstable_defaultShouldRevalidate:b,...T},A)=>{let{unstable_useTransitions:w}=B.useContext(Yn),R=ZI(),O=tD(u,{relative:d}),V=l.toLowerCase()==="get"?"get":"post",H=typeof u=="string"&&NS.test(u),G=Y=>{if(f&&f(Y),Y.defaultPrevented)return;Y.preventDefault();let nt=Y.nativeEvent.submitter,N=nt?.getAttribute("formmethod")||l,M=()=>R(nt||Y.currentTarget,{fetcherKey:t,method:N,navigate:e,replace:r,state:o,relative:d,preventScrollReset:p,viewTransition:_,unstable_defaultShouldRevalidate:b});w&&e!==!1?B.startTransition(()=>M()):M()};return B.createElement("form",{ref:A,method:V,action:O,onSubmit:i?f:G,...T,"data-discover":!H&&n==="render"?"true":void 0})});$I.displayName="Form";function KI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kS(n){let t=B.useContext(Cl);return _e(t,KI(n)),t}function XI(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:f}={}){let d=Il(),p=ea(),_=Wu(n,{relative:o});return B.useCallback(b=>{if(RI(b,t)){b.preventDefault();let T=e!==void 0?e:Tu(p)===Tu(_),A=()=>d(n,{replace:T,state:i,preventScrollReset:r,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u});f?B.startTransition(()=>A()):A()}},[p,d,_,e,i,t,n,r,o,l,u,f])}var QI=0,JI=()=>`__${String(++QI)}__`;function ZI(){let{router:n}=kS("useSubmit"),{basename:t}=B.useContext(Yn),e=yI(),i=n.fetch,r=n.navigate;return B.useCallback(async(o,l={})=>{let{action:u,method:f,encType:d,formData:p,body:_}=II(o,t);if(l.navigate===!1){let b=l.fetcherKey||JI();await i(b,e,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:_,formMethod:l.method||f,formEncType:l.encType||d,flushSync:l.flushSync})}else await r(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:_,formMethod:l.method||f,formEncType:l.encType||d,replace:l.replace,state:l.state,fromRouteId:e,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,r,t,e])}function tD(n,{relative:t}={}){let{basename:e}=B.useContext(Yn),i=B.useContext(us);_e(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Wu(n||".",{relative:t})},l=ea();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(p=>p==="")){u.delete("index"),f.filter(_=>_).forEach(_=>u.append("index",_));let p=u.toString();o.search=p?`?${p}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:zs([e,o.pathname])),Tu(o)}function eD(n,{relative:t}={}){let e=B.useContext(SS);_e(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=kS("useViewTransitionState"),r=Wu(n,{relative:t});if(!e.isTransitioning)return!1;let o=Fs(e.currentLocation.pathname,i)||e.currentLocation.pathname,l=Fs(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Sd(r.pathname,l)!=null||Sd(r.pathname,o)!=null}const nD=()=>{};var rE={};const PS=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},iD=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],l=n[e++],u=n[e++],f=((r&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],l=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return t.join("")},LS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],l=r+1<n.length,u=l?n[r+1]:0,f=r+2<n.length,d=f?n[r+2]:0,p=o>>2,_=(o&3)<<4|u>>4;let b=(u&15)<<2|d>>6,T=d&63;f||(T=64,l||(b=64)),i.push(e[p],e[_],e[b],e[T])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(PS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):iD(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],u=r<n.length?e[n.charAt(r)]:0;++r;const d=r<n.length?e[n.charAt(r)]:64;++r;const _=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||u==null||d==null||_==null)throw new sD;const b=o<<2|u>>4;if(i.push(b),d!==64){const T=u<<4&240|d>>2;if(i.push(T),_!==64){const A=d<<6&192|_;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class sD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rD=function(n){const t=PS(n);return LS.encodeByteArray(t,!0)},VS=function(n){return rD(n).replace(/\./g,"")},jS=function(n){try{return LS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function aD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const oD=()=>aD().__FIREBASE_DEFAULTS__,lD=()=>{if(typeof process>"u"||typeof rE>"u")return;const n=rE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},cD=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&jS(n[1]);return t&&JSON.parse(t)},im=()=>{try{return nD()||oD()||lD()||cD()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},uD=n=>im()?.emulatorHosts?.[n],zS=()=>im()?.config,US=n=>im()?.[`_${n}`];class hD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function Dl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function BS(n){return(await fetch(n,{credentials:"include"})).ok}const fu={};function fD(){const n={prod:[],emulator:[]};for(const t of Object.keys(fu))fu[t]?n.emulator.push(t):n.prod.push(t);return n}function dD(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let aE=!1;function mD(n,t){if(typeof window>"u"||typeof document>"u"||!Dl(window.location.host)||fu[n]===t||fu[n]||aE)return;fu[n]=t;function e(b){return`__firebase__banner__${b}`}const i="__firebase__banner",o=fD().prod.length>0;function l(){const b=document.getElementById(i);b&&b.remove()}function u(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,T){b.setAttribute("width","24"),b.setAttribute("id",T),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function d(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{aE=!0,l()},b}function p(b,T){b.setAttribute("id",T),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=dD(i),T=e("text"),A=document.getElementById(T)||document.createElement("span"),w=e("learnmore"),R=document.getElementById(w)||document.createElement("a"),O=e("preprendIcon"),V=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const H=b.element;u(H),p(R,w);const G=d();f(V,O),H.append(V,A,R,G),document.body.appendChild(H)}o?(A.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function pD(){const n=im()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _D(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function vD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bD(){const n=yn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ED(){return!pD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TD(){try{return typeof indexedDB=="object"}catch{return!1}}function SD(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}const wD="FirebaseError";class $s extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=wD,Object.setPrototypeOf(this,$s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$u.prototype.create)}}class $u{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],l=o?xD(o,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new $s(r,u,i)}}function xD(n,t){return n.replace(AD,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const AD=/\{\$([^}]+)}/g;function RD(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Xa(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],l=t[r];if(oE(o)&&oE(l)){if(!Xa(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function oE(n){return n!==null&&typeof n=="object"}function Ku(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function nu(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function iu(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function CD(n,t){const e=new MD(n,t);return e.subscribe.bind(e)}class MD{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");ID(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Up),r.error===void 0&&(r.error=Up),r.complete===void 0&&(r.complete=Up);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ID(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Up(){}function $e(n){return n&&n._delegate?n._delegate:n}class Qa{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ua="[DEFAULT]";class DD{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new hD;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ND(t))try{this.getOrInitializeService({instanceIdentifier:Ua})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=Ua){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ua){return this.instances.has(t)}getOptions(t=Ua){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:OD(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ua){return this.component?this.component.multipleInstances?t:Ua:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OD(n){return n===Ua?void 0:n}function ND(n){return n.instantiationMode==="EAGER"}class kD{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new DD(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var jt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(jt||(jt={}));const PD={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},LD=jt.INFO,VD={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},jD=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=VD[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class m_{constructor(t){this.name=t,this._logLevel=LD,this._logHandler=jD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?PD[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const zD=(n,t)=>t.some(e=>n instanceof e);let lE,cE;function UD(){return lE||(lE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BD(){return cE||(cE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FS=new WeakMap,_y=new WeakMap,HS=new WeakMap,Bp=new WeakMap,g_=new WeakMap;function FD(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{e(Fr(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&FS.set(e,n)}).catch(()=>{}),g_.set(t,n),t}function HD(n){if(_y.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{e(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});_y.set(n,t)}let vy={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return _y.get(n);if(t==="objectStoreNames")return n.objectStoreNames||HS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Fr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function qD(n){vy=n(vy)}function GD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Fp(this),t,...e);return HS.set(i,t.sort?t.sort():[t]),Fr(i)}:BD().includes(n)?function(...t){return n.apply(Fp(this),t),Fr(FS.get(this))}:function(...t){return Fr(n.apply(Fp(this),t))}}function YD(n){return typeof n=="function"?GD(n):(n instanceof IDBTransaction&&HD(n),zD(n,UD())?new Proxy(n,vy):n)}function Fr(n){if(n instanceof IDBRequest)return FD(n);if(Bp.has(n))return Bp.get(n);const t=YD(n);return t!==n&&(Bp.set(n,t),g_.set(t,n)),t}const Fp=n=>g_.get(n);function WD(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(n,t),u=Fr(l);return i&&l.addEventListener("upgradeneeded",f=>{i(Fr(l.result),f.oldVersion,f.newVersion,Fr(l.transaction),f)}),e&&l.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const $D=["get","getKey","getAll","getAllKeys","count"],KD=["put","add","delete","clear"],Hp=new Map;function uE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Hp.get(t))return Hp.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=KD.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||$D.includes(e)))return;const o=async function(l,...u){const f=this.transaction(l,r?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(u.shift())),(await Promise.all([d[e](...u),r&&f.done]))[0]};return Hp.set(t,o),o}qD(n=>({...n,get:(t,e,i)=>uE(t,e)||n.get(t,e,i),has:(t,e)=>!!uE(t,e)||n.has(t,e)}));class XD{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(QD(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function QD(n){return n.getComponent()?.type==="VERSION"}const by="@firebase/app",hE="0.14.6";const Hs=new m_("@firebase/app"),JD="@firebase/app-compat",ZD="@firebase/analytics-compat",t4="@firebase/analytics",e4="@firebase/app-check-compat",n4="@firebase/app-check",i4="@firebase/auth",s4="@firebase/auth-compat",r4="@firebase/database",a4="@firebase/data-connect",o4="@firebase/database-compat",l4="@firebase/functions",c4="@firebase/functions-compat",u4="@firebase/installations",h4="@firebase/installations-compat",f4="@firebase/messaging",d4="@firebase/messaging-compat",m4="@firebase/performance",g4="@firebase/performance-compat",p4="@firebase/remote-config",y4="@firebase/remote-config-compat",_4="@firebase/storage",v4="@firebase/storage-compat",b4="@firebase/firestore",E4="@firebase/ai",T4="@firebase/firestore-compat",S4="firebase",w4="12.6.0";const Ey="[DEFAULT]",x4={[by]:"fire-core",[JD]:"fire-core-compat",[t4]:"fire-analytics",[ZD]:"fire-analytics-compat",[n4]:"fire-app-check",[e4]:"fire-app-check-compat",[i4]:"fire-auth",[s4]:"fire-auth-compat",[r4]:"fire-rtdb",[a4]:"fire-data-connect",[o4]:"fire-rtdb-compat",[l4]:"fire-fn",[c4]:"fire-fn-compat",[u4]:"fire-iid",[h4]:"fire-iid-compat",[f4]:"fire-fcm",[d4]:"fire-fcm-compat",[m4]:"fire-perf",[g4]:"fire-perf-compat",[p4]:"fire-rc",[y4]:"fire-rc-compat",[_4]:"fire-gcs",[v4]:"fire-gcs-compat",[b4]:"fire-fst",[T4]:"fire-fst-compat",[E4]:"fire-vertex","fire-js":"fire-js",[S4]:"fire-js-all"};const Su=new Map,A4=new Map,Ty=new Map;function fE(n,t){try{n.container.addComponent(t)}catch(e){Hs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function _l(n){const t=n.name;if(Ty.has(t))return Hs.debug(`There were multiple attempts to register component ${t}.`),!1;Ty.set(t,n);for(const e of Su.values())fE(e,n);for(const e of A4.values())fE(e,n);return!0}function p_(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function oi(n){return n==null?!1:n.settings!==void 0}const R4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new $u("app","Firebase",R4);class C4{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Qa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}const Ol=w4;function qS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:Ey,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw Hr.create("bad-app-name",{appName:String(r)});if(e||(e=zS()),!e)throw Hr.create("no-options");const o=Su.get(r);if(o){if(Xa(e,o.options)&&Xa(i,o.config))return o;throw Hr.create("duplicate-app",{appName:r})}const l=new kD(r);for(const f of Ty.values())l.addComponent(f);const u=new C4(e,i,l);return Su.set(r,u),u}function GS(n=Ey){const t=Su.get(n);if(!t&&n===Ey&&zS())return qS();if(!t)throw Hr.create("no-app",{appName:n});return t}function M4(){return Array.from(Su.values())}function qr(n,t,e){let i=x4[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${t}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hs.warn(l.join(" "));return}_l(new Qa(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const I4="firebase-heartbeat-database",D4=1,wu="firebase-heartbeat-store";let qp=null;function YS(){return qp||(qp=WD(I4,D4,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(wu)}catch(e){console.warn(e)}}}}).catch(n=>{throw Hr.create("idb-open",{originalErrorMessage:n.message})})),qp}async function O4(n){try{const e=(await YS()).transaction(wu),i=await e.objectStore(wu).get(WS(n));return await e.done,i}catch(t){if(t instanceof $s)Hs.warn(t.message);else{const e=Hr.create("idb-get",{originalErrorMessage:t?.message});Hs.warn(e.message)}}}async function dE(n,t){try{const i=(await YS()).transaction(wu,"readwrite");await i.objectStore(wu).put(t,WS(n)),await i.done}catch(e){if(e instanceof $s)Hs.warn(e.message);else{const i=Hr.create("idb-set",{originalErrorMessage:e?.message});Hs.warn(i.message)}}}function WS(n){return`${n.name}!${n.options.appId}`}const N4=1024,k4=30;class P4{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new V4(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=mE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>k4){const r=j4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Hs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=mE(),{heartbeatsToSend:e,unsentEntries:i}=L4(this._heartbeatsCache.heartbeats),r=VS(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return Hs.warn(t),""}}}function mE(){return new Date().toISOString().substring(0,10)}function L4(n,t=N4){const e=[];let i=n.slice();for(const r of n){const o=e.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),gE(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),gE(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class V4{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TD()?SD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await O4(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return dE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return dE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function gE(n){return VS(JSON.stringify({version:2,heartbeats:n})).length}function j4(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function z4(n){_l(new Qa("platform-logger",t=>new XD(t),"PRIVATE")),_l(new Qa("heartbeat",t=>new P4(t),"PRIVATE")),qr(by,hE,n),qr(by,hE,"esm2020"),qr("fire-js","")}z4("");var U4="firebase",B4="12.7.0";qr(U4,B4,"app");function $S(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const F4=$S,KS=new $u("auth","Firebase",$S());const wd=new m_("@firebase/auth");function H4(n,...t){wd.logLevel<=jt.WARN&&wd.warn(`Auth (${Ol}): ${n}`,...t)}function ud(n,...t){wd.logLevel<=jt.ERROR&&wd.error(`Auth (${Ol}): ${n}`,...t)}function Ai(n,...t){throw y_(n,...t)}function ns(n,...t){return y_(n,...t)}function XS(n,t,e){const i={...F4(),[t]:e};return new $u("auth","Firebase",i).create(t,{appName:n.name})}function Us(n){return XS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y_(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return KS.create(n,...t)}function wt(n,t,...e){if(!n)throw y_(t,...e)}function ks(n){const t="INTERNAL ASSERTION FAILED: "+n;throw ud(t),new Error(t)}function qs(n,t){n||ks(t)}function Sy(){return typeof self<"u"&&self.location?.href||""}function q4(){return pE()==="http:"||pE()==="https:"}function pE(){return typeof self<"u"&&self.location?.protocol||null}function G4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q4()||_D()||"connection"in navigator)?navigator.onLine:!0}function Y4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Xu{constructor(t,e){this.shortDelay=t,this.longDelay=e,qs(e>t,"Short delay should be less than long delay!"),this.isMobile=gD()||vD()}get(){return G4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function __(n,t){qs(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class QS{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const W4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const $4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],K4=new Xu(3e4,6e4);function na(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function ia(n,t,e,i,r={}){return JS(n,r,async()=>{let o={},l={};i&&(t==="GET"?l=i:o={body:JSON.stringify(i)});const u=Ku({key:n.config.apiKey,...l}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:t,headers:f,...o};return yD()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Dl(n.emulatorConfig.host)&&(d.credentials="include"),QS.fetch()(await ZS(n,n.config.apiHost,e,u),d)})}async function JS(n,t,e){n._canInitEmulator=!1;const i={...W4,...t};try{const r=new Q4(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Ff(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[f,d]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ff(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Ff(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw Ff(n,"user-disabled",l);const p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw XS(n,p,d);Ai(n,p)}}catch(r){if(r instanceof $s)throw r;Ai(n,"network-request-failed",{message:String(r)})}}async function Qu(n,t,e,i,r={}){const o=await ia(n,t,e,i,r);return"mfaPendingCredential"in o&&Ai(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function ZS(n,t,e,i){const r=`${t}${e}?${i}`,o=n,l=o.config.emulator?__(n.config,r):`${n.config.apiScheme}://${r}`;return $4.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function X4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Q4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(ns(this.auth,"network-request-failed")),K4.get())})}}function Ff(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=ns(n,t,i);return r.customData._tokenResponse=e,r}function yE(n){return n!==void 0&&n.enterprise!==void 0}class J4{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return X4(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Z4(n,t){return ia(n,"GET","/v2/recaptchaConfig",na(n,t))}async function t6(n,t){return ia(n,"POST","/v1/accounts:delete",t)}async function xd(n,t){return ia(n,"POST","/v1/accounts:lookup",t)}function du(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function e6(n,t=!1){const e=$e(n),i=await e.getIdToken(t),r=v_(i);wt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o?.sign_in_provider;return{claims:r,token:i,authTime:du(Gp(r.auth_time)),issuedAtTime:du(Gp(r.iat)),expirationTime:du(Gp(r.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Gp(n){return Number(n)*1e3}function v_(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return ud("JWT malformed, contained fewer than 3 sections"),null;try{const r=jS(e);return r?JSON.parse(r):(ud("Failed to decode base64 JWT payload"),null)}catch(r){return ud("Caught error parsing JWT payload as JSON",r?.toString()),null}}function _E(n){const t=v_(n);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function xu(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof $s&&n6(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function n6({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class i6{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class wy{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=du(this.lastLoginAt),this.creationTime=du(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ad(n){const t=n.auth,e=await n.getIdToken(),i=await xu(n,xd(t,{idToken:e}));wt(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?tw(r.providerUserInfo):[],l=r6(n.providerData,o),u=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!l?.length,d=u?f:!1,p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new wy(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(n,p)}async function s6(n){const t=$e(n);await Ad(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function r6(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function tw(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function a6(n,t){const e=await JS(n,{},async()=>{const i=Ku({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,l=await ZS(n,r,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:i};return n.emulatorConfig&&Dl(n.emulatorConfig.host)&&(f.credentials="include"),QS.fetch()(l,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function o6(n,t){return ia(n,"POST","/v2/accounts:revokeToken",na(n,t))}class ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):_E(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const e=_E(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await a6(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,l=new ul;return i&&(wt(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),r&&(wt(typeof r=="string","internal-error",{appName:t}),l.accessToken=r),o&&(wt(typeof o=="number","internal-error",{appName:t}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ul,this.toJSON())}_performRefresh(){return ks("not implemented")}}function Ir(n,t){wt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class xi{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new i6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new wy(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await xu(this,this.stsTokenManager.getToken(this.auth,t));return wt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return e6(this,t)}reload(){return s6(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new xi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Ad(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(Us(this.auth));const t=await this.getIdToken();return await xu(this,t6(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,l=e.photoURL??void 0,u=e.tenantId??void 0,f=e._redirectEventId??void 0,d=e.createdAt??void 0,p=e.lastLoginAt??void 0,{uid:_,emailVerified:b,isAnonymous:T,providerData:A,stsTokenManager:w}=e;wt(_&&w,t,"internal-error");const R=ul.fromJSON(this.name,w);wt(typeof _=="string",t,"internal-error"),Ir(i,t.name),Ir(r,t.name),wt(typeof b=="boolean",t,"internal-error"),wt(typeof T=="boolean",t,"internal-error"),Ir(o,t.name),Ir(l,t.name),Ir(u,t.name),Ir(f,t.name),Ir(d,t.name),Ir(p,t.name);const O=new xi({uid:_,auth:t,email:r,emailVerified:b,displayName:i,isAnonymous:T,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:R,createdAt:d,lastLoginAt:p});return A&&Array.isArray(A)&&(O.providerData=A.map(V=>({...V}))),f&&(O._redirectEventId=f),O}static async _fromIdTokenResponse(t,e,i=!1){const r=new ul;r.updateFromServerResponse(e);const o=new xi({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Ad(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];wt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?tw(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!o?.length,u=new ul;u.updateFromIdToken(i);const f=new xi({uid:r.localId,auth:t,stsTokenManager:u,isAnonymous:l}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new wy(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,d),f}}const vE=new Map;function Ps(n){qs(n instanceof Function,"Expected a class definition");let t=vE.get(n);return t?(qs(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,vE.set(n,t),t)}class ew{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}ew.type="NONE";const bE=ew;function hd(n,t,e){return`firebase:${n}:${t}:${e}`}class hl{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=hd(this.userKey,r.apiKey,o),this.fullPersistenceKey=hd("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await xd(this.auth,{idToken:t}).catch(()=>{});return e?xi._fromGetAccountInfoResponse(this.auth,e,t):null}return xi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new hl(Ps(bE),t,i);const r=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=r[0]||Ps(bE);const l=hd(i,t.config.apiKey,t.name);let u=null;for(const d of e)try{const p=await d._get(l);if(p){let _;if(typeof p=="string"){const b=await xd(t,{idToken:p}).catch(()=>{});if(!b)break;_=await xi._fromGetAccountInfoResponse(t,b,p)}else _=xi._fromJSON(t,p);d!==o&&(u=_),o=d;break}}catch{}const f=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new hl(o,t,i):(o=f[0],u&&await o._set(l,u.toJSON()),await Promise.all(e.map(async d=>{if(d!==o)try{await d._remove(l)}catch{}})),new hl(o,t,i))}}function EE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(nw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ow(t))return"Blackberry";if(lw(t))return"Webos";if(iw(t))return"Safari";if((t.includes("chrome/")||sw(t))&&!t.includes("edge/"))return"Chrome";if(aw(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function nw(n=yn()){return/firefox\//i.test(n)}function iw(n=yn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sw(n=yn()){return/crios\//i.test(n)}function rw(n=yn()){return/iemobile/i.test(n)}function aw(n=yn()){return/android/i.test(n)}function ow(n=yn()){return/blackberry/i.test(n)}function lw(n=yn()){return/webos/i.test(n)}function b_(n=yn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function l6(n=yn()){return b_(n)&&!!window.navigator?.standalone}function c6(){return bD()&&document.documentMode===10}function cw(n=yn()){return b_(n)||aw(n)||lw(n)||ow(n)||/windows phone/i.test(n)||rw(n)}function uw(n,t=[]){let e;switch(n){case"Browser":e=EE(yn());break;case"Worker":e=`${EE(yn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ol}/${i}`}class u6{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((l,u)=>{try{const f=t(o);l(f)}catch(f){u(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function h6(n,t={}){return ia(n,"GET","/v2/passwordPolicy",na(n,t))}const f6=6;class d6{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??f6,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class m6{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TE(this),this.idTokenSubscription=new TE(this),this.beforeStateQueue=new u6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ps(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await hl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await xd(this,{idToken:t}),i=await xi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(oi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=i?._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===l)&&u?.user&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Ad(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Y4()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(oi(this.app))return Promise.reject(Us(this));const e=t?$e(t):null;return e&&wt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(Us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return oi(this.app)?Promise.reject(Us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ps(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await h6(this),e=new d6(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new $u("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await o6(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ps(t)||this._popupRedirectResolver;wt(e,this,"argument-error"),this.redirectPersistenceManager=await hl.create(this,[Ps(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{l=!0,f()}}else{const f=t.addObserver(e);return()=>{l=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=uw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&H4(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ro(n){return $e(n)}class TE{constructor(t){this.auth=t,this.observer=null,this.addObserver=CD(e=>this.observer=e)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g6(n){sm=n}function hw(n){return sm.loadJS(n)}function p6(){return sm.recaptchaEnterpriseScript}function y6(){return sm.gapiScript}function _6(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class v6{constructor(){this.enterprise=new b6}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class b6{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const E6="recaptcha-enterprise",fw="NO_RECAPTCHA";class T6{constructor(t){this.type=E6,this.auth=ro(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{Z4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new J4(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,l(d.siteKey)}}).catch(f=>{u(f)})})}function r(o,l,u){const f=window.grecaptcha;yE(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(d=>{l(d)}).catch(()=>{l(fw)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new v6().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(u=>{if(!e&&yE(window.grecaptcha))r(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=p6();f.length!==0&&(f+=u),hw(f).then(()=>{r(u,o,l)}).catch(d=>{l(d)})}}).catch(u=>{l(u)})})}}async function SE(n,t,e,i=!1,r=!1){const o=new T6(n);let l;if(r)l=fw;else try{l=await o.verify(e)}catch{l=await o.verify(e,!0)}const u={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function xy(n,t,e,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await SE(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await SE(n,t,e,e==="getOobCode");return i(n,l)}else return Promise.reject(o)})}function S6(n,t){const e=p_(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(Xa(o,t??{}))return r;Ai(r,"already-initialized")}return e.initialize({options:t})}function w6(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Ps);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function x6(n,t,e){const i=ro(n);wt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=dw(t),{host:l,port:u}=A6(t),f=u===null?"":`:${u}`,d={url:`${o}//${l}${f}/`},p=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){wt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),wt(Xa(d,i.config.emulator)&&Xa(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,Dl(l)?(BS(`${o}//${l}${f}`),mD("Auth",!0)):R6()}function dw(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function A6(n){const t=dw(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:wE(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:wE(l)}}}function wE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function R6(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class E_{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ks("not implemented")}_getIdTokenResponse(t){return ks("not implemented")}_linkToIdToken(t,e){return ks("not implemented")}_getReauthenticationResolver(t){return ks("not implemented")}}async function C6(n,t){return ia(n,"POST","/v1/accounts:signUp",t)}async function M6(n,t){return Qu(n,"POST","/v1/accounts:signInWithPassword",na(n,t))}async function I6(n,t){return Qu(n,"POST","/v1/accounts:signInWithEmailLink",na(n,t))}async function D6(n,t){return Qu(n,"POST","/v1/accounts:signInWithEmailLink",na(n,t))}class Au extends E_{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Au(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Au(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xy(t,e,"signInWithPassword",M6);case"emailLink":return I6(t,{email:this._email,oobCode:this._password});default:Ai(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xy(t,i,"signUpPassword",C6);case"emailLink":return D6(t,{idToken:e,email:this._email,oobCode:this._password});default:Ai(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function fl(n,t){return Qu(n,"POST","/v1/accounts:signInWithIdp",na(n,t))}const O6="http://localhost";class Ja extends E_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ja(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ai("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const l=new Ja(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return fl(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,fl(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,fl(t,e)}buildRequest(){const t={requestUri:O6,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Ku(e)}return t}}function N6(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function k6(n){const t=nu(iu(n)).link,e=t?nu(iu(t)).deep_link_id:null,i=nu(iu(n)).deep_link_id;return(i?nu(iu(i)).link:null)||i||e||t||n}class T_{constructor(t){const e=nu(iu(t)),i=e.apiKey??null,r=e.oobCode??null,o=N6(e.mode??null);wt(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=k6(t);try{return new T_(e)}catch{return null}}}class Nl{constructor(){this.providerId=Nl.PROVIDER_ID}static credential(t,e){return Au._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=T_.parseLink(e);return wt(i,"argument-error"),Au._fromEmailAndCode(t,i.code,i.tenantId)}}Nl.PROVIDER_ID="password";Nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class mw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ju extends mw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Nr extends Ju{constructor(){super("facebook.com")}static credential(t){return Ja._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Nr.credentialFromTaggedObject(t)}static credentialFromError(t){return Nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Nr.credential(t.oauthAccessToken)}catch{return null}}}Nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nr.PROVIDER_ID="facebook.com";class kr extends Ju{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ja._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return kr.credential(e,i)}catch{return null}}}kr.GOOGLE_SIGN_IN_METHOD="google.com";kr.PROVIDER_ID="google.com";class Pr extends Ju{constructor(){super("github.com")}static credential(t){return Ja._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pr.credential(t.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";class Lr extends Ju{constructor(){super("twitter.com")}static credential(t,e){return Ja._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Lr.credential(e,i)}catch{return null}}}Lr.TWITTER_SIGN_IN_METHOD="twitter.com";Lr.PROVIDER_ID="twitter.com";async function P6(n,t){return Qu(n,"POST","/v1/accounts:signUp",na(n,t))}class Za{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await xi._fromIdTokenResponse(t,i,r),l=xE(i);return new Za({user:o,providerId:l,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=xE(i);return new Za({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function xE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Rd extends $s{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Rd.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new Rd(t,e,i,r)}}function gw(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Rd._fromErrorAndOperation(n,o,t,i):o})}async function L6(n,t,e=!1){const i=await xu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Za._forOperation(n,"link",i)}async function V6(n,t,e=!1){const{auth:i}=n;if(oi(i.app))return Promise.reject(Us(i));const r="reauthenticate";try{const o=await xu(n,gw(i,r,t,n),e);wt(o.idToken,i,"internal-error");const l=v_(o.idToken);wt(l,i,"internal-error");const{sub:u}=l;return wt(n.uid===u,i,"user-mismatch"),Za._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ai(i,"user-mismatch"),o}}async function pw(n,t,e=!1){if(oi(n.app))return Promise.reject(Us(n));const i="signIn",r=await gw(n,i,t),o=await Za._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function j6(n,t){return pw(ro(n),t)}async function yw(n){const t=ro(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function z6(n,t,e){if(oi(n.app))return Promise.reject(Us(n));const i=ro(n),l=await xy(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",P6).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&yw(n),f}),u=await Za._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function U6(n,t,e){return oi(n.app)?Promise.reject(Us(n)):j6($e(n),Nl.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&yw(n),i})}function B6(n,t,e,i){return $e(n).onIdTokenChanged(t,e,i)}function F6(n,t,e){return $e(n).beforeAuthStateChanged(t,e)}function H6(n,t,e,i){return $e(n).onAuthStateChanged(t,e,i)}function q6(n){return $e(n).signOut()}const Cd="__sak";class _w{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Cd,"1"),this.storage.removeItem(Cd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const G6=1e3,Y6=10;class vw extends _w{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!e&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);c6()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,Y6):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},G6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}vw.type="LOCAL";const W6=vw;class bw extends _w{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}bw.type="SESSION";const Ew=bw;function $6(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class rm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new rm(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,l=this.handlersMap[r];if(!l?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async d=>d(e.origin,o)),f=await $6(u);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rm.receivers=[];function S_(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class K6{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((u,f)=>{const d=S_("",20);r.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(_){const b=_;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(b.data.response);break;default:clearTimeout(p),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function is(){return window}function X6(n){is().location.href=n}function Tw(){return typeof is().WorkerGlobalScope<"u"&&typeof is().importScripts=="function"}async function Q6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function J6(){return navigator?.serviceWorker?.controller||null}function Z6(){return Tw()?self:null}const Sw="firebaseLocalStorageDb",tO=1,Md="firebaseLocalStorage",ww="fbase_key";class Zu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function am(n,t){return n.transaction([Md],t?"readwrite":"readonly").objectStore(Md)}function eO(){const n=indexedDB.deleteDatabase(Sw);return new Zu(n).toPromise()}function Ay(){const n=indexedDB.open(Sw,tO);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Md,{keyPath:ww})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Md)?t(i):(i.close(),await eO(),t(await Ay()))})})}async function AE(n,t,e){const i=am(n,!0).put({[ww]:t,value:e});return new Zu(i).toPromise()}async function nO(n,t){const e=am(n,!1).get(t),i=await new Zu(e).toPromise();return i===void 0?null:i.value}function RE(n,t){const e=am(n,!0).delete(t);return new Zu(e).toPromise()}const iO=800,sO=3;class xw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ay(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>sO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rm._getInstance(Z6()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Q6(),!this.activeServiceWorker)return;this.sender=new K6(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||J6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ay();return await AE(t,Cd,"1"),await RE(t,Cd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>AE(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>nO(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>RE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=am(r,!1).getAll();return new Zu(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xw.type="LOCAL";const rO=xw;new Xu(3e4,6e4);function aO(n,t){return t?Ps(t):(wt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class w_ extends E_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return fl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return fl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return fl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function oO(n){return pw(n.auth,new w_(n),n.bypassAuthState)}function lO(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),V6(e,new w_(n),n.bypassAuthState)}async function cO(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),L6(e,new w_(n),n.bypassAuthState)}class Aw{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:l,type:u}=t;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return oO;case"linkViaPopup":case"linkViaRedirect":return cO;case"reauthViaPopup":case"reauthViaRedirect":return lO;default:Ai(this.auth,"internal-error")}}resolve(t){qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uO=new Xu(2e3,1e4);class cl extends Aw{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,cl.currentPopupAction&&cl.currentPopupAction.cancel(),cl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){qs(this.filter.length===1,"Popup operations only handle one event");const t=S_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,uO.get())};t()}}cl.currentPopupAction=null;const hO="pendingRedirect",fd=new Map;class fO extends Aw{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=fd.get(this.auth._key());if(!t){try{const i=await dO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}fd.set(this.auth._key(),t)}return this.bypassAuthState||fd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dO(n,t){const e=pO(t),i=gO(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function mO(n,t){fd.set(n._key(),t)}function gO(n){return Ps(n._redirectPersistence)}function pO(n){return hd(hO,n.config.apiKey,n.name)}async function yO(n,t,e=!1){if(oi(n.app))return Promise.reject(Us(n));const i=ro(n),r=aO(i,t),l=await new fO(i,r,e).execute();return l&&!e&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}const _O=600*1e3;class vO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!bO(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!Rw(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(ns(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=_O&&this.cachedEventUids.clear(),this.cachedEventUids.has(CE(t))}saveEventToCache(t){this.cachedEventUids.add(CE(t)),this.lastProcessedEventTime=Date.now()}}function CE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Rw({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function bO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rw(n);default:return!1}}async function EO(n,t={}){return ia(n,"GET","/v1/projects",t)}const TO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SO=/^https?/;async function wO(n){if(n.config.emulator)return;const{authorizedDomains:t}=await EO(n);for(const e of t)try{if(xO(e))return}catch{}Ai(n,"unauthorized-domain")}function xO(n){const t=Sy(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===i}if(!SO.test(e))return!1;if(TO.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const AO=new Xu(3e4,6e4);function ME(){const n=is().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function RO(n){return new Promise((t,e)=>{function i(){ME(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ME(),e(ns(n,"network-request-failed"))},timeout:AO.get()})}if(is().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(is().gapi?.load)i();else{const r=_6("iframefcb");return is()[r]=()=>{gapi.load?i():e(ns(n,"network-request-failed"))},hw(`${y6()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw dd=null,t})}let dd=null;function CO(n){return dd=dd||RO(n),dd}const MO=new Xu(5e3,15e3),IO="__/auth/iframe",DO="emulator/auth/iframe",OO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kO(n){const t=n.config;wt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?__(t,DO):`https://${n.config.authDomain}/${IO}`,i={apiKey:t.apiKey,appName:n.name,v:Ol},r=NO.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${Ku(i).slice(1)}`}async function PO(n){const t=await CO(n),e=is().gapi;return wt(e,n,"internal-error"),t.open({where:document.body,url:kO(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OO,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=ns(n,"network-request-failed"),u=is().setTimeout(()=>{o(l)},MO.get());function f(){is().clearTimeout(u),r(i)}i.ping(f).then(f,()=>{o(l)})}))}const LO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VO=500,jO=600,zO="_blank",UO="http://localhost";class IE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BO(n,t,e,i=VO,r=jO){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const f={...LO,width:i.toString(),height:r.toString(),top:o,left:l},d=yn().toLowerCase();e&&(u=sw(d)?zO:e),nw(d)&&(t=t||UO,f.scrollbars="yes");const p=Object.entries(f).reduce((b,[T,A])=>`${b}${T}=${A},`,"");if(l6(d)&&u!=="_self")return FO(t||"",u),new IE(null);const _=window.open(t||"",u,p);wt(_,n,"popup-blocked");try{_.focus()}catch{}return new IE(_)}function FO(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const HO="__/auth/handler",qO="emulator/auth/handler",GO=encodeURIComponent("fac");async function DE(n,t,e,i,r,o){wt(n.config.authDomain,n,"auth-domain-config-required"),wt(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Ol,eventId:r};if(t instanceof mw){t.setDefaultLanguage(n.languageCode),l.providerId=t.providerId||"",RD(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,_]of Object.entries({}))l[p]=_}if(t instanceof Ju){const p=t.getScopes().filter(_=>_!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const f=await n._getAppCheckToken(),d=f?`#${GO}=${encodeURIComponent(f)}`:"";return`${YO(n)}?${Ku(u).slice(1)}${d}`}function YO({config:n}){return n.emulator?__(n,qO):`https://${n.authDomain}/${HO}`}const Yp="webStorageSupport";class WO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ew,this._completeRedirectFn=yO,this._overrideRedirectResult=mO}async _openPopup(t,e,i,r){qs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await DE(t,e,i,Sy(),r);return BO(t,o,S_())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await DE(t,e,i,Sy(),r);return X6(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(qs(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await PO(t),i=new vO(t);return e.register("authEvent",r=>(wt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Yp,{type:Yp},r=>{const o=r?.[0]?.[Yp];o!==void 0&&e(!!o),Ai(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=wO(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return cw()||iw()||b_()}}const $O=WO;var OE="@firebase/auth",NE="1.12.0";class KO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function XO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QO(n){_l(new Qa("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;wt(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uw(n)},d=new m6(i,r,o,f);return w6(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),_l(new Qa("auth-internal",t=>{const e=ro(t.getProvider("auth").getImmediate());return(i=>new KO(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(OE,NE,XO(n)),qr(OE,NE,"esm2020")}const JO=300,ZO=US("authIdTokenMaxAge")||JO;let kE=null;const tN=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>ZO)return;const r=e?.token;kE!==r&&(kE=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function eN(n=GS()){const t=p_(n,"auth");if(t.isInitialized())return t.getImmediate();const e=S6(n,{popupRedirectResolver:$O,persistence:[rO,W6,Ew]}),i=US("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=tN(o.toString());F6(e,l,()=>l(e.currentUser)),B6(e,u=>l(u))}}const r=uD("auth");return r&&x6(e,`http://${r}`),e}function nN(){return document.getElementsByTagName("head")?.[0]??document}g6({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=ns("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",nN().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QO("Browser");var PE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gr,Cw;(function(){var n;function t(N,M){function I(){}I.prototype=M.prototype,N.F=M.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(P,L,z){for(var k=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)k[ut-2]=arguments[ut];return M.prototype[L].apply(P,k)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(N,M,I){I||(I=0);const P=Array(16);if(typeof M=="string")for(var L=0;L<16;++L)P[L]=M.charCodeAt(I++)|M.charCodeAt(I++)<<8|M.charCodeAt(I++)<<16|M.charCodeAt(I++)<<24;else for(L=0;L<16;++L)P[L]=M[I++]|M[I++]<<8|M[I++]<<16|M[I++]<<24;M=N.g[0],I=N.g[1],L=N.g[2];let z=N.g[3],k;k=M+(z^I&(L^z))+P[0]+3614090360&4294967295,M=I+(k<<7&4294967295|k>>>25),k=z+(L^M&(I^L))+P[1]+3905402710&4294967295,z=M+(k<<12&4294967295|k>>>20),k=L+(I^z&(M^I))+P[2]+606105819&4294967295,L=z+(k<<17&4294967295|k>>>15),k=I+(M^L&(z^M))+P[3]+3250441966&4294967295,I=L+(k<<22&4294967295|k>>>10),k=M+(z^I&(L^z))+P[4]+4118548399&4294967295,M=I+(k<<7&4294967295|k>>>25),k=z+(L^M&(I^L))+P[5]+1200080426&4294967295,z=M+(k<<12&4294967295|k>>>20),k=L+(I^z&(M^I))+P[6]+2821735955&4294967295,L=z+(k<<17&4294967295|k>>>15),k=I+(M^L&(z^M))+P[7]+4249261313&4294967295,I=L+(k<<22&4294967295|k>>>10),k=M+(z^I&(L^z))+P[8]+1770035416&4294967295,M=I+(k<<7&4294967295|k>>>25),k=z+(L^M&(I^L))+P[9]+2336552879&4294967295,z=M+(k<<12&4294967295|k>>>20),k=L+(I^z&(M^I))+P[10]+4294925233&4294967295,L=z+(k<<17&4294967295|k>>>15),k=I+(M^L&(z^M))+P[11]+2304563134&4294967295,I=L+(k<<22&4294967295|k>>>10),k=M+(z^I&(L^z))+P[12]+1804603682&4294967295,M=I+(k<<7&4294967295|k>>>25),k=z+(L^M&(I^L))+P[13]+4254626195&4294967295,z=M+(k<<12&4294967295|k>>>20),k=L+(I^z&(M^I))+P[14]+2792965006&4294967295,L=z+(k<<17&4294967295|k>>>15),k=I+(M^L&(z^M))+P[15]+1236535329&4294967295,I=L+(k<<22&4294967295|k>>>10),k=M+(L^z&(I^L))+P[1]+4129170786&4294967295,M=I+(k<<5&4294967295|k>>>27),k=z+(I^L&(M^I))+P[6]+3225465664&4294967295,z=M+(k<<9&4294967295|k>>>23),k=L+(M^I&(z^M))+P[11]+643717713&4294967295,L=z+(k<<14&4294967295|k>>>18),k=I+(z^M&(L^z))+P[0]+3921069994&4294967295,I=L+(k<<20&4294967295|k>>>12),k=M+(L^z&(I^L))+P[5]+3593408605&4294967295,M=I+(k<<5&4294967295|k>>>27),k=z+(I^L&(M^I))+P[10]+38016083&4294967295,z=M+(k<<9&4294967295|k>>>23),k=L+(M^I&(z^M))+P[15]+3634488961&4294967295,L=z+(k<<14&4294967295|k>>>18),k=I+(z^M&(L^z))+P[4]+3889429448&4294967295,I=L+(k<<20&4294967295|k>>>12),k=M+(L^z&(I^L))+P[9]+568446438&4294967295,M=I+(k<<5&4294967295|k>>>27),k=z+(I^L&(M^I))+P[14]+3275163606&4294967295,z=M+(k<<9&4294967295|k>>>23),k=L+(M^I&(z^M))+P[3]+4107603335&4294967295,L=z+(k<<14&4294967295|k>>>18),k=I+(z^M&(L^z))+P[8]+1163531501&4294967295,I=L+(k<<20&4294967295|k>>>12),k=M+(L^z&(I^L))+P[13]+2850285829&4294967295,M=I+(k<<5&4294967295|k>>>27),k=z+(I^L&(M^I))+P[2]+4243563512&4294967295,z=M+(k<<9&4294967295|k>>>23),k=L+(M^I&(z^M))+P[7]+1735328473&4294967295,L=z+(k<<14&4294967295|k>>>18),k=I+(z^M&(L^z))+P[12]+2368359562&4294967295,I=L+(k<<20&4294967295|k>>>12),k=M+(I^L^z)+P[5]+4294588738&4294967295,M=I+(k<<4&4294967295|k>>>28),k=z+(M^I^L)+P[8]+2272392833&4294967295,z=M+(k<<11&4294967295|k>>>21),k=L+(z^M^I)+P[11]+1839030562&4294967295,L=z+(k<<16&4294967295|k>>>16),k=I+(L^z^M)+P[14]+4259657740&4294967295,I=L+(k<<23&4294967295|k>>>9),k=M+(I^L^z)+P[1]+2763975236&4294967295,M=I+(k<<4&4294967295|k>>>28),k=z+(M^I^L)+P[4]+1272893353&4294967295,z=M+(k<<11&4294967295|k>>>21),k=L+(z^M^I)+P[7]+4139469664&4294967295,L=z+(k<<16&4294967295|k>>>16),k=I+(L^z^M)+P[10]+3200236656&4294967295,I=L+(k<<23&4294967295|k>>>9),k=M+(I^L^z)+P[13]+681279174&4294967295,M=I+(k<<4&4294967295|k>>>28),k=z+(M^I^L)+P[0]+3936430074&4294967295,z=M+(k<<11&4294967295|k>>>21),k=L+(z^M^I)+P[3]+3572445317&4294967295,L=z+(k<<16&4294967295|k>>>16),k=I+(L^z^M)+P[6]+76029189&4294967295,I=L+(k<<23&4294967295|k>>>9),k=M+(I^L^z)+P[9]+3654602809&4294967295,M=I+(k<<4&4294967295|k>>>28),k=z+(M^I^L)+P[12]+3873151461&4294967295,z=M+(k<<11&4294967295|k>>>21),k=L+(z^M^I)+P[15]+530742520&4294967295,L=z+(k<<16&4294967295|k>>>16),k=I+(L^z^M)+P[2]+3299628645&4294967295,I=L+(k<<23&4294967295|k>>>9),k=M+(L^(I|~z))+P[0]+4096336452&4294967295,M=I+(k<<6&4294967295|k>>>26),k=z+(I^(M|~L))+P[7]+1126891415&4294967295,z=M+(k<<10&4294967295|k>>>22),k=L+(M^(z|~I))+P[14]+2878612391&4294967295,L=z+(k<<15&4294967295|k>>>17),k=I+(z^(L|~M))+P[5]+4237533241&4294967295,I=L+(k<<21&4294967295|k>>>11),k=M+(L^(I|~z))+P[12]+1700485571&4294967295,M=I+(k<<6&4294967295|k>>>26),k=z+(I^(M|~L))+P[3]+2399980690&4294967295,z=M+(k<<10&4294967295|k>>>22),k=L+(M^(z|~I))+P[10]+4293915773&4294967295,L=z+(k<<15&4294967295|k>>>17),k=I+(z^(L|~M))+P[1]+2240044497&4294967295,I=L+(k<<21&4294967295|k>>>11),k=M+(L^(I|~z))+P[8]+1873313359&4294967295,M=I+(k<<6&4294967295|k>>>26),k=z+(I^(M|~L))+P[15]+4264355552&4294967295,z=M+(k<<10&4294967295|k>>>22),k=L+(M^(z|~I))+P[6]+2734768916&4294967295,L=z+(k<<15&4294967295|k>>>17),k=I+(z^(L|~M))+P[13]+1309151649&4294967295,I=L+(k<<21&4294967295|k>>>11),k=M+(L^(I|~z))+P[4]+4149444226&4294967295,M=I+(k<<6&4294967295|k>>>26),k=z+(I^(M|~L))+P[11]+3174756917&4294967295,z=M+(k<<10&4294967295|k>>>22),k=L+(M^(z|~I))+P[2]+718787259&4294967295,L=z+(k<<15&4294967295|k>>>17),k=I+(z^(L|~M))+P[9]+3951481745&4294967295,N.g[0]=N.g[0]+M&4294967295,N.g[1]=N.g[1]+(L+(k<<21&4294967295|k>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+z&4294967295}i.prototype.v=function(N,M){M===void 0&&(M=N.length);const I=M-this.blockSize,P=this.C;let L=this.h,z=0;for(;z<M;){if(L==0)for(;z<=I;)r(this,N,z),z+=this.blockSize;if(typeof N=="string"){for(;z<M;)if(P[L++]=N.charCodeAt(z++),L==this.blockSize){r(this,P),L=0;break}}else for(;z<M;)if(P[L++]=N[z++],L==this.blockSize){r(this,P),L=0;break}}this.h=L,this.o+=M},i.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var M=1;M<N.length-8;++M)N[M]=0;M=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=M&255,M/=256;for(this.v(N),N=Array(16),M=0,I=0;I<4;++I)for(let P=0;P<32;P+=8)N[M++]=this.g[I]>>>P&255;return N};function o(N,M){var I=u;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=M(N)}function l(N,M){this.h=M;const I=[];let P=!0;for(let L=N.length-1;L>=0;L--){const z=N[L]|0;P&&z==M||(I[L]=z,P=!1)}this.g=I}var u={};function f(N){return-128<=N&&N<128?o(N,function(M){return new l([M|0],M<0?-1:0)}):new l([N|0],N<0?-1:0)}function d(N){if(isNaN(N)||!isFinite(N))return _;if(N<0)return R(d(-N));const M=[];let I=1;for(let P=0;N>=I;P++)M[P]=N/I|0,I*=4294967296;return new l(M,0)}function p(N,M){if(N.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(N.charAt(0)=="-")return R(p(N.substring(1),M));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=d(Math.pow(M,8));let P=_;for(let z=0;z<N.length;z+=8){var L=Math.min(8,N.length-z);const k=parseInt(N.substring(z,z+L),M);L<8?(L=d(Math.pow(M,L)),P=P.j(L).add(d(k))):(P=P.j(I),P=P.add(d(k)))}return P}var _=f(0),b=f(1),T=f(16777216);n=l.prototype,n.m=function(){if(w(this))return-R(this).m();let N=0,M=1;for(let I=0;I<this.g.length;I++){const P=this.i(I);N+=(P>=0?P:4294967296+P)*M,M*=4294967296}return N},n.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(A(this))return"0";if(w(this))return"-"+R(this).toString(N);const M=d(Math.pow(N,6));var I=this;let P="";for(;;){const L=G(I,M).g;I=O(I,L.j(M));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=L,A(I))return z+P;for(;z.length<6;)z="0"+z;P=z+P}},n.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function A(N){if(N.h!=0)return!1;for(let M=0;M<N.g.length;M++)if(N.g[M]!=0)return!1;return!0}function w(N){return N.h==-1}n.l=function(N){return N=O(this,N),w(N)?-1:A(N)?0:1};function R(N){const M=N.g.length,I=[];for(let P=0;P<M;P++)I[P]=~N.g[P];return new l(I,~N.h).add(b)}n.abs=function(){return w(this)?R(this):this},n.add=function(N){const M=Math.max(this.g.length,N.g.length),I=[];let P=0;for(let L=0;L<=M;L++){let z=P+(this.i(L)&65535)+(N.i(L)&65535),k=(z>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);P=k>>>16,z&=65535,k&=65535,I[L]=k<<16|z}return new l(I,I[I.length-1]&-2147483648?-1:0)};function O(N,M){return N.add(R(M))}n.j=function(N){if(A(this)||A(N))return _;if(w(this))return w(N)?R(this).j(R(N)):R(R(this).j(N));if(w(N))return R(this.j(R(N)));if(this.l(T)<0&&N.l(T)<0)return d(this.m()*N.m());const M=this.g.length+N.g.length,I=[];for(var P=0;P<2*M;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(let L=0;L<N.g.length;L++){const z=this.i(P)>>>16,k=this.i(P)&65535,ut=N.i(L)>>>16,gt=N.i(L)&65535;I[2*P+2*L]+=k*gt,V(I,2*P+2*L),I[2*P+2*L+1]+=z*gt,V(I,2*P+2*L+1),I[2*P+2*L+1]+=k*ut,V(I,2*P+2*L+1),I[2*P+2*L+2]+=z*ut,V(I,2*P+2*L+2)}for(N=0;N<M;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=M;N<2*M;N++)I[N]=0;return new l(I,0)};function V(N,M){for(;(N[M]&65535)!=N[M];)N[M+1]+=N[M]>>>16,N[M]&=65535,M++}function H(N,M){this.g=N,this.h=M}function G(N,M){if(A(M))throw Error("division by zero");if(A(N))return new H(_,_);if(w(N))return M=G(R(N),M),new H(R(M.g),R(M.h));if(w(M))return M=G(N,R(M)),new H(R(M.g),M.h);if(N.g.length>30){if(w(N)||w(M))throw Error("slowDivide_ only works with positive integers.");for(var I=b,P=M;P.l(N)<=0;)I=Y(I),P=Y(P);var L=nt(I,1),z=nt(P,1);for(P=nt(P,2),I=nt(I,2);!A(P);){var k=z.add(P);k.l(N)<=0&&(L=L.add(I),z=k),P=nt(P,1),I=nt(I,1)}return M=O(N,L.j(M)),new H(L,M)}for(L=_;N.l(M)>=0;){for(I=Math.max(1,Math.floor(N.m()/M.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),z=d(I),k=z.j(M);w(k)||k.l(N)>0;)I-=P,z=d(I),k=z.j(M);A(z)&&(z=b),L=L.add(z),N=O(N,k)}return new H(L,N)}n.B=function(N){return G(this,N).h},n.and=function(N){const M=Math.max(this.g.length,N.g.length),I=[];for(let P=0;P<M;P++)I[P]=this.i(P)&N.i(P);return new l(I,this.h&N.h)},n.or=function(N){const M=Math.max(this.g.length,N.g.length),I=[];for(let P=0;P<M;P++)I[P]=this.i(P)|N.i(P);return new l(I,this.h|N.h)},n.xor=function(N){const M=Math.max(this.g.length,N.g.length),I=[];for(let P=0;P<M;P++)I[P]=this.i(P)^N.i(P);return new l(I,this.h^N.h)};function Y(N){const M=N.g.length+1,I=[];for(let P=0;P<M;P++)I[P]=N.i(P)<<1|N.i(P-1)>>>31;return new l(I,N.h)}function nt(N,M){const I=M>>5;M%=32;const P=N.g.length-I,L=[];for(let z=0;z<P;z++)L[z]=M>0?N.i(z+I)>>>M|N.i(z+I+1)<<32-M:N.i(z+I);return new l(L,N.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,Cw=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=p,Gr=l}).apply(typeof PE<"u"?PE:typeof self<"u"?self:typeof window<"u"?window:{});var Hf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Mw,su,Iw,md,Ry,Dw,Ow,Nw;(function(){var n,t=Object.defineProperty;function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hf=="object"&&Hf];for(var v=0;v<m.length;++v){var x=m[v];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=e(this);function r(m,v){if(v)t:{var x=i;m=m.split(".");for(var D=0;D<m.length-1;D++){var W=m[D];if(!(W in x))break t;x=x[W]}m=m[m.length-1],D=x[m],v=v(D),v!=D&&v!=null&&t(x,m,{configurable:!0,writable:!0,value:v})}}r("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(m){return m||function(v){var x=[],D;for(D in v)Object.prototype.hasOwnProperty.call(v,D)&&x.push([D,v[D]]);return x}});var o=o||{},l=this||self;function u(m){var v=typeof m;return v=="object"&&m!=null||v=="function"}function f(m,v,x){return m.call.apply(m.bind,arguments)}function d(m,v,x){return d=f,d.apply(null,arguments)}function p(m,v){var x=Array.prototype.slice.call(arguments,1);return function(){var D=x.slice();return D.push.apply(D,arguments),m.apply(this,D)}}function _(m,v){function x(){}x.prototype=v.prototype,m.Z=v.prototype,m.prototype=new x,m.prototype.constructor=m,m.Ob=function(D,W,J){for(var lt=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)lt[Mt-2]=arguments[Mt];return v.prototype[W].apply(D,lt)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function T(m){const v=m.length;if(v>0){const x=Array(v);for(let D=0;D<v;D++)x[D]=m[D];return x}return[]}function A(m,v){for(let D=1;D<arguments.length;D++){const W=arguments[D];var x=typeof W;if(x=x!="object"?x:W?Array.isArray(W)?"array":x:"null",x=="array"||x=="object"&&typeof W.length=="number"){x=m.length||0;const J=W.length||0;m.length=x+J;for(let lt=0;lt<J;lt++)m[x+lt]=W[lt]}else m.push(W)}}class w{constructor(v,x){this.i=v,this.j=x,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function R(m){l.setTimeout(()=>{throw m},0)}function O(){var m=N;let v=null;return m.g&&(v=m.g,m.g=m.g.next,m.g||(m.h=null),v.next=null),v}class V{constructor(){this.h=this.g=null}add(v,x){const D=H.get();D.set(v,x),this.h?this.h.next=D:this.g=D,this.h=D}}var H=new w(()=>new G,m=>m.reset());class G{constructor(){this.next=this.g=this.h=null}set(v,x){this.h=v,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,nt=!1,N=new V,M=()=>{const m=Promise.resolve(void 0);Y=()=>{m.then(I)}};function I(){for(var m;m=O();){try{m.h.call(m.g)}catch(x){R(x)}var v=H;v.j(m),v.h<100&&(v.h++,m.next=v.g,v.g=m)}nt=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(m,v){this.type=m,this.g=this.target=v,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,v=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const x=()=>{};l.addEventListener("test",x,v),l.removeEventListener("test",x,v)}catch{}return m})();function k(m){return/^[\s\xa0]*$/.test(m)}function ut(m,v){L.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,v)}_(ut,L),ut.prototype.init=function(m,v){const x=this.type=m.type,D=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=v,v=m.relatedTarget,v||(x=="mouseover"?v=m.fromElement:x=="mouseout"&&(v=m.toElement)),this.relatedTarget=v,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&ut.Z.h.call(this)},ut.prototype.h=function(){ut.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var gt="closure_listenable_"+(Math.random()*1e6|0),X=0;function ot(m,v,x,D,W){this.listener=m,this.proxy=null,this.src=v,this.type=x,this.capture=!!D,this.ha=W,this.key=++X,this.da=this.fa=!1}function mt(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function bt(m,v,x){for(const D in m)v.call(x,m[D],D,m)}function Nt(m,v){for(const x in m)v.call(void 0,m[x],x,m)}function U(m){const v={};for(const x in m)v[x]=m[x];return v}const et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(m,v){let x,D;for(let W=1;W<arguments.length;W++){D=arguments[W];for(x in D)m[x]=D[x];for(let J=0;J<et.length;J++)x=et[J],Object.prototype.hasOwnProperty.call(D,x)&&(m[x]=D[x])}}function ht(m){this.src=m,this.g={},this.h=0}ht.prototype.add=function(m,v,x,D,W){const J=m.toString();m=this.g[J],m||(m=this.g[J]=[],this.h++);const lt=St(m,v,D,W);return lt>-1?(v=m[lt],x||(v.fa=!1)):(v=new ot(v,this.src,J,!!D,W),v.fa=x,m.push(v)),v};function Et(m,v){const x=v.type;if(x in m.g){var D=m.g[x],W=Array.prototype.indexOf.call(D,v,void 0),J;(J=W>=0)&&Array.prototype.splice.call(D,W,1),J&&(mt(v),m.g[x].length==0&&(delete m.g[x],m.h--))}}function St(m,v,x,D){for(let W=0;W<m.length;++W){const J=m[W];if(!J.da&&J.listener==v&&J.capture==!!x&&J.ha==D)return W}return-1}var Ht="closure_lm_"+(Math.random()*1e6|0),He={};function ge(m,v,x,D,W){if(Array.isArray(v)){for(let J=0;J<v.length;J++)ge(m,v[J],x,D,W);return null}return x=Hl(x),m&&m[gt]?m.J(v,x,u(D)?!!D.capture:!1,W):aa(m,v,x,!1,D,W)}function aa(m,v,x,D,W,J){if(!v)throw Error("Invalid event type");const lt=u(W)?!!W.capture:!!W;let Mt=oa(m);if(Mt||(m[Ht]=Mt=new ht(m)),x=Mt.add(v,x,D,lt,J),x.proxy)return x;if(D=co(),x.proxy=D,D.src=m,D.listener=x,m.addEventListener)z||(W=lt),W===void 0&&(W=!1),m.addEventListener(v.toString(),D,W);else if(m.attachEvent)m.attachEvent(Ci(v.toString()),D);else if(m.addListener&&m.removeListener)m.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return x}function co(){function m(x){return v.call(m.src,m.listener,x)}const v=Bl;return m}function uo(m,v,x,D,W){if(Array.isArray(v))for(var J=0;J<v.length;J++)uo(m,v[J],x,D,W);else D=u(D)?!!D.capture:!!D,x=Hl(x),m&&m[gt]?(m=m.i,J=String(v).toString(),J in m.g&&(v=m.g[J],x=St(v,x,D,W),x>-1&&(mt(v[x]),Array.prototype.splice.call(v,x,1),v.length==0&&(delete m.g[J],m.h--)))):m&&(m=oa(m))&&(v=m.g[v.toString()],m=-1,v&&(m=St(v,x,D,W)),(x=m>-1?v[m]:null)&&ho(x))}function ho(m){if(typeof m!="number"&&m&&!m.da){var v=m.src;if(v&&v[gt])Et(v.i,m);else{var x=m.type,D=m.proxy;v.removeEventListener?v.removeEventListener(x,D,m.capture):v.detachEvent?v.detachEvent(Ci(x),D):v.addListener&&v.removeListener&&v.removeListener(D),(x=oa(v))?(Et(x,m),x.h==0&&(x.src=null,v[Ht]=null)):mt(m)}}}function Ci(m){return m in He?He[m]:He[m]="on"+m}function Bl(m,v){if(m.da)m=!0;else{v=new ut(v,this);const x=m.listener,D=m.ha||m.src;m.fa&&ho(m),m=x.call(D,v)}return m}function oa(m){return m=m[Ht],m instanceof ht?m:null}var Fl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Hl(m){return typeof m=="function"?m:(m[Fl]||(m[Fl]=function(v){return m.handleEvent(v)}),m[Fl])}function Ie(){P.call(this),this.i=new ht(this),this.M=this,this.G=null}_(Ie,P),Ie.prototype[gt]=!0,Ie.prototype.removeEventListener=function(m,v,x,D){uo(this,m,v,x,D)};function qe(m,v){var x,D=m.G;if(D)for(x=[];D;D=D.G)x.push(D);if(m=m.M,D=v.type||v,typeof v=="string")v=new L(v,m);else if(v instanceof L)v.target=v.target||m;else{var W=v;v=new L(D,m),ct(v,W)}W=!0;let J,lt;if(x)for(lt=x.length-1;lt>=0;lt--)J=v.g=x[lt],W=Qs(J,D,!0,v)&&W;if(J=v.g=m,W=Qs(J,D,!0,v)&&W,W=Qs(J,D,!1,v)&&W,x)for(lt=0;lt<x.length;lt++)J=v.g=x[lt],W=Qs(J,D,!1,v)&&W}Ie.prototype.N=function(){if(Ie.Z.N.call(this),this.i){var m=this.i;for(const v in m.g){const x=m.g[v];for(let D=0;D<x.length;D++)mt(x[D]);delete m.g[v],m.h--}}this.G=null},Ie.prototype.J=function(m,v,x,D){return this.i.add(String(m),v,!1,x,D)},Ie.prototype.K=function(m,v,x,D){return this.i.add(String(m),v,!0,x,D)};function Qs(m,v,x,D){if(v=m.i.g[String(v)],!v)return!0;v=v.concat();let W=!0;for(let J=0;J<v.length;++J){const lt=v[J];if(lt&&!lt.da&&lt.capture==x){const Mt=lt.listener,we=lt.ha||lt.src;lt.fa&&Et(m.i,lt),W=Mt.call(we,D)!==!1&&W}}return W&&!D.defaultPrevented}function Nm(m,v){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:l.setTimeout(m,v||0)}function hh(m){m.g=Nm(()=>{m.g=null,m.i&&(m.i=!1,hh(m))},m.l);const v=m.h;m.h=null,m.m.apply(null,v)}class vn extends P{constructor(v,x){super(),this.m=v,this.l=x,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:hh(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function la(m){P.call(this),this.h=m,this.g={}}_(la,P);var ql=[];function Gl(m){bt(m.g,function(v,x){this.g.hasOwnProperty(x)&&ho(v)},m),m.g={}}la.prototype.N=function(){la.Z.N.call(this),Gl(this)},la.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Js=l.JSON.stringify,km=l.JSON.parse,fh=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function dh(){}function mh(){}var di={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function en(){L.call(this,"d")}_(en,L);function Wn(){L.call(this,"c")}_(Wn,L);var Se={},gh=null;function fo(){return gh=gh||new Ie}Se.Ia="serverreachability";function ph(m){L.call(this,Se.Ia,m)}_(ph,L);function Mi(m){const v=fo();qe(v,new ph(v))}Se.STAT_EVENT="statevent";function ca(m,v){L.call(this,Se.STAT_EVENT,m),this.stat=v}_(ca,L);function De(m){const v=fo();qe(v,new ca(v,m))}Se.Ja="timingevent";function Ii(m,v){L.call(this,Se.Ja,m),this.size=v}_(Ii,L);function Di(m,v){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},v)}function mi(){this.g=!0}mi.prototype.ua=function(){this.g=!1};function Pm(m,v,x,D,W,J){m.info(function(){if(m.g)if(J){var lt="",Mt=J.split("&");for(let $t=0;$t<Mt.length;$t++){var we=Mt[$t].split("=");if(we.length>1){const pe=we[0];we=we[1];const Qn=pe.split("_");lt=Qn.length>=2&&Qn[1]=="type"?lt+(pe+"="+we+"&"):lt+(pe+"=redacted&")}}}else lt=null;else lt=J;return"XMLHTTP REQ ("+D+") [attempt "+W+"]: "+v+`
`+x+`
`+lt})}function yh(m,v,x,D,W,J,lt){m.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+W+"]: "+v+`
`+x+`
`+J+" "+lt})}function Oi(m,v,x,D){m.info(function(){return"XMLHTTP TEXT ("+v+"): "+Lm(m,x)+(D?" "+D:"")})}function ua(m,v){m.info(function(){return"TIMEOUT: "+v})}mi.prototype.info=function(){};function Lm(m,v){if(!m.g)return v;if(!v)return null;try{const J=JSON.parse(v);if(J){for(m=0;m<J.length;m++)if(Array.isArray(J[m])){var x=J[m];if(!(x.length<2)){var D=x[1];if(Array.isArray(D)&&!(D.length<1)){var W=D[0];if(W!="noop"&&W!="stop"&&W!="close")for(let lt=1;lt<D.length;lt++)D[lt]=""}}}}return Js(J)}catch{return v}}var ha={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Yl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Wl;function fa(){}_(fa,dh),fa.prototype.g=function(){return new XMLHttpRequest},Wl=new fa;function hs(m){return encodeURIComponent(String(m))}function _h(m){var v=1;m=m.split(":");const x=[];for(;v>0&&m.length;)x.push(m.shift()),v--;return m.length&&x.push(m.join(":")),x}function gi(m,v,x,D){this.j=m,this.i=v,this.l=x,this.S=D||1,this.V=new la(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pi}function pi(){this.i=null,this.g="",this.h=!1}var Oe={},Ke={};function Ni(m,v,x){m.M=1,m.A=da(ke(v)),m.u=x,m.R=!0,mo(m,null)}function mo(m,v){m.F=Date.now(),ki(m),m.B=ke(m.A);var x=m.B,D=m.S;Array.isArray(D)||(D=[String(D)]),_o(x.i,"t",D),m.C=0,x=m.j.L,m.h=new pi,m.g=Nh(m.j,x?v:null,!m.u),m.P>0&&(m.O=new vn(d(m.Y,m,m.g),m.P)),v=m.V,x=m.g,D=m.ba;var W="readystatechange";Array.isArray(W)||(W&&(ql[0]=W.toString()),W=ql);for(let J=0;J<W.length;J++){const lt=ge(x,W[J],D||v.handleEvent,!1,v.h||v);if(!lt)break;v.g[lt.key]=lt}v=m.J?U(m.J):{},m.u?(m.v||(m.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,v)):(m.v="GET",m.g.ea(m.B,m.v,null,v)),Mi(),Pm(m.i,m.v,m.B,m.l,m.S,m.u)}gi.prototype.ba=function(m){m=m.target;const v=this.O;v&&vi(m)==3?v.j():this.Y(m)},gi.prototype.Y=function(m){try{if(m==this.g)t:{const Mt=vi(this.g),we=this.g.ya(),$t=this.g.ca();if(!(Mt<3)&&(Mt!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||Mt!=4||we==7||(we==8||$t<=0?Mi(3):Mi(2)),Pi(this);var v=this.g.ca();this.X=v;var x=Vm(this);if(this.o=v==200,yh(this.i,this.v,this.B,this.l,this.S,Mt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var D,W=this.g;if((D=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(D)){var J=D;break e}}J=null}if(m=J)Oi(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Li(this,m);else{this.o=!1,this.m=3,De(12),Pn(this),$n(this);break t}}if(this.R){m=!0;let pe;for(;!this.K&&this.C<x.length;)if(pe=bh(this,x),pe==Ke){Mt==4&&(this.m=4,De(14),m=!1),Oi(this.i,this.l,null,"[Incomplete Response]");break}else if(pe==Oe){this.m=4,De(15),Oi(this.i,this.l,x,"[Invalid Chunk]"),m=!1;break}else Oi(this.i,this.l,pe,null),Li(this,pe);if(vh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||x.length!=0||this.h.h||(this.m=1,De(16),m=!1),this.o=this.o&&m,!m)Oi(this.i,this.l,x,"[Invalid Chunked Response]"),Pn(this),$n(this);else if(x.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),lc(lt),lt.P=!0,De(11))}}else Oi(this.i,this.l,x,null),Li(this,x);Mt==4&&Pn(this),this.o&&!this.K&&(Mt==4?Mh(this.j,this):(this.o=!1,ki(this)))}else ds(this.g),v==400&&x.indexOf("Unknown SID")>0?(this.m=3,De(12)):(this.m=0,De(13)),Pn(this),$n(this)}}}catch{}};function Vm(m){if(!vh(m))return m.g.la();const v=nn(m.g);if(v==="")return"";let x="";const D=v.length,W=vi(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Pn(m),$n(m),"";m.h.i=new l.TextDecoder}for(let J=0;J<D;J++)m.h.h=!0,x+=m.h.i.decode(v[J],{stream:!(W&&J==D-1)});return v.length=0,m.h.g+=x,m.C=0,m.h.g}function vh(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function bh(m,v){var x=m.C,D=v.indexOf(`
`,x);return D==-1?Ke:(x=Number(v.substring(x,D)),isNaN(x)?Oe:(D+=1,D+x>v.length?Ke:(v=v.slice(D,D+x),m.C=D+x,v)))}gi.prototype.cancel=function(){this.K=!0,Pn(this)};function ki(m){m.T=Date.now()+m.H,go(m,m.H)}function go(m,v){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Di(d(m.aa,m),v)}function Pi(m){m.D&&(l.clearTimeout(m.D),m.D=null)}gi.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(ua(this.i,this.B),this.M!=2&&(Mi(),De(17)),Pn(this),this.m=2,$n(this)):go(this,this.T-m)};function $n(m){m.j.I==0||m.K||Mh(m.j,m)}function Pn(m){Pi(m);var v=m.O;v&&typeof v.dispose=="function"&&v.dispose(),m.O=null,Gl(m.V),m.g&&(v=m.g,m.g=null,v.abort(),v.dispose())}function Li(m,v){try{var x=m.j;if(x.I!=0&&(x.g==m||ji(x.h,m))){if(!m.L&&ji(x.h,m)&&x.I==3){try{var D=x.Ba.g.parse(v)}catch{D=null}if(Array.isArray(D)&&D.length==3){var W=D;if(W[0]==0){t:if(!x.v){if(x.g)if(x.g.F+3e3<m.F)So(x),ar(x);else break t;ba(x),De(18)}}else x.xa=W[1],0<x.xa-x.K&&W[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Di(d(x.Va,x),6e3));Vi(x.h)<=1&&x.ta&&(x.ta=void 0)}else qi(x,11)}else if((m.L||x.g==m)&&So(x),!k(v))for(W=x.Ba.g.parse(v),v=0;v<W.length;v++){let $t=W[v];const pe=$t[0];if(!(pe<=x.K))if(x.K=pe,$t=$t[1],x.I==2)if($t[0]=="c"){x.M=$t[1],x.ba=$t[2];const Qn=$t[3];Qn!=null&&(x.ka=Qn,x.j.info("VER="+x.ka));const Gi=$t[4];Gi!=null&&(x.za=Gi,x.j.info("SVER="+x.za));const bi=$t[5];bi!=null&&typeof bi=="number"&&bi>0&&(D=1.5*bi,x.O=D,x.j.info("backChannelRequestTimeoutMs_="+D)),D=x;const Ei=m.g;if(Ei){const Ea=Ei.g?Ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ea){var J=D.h;J.g||Ea.indexOf("spdy")==-1&&Ea.indexOf("quic")==-1&&Ea.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Xl(J,J.h),J.h=null))}if(D.G){const wo=Ei.g?Ei.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(D.wa=wo,Jt(D.J,D.G,wo))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-m.F,x.j.info("Handshake RTT: "+x.T+"ms")),D=x;var lt=m;if(D.na=Oh(D,D.L?D.ba:null,D.W),lt.L){Ql(D.h,lt);var Mt=lt,we=D.O;we&&(Mt.H=we),Mt.D&&(Pi(Mt),ki(Mt)),D.g=lt}else Rh(D);x.i.length>0&&Hi(x)}else $t[0]!="stop"&&$t[0]!="close"||qi(x,7);else x.I==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?qi(x,7):ac(x):$t[0]!="noop"&&x.l&&x.l.qa($t),x.A=0)}}Mi(4)}catch{}}var Ne=class{constructor(m,v){this.g=m,this.map=v}};function $l(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Kl(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Vi(m){return m.h?1:m.g?m.g.size:0}function ji(m,v){return m.h?m.h==v:m.g?m.g.has(v):!1}function Xl(m,v){m.g?m.g.add(v):m.h=v}function Ql(m,v){m.h&&m.h==v?m.h=null:m.g&&m.g.has(v)&&m.g.delete(v)}$l.prototype.cancel=function(){if(this.i=Jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Jl(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let v=m.i;for(const x of m.g.values())v=v.concat(x.G);return v}return T(m.i)}var Eh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function po(m,v){if(m){m=m.split("&");for(let x=0;x<m.length;x++){const D=m[x].indexOf("=");let W,J=null;D>=0?(W=m[x].substring(0,D),J=m[x].substring(D+1)):W=m[x],v(W,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Ln(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;m instanceof Ln?(this.l=m.l,Xe(this,m.j),this.o=m.o,this.g=m.g,Zs(this,m.u),this.h=m.h,Zl(this,xh(m.i)),this.m=m.m):m&&(v=String(m).match(Eh))?(this.l=!1,Xe(this,v[1]||"",!0),this.o=zi(v[2]||""),this.g=zi(v[3]||"",!0),Zs(this,v[4]),this.h=zi(v[5]||"",!0),Zl(this,v[6]||"",!0),this.m=zi(v[7]||"")):(this.l=!1,this.i=new er(null,this.l))}Ln.prototype.toString=function(){const m=[];var v=this.j;v&&m.push(ma(v,yo,!0),":");var x=this.g;return(x||v=="file")&&(m.push("//"),(v=this.o)&&m.push(ma(v,yo,!0),"@"),m.push(hs(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&m.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&m.push("/"),m.push(ma(x,x.charAt(0)=="/"?tc:Th,!0))),(x=this.i.toString())&&m.push("?",x),(x=this.m)&&m.push("#",ma(x,Sh)),m.join("")},Ln.prototype.resolve=function(m){const v=ke(this);let x=!!m.j;x?Xe(v,m.j):x=!!m.o,x?v.o=m.o:x=!!m.g,x?v.g=m.g:x=m.u!=null;var D=m.h;if(x)Zs(v,m.u);else if(x=!!m.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var W=v.h.lastIndexOf("/");W!=-1&&(D=v.h.slice(0,W+1)+D)}if(W=D,W==".."||W==".")D="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){D=W.lastIndexOf("/",0)==0,W=W.split("/");const J=[];for(let lt=0;lt<W.length;){const Mt=W[lt++];Mt=="."?D&&lt==W.length&&J.push(""):Mt==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),D&&lt==W.length&&J.push("")):(J.push(Mt),D=!0)}D=J.join("/")}else D=W}return x?v.h=D:x=m.i.toString()!=="",x?Zl(v,xh(m.i)):x=!!m.m,x&&(v.m=m.m),v};function ke(m){return new Ln(m)}function Xe(m,v,x){m.j=x?zi(v,!0):v,m.j&&(m.j=m.j.replace(/:$/,""))}function Zs(m,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);m.u=v}else m.u=null}function Zl(m,v,x){v instanceof er?(m.i=v,vo(m.i,m.l)):(x||(v=ma(v,tr)),m.i=new er(v,m.l))}function Jt(m,v,x){m.i.set(v,x)}function da(m){return Jt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function zi(m,v){return m?v?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ma(m,v,x){return typeof m=="string"?(m=encodeURI(m).replace(v,Tn),x&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Tn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var yo=/[#\/\?@]/g,Th=/[#\?:]/g,tc=/[#\?]/g,tr=/[#\?@]/g,Sh=/#/g;function er(m,v){this.h=this.g=null,this.i=m||null,this.j=!!v}function Sn(m){m.g||(m.g=new Map,m.h=0,m.i&&po(m.i,function(v,x){m.add(decodeURIComponent(v.replace(/\+/g," ")),x)}))}n=er.prototype,n.add=function(m,v){Sn(this),this.i=null,m=nr(this,m);let x=this.g.get(m);return x||this.g.set(m,x=[]),x.push(v),this.h+=1,this};function wh(m,v){Sn(m),v=nr(m,v),m.g.has(v)&&(m.i=null,m.h-=m.g.get(v).length,m.g.delete(v))}function ec(m,v){return Sn(m),v=nr(m,v),m.g.has(v)}n.forEach=function(m,v){Sn(this),this.g.forEach(function(x,D){x.forEach(function(W){m.call(v,W,D,this)},this)},this)};function nc(m,v){Sn(m);let x=[];if(typeof v=="string")ec(m,v)&&(x=x.concat(m.g.get(nr(m,v))));else for(m=Array.from(m.g.values()),v=0;v<m.length;v++)x=x.concat(m[v]);return x}n.set=function(m,v){return Sn(this),this.i=null,m=nr(this,m),ec(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[v]),this.h+=1,this},n.get=function(m,v){return m?(m=nc(this,m),m.length>0?String(m[0]):v):v};function _o(m,v,x){wh(m,v),x.length>0&&(m.i=null,m.g.set(nr(m,v),T(x)),m.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],v=Array.from(this.g.keys());for(let D=0;D<v.length;D++){var x=v[D];const W=hs(x);x=nc(this,x);for(let J=0;J<x.length;J++){let lt=W;x[J]!==""&&(lt+="="+hs(x[J])),m.push(lt)}}return this.i=m.join("&")};function xh(m){const v=new er;return v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),v}function nr(m,v){return v=String(v),m.j&&(v=v.toLowerCase()),v}function vo(m,v){v&&!m.j&&(Sn(m),m.i=null,m.g.forEach(function(x,D){const W=D.toLowerCase();D!=W&&(wh(this,D),_o(this,W,x))},m)),m.j=v}function yi(m,v){const x=new mi;if(l.Image){const D=new Image;D.onload=p(Kn,x,"TestLoadImage: loaded",!0,v,D),D.onerror=p(Kn,x,"TestLoadImage: error",!1,v,D),D.onabort=p(Kn,x,"TestLoadImage: abort",!1,v,D),D.ontimeout=p(Kn,x,"TestLoadImage: timeout",!1,v,D),l.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=m}else v(!1)}function ic(m,v){const x=new mi,D=new AbortController,W=setTimeout(()=>{D.abort(),Kn(x,"TestPingServer: timeout",!1,v)},1e4);fetch(m,{signal:D.signal}).then(J=>{clearTimeout(W),J.ok?Kn(x,"TestPingServer: ok",!0,v):Kn(x,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),Kn(x,"TestPingServer: error",!1,v)})}function Kn(m,v,x,D,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),D(x)}catch{}}function ir(){this.g=new fh}function Ui(m){this.i=m.Sb||null,this.h=m.ab||!1}_(Ui,dh),Ui.prototype.g=function(){return new ga(this.i,this.h)};function ga(m,v){Ie.call(this),this.H=m,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(ga,Ie),n=ga.prototype,n.open=function(m,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=v,this.readyState=1,_i(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(v.body=m),(this.H||l).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,sr(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,_i(this)),this.g&&(this.readyState=3,_i(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bo(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function bo(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var v=m.value?m.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!m.done}))&&(this.response=this.responseText+=v)}m.done?sr(this):_i(this),this.readyState==3&&bo(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,sr(this))},n.Na=function(m){this.g&&(this.response=m,sr(this))},n.ga=function(){this.g&&sr(this)};function sr(m){m.readyState=4,m.l=null,m.j=null,m.B=null,_i(m)}n.setRequestHeader=function(m,v){this.A.append(m,v)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],v=this.h.entries();for(var x=v.next();!x.done;)x=x.value,m.push(x[0]+": "+x[1]),x=v.next();return m.join(`\r
`)};function _i(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ga.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Xn(m){let v="";return bt(m,function(x,D){v+=D,v+=":",v+=x,v+=`\r
`}),v}function pa(m,v,x){t:{for(D in x){var D=!1;break t}D=!0}D||(x=Xn(x),typeof m=="string"?x!=null&&hs(x):Jt(m,v,x))}function se(m){Ie.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(se,Ie);var Bi=/^https?$/i,sc=["POST","PUT"];n=se.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,v,x,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);v=v?v.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Wl.g(),this.g.onreadystatechange=b(d(this.Ca,this));try{this.B=!0,this.g.open(v,String(m),!0),this.B=!1}catch(J){ya(this,J);return}if(m=x||"",x=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var W in D)x.set(W,D[W]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const J of D.keys())x.set(J,D.get(J));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(x.keys()).find(J=>J.toLowerCase()=="content-type"),W=l.FormData&&m instanceof l.FormData,!(Array.prototype.indexOf.call(sc,v,void 0)>=0)||D||W||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,lt]of x)this.g.setRequestHeader(J,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(J){ya(this,J)}};function ya(m,v){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=v,m.o=5,rc(m),fs(m)}function rc(m){m.A||(m.A=!0,qe(m,"complete"),qe(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,qe(this,"complete"),qe(this,"abort"),fs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fs(this,!0)),se.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?_a(this):this.Xa())},n.Xa=function(){_a(this)};function _a(m){if(m.h&&typeof o<"u"){if(m.v&&vi(m)==4)setTimeout(m.Ca.bind(m),0);else if(qe(m,"readystatechange"),vi(m)==4){m.h=!1;try{const J=m.ca();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var x;if(!(x=v)){var D;if(D=J===0){let lt=String(m.D).match(Eh)[1]||null;!lt&&l.self&&l.self.location&&(lt=l.self.location.protocol.slice(0,-1)),D=!Bi.test(lt?lt.toLowerCase():"")}x=D}if(x)qe(m,"complete"),qe(m,"success");else{m.o=6;try{var W=vi(m)>2?m.g.statusText:""}catch{W=""}m.l=W+" ["+m.ca()+"]",rc(m)}}finally{fs(m)}}}}function fs(m,v){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const x=m.g;m.g=null,v||qe(m,"ready");try{x.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function vi(m){return m.g?m.g.readyState:0}n.ca=function(){try{return vi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var v=this.g.responseText;return m&&v.indexOf(m)==0&&(v=v.substring(m.length)),km(v)}};function nn(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function ds(m){const v={};m=(m.g&&vi(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<m.length;D++){if(k(m[D]))continue;var x=_h(m[D]);const W=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const J=v[W]||[];v[W]=J,J.push(x)}Nt(v,function(D){return D.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fi(m,v,x){return x&&x.internalChannelParams&&x.internalChannelParams[m]||v}function rr(m){this.za=0,this.i=[],this.j=new mi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fi("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fi("baseRetryDelayMs",5e3,m),this.Za=Fi("retryDelaySeedMs",1e4,m),this.Ta=Fi("forwardChannelMaxRetries",2,m),this.va=Fi("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new $l(m&&m.concurrentRequestLimit),this.Ba=new ir,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=rr.prototype,n.ka=8,n.I=1,n.connect=function(m,v,x,D){De(0),this.W=m,this.H=v||{},x&&D!==void 0&&(this.H.OSID=x,this.H.OAID=D),this.F=this.X,this.J=Oh(this,null,this.W),Hi(this)};function ac(m){if(Eo(m),m.I==3){var v=m.V++,x=ke(m.J);if(Jt(x,"SID",m.M),Jt(x,"RID",v),Jt(x,"TYPE","terminate"),va(m,x),v=new gi(m,m.j,v),v.M=2,v.A=da(ke(x)),x=!1,l.navigator&&l.navigator.sendBeacon)try{x=l.navigator.sendBeacon(v.A.toString(),"")}catch{}!x&&l.Image&&(new Image().src=v.A,x=!0),x||(v.g=Nh(v.j,null),v.g.ea(v.A)),v.F=Date.now(),ki(v)}Dh(m)}function ar(m){m.g&&(lc(m),m.g.cancel(),m.g=null)}function Eo(m){ar(m),m.v&&(l.clearTimeout(m.v),m.v=null),So(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&l.clearTimeout(m.m),m.m=null)}function Hi(m){if(!Kl(m.h)&&!m.m){m.m=!0;var v=m.Ea;Y||M(),nt||(Y(),nt=!0),N.add(v,m),m.D=0}}function To(m,v){return Vi(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=v.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Di(d(m.Ea,m,v),Ih(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const W=new gi(this,this.j,m);let J=this.o;if(this.U&&(J?(J=U(J),ct(J,this.U)):J=this.U),this.u!==null||this.R||(W.J=J,J=null),this.S)t:{for(var v=0,x=0;x<this.i.length;x++){e:{var D=this.i[x];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break e}D=void 0}if(D===void 0)break;if(v+=D,v>4096){v=x;break t}if(v===4096||x===this.i.length-1){v=x+1;break t}}v=1e3}else v=1e3;v=Ah(this,W,v),x=ke(this.J),Jt(x,"RID",m),Jt(x,"CVER",22),this.G&&Jt(x,"X-HTTP-Session-Id",this.G),va(this,x),J&&(this.R?v="headers="+hs(Xn(J))+"&"+v:this.u&&pa(x,this.u,J)),Xl(this.h,W),this.Ra&&Jt(x,"TYPE","init"),this.S?(Jt(x,"$req",v),Jt(x,"SID","null"),W.U=!0,Ni(W,x,null)):Ni(W,x,v),this.I=2}}else this.I==3&&(m?oc(this,m):this.i.length==0||Kl(this.h)||oc(this))};function oc(m,v){var x;v?x=v.l:x=m.V++;const D=ke(m.J);Jt(D,"SID",m.M),Jt(D,"RID",x),Jt(D,"AID",m.K),va(m,D),m.u&&m.o&&pa(D,m.u,m.o),x=new gi(m,m.j,x,m.D+1),m.u===null&&(x.J=m.o),v&&(m.i=v.G.concat(m.i)),v=Ah(m,x,1e3),x.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Xl(m.h,x),Ni(x,D,v)}function va(m,v){m.H&&bt(m.H,function(x,D){Jt(v,D,x)}),m.l&&bt({},function(x,D){Jt(v,D,x)})}function Ah(m,v,x){x=Math.min(m.i.length,x);const D=m.l?d(m.l.Ka,m.l,m):null;t:{var W=m.i;let Mt=-1;for(;;){const we=["count="+x];Mt==-1?x>0?(Mt=W[0].g,we.push("ofs="+Mt)):Mt=0:we.push("ofs="+Mt);let $t=!0;for(let pe=0;pe<x;pe++){var J=W[pe].g;const Qn=W[pe].map;if(J-=Mt,J<0)Mt=Math.max(0,W[pe].g-100),$t=!1;else try{J="req"+J+"_"||"";try{var lt=Qn instanceof Map?Qn:Object.entries(Qn);for(const[Gi,bi]of lt){let Ei=bi;u(bi)&&(Ei=Js(bi)),we.push(J+Gi+"="+encodeURIComponent(Ei))}}catch(Gi){throw we.push(J+"type="+encodeURIComponent("_badmap")),Gi}}catch{D&&D(Qn)}}if($t){lt=we.join("&");break t}}lt=void 0}return m=m.i.splice(0,x),v.G=m,lt}function Rh(m){if(!m.g&&!m.v){m.Y=1;var v=m.Da;Y||M(),nt||(Y(),nt=!0),N.add(v,m),m.A=0}}function ba(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Di(d(m.Da,m),Ih(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,Ch(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Di(d(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,De(10),ar(this),Ch(this))};function lc(m){m.B!=null&&(l.clearTimeout(m.B),m.B=null)}function Ch(m){m.g=new gi(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var v=ke(m.na);Jt(v,"RID","rpc"),Jt(v,"SID",m.M),Jt(v,"AID",m.K),Jt(v,"CI",m.F?"0":"1"),!m.F&&m.ia&&Jt(v,"TO",m.ia),Jt(v,"TYPE","xmlhttp"),va(m,v),m.u&&m.o&&pa(v,m.u,m.o),m.O&&(m.g.H=m.O);var x=m.g;m=m.ba,x.M=1,x.A=da(ke(v)),x.u=null,x.R=!0,mo(x,m)}n.Va=function(){this.C!=null&&(this.C=null,ar(this),ba(this),De(19))};function So(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function Mh(m,v){var x=null;if(m.g==v){So(m),lc(m),m.g=null;var D=2}else if(ji(m.h,v))x=v.G,Ql(m.h,v),D=1;else return;if(m.I!=0){if(v.o)if(D==1){x=v.u?v.u.length:0,v=Date.now()-v.F;var W=m.D;D=fo(),qe(D,new Ii(D,x)),Hi(m)}else Rh(m);else if(W=v.m,W==3||W==0&&v.X>0||!(D==1&&To(m,v)||D==2&&ba(m)))switch(x&&x.length>0&&(v=m.h,v.i=v.i.concat(x)),W){case 1:qi(m,5);break;case 4:qi(m,10);break;case 3:qi(m,6);break;default:qi(m,2)}}}function Ih(m,v){let x=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(x*=2),x*v}function qi(m,v){if(m.j.info("Error code "+v),v==2){var x=d(m.bb,m),D=m.Ua;const W=!D;D=new Ln(D||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Xe(D,"https"),da(D),W?yi(D.toString(),x):ic(D.toString(),x)}else De(2);m.I=0,m.l&&m.l.pa(v),Dh(m),Eo(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))};function Dh(m){if(m.I=0,m.ja=[],m.l){const v=Jl(m.h);(v.length!=0||m.i.length!=0)&&(A(m.ja,v),A(m.ja,m.i),m.h.i.length=0,T(m.i),m.i.length=0),m.l.oa()}}function Oh(m,v,x){var D=x instanceof Ln?ke(x):new Ln(x);if(D.g!="")v&&(D.g=v+"."+D.g),Zs(D,D.u);else{var W=l.location;D=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;const J=new Ln(null);D&&Xe(J,D),v&&(J.g=v),W&&Zs(J,W),x&&(J.h=x),D=J}return x=m.G,v=m.wa,x&&v&&Jt(D,x,v),Jt(D,"VER",m.ka),va(m,D),D}function Nh(m,v,x){if(v&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=m.Aa&&!m.ma?new se(new Ui({ab:x})):new se(m.ma),v.Fa(m.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function kh(){}n=kh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function or(){}or.prototype.g=function(m,v){return new bn(m,v)};function bn(m,v){Ie.call(this),this.g=new rr(v),this.l=m,this.h=v&&v.messageUrlParams||null,m=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(m?m["X-WebChannel-Content-Type"]=v.messageContentType:m={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(m?m["X-WebChannel-Client-Profile"]=v.sa:m={"X-WebChannel-Client-Profile":v.sa}),this.g.U=m,(m=v&&v.Qb)&&!k(m)&&(this.g.u=m),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!k(v)&&(this.g.G=v,m=this.h,m!==null&&v in m&&(m=this.h,v in m&&delete m[v])),this.j=new ms(this)}_(bn,Ie),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){ac(this.g)},bn.prototype.o=function(m){var v=this.g;if(typeof m=="string"){var x={};x.__data__=m,m=x}else this.v&&(x={},x.__data__=Js(m),m=x);v.i.push(new Ne(v.Ya++,m)),v.I==3&&Hi(v)},bn.prototype.N=function(){this.g.l=null,delete this.j,ac(this.g),delete this.g,bn.Z.N.call(this)};function Ph(m){en.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var v=m.__sm__;if(v){t:{for(const x in v){m=x;break t}m=void 0}(this.i=m)&&(m=this.i,v=v!==null&&m in v?v[m]:void 0),this.data=v}else this.data=m}_(Ph,en);function Lh(){Wn.call(this),this.status=1}_(Lh,Wn);function ms(m){this.g=m}_(ms,kh),ms.prototype.ra=function(){qe(this.g,"a")},ms.prototype.qa=function(m){qe(this.g,new Ph(m))},ms.prototype.pa=function(m){qe(this.g,new Lh)},ms.prototype.oa=function(){qe(this.g,"b")},or.prototype.createWebChannel=or.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,Nw=function(){return new or},Ow=function(){return fo()},Dw=Se,Ry={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ha.NO_ERROR=0,ha.TIMEOUT=8,ha.HTTP_ERROR=6,md=ha,Yl.COMPLETE="complete",Iw=Yl,mh.EventType=di,di.OPEN="a",di.CLOSE="b",di.ERROR="c",di.MESSAGE="d",Ie.prototype.listen=Ie.prototype.J,su=mh,se.prototype.listenOnce=se.prototype.K,se.prototype.getLastError=se.prototype.Ha,se.prototype.getLastErrorCode=se.prototype.ya,se.prototype.getStatus=se.prototype.ca,se.prototype.getResponseJson=se.prototype.La,se.prototype.getResponseText=se.prototype.la,se.prototype.send=se.prototype.ea,se.prototype.setWithCredentials=se.prototype.Fa,Mw=se}).apply(typeof Hf<"u"?Hf:typeof self<"u"?self:typeof window<"u"?window:{});const LE="@firebase/firestore",VE="4.9.3";class In{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");let kl="12.7.0";const to=new m_("@firebase/firestore");function rl(){return to.logLevel}function dt(n,...t){if(to.logLevel<=jt.DEBUG){const e=t.map(x_);to.debug(`Firestore (${kl}): ${n}`,...e)}}function Gs(n,...t){if(to.logLevel<=jt.ERROR){const e=t.map(x_);to.error(`Firestore (${kl}): ${n}`,...e)}}function Ru(n,...t){if(to.logLevel<=jt.WARN){const e=t.map(x_);to.warn(`Firestore (${kl}): ${n}`,...e)}}function x_(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function xt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,kw(n,i,e)}function kw(n,t,e){let i=`FIRESTORE (${kl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Gs(i),new Error(i)}function Qt(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||kw(t,r,i)}function Ct(n,t){return n}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends $s{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wa{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class iN{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class sN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(In.UNAUTHENTICATED)))}shutdown(){}}class rN{constructor(t){this.t=t,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Qt(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new Wa;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Wa,t.enqueueRetryable((()=>r(this.currentUser)))};const l=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},u=f=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Wa)}}),0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qt(typeof i.accessToken=="string",31837,{l:i}),new iN(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new In(t)}}class aN{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=In.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oN{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new aN(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(In.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lN{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Qt(this.o===void 0,3512);const i=o=>{o.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,dt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const r=o=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new jE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Qt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new jE(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function cN(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class A_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=cN(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function zt(n,t){return n<t?-1:n>t?1:0}function Cy(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return Wp(r)===Wp(o)?zt(r,o):Wp(r)?1:-1}return zt(n.length,t.length)}const uN=55296,hN=57343;function Wp(n){const t=n.charCodeAt(0);return t>=uN&&t<=hN}function vl(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}const zE="__name__";class Zi{constructor(t,e,i){e===void 0?e=0:e>t.length&&xt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&xt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Zi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Zi?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Zi.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return zt(t.length,e.length)}static compareSegments(t,e){const i=Zi.isNumericId(t),r=Zi.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Zi.extractNumericId(t).compare(Zi.extractNumericId(e)):Cy(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Gr.fromString(t.substring(4,t.length-2))}}class ue extends Zi{construct(t,e,i){return new ue(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ft(rt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new ue(e)}static emptyPath(){return new ue([])}}const fN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Zi{construct(t,e,i){return new cn(t,e,i)}static isValidIdentifier(t){return fN.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zE}static keyField(){return new cn([zE])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new ft(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;r<t.length;){const u=t[r];if(u==="\\"){if(r+1===t.length)throw new ft(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ft(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(i+=u,r++):(o(),r++)}if(o(),l)throw new ft(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new cn(e)}static emptyPath(){return new cn([])}}class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ue.fromString(t))}static fromName(t){return new vt(ue.fromString(t).popFirst(5))}static empty(){return new vt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ue.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ue(t.slice()))}}function Pw(n,t,e){if(!e)throw new ft(rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function dN(n,t,e,i){if(t===!0&&i===!0)throw new ft(rt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function UE(n){if(!vt.isDocumentKey(n))throw new ft(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function BE(n){if(vt.isDocumentKey(n))throw new ft(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Lw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function om(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":xt(12329,{type:typeof n})}function Bs(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ft(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=om(n);throw new ft(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Fe(n,t){const e={typeString:n};return t&&(e.value=t),e}function th(n,t){if(!Lw(n))throw new ft(rt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const l=n[i];if(r&&typeof l!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&l!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new ft(rt.INVALID_ARGUMENT,e);return!0}const FE=-62135596800,HE=1e6;class me{static now(){return me.fromMillis(Date.now())}static fromDate(t){return me.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*HE);return new me(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ft(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ft(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<FE)throw new ft(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/HE}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(th(t,me._jsonSchema))return new me(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-FE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}me._jsonSchemaVersion="firestore/timestamp/1.0",me._jsonSchema={type:Fe("string",me._jsonSchemaVersion),seconds:Fe("number"),nanoseconds:Fe("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new me(0,0))}static max(){return new At(new me(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Cu=-1;function mN(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=At.fromTimestamp(i===1e9?new me(e+1,0):new me(e,i));return new $r(r,vt.empty(),t)}function gN(n){return new $r(n.readTime,n.key,Cu)}class $r{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new $r(At.min(),vt.empty(),Cu)}static max(){return new $r(At.max(),vt.empty(),Cu)}}function pN(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=vt.comparator(n.documentKey,t.documentKey),e!==0?e:zt(n.largestBatchId,t.largestBatchId))}const yN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _N{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Pl(n){if(n.code!==rt.FAILED_PRECONDITION||n.message!==yN)throw n;dt("LocalStore","Unexpectedly lost primary lease")}class at{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new at(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof at?e:at.resolve(e)}catch(e){return at.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):at.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):at.reject(e)}static resolve(t){return new at(((e,i)=>{e(t)}))}static reject(t){return new at(((e,i)=>{i(t)}))}static waitFor(t){return new at(((e,i)=>{let r=0,o=0,l=!1;t.forEach((u=>{++r,u.next((()=>{++o,l&&o===r&&e()}),(f=>i(f)))})),l=!0,o===r&&e()}))}static or(t){let e=at.resolve(!1);for(const i of t)e=e.next((r=>r?at.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,o)=>{i.push(e.call(this,r,o))})),this.waitFor(i)}static mapArray(t,e){return new at(((i,r)=>{const o=t.length,l=new Array(o);let u=0;for(let f=0;f<o;f++){const d=f;e(t[d]).next((p=>{l[d]=p,++u,u===o&&i(l)}),(p=>r(p)))}}))}static doWhile(t,e){return new at(((i,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):i()};o()}))}}function vN(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Ll(n){return n.name==="IndexedDbTransactionError"}class lm{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}lm.ce=-1;const R_=-1;function cm(n){return n==null}function Id(n){return n===0&&1/n==-1/0}function bN(n){return typeof n=="number"&&Number.isInteger(n)&&!Id(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Vw="";function EN(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=qE(t)),t=TN(n.get(e),t);return qE(t)}function TN(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case Vw:e+="";break;default:e+=o}}return e}function qE(n){return n+Vw+""}function GE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function sa(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function jw(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class be{constructor(t,e){this.comparator=t,this.root=e||ln.EMPTY}insert(t,e){return new be(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(t){return new be(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ln.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new qf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new qf(this.root,t,this.comparator,!1)}getReverseIterator(){return new qf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new qf(this.root,t,this.comparator,!0)}}class qf{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ln{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??ln.RED,this.left=r??ln.EMPTY,this.right=o??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new ln(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return ln.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw xt(27949);return t+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw xt(57766)}get value(){throw xt(16141)}get color(){throw xt(16727)}get left(){throw xt(29726)}get right(){throw xt(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new ln(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class We{constructor(t){this.comparator=t,this.data=new be(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new YE(this.data.getIterator())}getIteratorFrom(t){return new YE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof We)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new We(this.comparator);return e.data=t,e}}class YE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gn{constructor(t){this.fields=t,t.sort(cn.comparator)}static empty(){return new Gn([])}unionWith(t){let e=new We(cn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Gn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return vl(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class zw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new zw("Invalid base64 string: "+o):o}})(t);return new un(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o})(t);return new un(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}un.EMPTY_BYTE_STRING=new un("");const SN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(n){if(Qt(!!n,39018),typeof n=="string"){let t=0;const e=SN.exec(n);if(Qt(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Re(n.seconds),nanos:Re(n.nanos)}}function Re(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Xr(n){return typeof n=="string"?un.fromBase64String(n):un.fromUint8Array(n)}const Uw="server_timestamp",Bw="__type__",Fw="__previous_value__",Hw="__local_write_time__";function C_(n){return(n?.mapValue?.fields||{})[Bw]?.stringValue===Uw}function um(n){const t=n.mapValue.fields[Fw];return C_(t)?um(t):t}function Mu(n){const t=Kr(n.mapValue.fields[Hw].timestampValue);return new me(t.seconds,t.nanos)}class wN{constructor(t,e,i,r,o,l,u,f,d,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=p}}const Dd="(default)";class Iu{constructor(t,e){this.projectId=t,this.database=e||Dd}static empty(){return new Iu("","")}get isDefaultDatabase(){return this.database===Dd}isEqual(t){return t instanceof Iu&&t.projectId===this.projectId&&t.database===this.database}}const qw="__type__",xN="__max__",Gf={mapValue:{}},Gw="__vector__",Od="value";function Qr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?C_(n)?4:RN(n)?9007199254740991:AN(n)?10:11:xt(28295,{value:n})}function cs(n,t){if(n===t)return!0;const e=Qr(n);if(e!==Qr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Mu(n).isEqual(Mu(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=Kr(r.timestampValue),u=Kr(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return Xr(r.bytesValue).isEqual(Xr(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return Re(r.geoPointValue.latitude)===Re(o.geoPointValue.latitude)&&Re(r.geoPointValue.longitude)===Re(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return Re(r.integerValue)===Re(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Re(r.doubleValue),u=Re(o.doubleValue);return l===u?Id(l)===Id(u):isNaN(l)&&isNaN(u)}return!1})(n,t);case 9:return vl(n.arrayValue.values||[],t.arrayValue.values||[],cs);case 10:case 11:return(function(r,o){const l=r.mapValue.fields||{},u=o.mapValue.fields||{};if(GE(l)!==GE(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!cs(l[f],u[f])))return!1;return!0})(n,t);default:return xt(52216,{left:n})}}function Du(n,t){return(n.values||[]).find((e=>cs(e,t)))!==void 0}function bl(n,t){if(n===t)return 0;const e=Qr(n),i=Qr(t);if(e!==i)return zt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return zt(n.booleanValue,t.booleanValue);case 2:return(function(o,l){const u=Re(o.integerValue||o.doubleValue),f=Re(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(n,t);case 3:return WE(n.timestampValue,t.timestampValue);case 4:return WE(Mu(n),Mu(t));case 5:return Cy(n.stringValue,t.stringValue);case 6:return(function(o,l){const u=Xr(o),f=Xr(l);return u.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,l){const u=o.split("/"),f=l.split("/");for(let d=0;d<u.length&&d<f.length;d++){const p=zt(u[d],f[d]);if(p!==0)return p}return zt(u.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,l){const u=zt(Re(o.latitude),Re(l.latitude));return u!==0?u:zt(Re(o.longitude),Re(l.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return $E(n.arrayValue,t.arrayValue);case 10:return(function(o,l){const u=o.fields||{},f=l.fields||{},d=u[Od]?.arrayValue,p=f[Od]?.arrayValue,_=zt(d?.values?.length||0,p?.values?.length||0);return _!==0?_:$E(d,p)})(n.mapValue,t.mapValue);case 11:return(function(o,l){if(o===Gf.mapValue&&l===Gf.mapValue)return 0;if(o===Gf.mapValue)return 1;if(l===Gf.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),d=l.fields||{},p=Object.keys(d);f.sort(),p.sort();for(let _=0;_<f.length&&_<p.length;++_){const b=Cy(f[_],p[_]);if(b!==0)return b;const T=bl(u[f[_]],d[p[_]]);if(T!==0)return T}return zt(f.length,p.length)})(n.mapValue,t.mapValue);default:throw xt(23264,{he:e})}}function WE(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return zt(n,t);const e=Kr(n),i=Kr(t),r=zt(e.seconds,i.seconds);return r!==0?r:zt(e.nanos,i.nanos)}function $E(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=bl(e[r],i[r]);if(o)return o}return zt(e.length,i.length)}function El(n){return My(n)}function My(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Kr(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Xr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return vt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=My(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const l of i)o?o=!1:r+=",",r+=`${l}:${My(e.fields[l])}`;return r+"}"})(n.mapValue):xt(61005,{value:n})}function gd(n){switch(Qr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=um(n);return t?16+gd(t):16;case 5:return 2*n.stringValue.length;case 6:return Xr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+gd(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return sa(i.fields,((o,l)=>{r+=o.length+gd(l)})),r})(n.mapValue);default:throw xt(13486,{value:n})}}function KE(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Iy(n){return!!n&&"integerValue"in n}function M_(n){return!!n&&"arrayValue"in n}function XE(n){return!!n&&"nullValue"in n}function QE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pd(n){return!!n&&"mapValue"in n}function AN(n){return(n?.mapValue?.fields||{})[qw]?.stringValue===Gw}function mu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return sa(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=mu(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=mu(n.arrayValue.values[e]);return t}return{...n}}function RN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===xN}class On{constructor(t){this.value=t}static empty(){return new On({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!pd(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=mu(e)}setAll(t){let e=cn.emptyPath(),i={},r=[];t.forEach(((l,u)=>{if(!e.isImmediateParentOf(u)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=u.popLast()}l?i[u.lastSegment()]=mu(l):r.push(u.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());pd(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return cs(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];pd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){sa(e,((r,o)=>t[r]=o));for(const r of i)delete t[r]}clone(){return new On(mu(this.value))}}function Yw(n){const t=[];return sa(n.fields,((e,i)=>{const r=new cn([e]);if(pd(i)){const o=Yw(i.mapValue).fields;if(o.length===0)t.push(r);else for(const l of o)t.push(r.child(l))}else t.push(r)})),new Gn(t)}class mn{constructor(t,e,i,r,o,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(t){return new mn(t,0,At.min(),At.min(),At.min(),On.empty(),0)}static newFoundDocument(t,e,i,r){return new mn(t,1,e,At.min(),i,r,0)}static newNoDocument(t,e){return new mn(t,2,e,At.min(),At.min(),On.empty(),0)}static newUnknownDocument(t,e){return new mn(t,3,e,At.min(),At.min(),On.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof mn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Nd{constructor(t,e){this.position=t,this.inclusive=e}}function JE(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],l=n.position[r];if(o.field.isKeyField()?i=vt.comparator(vt.fromName(l.referenceValue),e.key):i=bl(l,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function ZE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!cs(n.position[e],t.position[e]))return!1;return!0}class kd{constructor(t,e="asc"){this.field=t,this.dir=e}}function CN(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class Ww{}class Ue extends Ww{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new IN(t,e,i):e==="array-contains"?new NN(t,i):e==="in"?new kN(t,i):e==="not-in"?new PN(t,i):e==="array-contains-any"?new LN(t,i):new Ue(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new DN(t,i):new ON(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(bl(e,this.value)):e!==null&&Qr(this.value)===Qr(e)&&this.matchesComparison(bl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ri extends Ww{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Ri(t,e)}matches(t){return $w(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $w(n){return n.op==="and"}function Kw(n){return MN(n)&&$w(n)}function MN(n){for(const t of n.filters)if(t instanceof Ri)return!1;return!0}function Dy(n){if(n instanceof Ue)return n.field.canonicalString()+n.op.toString()+El(n.value);if(Kw(n))return n.filters.map((t=>Dy(t))).join(",");{const t=n.filters.map((e=>Dy(e))).join(",");return`${n.op}(${t})`}}function Xw(n,t){return n instanceof Ue?(function(i,r){return r instanceof Ue&&i.op===r.op&&i.field.isEqual(r.field)&&cs(i.value,r.value)})(n,t):n instanceof Ri?(function(i,r){return r instanceof Ri&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,l,u)=>o&&Xw(l,r.filters[u])),!0):!1})(n,t):void xt(19439)}function Qw(n){return n instanceof Ue?(function(e){return`${e.field.canonicalString()} ${e.op} ${El(e.value)}`})(n):n instanceof Ri?(function(e){return e.op.toString()+" {"+e.getFilters().map(Qw).join(" ,")+"}"})(n):"Filter"}class IN extends Ue{constructor(t,e,i){super(t,e,i),this.key=vt.fromName(i.referenceValue)}matches(t){const e=vt.comparator(t.key,this.key);return this.matchesComparison(e)}}class DN extends Ue{constructor(t,e){super(t,"in",e),this.keys=Jw("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class ON extends Ue{constructor(t,e){super(t,"not-in",e),this.keys=Jw("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Jw(n,t){return(t.arrayValue?.values||[]).map((e=>vt.fromName(e.referenceValue)))}class NN extends Ue{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return M_(e)&&Du(e.arrayValue,this.value)}}class kN extends Ue{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Du(this.value.arrayValue,e)}}class PN extends Ue{constructor(t,e){super(t,"not-in",e)}matches(t){if(Du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Du(this.value.arrayValue,e)}}class LN extends Ue{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!M_(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Du(this.value.arrayValue,i)))}}class VN{constructor(t,e=null,i=[],r=[],o=null,l=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function tT(n,t=null,e=[],i=[],r=null,o=null,l=null){return new VN(n,t,e,i,r,o,l)}function I_(n){const t=Ct(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>Dy(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),cm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>El(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>El(i))).join(",")),t.Te=e}return t.Te}function D_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!CN(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Xw(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!ZE(n.startAt,t.startAt)&&ZE(n.endAt,t.endAt)}function Oy(n){return vt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class eh{constructor(t,e=null,i=[],r=[],o=null,l="F",u=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jN(n,t,e,i,r,o,l,u){return new eh(n,t,e,i,r,o,l,u)}function O_(n){return new eh(n)}function eT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Zw(n){return n.collectionGroup!==null}function gu(n){const t=Ct(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new We(cn.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new kd(o,i))})),e.has(cn.keyField().canonicalString())||t.Ie.push(new kd(cn.keyField(),i))}return t.Ie}function ss(n){const t=Ct(n);return t.Ee||(t.Ee=zN(t,gu(n))),t.Ee}function zN(n,t){if(n.limitType==="F")return tT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new kd(r.field,o)}));const e=n.endAt?new Nd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Nd(n.startAt.position,n.startAt.inclusive):null;return tT(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function Ny(n,t){const e=n.filters.concat([t]);return new eh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function ky(n,t,e){return new eh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function hm(n,t){return D_(ss(n),ss(t))&&n.limitType===t.limitType}function tx(n){return`${I_(ss(n))}|lt:${n.limitType}`}function al(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>Qw(r))).join(", ")}]`),cm(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>El(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>El(r))).join(",")),`Target(${i})`})(ss(n))}; limitType=${n.limitType})`}function fm(n,t){return t.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):vt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,r){for(const o of gu(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(l,u,f){const d=JE(l,u,f);return l.inclusive?d<=0:d<0})(i.startAt,gu(i),r)||i.endAt&&!(function(l,u,f){const d=JE(l,u,f);return l.inclusive?d>=0:d>0})(i.endAt,gu(i),r))})(n,t)}function UN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ex(n){return(t,e)=>{let i=!1;for(const r of gu(n)){const o=BN(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function BN(n,t,e){const i=n.field.isKeyField()?vt.comparator(t.key,e.key):(function(o,l,u){const f=l.data.field(o),d=u.data.field(o);return f!==null&&d!==null?bl(f,d):xt(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return xt(19790,{direction:n.dir})}}class ao{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){sa(this.inner,((e,i)=>{for(const[r,o]of i)t(r,o)}))}isEmpty(){return jw(this.inner)}size(){return this.innerSize}}const FN=new be(vt.comparator);function Ys(){return FN}const nx=new be(vt.comparator);function ru(...n){let t=nx;for(const e of n)t=t.insert(e.key,e);return t}function ix(n){let t=nx;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function qa(){return pu()}function sx(){return pu()}function pu(){return new ao((n=>n.toString()),((n,t)=>n.isEqual(t)))}const HN=new be(vt.comparator),qN=new We(vt.comparator);function Ut(...n){let t=qN;for(const e of n)t=t.add(e);return t}const GN=new We(zt);function YN(){return GN}function N_(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Id(t)?"-0":t}}function rx(n){return{integerValue:""+n}}function WN(n,t){return bN(t)?rx(t):N_(n,t)}class dm{constructor(){this._=void 0}}function $N(n,t,e){return n instanceof Ou?(function(r,o){const l={fields:{[Bw]:{stringValue:Uw},[Hw]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&C_(o)&&(o=um(o)),o&&(l.fields[Fw]=o),{mapValue:l}})(e,t):n instanceof Nu?ox(n,t):n instanceof ku?lx(n,t):(function(r,o){const l=ax(r,o),u=nT(l)+nT(r.Ae);return Iy(l)&&Iy(r.Ae)?rx(u):N_(r.serializer,u)})(n,t)}function KN(n,t,e){return n instanceof Nu?ox(n,t):n instanceof ku?lx(n,t):e}function ax(n,t){return n instanceof Pd?(function(i){return Iy(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class Ou extends dm{}class Nu extends dm{constructor(t){super(),this.elements=t}}function ox(n,t){const e=cx(t);for(const i of n.elements)e.some((r=>cs(r,i)))||e.push(i);return{arrayValue:{values:e}}}class ku extends dm{constructor(t){super(),this.elements=t}}function lx(n,t){let e=cx(t);for(const i of n.elements)e=e.filter((r=>!cs(r,i)));return{arrayValue:{values:e}}}class Pd extends dm{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function nT(n){return Re(n.integerValue||n.doubleValue)}function cx(n){return M_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class XN{constructor(t,e){this.field=t,this.transform=e}}function QN(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof Nu&&r instanceof Nu||i instanceof ku&&r instanceof ku?vl(i.elements,r.elements,cs):i instanceof Pd&&r instanceof Pd?cs(i.Ae,r.Ae):i instanceof Ou&&r instanceof Ou})(n.transform,t.transform)}class JN{constructor(t,e){this.version=t,this.transformResults=e}}class ui{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ui}static exists(t){return new ui(void 0,t)}static updateTime(t){return new ui(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function yd(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class mm{}function ux(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new k_(n.key,ui.none()):new nh(n.key,n.data,ui.none());{const e=n.data,i=On.empty();let r=new We(cn.comparator);for(let o of t.fields)if(!r.has(o)){let l=e.field(o);l===null&&o.length>1&&(o=o.popLast(),l=e.field(o)),l===null?i.delete(o):i.set(o,l),r=r.add(o)}return new ra(n.key,i,new Gn(r.toArray()),ui.none())}}function ZN(n,t,e){n instanceof nh?(function(r,o,l){const u=r.value.clone(),f=sT(r.fieldTransforms,o,l.transformResults);u.setAll(f),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,t,e):n instanceof ra?(function(r,o,l){if(!yd(r.precondition,o))return void o.convertToUnknownDocument(l.version);const u=sT(r.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(hx(r)),f.setAll(u),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(n,t,e):(function(r,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,t,e)}function yu(n,t,e,i){return n instanceof nh?(function(o,l,u,f){if(!yd(o.precondition,l))return u;const d=o.value.clone(),p=rT(o.fieldTransforms,f,l);return d.setAll(p),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null})(n,t,e,i):n instanceof ra?(function(o,l,u,f){if(!yd(o.precondition,l))return u;const d=rT(o.fieldTransforms,f,l),p=l.data;return p.setAll(hx(o)),p.setAll(d),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(n,t,e,i):(function(o,l,u){return yd(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,t,e)}function t3(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=ax(i.transform,r||null);o!=null&&(e===null&&(e=On.empty()),e.set(i.field,o))}return e||null}function iT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&vl(i,r,((o,l)=>QN(o,l)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class nh extends mm{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ra extends mm{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function hx(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function sT(n,t,e){const i=new Map;Qt(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let r=0;r<e.length;r++){const o=n[r],l=o.transform,u=t.data.field(o.field);i.set(o.field,KN(l,u,e[r]))}return i}function rT(n,t,e){const i=new Map;for(const r of n){const o=r.transform,l=e.data.field(r.field);i.set(r.field,$N(o,l,t))}return i}class k_ extends mm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e3 extends mm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class n3{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&ZN(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=yu(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=yu(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=sx();return this.mutations.forEach((r=>{const o=t.get(r.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=e.has(r.key)?null:u;const f=ux(l,u);f!==null&&i.set(r.key,f),l.isValidDocument()||l.convertToNoDocument(At.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&vl(this.mutations,t.mutations,((e,i)=>iT(e,i)))&&vl(this.baseMutations,t.baseMutations,((e,i)=>iT(e,i)))}}class P_{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Qt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return HN})();const o=t.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new P_(t,e,i,r)}}class i3{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class s3{constructor(t,e){this.count=t,this.unchangedNames=e}}var ze,qt;function r3(n){switch(n){case rt.OK:return xt(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return xt(15467,{code:n})}}function fx(n){if(n===void 0)return Gs("GRPC error has no .code"),rt.UNKNOWN;switch(n){case ze.OK:return rt.OK;case ze.CANCELLED:return rt.CANCELLED;case ze.UNKNOWN:return rt.UNKNOWN;case ze.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case ze.INTERNAL:return rt.INTERNAL;case ze.UNAVAILABLE:return rt.UNAVAILABLE;case ze.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case ze.NOT_FOUND:return rt.NOT_FOUND;case ze.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case ze.ABORTED:return rt.ABORTED;case ze.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case ze.DATA_LOSS:return rt.DATA_LOSS;default:return xt(39323,{code:n})}}(qt=ze||(ze={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function a3(){return new TextEncoder}const o3=new Gr([4294967295,4294967295],0);function aT(n){const t=a3().encode(n),e=new Cw;return e.update(t),new Uint8Array(e.digest())}function oT(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Gr([e,i],0),new Gr([r,o],0)]}class L_{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new au(`Invalid padding: ${e}`);if(i<0)throw new au(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new au(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Gr.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(Gr.fromNumber(i)));return r.compare(o3)===1&&(r=new Gr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=aT(t),[i,r]=oT(e);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);if(!this.we(l))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),l=new L_(o,r,e);return i.forEach((u=>l.insert(u))),l}insert(t){if(this.ge===0)return;const e=aT(t),[i,r]=oT(e);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);this.Se(l)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gm{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,ih.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new gm(At.min(),r,new be(zt),Ys(),Ut())}}class ih{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new ih(i,e,Ut(),Ut(),Ut())}}class _d{constructor(t,e,i,r){this.be=t,this.removedTargetIds=e,this.key=i,this.De=r}}class dx{constructor(t,e){this.targetId=t,this.Ce=e}}class mx{constructor(t,e,i=un.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class lT{constructor(){this.ve=0,this.Fe=cT(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),e=Ut(),i=Ut();return this.Fe.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:xt(38017,{changeType:o})}})),new ih(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=cT()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class l3{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ys(),this.Je=Yf(),this.He=Yf(),this.Ye=new be(zt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:xt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(Oy(o))if(i===0){const l=new vt(o.path);this.et(e,l,mn.newNoDocument(l,At.min()))}else Qt(i===1,20013,{expectedCount:i});else{const l=this._t(e);if(l!==i){const u=this.ut(t),f=u?this.ct(u,t,l):1;if(f!==0){this.it(e);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,d)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let l,u;try{l=Xr(i).toUint8Array()}catch(f){if(f instanceof zw)return Ru("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new L_(l,r,o)}catch(f){return Ru(f instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach((o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;t.mightContain(u)||(this.et(e,o,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((o,l)=>{const u=this.ot(l);if(u){if(o.current&&Oy(u.target)){const f=new vt(u.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,mn.newNoDocument(f,t))}o.Be&&(e.set(l,o.ke()),o.qe())}}));let i=Ut();this.He.forEach(((o,l)=>{let u=!0;l.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(i=i.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(t)));const r=new gm(t,e,this.Ye,this.je,i);return this.je=Ys(),this.Je=Yf(),this.He=Yf(),this.Ye=new be(zt),r}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.Qe(e,1):r.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new lT,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new We(zt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new We(zt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||dt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new lT),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Yf(){return new be(vt.comparator)}function cT(){return new be(vt.comparator)}const c3={asc:"ASCENDING",desc:"DESCENDING"},u3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},h3={and:"AND",or:"OR"};class f3{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Py(n,t){return n.useProto3Json||cm(t)?t:{value:t}}function Ld(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function gx(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function d3(n,t){return Ld(n,t.toTimestamp())}function rs(n){return Qt(!!n,49232),At.fromTimestamp((function(e){const i=Kr(e);return new me(i.seconds,i.nanos)})(n))}function V_(n,t){return Ly(n,t).canonicalString()}function Ly(n,t){const e=(function(r){return new ue(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function px(n){const t=ue.fromString(n);return Qt(Ex(t),10190,{key:t.toString()}),t}function Vy(n,t){return V_(n.databaseId,t.path)}function $p(n,t){const e=px(t);if(e.get(1)!==n.databaseId.projectId)throw new ft(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ft(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new vt(_x(e))}function yx(n,t){return V_(n.databaseId,t)}function m3(n){const t=px(n);return t.length===4?ue.emptyPath():_x(t)}function jy(n){return new ue(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _x(n){return Qt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function uT(n,t,e){return{name:Vy(n,t),fields:e.value.mapValue.fields}}function g3(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:xt(39313,{state:d})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(d,p){return d.useProto3Json?(Qt(p===void 0||typeof p=="string",58123),un.fromBase64String(p||"")):(Qt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),un.fromUint8Array(p||new Uint8Array))})(n,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&(function(d){const p=d.code===void 0?rt.UNKNOWN:fx(d.code);return new ft(p,d.message||"")})(l);e=new mx(i,r,o,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=$p(n,i.document.name),o=rs(i.document.updateTime),l=i.document.createTime?rs(i.document.createTime):At.min(),u=new On({mapValue:{fields:i.document.fields}}),f=mn.newFoundDocument(r,o,l,u),d=i.targetIds||[],p=i.removedTargetIds||[];e=new _d(d,p,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=$p(n,i.document),o=i.readTime?rs(i.readTime):At.min(),l=mn.newNoDocument(r,o),u=i.removedTargetIds||[];e=new _d([],u,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=$p(n,i.document),o=i.removedTargetIds||[];e=new _d([],o,r,null)}else{if(!("filter"in t))return xt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,l=new s3(r,o),u=i.targetId;e=new dx(u,l)}}return e}function p3(n,t){let e;if(t instanceof nh)e={update:uT(n,t.key,t.value)};else if(t instanceof k_)e={delete:Vy(n,t.key)};else if(t instanceof ra)e={update:uT(n,t.key,t.data),updateMask:x3(t.fieldMask)};else{if(!(t instanceof e3))return xt(16599,{Vt:t.type});e={verify:Vy(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,l){const u=l.transform;if(u instanceof Ou)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Nu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ku)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Pd)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw xt(20930,{transform:l.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:d3(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xt(27497)})(n,t.precondition)),e}function y3(n,t){return n&&n.length>0?(Qt(t!==void 0,14353),n.map((e=>(function(r,o){let l=r.updateTime?rs(r.updateTime):rs(o);return l.isEqual(At.min())&&(l=rs(o)),new JN(l,r.transformResults||[])})(e,t)))):[]}function _3(n,t){return{documents:[yx(n,t.path)]}}function v3(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=yx(n,r);const o=(function(d){if(d.length!==0)return bx(Ri.create(d,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const l=(function(d){if(d.length!==0)return d.map((p=>(function(b){return{field:ol(b.field),direction:T3(b.dir)}})(p)))})(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=Py(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(t.endAt)),{ft:e,parent:r}}function b3(n){let t=m3(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Qt(i===1,65062);const p=e.from[0];p.allDescendants?r=p.collectionId:t=t.child(p.collectionId)}let o=[];e.where&&(o=(function(_){const b=vx(_);return b instanceof Ri&&Kw(b)?b.getFilters():[b]})(e.where));let l=[];e.orderBy&&(l=(function(_){return _.map((b=>(function(A){return new kd(ll(A.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(b)))})(e.orderBy));let u=null;e.limit&&(u=(function(_){let b;return b=typeof _=="object"?_.value:_,cm(b)?null:b})(e.limit));let f=null;e.startAt&&(f=(function(_){const b=!!_.before,T=_.values||[];return new Nd(T,b)})(e.startAt));let d=null;return e.endAt&&(d=(function(_){const b=!_.before,T=_.values||[];return new Nd(T,b)})(e.endAt)),jN(t,r,l,o,u,"F",f,d)}function E3(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function vx(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=ll(e.unaryFilter.field);return Ue.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=ll(e.unaryFilter.field);return Ue.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ll(e.unaryFilter.field);return Ue.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ll(e.unaryFilter.field);return Ue.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xt(61313);default:return xt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ue.create(ll(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xt(58110);default:return xt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Ri.create(e.compositeFilter.filters.map((i=>vx(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return xt(1026)}})(e.compositeFilter.op))})(n):xt(30097,{filter:n})}function T3(n){return c3[n]}function S3(n){return u3[n]}function w3(n){return h3[n]}function ol(n){return{fieldPath:n.canonicalString()}}function ll(n){return cn.fromServerFormat(n.fieldPath)}function bx(n){return n instanceof Ue?(function(e){if(e.op==="=="){if(QE(e.value))return{unaryFilter:{field:ol(e.field),op:"IS_NAN"}};if(XE(e.value))return{unaryFilter:{field:ol(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(QE(e.value))return{unaryFilter:{field:ol(e.field),op:"IS_NOT_NAN"}};if(XE(e.value))return{unaryFilter:{field:ol(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ol(e.field),op:S3(e.op),value:e.value}}})(n):n instanceof Ri?(function(e){const i=e.getFilters().map((r=>bx(r)));return i.length===1?i[0]:{compositeFilter:{op:w3(e.op),filters:i}}})(n):xt(54877,{filter:n})}function x3(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Ex(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Vr{constructor(t,e,i,r,o=At.min(),l=At.min(),u=un.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(t){return new Vr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class A3{constructor(t){this.yt=t}}function R3(n){const t=b3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ky(t,t.limit,"L"):t}class C3{constructor(){this.Cn=new M3}addToCollectionParentIndex(t,e){return this.Cn.add(e),at.resolve()}getCollectionParents(t,e){return at.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return at.resolve()}deleteFieldIndex(t,e){return at.resolve()}deleteAllFieldIndexes(t){return at.resolve()}createTargetIndexes(t,e){return at.resolve()}getDocumentsMatchingTarget(t,e){return at.resolve(null)}getIndexType(t,e){return at.resolve(0)}getFieldIndexes(t,e){return at.resolve([])}getNextCollectionGroupToUpdate(t){return at.resolve(null)}getMinOffset(t,e){return at.resolve($r.min())}getMinOffsetFromCollectionGroup(t,e){return at.resolve($r.min())}updateCollectionGroup(t,e,i){return at.resolve()}updateIndexEntries(t,e){return at.resolve()}}class M3{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new We(ue.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new We(ue.comparator)).toArray()}}const hT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Tx=41943040;class Dn{static withCacheSize(t){return new Dn(t,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(Tx,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class Tl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Tl(0)}static cr(){return new Tl(-1)}}const fT="LruGarbageCollector",Sx=1048576;function dT([n,t],[e,i]){const r=zt(n,e);return r===0?zt(t,i):r}class I3{constructor(t){this.Ir=t,this.buffer=new We(dT),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();dT(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class D3{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){dt(fT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ll(e)?dt(fT,"Ignoring IndexedDB error during garbage collection: ",e):await Pl(e)}await this.Vr(3e5)}))}}class O3{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return at.resolve(lm.ce);const i=new I3(e);return this.mr.forEachTarget(t,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(t,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(hT)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hT):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,r,o,l,u,f,d;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),r=this.params.maximumSequenceNumbersToCollect):r=_,l=Date.now(),this.nthSequenceNumber(t,r)))).next((_=>(i=_,u=Date.now(),this.removeTargets(t,i,e)))).next((_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((_=>(d=Date.now(),rl()<=jt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${r} in `+(u-l)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${_} documents in `+(d-f)+`ms
Total Duration: ${d-p}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:_}))))}}function N3(n,t){return new O3(n,t)}class k3{constructor(){this.changes=new ao((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,mn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?at.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class P3{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class L3{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&yu(i.mutation,r,Gn.empty(),me.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Ut()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Ut()){const r=qa();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((o=>{let l=ru();return o.forEach(((u,f)=>{l=l.insert(u,f.overlayedDocument)})),l}))))}getOverlayedDocuments(t,e){const i=qa();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Ut())))}populateOverlays(t,e,i){const r=[];return i.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((l,u)=>{e.set(l,u)}))}))}computeViews(t,e,i,r){let o=Ys();const l=pu(),u=(function(){return pu()})();return e.forEach(((f,d)=>{const p=i.get(d.key);r.has(d.key)&&(p===void 0||p.mutation instanceof ra)?o=o.insert(d.key,d):p!==void 0?(l.set(d.key,p.mutation.getFieldMask()),yu(p.mutation,d,p.mutation.getFieldMask(),me.now())):l.set(d.key,Gn.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((d,p)=>l.set(d,p))),e.forEach(((d,p)=>u.set(d,new P3(p,l.get(d)??null)))),u)))}recalculateAndSaveOverlays(t,e){const i=pu();let r=new be(((l,u)=>l-u)),o=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((l=>{for(const u of l)u.keys().forEach((f=>{const d=e.get(f);if(d===null)return;let p=i.get(f)||Gn.empty();p=u.applyToLocalView(d,p),i.set(f,p);const _=(r.get(u.batchId)||Ut()).add(f);r=r.insert(u.batchId,_)}))})).next((()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,p=f.value,_=sx();p.forEach((b=>{if(!o.has(b)){const T=ux(e.get(b),i.get(b));T!==null&&_.set(b,T),o=o.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(t,d,_))}return at.waitFor(l)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return(function(l){return vt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Zw(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):at.resolve(qa());let u=Cu,f=o;return l.next((d=>at.forEach(d,((p,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),o.get(p)?at.resolve():this.remoteDocumentCache.getEntry(t,p).next((b=>{f=f.insert(p,b)}))))).next((()=>this.populateOverlays(t,d,o))).next((()=>this.computeViews(t,f,d,Ut()))).next((p=>({batchId:u,changes:ix(p)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new vt(e)).next((i=>{let r=ru();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let l=ru();return this.indexManager.getCollectionParents(t,o).next((u=>at.forEach(u,(f=>{const d=(function(_,b){return new eh(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,i,r).next((p=>{p.forEach(((_,b)=>{l=l.insert(_,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r)))).next((l=>{o.forEach(((f,d)=>{const p=d.getKey();l.get(p)===null&&(l=l.insert(p,mn.newInvalidDocument(p)))}));let u=ru();return l.forEach(((f,d)=>{const p=o.get(f);p!==void 0&&yu(p.mutation,d,Gn.empty(),me.now()),fm(e,d)&&(u=u.insert(f,d))})),u}))}}class V3{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return at.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:rs(r.createTime)}})(e)),at.resolve()}getNamedQuery(t,e){return at.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(r){return{name:r.name,query:R3(r.bundledQuery),readTime:rs(r.readTime)}})(e)),at.resolve()}}class j3{constructor(){this.overlays=new be(vt.comparator),this.qr=new Map}getOverlay(t,e){return at.resolve(this.overlays.get(e))}getOverlays(t,e){const i=qa();return at.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,o)=>{this.St(t,e,o)})),at.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),at.resolve()}getOverlaysForCollection(t,e,i){const r=qa(),o=e.length+1,l=new vt(e.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return at.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new be(((d,p)=>d-p));const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let p=o.get(d.largestBatchId);p===null&&(p=qa(),o=o.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const u=qa(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,p)=>u.set(d,p))),!(u.size()>=r)););return at.resolve(u)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new i3(e,i));let o=this.qr.get(e);o===void 0&&(o=Ut(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}class z3{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(t){return at.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,at.resolve()}}class j_{constructor(){this.Qr=new We(Je.$r),this.Ur=new We(Je.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new Je(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new Je(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new vt(new ue([])),i=new Je(e,t),r=new Je(e,t+1),o=[];return this.Ur.forEachInRange([i,r],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new vt(new ue([])),i=new Je(e,t),r=new Je(e,t+1);let o=Ut();return this.Ur.forEachInRange([i,r],(l=>{o=o.add(l.key)})),o}containsKey(t){const e=new Je(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Je{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return vt.comparator(t.key,e.key)||zt(t.Yr,e.Yr)}static Kr(t,e){return zt(t.Yr,e.Yr)||vt.comparator(t.key,e.key)}}class U3{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new We(Je.$r)}checkEmpty(t){return at.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new n3(o,e,i,r);this.mutationQueue.push(l);for(const u of r)this.Zr=this.Zr.add(new Je(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return at.resolve(l)}lookupMutationBatch(t,e){return at.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ei(i),o=r<0?0:r;return at.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(this.mutationQueue.length===0?R_:this.tr-1)}getAllMutationBatches(t){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Je(e,0),r=new Je(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],(l=>{const u=this.Xr(l.Yr);o.push(u)})),at.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new We(zt);return e.forEach((r=>{const o=new Je(r,0),l=new Je(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(u=>{i=i.add(u.Yr)}))})),at.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;vt.isDocumentKey(o)||(o=o.child(""));const l=new Je(new vt(o),0);let u=new We(zt);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(u=u.add(f.Yr)),!0)}),l),at.resolve(this.ti(u))}ti(t){const e=[];return t.forEach((i=>{const r=this.Xr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){Qt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return at.forEach(e.mutations,(r=>{const o=new Je(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new Je(e,0),r=this.Zr.firstAfterOrEqual(i);return at.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,at.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class B3{constructor(t){this.ri=t,this.docs=(function(){return new be(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,l=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return at.resolve(i?i.document.mutableCopy():mn.newInvalidDocument(e))}getEntries(t,e){let i=Ys();return e.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():mn.newInvalidDocument(r))})),at.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Ys();const l=e.path,u=new vt(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:p}}=f.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||pN(gN(p),i)<=0||(r.has(p.key)||fm(e,p))&&(o=o.insert(p.key,p.mutableCopy()))}return at.resolve(o)}getAllFromCollectionGroup(t,e,i,r){xt(9500)}ii(t,e){return at.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new F3(this)}getSize(t){return at.resolve(this.size)}}class F3 extends k3{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)})),at.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class H3{constructor(t){this.persistence=t,this.si=new ao((e=>I_(e)),D_),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new j_,this.targetCount=0,this.ai=Tl.ur()}forEachTarget(t,e){return this.si.forEach(((i,r)=>e(r))),at.resolve()}getLastRemoteSnapshotVersion(t){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return at.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),at.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Tl(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,at.resolve()}updateTargetData(t,e){return this.Pr(e),at.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,at.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=e&&i.get(u.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)})),at.waitFor(o).next((()=>r))}getTargetCount(t){return at.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return at.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),at.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((l=>{o.push(r.markPotentiallyOrphaned(t,l))})),at.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),at.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return at.resolve(i)}containsKey(t,e){return at.resolve(this._i.containsKey(e))}}class wx{constructor(t,e){this.ui={},this.overlays={},this.ci=new lm(0),this.li=!1,this.li=!0,this.hi=new z3,this.referenceDelegate=t(this),this.Pi=new H3(this),this.indexManager=new C3,this.remoteDocumentCache=(function(r){return new B3(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new A3(e),this.Ii=new V3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new j3,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new U3(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){dt("MemoryPersistence","Starting transaction:",t);const r=new q3(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(t,e){return at.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class q3 extends _N{constructor(t){super(),this.currentSequenceNumber=t}}class z_{constructor(t){this.persistence=t,this.Ri=new j_,this.Vi=null}static mi(t){return new z_(t)}get fi(){if(this.Vi)return this.Vi;throw xt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),at.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),at.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),at.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.fi,(i=>{const r=vt.fromPath(i);return this.gi(t,r).next((o=>{o||e.removeEntry(r,At.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return at.or([()=>at.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Vd{constructor(t,e){this.persistence=t,this.pi=new ao((i=>EN(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=N3(this,e)}static mi(t,e){return new Vd(t,e)}Ei(){}di(t){return at.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return at.forEach(this.pi,((i,r)=>this.br(t,i,r).next((o=>o?at.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(t,(l=>this.br(t,l,e).next((u=>{u||(i++,o.removeEntry(l,At.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),at.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),at.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),at.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),at.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=gd(t.data.value)),e}br(t,e,i){return at.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return at.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class U_{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=r}static As(t,e){let i=Ut(),r=Ut();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new U_(t,e.fromCache,i,r)}}class G3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Y3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ED()?8:vN(yn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ys(t,e).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(t,e,r,i).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new G3;return this.Ss(t,e,l).next((u=>{if(o.result=u,this.Vs)return this.bs(t,e,l,u.size)}))})).next((()=>o.result))}bs(t,e,i,r){return i.documentReadCount<this.fs?(rl()<=jt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",al(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),at.resolve()):(rl()<=jt.DEBUG&&dt("QueryEngine","Query:",al(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(rl()<=jt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",al(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ss(e))):at.resolve())}ys(t,e){if(eT(e))return at.resolve(null);let i=ss(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=ky(e,null,"F"),i=ss(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const l=Ut(...o);return this.ps.getDocuments(t,l).next((u=>this.indexManager.getMinOffset(t,i).next((f=>{const d=this.Ds(e,u);return this.Cs(e,d,l,f.readTime)?this.ys(t,ky(e,null,"F")):this.vs(t,d,e,f)}))))})))))}ws(t,e,i,r){return eT(e)||r.isEqual(At.min())?at.resolve(null):this.ps.getDocuments(t,i).next((o=>{const l=this.Ds(e,o);return this.Cs(e,l,i,r)?at.resolve(null):(rl()<=jt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),al(e)),this.vs(t,l,e,mN(r,Cu)).next((u=>u)))}))}Ds(t,e){let i=new We(ex(t));return e.forEach(((r,o)=>{fm(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(t,e,i){return rl()<=jt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",al(e)),this.ps.getDocumentsMatchingQuery(t,e,$r.min(),i)}vs(t,e,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next((o=>(e.forEach((l=>{o=o.insert(l.key,l)})),o)))}}const B_="LocalStore",W3=3e8;class $3{constructor(t,e,i,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new be(zt),this.xs=new ao((o=>I_(o)),D_),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new L3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function K3(n,t,e,i){return new $3(n,t,e,i)}async function xx(n,t){const e=Ct(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const l=[],u=[];let f=Ut();for(const d of r){l.push(d.batchId);for(const p of d.mutations)f=f.add(p.key)}for(const d of o){u.push(d.batchId);for(const p of d.mutations)f=f.add(p.key)}return e.localDocuments.getDocuments(i,f).next((d=>({Ls:d,removedBatchIds:l,addedBatchIds:u})))}))}))}function X3(n,t){const e=Ct(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,d,p){const _=d.batch,b=_.keys();let T=at.resolve();return b.forEach((A=>{T=T.next((()=>p.getEntry(f,A))).next((w=>{const R=d.docVersions.get(A);Qt(R!==null,48541),w.version.compareTo(R)<0&&(_.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),p.addEntry(w)))}))})),T.next((()=>u.mutationQueue.removeMutationBatch(f,_)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(u){let f=Ut();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(f=f.add(u.batch.mutations[d].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function Ax(n){const t=Ct(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function Q3(n,t){const e=Ct(n),i=t.snapshotVersion;let r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;const u=[];t.targetChanges.forEach(((p,_)=>{const b=r.get(_);if(!b)return;u.push(e.Pi.removeMatchingKeys(o,p.removedDocuments,_).next((()=>e.Pi.addMatchingKeys(o,p.addedDocuments,_))));let T=b.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(_)!==null?T=T.withResumeToken(un.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):p.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(p.resumeToken,i)),r=r.insert(_,T),(function(w,R,O){return w.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=W3?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(b,T,p)&&u.push(e.Pi.updateTargetData(o,T))}));let f=Ys(),d=Ut();if(t.documentUpdates.forEach((p=>{t.resolvedLimboDocuments.has(p)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,p))})),u.push(J3(o,l,t.documentUpdates).next((p=>{f=p.ks,d=p.qs}))),!i.isEqual(At.min())){const p=e.Pi.getLastRemoteSnapshotVersion(o).next((_=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));u.push(p)}return at.waitFor(u).next((()=>l.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(e.Ms=r,o)))}function J3(n,t,e){let i=Ut(),r=Ut();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let l=Ys();return e.forEach(((u,f)=>{const d=o.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(u)),f.isNoDocument()&&f.version.isEqual(At.min())?(t.removeEntry(u,f.readTime),l=l.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),l=l.insert(u,f)):dt(B_,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)})),{ks:l,qs:r}}))}function Z3(n,t){const e=Ct(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=R_),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function tk(n,t){const e=Ct(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.Pi.getTargetData(i,t).next((o=>o?(r=o,at.resolve(r)):e.Pi.allocateTargetId(i).next((l=>(r=new Vr(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function zy(n,t,e){const i=Ct(n),r=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!Ll(l))throw l;dt(B_,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function mT(n,t,e){const i=Ct(n);let r=At.min(),o=Ut();return i.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,d,p){const _=Ct(f),b=_.xs.get(p);return b!==void 0?at.resolve(_.Ms.get(b)):_.Pi.getTargetData(d,p)})(i,l,ss(t)).next((u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,u.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(l,t,e?r:At.min(),e?o:Ut()))).next((u=>(ek(i,UN(t),u),{documents:u,Qs:o})))))}function ek(n,t,e){let i=n.Os.get(t)||At.min();e.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class gT{constructor(){this.activeTargetIds=YN()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class nk{constructor(){this.Mo=new gT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new gT,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class ik{Oo(t){}shutdown(){}}const pT="ConnectivityMonitor";class yT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){dt(pT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){dt(pT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Wf=null;function Uy(){return Wf===null?Wf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wf++,"0x"+Wf.toString(16)}const Kp="RestConnection",sk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rk{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Dd?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,e,i,r,o){const l=Uy(),u=this.zo(t,e.toUriEncodedString());dt(Kp,`Sending RPC '${t}' ${l}:`,u,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,r,o);const{host:d}=new URL(u),p=Dl(d);return this.Jo(t,u,f,i,p).then((_=>(dt(Kp,`Received RPC '${t}' ${l}: `,_),_)),(_=>{throw Ru(Kp,`RPC '${t}' ${l} failed with error: `,_,"url: ",u,"request:",i),_}))}Ho(t,e,i,r,o,l){return this.Go(t,e,i,r,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+kl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,o)=>t[o]=r)),i&&i.headers.forEach(((r,o)=>t[o]=r))}zo(t,e){const i=sk[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}class ak{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const fn="WebChannelConnection";class ok extends rk{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,o){const l=Uy();return new Promise(((u,f)=>{const d=new Mw;d.setWithCredentials(!0),d.listenOnce(Iw.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case md.NO_ERROR:const _=d.getResponseJson();dt(fn,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(_)),u(_);break;case md.TIMEOUT:dt(fn,`RPC '${t}' ${l} timed out`),f(new ft(rt.DEADLINE_EXCEEDED,"Request time out"));break;case md.HTTP_ERROR:const b=d.getStatus();if(dt(fn,`RPC '${t}' ${l} failed with status:`,b,"response text:",d.getResponseText()),b>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const A=T?.error;if(A&&A.status&&A.message){const w=(function(O){const V=O.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(V)>=0?V:rt.UNKNOWN})(A.status);f(new ft(w,A.message))}else f(new ft(rt.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new ft(rt.UNAVAILABLE,"Connection failed."));break;default:xt(9055,{l_:t,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{dt(fn,`RPC '${t}' ${l} completed.`)}}));const p=JSON.stringify(r);dt(fn,`RPC '${t}' ${l} sending request:`,r),d.send(e,"POST",p,i,15)}))}T_(t,e,i){const r=Uy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=Nw(),u=Ow(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const p=o.join("");dt(fn,`Creating RPC '${t}' stream ${r}: ${p}`,f);const _=l.createWebChannel(p,f);this.I_(_);let b=!1,T=!1;const A=new ak({Yo:R=>{T?dt(fn,`Not sending because RPC '${t}' stream ${r} is closed:`,R):(b||(dt(fn,`Opening RPC '${t}' stream ${r} transport.`),_.open(),b=!0),dt(fn,`RPC '${t}' stream ${r} sending:`,R),_.send(R))},Zo:()=>_.close()}),w=(R,O,V)=>{R.listen(O,(H=>{try{V(H)}catch(G){setTimeout((()=>{throw G}),0)}}))};return w(_,su.EventType.OPEN,(()=>{T||(dt(fn,`RPC '${t}' stream ${r} transport opened.`),A.o_())})),w(_,su.EventType.CLOSE,(()=>{T||(T=!0,dt(fn,`RPC '${t}' stream ${r} transport closed`),A.a_(),this.E_(_))})),w(_,su.EventType.ERROR,(R=>{T||(T=!0,Ru(fn,`RPC '${t}' stream ${r} transport errored. Name:`,R.name,"Message:",R.message),A.a_(new ft(rt.UNAVAILABLE,"The operation could not be completed")))})),w(_,su.EventType.MESSAGE,(R=>{if(!T){const O=R.data[0];Qt(!!O,16349);const V=O,H=V?.error||V[0]?.error;if(H){dt(fn,`RPC '${t}' stream ${r} received error:`,H);const G=H.status;let Y=(function(M){const I=ze[M];if(I!==void 0)return fx(I)})(G),nt=H.message;Y===void 0&&(Y=rt.INTERNAL,nt="Unknown error status: "+G+" with message "+H.message),T=!0,A.a_(new ft(Y,nt)),_.close()}else dt(fn,`RPC '${t}' stream ${r} received:`,O),A.u_(O)}})),w(u,Dw.STAT_EVENT,(R=>{R.stat===Ry.PROXY?dt(fn,`RPC '${t}' stream ${r} detected buffering proxy`):R.stat===Ry.NOPROXY&&dt(fn,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Xp(){return typeof document<"u"?document:null}function pm(n){return new f3(n,!0)}class Rx{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&dt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const _T="PersistentStream";class Cx{constructor(t,e,i,r,o,l,u,f){this.Mi=t,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Rx(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===rt.RESOURCE_EXHAUSTED?(Gs(e.toString()),Gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===e&&this.G_(i,r)}),(i=>{t((()=>{const r=new ft(rt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return dt(_T,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(dt(_T,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lk extends Cx{constructor(t,e,i,r,o,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=g3(this.serializer,t),i=(function(o){if(!("targetChange"in o))return At.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?At.min():l.readTime?rs(l.readTime):At.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=jy(this.serializer),e.addTarget=(function(o,l){let u;const f=l.target;if(u=Oy(f)?{documents:_3(o,f)}:{query:v3(o,f).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=gx(o,l.resumeToken);const d=Py(o,l.expectedCount);d!==null&&(u.expectedCount=d)}else if(l.snapshotVersion.compareTo(At.min())>0){u.readTime=Ld(o,l.snapshotVersion.toTimestamp());const d=Py(o,l.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,t);const i=E3(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=jy(this.serializer),e.removeTarget=t,this.q_(e)}}class ck extends Cx{constructor(t,e,i,r,o,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=y3(t.writeResults,t.commitTime),i=rs(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=jy(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>p3(this.serializer,i)))};this.q_(e)}}class uk{}class hk extends uk{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new ft(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(t,Ly(e,i),r,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ft(rt.UNKNOWN,o.toString())}))}Ho(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(t,Ly(e,i),r,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ft(rt.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class fk{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gs(e),this.aa=!1):dt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const eo="RemoteStore";class dk{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{i.enqueueAndForget((async()=>{oo(this)&&(dt(eo,"Restarting streams for network reachability change."),await(async function(f){const d=Ct(f);d.Ea.add(4),await sh(d),d.Ra.set("Unknown"),d.Ea.delete(4),await ym(d)})(this))}))})),this.Ra=new fk(i,r)}}async function ym(n){if(oo(n))for(const t of n.da)await t(!0)}async function sh(n){for(const t of n.da)await t(!1)}function Mx(n,t){const e=Ct(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),G_(e)?q_(e):Vl(e).O_()&&H_(e,t))}function F_(n,t){const e=Ct(n),i=Vl(e);e.Ia.delete(t),i.O_()&&Ix(e,t),e.Ia.size===0&&(i.O_()?i.L_():oo(e)&&e.Ra.set("Unknown"))}function H_(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Vl(n).Y_(t)}function Ix(n,t){n.Va.Ue(t),Vl(n).Z_(t)}function q_(n){n.Va=new l3({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Vl(n).start(),n.Ra.ua()}function G_(n){return oo(n)&&!Vl(n).x_()&&n.Ia.size>0}function oo(n){return Ct(n).Ea.size===0}function Dx(n){n.Va=void 0}async function mk(n){n.Ra.set("Online")}async function gk(n){n.Ia.forEach(((t,e)=>{H_(n,t)}))}async function pk(n,t){Dx(n),G_(n)?(n.Ra.ha(t),q_(n)):n.Ra.set("Unknown")}async function yk(n,t,e){if(n.Ra.set("Online"),t instanceof mx&&t.state===2&&t.cause)try{await(async function(r,o){const l=o.cause;for(const u of o.targetIds)r.Ia.has(u)&&(await r.remoteSyncer.rejectListen(u,l),r.Ia.delete(u),r.Va.removeTarget(u))})(n,t)}catch(i){dt(eo,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await jd(n,i)}else if(t instanceof _d?n.Va.Ze(t):t instanceof dx?n.Va.st(t):n.Va.tt(t),!e.isEqual(At.min()))try{const i=await Ax(n.localStore);e.compareTo(i)>=0&&await(function(o,l){const u=o.Va.Tt(l);return u.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const p=o.Ia.get(d);p&&o.Ia.set(d,p.withResumeToken(f.resumeToken,l))}})),u.targetMismatches.forEach(((f,d)=>{const p=o.Ia.get(f);if(!p)return;o.Ia.set(f,p.withResumeToken(un.EMPTY_BYTE_STRING,p.snapshotVersion)),Ix(o,f);const _=new Vr(p.target,f,d,p.sequenceNumber);H_(o,_)})),o.remoteSyncer.applyRemoteEvent(u)})(n,e)}catch(i){dt(eo,"Failed to raise snapshot:",i),await jd(n,i)}}async function jd(n,t,e){if(!Ll(t))throw t;n.Ea.add(1),await sh(n),n.Ra.set("Offline"),e||(e=()=>Ax(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{dt(eo,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await ym(n)}))}function Ox(n,t){return t().catch((e=>jd(n,e,t)))}async function _m(n){const t=Ct(n),e=Jr(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:R_;for(;_k(t);)try{const r=await Z3(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,vk(t,r)}catch(r){await jd(t,r)}Nx(t)&&kx(t)}function _k(n){return oo(n)&&n.Ta.length<10}function vk(n,t){n.Ta.push(t);const e=Jr(n);e.O_()&&e.X_&&e.ea(t.mutations)}function Nx(n){return oo(n)&&!Jr(n).x_()&&n.Ta.length>0}function kx(n){Jr(n).start()}async function bk(n){Jr(n).ra()}async function Ek(n){const t=Jr(n);for(const e of n.Ta)t.ea(e.mutations)}async function Tk(n,t,e){const i=n.Ta.shift(),r=P_.from(i,t,e);await Ox(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await _m(n)}async function Sk(n,t){t&&Jr(n).X_&&await(async function(i,r){if((function(l){return r3(l)&&l!==rt.ABORTED})(r.code)){const o=i.Ta.shift();Jr(i).B_(),await Ox(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await _m(i)}})(n,t),Nx(n)&&kx(n)}async function vT(n,t){const e=Ct(n);e.asyncQueue.verifyOperationInProgress(),dt(eo,"RemoteStore received new credentials");const i=oo(e);e.Ea.add(3),await sh(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await ym(e)}async function wk(n,t){const e=Ct(n);t?(e.Ea.delete(2),await ym(e)):t||(e.Ea.add(2),await sh(e),e.Ra.set("Unknown"))}function Vl(n){return n.ma||(n.ma=(function(e,i,r){const o=Ct(e);return o.sa(),new lk(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:mk.bind(null,n),t_:gk.bind(null,n),r_:pk.bind(null,n),H_:yk.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),G_(n)?q_(n):n.Ra.set("Unknown")):(await n.ma.stop(),Dx(n))}))),n.ma}function Jr(n){return n.fa||(n.fa=(function(e,i,r){const o=Ct(e);return o.sa(),new ck(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:bk.bind(null,n),r_:Sk.bind(null,n),ta:Ek.bind(null,n),na:Tk.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await _m(n)):(await n.fa.stop(),n.Ta.length>0&&(dt(eo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Y_{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Wa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const l=Date.now()+i,u=new Y_(t,e,l,r,o);return u.start(i),u}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function W_(n,t){if(Gs("AsyncQueue",`${t}: ${n}`),Ll(n))return new ft(rt.UNAVAILABLE,`${t}: ${n}`);throw n}class dl{static emptySet(t){return new dl(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||vt.comparator(e.key,i.key):(e,i)=>vt.comparator(e.key,i.key),this.keyedMap=ru(),this.sortedSet=new be(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof dl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new dl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class bT{constructor(){this.ga=new be(vt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):xt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Sl{constructor(t,e,i,r,o,l,u,f,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,r,o){const l=[];return e.forEach((u=>{l.push({type:0,doc:u})})),new Sl(t,e,dl.emptySet(e),l,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class xk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class Ak{constructor(){this.queries=ET(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=Ct(e),o=r.queries;r.queries=ET(),o.forEach(((l,u)=>{for(const f of u.Sa)f.onError(i)}))})(this,new ft(rt.ABORTED,"Firestore shutting down"))}}function ET(){return new ao((n=>tx(n)),hm)}async function Rk(n,t){const e=Ct(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.ba()&&t.Da()&&(i=2):(o=new xk,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(l){const u=W_(l,`Initialization of query '${al(t.query)}' failed`);return void t.onError(u)}e.queries.set(r,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&$_(e)}async function Ck(n,t){const e=Ct(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const l=o.Sa.indexOf(t);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?r=t.Da()?0:1:!o.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function Mk(n,t){const e=Ct(n);let i=!1;for(const r of t){const o=r.query,l=e.queries.get(o);if(l){for(const u of l.Sa)u.Fa(r)&&(i=!0);l.wa=r}}i&&$_(e)}function Ik(n,t,e){const i=Ct(n),r=i.queries.get(t);if(r)for(const o of r.Sa)o.onError(e);i.queries.delete(t)}function $_(n){n.Ca.forEach((t=>{t.next()}))}var By,TT;(TT=By||(By={})).Ma="default",TT.Cache="cache";class Dk{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Sl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Sl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==By.Cache}}class Px{constructor(t){this.key=t}}class Lx{constructor(t){this.key=t}}class Ok{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=ex(t),this.tu=new dl(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new bT,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,l=r,u=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((p,_)=>{const b=r.get(p),T=fm(this.query,_)?_:null,A=!!b&&this.mutatedKeys.has(b.key),w=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let R=!1;b&&T?b.data.isEqual(T.data)?A!==w&&(i.track({type:3,doc:T}),R=!0):this.su(b,T)||(i.track({type:2,doc:T}),R=!0,(f&&this.eu(T,f)>0||d&&this.eu(T,d)<0)&&(u=!0)):!b&&T?(i.track({type:0,doc:T}),R=!0):b&&!T&&(i.track({type:1,doc:b}),R=!0,(f||d)&&(u=!0)),R&&(T?(l=l.add(T),o=w?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),i.track({type:1,doc:p})}return{tu:l,iu:i,Cs:u,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const l=t.iu.ya();l.sort(((p,_)=>(function(T,A){const w=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt(20277,{Rt:R})}};return w(T)-w(A)})(p.type,_.type)||this.eu(p.doc,_.doc))),this.ou(i),r=r??!1;const u=e&&!r?this._u():[],f=this.Xa.size===0&&this.current&&!r?1:0,d=f!==this.Za;return this.Za=f,l.length!==0||d?{snapshot:new Sl(this.query,t.tu,o,l,t.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new Lx(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new Px(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=Ut();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const K_="SyncEngine";class Nk{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class kk{constructor(t){this.key=t,this.hu=!1}}class Pk{constructor(t,e,i,r,o,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new ao((u=>tx(u)),hm),this.Iu=new Map,this.Eu=new Set,this.du=new be(vt.comparator),this.Au=new Map,this.Ru=new j_,this.Vu={},this.mu=new Map,this.fu=Tl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Lk(n,t,e=!0){const i=Fx(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await Vx(i,t,e,!0),r}async function Vk(n,t){const e=Fx(n);await Vx(e,t,!0,!1)}async function Vx(n,t,e,i){const r=await tk(n.localStore,ss(t)),o=r.targetId,l=n.sharedClientState.addLocalQueryTarget(o,e);let u;return i&&(u=await jk(n,t,o,l==="current",r.resumeToken)),n.isPrimaryClient&&e&&Mx(n.remoteStore,r),u}async function jk(n,t,e,i,r){n.pu=(_,b,T)=>(async function(w,R,O,V){let H=R.view.ru(O);H.Cs&&(H=await mT(w.localStore,R.query,!1).then((({documents:N})=>R.view.ru(N,H))));const G=V&&V.targetChanges.get(R.targetId),Y=V&&V.targetMismatches.get(R.targetId)!=null,nt=R.view.applyChanges(H,w.isPrimaryClient,G,Y);return wT(w,R.targetId,nt.au),nt.snapshot})(n,_,b,T);const o=await mT(n.localStore,t,!0),l=new Ok(t,o.Qs),u=l.ru(o.documents),f=ih.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),d=l.applyChanges(u,n.isPrimaryClient,f);wT(n,e,d.au);const p=new Nk(t,e,l);return n.Tu.set(t,p),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),d.snapshot}async function zk(n,t,e){const i=Ct(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((l=>!hm(l,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await zy(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&F_(i.remoteStore,r.targetId),Fy(i,r.targetId)})).catch(Pl)):(Fy(i,r.targetId),await zy(i.localStore,r.targetId,!0))}async function Uk(n,t){const e=Ct(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),F_(e.remoteStore,i.targetId))}async function Bk(n,t,e){const i=$k(n);try{const r=await(function(l,u){const f=Ct(l),d=me.now(),p=u.reduce(((T,A)=>T.add(A.key)),Ut());let _,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let A=Ys(),w=Ut();return f.Ns.getEntries(T,p).next((R=>{A=R,A.forEach(((O,V)=>{V.isValidDocument()||(w=w.add(O))}))})).next((()=>f.localDocuments.getOverlayedDocuments(T,A))).next((R=>{_=R;const O=[];for(const V of u){const H=t3(V,_.get(V.key).overlayedDocument);H!=null&&O.push(new ra(V.key,H,Yw(H.value.mapValue),ui.exists(!0)))}return f.mutationQueue.addMutationBatch(T,d,O,u)})).next((R=>{b=R;const O=R.applyToLocalDocumentSet(_,w);return f.documentOverlayCache.saveOverlays(T,R.batchId,O)}))})).then((()=>({batchId:b.batchId,changes:ix(_)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(l,u,f){let d=l.Vu[l.currentUser.toKey()];d||(d=new be(zt)),d=d.insert(u,f),l.Vu[l.currentUser.toKey()]=d})(i,r.batchId,e),await rh(i,r.changes),await _m(i.remoteStore)}catch(r){const o=W_(r,"Failed to persist write");e.reject(o)}}async function jx(n,t){const e=Ct(n);try{const i=await Q3(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const l=e.Au.get(o);l&&(Qt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?l.hu=!0:r.modifiedDocuments.size>0?Qt(l.hu,14607):r.removedDocuments.size>0&&(Qt(l.hu,42227),l.hu=!1))})),await rh(e,i,t)}catch(i){await Pl(i)}}function ST(n,t,e){const i=Ct(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach(((o,l)=>{const u=l.view.va(t);u.snapshot&&r.push(u.snapshot)})),(function(l,u){const f=Ct(l);f.onlineState=u;let d=!1;f.queries.forEach(((p,_)=>{for(const b of _.Sa)b.va(u)&&(d=!0)})),d&&$_(f)})(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function Fk(n,t,e){const i=Ct(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let l=new be(vt.comparator);l=l.insert(o,mn.newNoDocument(o,At.min()));const u=Ut().add(o),f=new gm(At.min(),new Map,new be(zt),l,u);await jx(i,f),i.du=i.du.remove(o),i.Au.delete(t),X_(i)}else await zy(i.localStore,t,!1).then((()=>Fy(i,t,e))).catch(Pl)}async function Hk(n,t){const e=Ct(n),i=t.batch.batchId;try{const r=await X3(e.localStore,t);Ux(e,i,null),zx(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await rh(e,r)}catch(r){await Pl(r)}}async function qk(n,t,e){const i=Ct(n);try{const r=await(function(l,u){const f=Ct(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let p;return f.mutationQueue.lookupMutationBatch(d,u).next((_=>(Qt(_!==null,37113),p=_.keys(),f.mutationQueue.removeMutationBatch(d,_)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,p,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p))).next((()=>f.localDocuments.getDocuments(d,p)))}))})(i.localStore,t);Ux(i,t,e),zx(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await rh(i,r)}catch(r){await Pl(r)}}function zx(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function Ux(n,t,e){const i=Ct(n);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function Fy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||Bx(n,i)}))}function Bx(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(F_(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),X_(n))}function wT(n,t,e){for(const i of e)i instanceof Px?(n.Ru.addReference(i.key,t),Gk(n,i)):i instanceof Lx?(dt(K_,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||Bx(n,i.key)):xt(19791,{wu:i})}function Gk(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(dt(K_,"New document in limbo: "+e),n.Eu.add(i),X_(n))}function X_(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new vt(ue.fromString(t)),i=n.fu.next();n.Au.set(i,new kk(e)),n.du=n.du.insert(e,i),Mx(n.remoteStore,new Vr(ss(O_(e.path)),i,"TargetPurposeLimboResolution",lm.ce))}}async function rh(n,t,e){const i=Ct(n),r=[],o=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach(((u,f)=>{l.push(i.pu(f,t,e).then((d=>{if((d||e)&&i.isPrimaryClient){const p=d?!d.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(d){r.push(d);const p=U_.As(f.targetId,d);o.push(p)}})))})),await Promise.all(l),i.Pu.H_(r),await(async function(f,d){const p=Ct(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>at.forEach(d,(b=>at.forEach(b.Es,(T=>p.persistence.referenceDelegate.addReference(_,b.targetId,T))).next((()=>at.forEach(b.ds,(T=>p.persistence.referenceDelegate.removeReference(_,b.targetId,T)))))))))}catch(_){if(!Ll(_))throw _;dt(B_,"Failed to update sequence numbers: "+_)}for(const _ of d){const b=_.targetId;if(!_.fromCache){const T=p.Ms.get(b),A=T.snapshotVersion,w=T.withLastLimboFreeSnapshotVersion(A);p.Ms=p.Ms.insert(b,w)}}})(i.localStore,o))}async function Yk(n,t){const e=Ct(n);if(!e.currentUser.isEqual(t)){dt(K_,"User change. New user:",t.toKey());const i=await xx(e.localStore,t);e.currentUser=t,(function(o,l){o.mu.forEach((u=>{u.forEach((f=>{f.reject(new ft(rt.CANCELLED,l))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await rh(e,i.Ls)}}function Wk(n,t){const e=Ct(n),i=e.Au.get(t);if(i&&i.hu)return Ut().add(i.key);{let r=Ut();const o=e.Iu.get(t);if(!o)return r;for(const l of o){const u=e.Tu.get(l);r=r.unionWith(u.view.nu)}return r}}function Fx(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=jx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Fk.bind(null,t),t.Pu.H_=Mk.bind(null,t.eventManager),t.Pu.yu=Ik.bind(null,t.eventManager),t}function $k(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Hk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=qk.bind(null,t),t}class zd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=pm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return K3(this.persistence,new Y3,t.initialUser,this.serializer)}Cu(t){return new wx(z_.mi,this.serializer)}Du(t){return new nk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zd.provider={build:()=>new zd};class Kk extends zd{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Qt(this.persistence.referenceDelegate instanceof Vd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new D3(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new wx((i=>Vd.mi(i,e)),this.serializer)}}class Hy{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ST(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yk.bind(null,this.syncEngine),await wk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Ak})()}createDatastore(t){const e=pm(t.databaseInfo.databaseId),i=(function(o){return new ok(o)})(t.databaseInfo);return(function(o,l,u,f){return new hk(o,l,u,f)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,o,l,u){return new dk(i,r,o,l,u)})(this.localStore,this.datastore,t.asyncQueue,(e=>ST(this.syncEngine,e,0)),(function(){return yT.v()?new yT:new ik})())}createSyncEngine(t,e){return(function(r,o,l,u,f,d,p){const _=new Pk(r,o,l,u,f,d);return p&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=Ct(e);dt(eo,"RemoteStore shutting down."),i.Ea.add(5),await sh(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Hy.provider={build:()=>new Hy};class Xk{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Gs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Zr="FirestoreClient";class Qk{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=In.UNAUTHENTICATED,this.clientId=A_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async l=>{dt(Zr,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(i,(l=>(dt(Zr,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Wa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=W_(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Qp(n,t){n.asyncQueue.verifyOperationInProgress(),dt(Zr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await xx(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function xT(n,t){n.asyncQueue.verifyOperationInProgress();const e=await Jk(n);dt(Zr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>vT(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>vT(t.remoteStore,r))),n._onlineComponents=t}async function Jk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){dt(Zr,"Using user provided OfflineComponentProvider");try{await Qp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===rt.FAILED_PRECONDITION||r.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;Ru("Error using user provided cache. Falling back to memory cache: "+e),await Qp(n,new zd)}}else dt(Zr,"Using default OfflineComponentProvider"),await Qp(n,new Kk(void 0));return n._offlineComponents}async function Hx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(dt(Zr,"Using user provided OnlineComponentProvider"),await xT(n,n._uninitializedComponentsProvider._online)):(dt(Zr,"Using default OnlineComponentProvider"),await xT(n,new Hy))),n._onlineComponents}function Zk(n){return Hx(n).then((t=>t.syncEngine))}async function AT(n){const t=await Hx(n),e=t.eventManager;return e.onListen=Lk.bind(null,t.syncEngine),e.onUnlisten=zk.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Vk.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Uk.bind(null,t.syncEngine),e}function qx(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const RT=new Map;const t5="firestore.googleapis.com",CT=!0;class MT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ft(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=t5,this.ssl=CT}else this.host=t.host,this.ssl=t.ssl??CT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Tx;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Sx)throw new ft(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}dN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qx(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ft(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ft(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ft(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Q_{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new sN;switch(i.type){case"firstParty":return new oN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ft(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=RT.get(e);i&&(dt("ComponentProvider","Removing Datastore"),RT.delete(e),i.terminate())})(this),Promise.resolve()}}class jl{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new jl(this.firestore,t,this._query)}}class Ce{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ce(this.firestore,t,this._key)}toJSON(){return{type:Ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(th(e,Ce._jsonSchema))return new Ce(t,i||null,new vt(ue.fromString(e.referencePath)))}}Ce._jsonSchemaVersion="firestore/documentReference/1.0",Ce._jsonSchema={type:Fe("string",Ce._jsonSchemaVersion),referencePath:Fe("string")};class Yr extends jl{constructor(t,e,i){super(t,e,O_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ce(this.firestore,null,new vt(t))}withConverter(t){return new Yr(this.firestore,t,this._path)}}function Ls(n,t,...e){if(n=$e(n),Pw("collection","path",t),n instanceof Q_){const i=ue.fromString(t,...e);return BE(i),new Yr(n,null,i)}{if(!(n instanceof Ce||n instanceof Yr))throw new ft(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ue.fromString(t,...e));return BE(i),new Yr(n.firestore,null,i)}}function es(n,t,...e){if(n=$e(n),arguments.length===1&&(t=A_.newId()),Pw("doc","path",t),n instanceof Q_){const i=ue.fromString(t,...e);return UE(i),new Ce(n,null,new vt(i))}{if(!(n instanceof Ce||n instanceof Yr))throw new ft(rt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ue.fromString(t,...e));return UE(i),new Ce(n.firestore,n instanceof Yr?n.converter:null,new vt(i))}}const IT="AsyncQueue";class DT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Rx(this,"async_queue_retry"),this._c=()=>{const i=Xp();i&&dt(IT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Xp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Xp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Wa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ll(t))throw t;dt(IT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Gs("INTERNAL UNHANDLED ERROR: ",OT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=Y_.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&xt(47125,{Pc:OT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function OT(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function NT(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1})(n,["next","error","complete"])}class no extends Q_{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new DT,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new DT(t),this._firestoreClient=void 0,await t}}}function e5(n,t,e){e||(e=Dd);const i=p_(n,"firestore");if(i.isInitialized(e)){const r=i.getImmediate({identifier:e}),o=i.getOptions(e);if(Xa(o,t))return r;throw new ft(rt.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new ft(rt.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Sx)throw new ft(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&Dl(t.host)&&BS(t.host),i.initialize({options:t,instanceIdentifier:e})}function Gx(n){if(n._terminated)throw new ft(rt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||n5(n),n._firestoreClient}function n5(n){const t=n._freezeSettings(),e=(function(r,o,l,u){return new wN(r,o,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,qx(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new Qk(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}class li{constructor(t){this._byteString=t}static fromBase64String(t){try{return new li(un.fromBase64String(t))}catch(e){throw new ft(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new li(un.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:li._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(th(t,li._jsonSchema))return li.fromBase64String(t.bytes)}}li._jsonSchemaVersion="firestore/bytes/1.0",li._jsonSchema={type:Fe("string",li._jsonSchemaVersion),bytes:Fe("string")};class vm{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ft(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class bm{constructor(t){this._methodName=t}}class as{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ft(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ft(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:as._jsonSchemaVersion}}static fromJSON(t){if(th(t,as._jsonSchema))return new as(t.latitude,t.longitude)}}as._jsonSchemaVersion="firestore/geoPoint/1.0",as._jsonSchema={type:Fe("string",as._jsonSchemaVersion),latitude:Fe("number"),longitude:Fe("number")};class os{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:os._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(th(t,os._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new os(t.vectorValues);throw new ft(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}os._jsonSchemaVersion="firestore/vectorValue/1.0",os._jsonSchema={type:Fe("string",os._jsonSchemaVersion),vectorValues:Fe("object")};const i5=/^__.*__$/;class s5{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new ra(t,this.data,this.fieldMask,e,this.fieldTransforms):new nh(t,this.data,e,this.fieldTransforms)}}class Yx{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new ra(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Wx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt(40011,{Ac:n})}}class J_{constructor(t,e,i,r,o,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new J_({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Ud(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Wx(this.Ac)&&i5.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class r5{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||pm(t)}Cc(t,e,i,r=!1){return new J_({Ac:t,methodName:e,Dc:i,path:cn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Em(n){const t=n._freezeSettings(),e=pm(n._databaseId);return new r5(n._databaseId,!!t.ignoreUndefinedProperties,e)}function $x(n,t,e,i,r,o={}){const l=n.Cc(o.merge||o.mergeFields?2:0,t,e,r);t0("Data must be an object, but it was:",l,i);const u=Kx(i,l);let f,d;if(o.merge)f=new Gn(l.fieldMask),d=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const _ of o.mergeFields){const b=qy(t,_,e);if(!l.contains(b))throw new ft(rt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);Qx(p,b)||p.push(b)}f=new Gn(p),d=l.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,d=l.fieldTransforms;return new s5(new On(u),f,d)}class Tm extends bm{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Tm}}class Z_ extends bm{_toFieldTransform(t){return new XN(t.path,new Ou)}isEqual(t){return t instanceof Z_}}function a5(n,t,e,i){const r=n.Cc(1,t,e);t0("Data must be an object, but it was:",r,i);const o=[],l=On.empty();sa(i,((f,d)=>{const p=e0(t,f,e);d=$e(d);const _=r.yc(p);if(d instanceof Tm)o.push(p);else{const b=ah(d,_);b!=null&&(o.push(p),l.set(p,b))}}));const u=new Gn(o);return new Yx(l,u,r.fieldTransforms)}function o5(n,t,e,i,r,o){const l=n.Cc(1,t,e),u=[qy(t,i,e)],f=[r];if(o.length%2!=0)throw new ft(rt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)u.push(qy(t,o[b])),f.push(o[b+1]);const d=[],p=On.empty();for(let b=u.length-1;b>=0;--b)if(!Qx(d,u[b])){const T=u[b];let A=f[b];A=$e(A);const w=l.yc(T);if(A instanceof Tm)d.push(T);else{const R=ah(A,w);R!=null&&(d.push(T),p.set(T,R))}}const _=new Gn(d);return new Yx(p,_,l.fieldTransforms)}function l5(n,t,e,i=!1){return ah(e,n.Cc(i?4:3,t))}function ah(n,t){if(Xx(n=$e(n)))return t0("Unsupported field value:",t,n),Kx(n,t);if(n instanceof bm)return(function(i,r){if(!Wx(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,r){const o=[];let l=0;for(const u of i){let f=ah(u,r.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}})(n,t)}return(function(i,r){if((i=$e(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return WN(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=me.fromDate(i);return{timestampValue:Ld(r.serializer,o)}}if(i instanceof me){const o=new me(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ld(r.serializer,o)}}if(i instanceof as)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof li)return{bytesValue:gx(r.serializer,i._byteString)};if(i instanceof Ce){const o=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw r.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:V_(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof os)return(function(l,u){return{mapValue:{fields:{[qw]:{stringValue:Gw},[Od]:{arrayValue:{values:l.toArray().map((d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return N_(u.serializer,d)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${om(i)}`)})(n,t)}function Kx(n,t){const e={};return jw(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sa(n,((i,r)=>{const o=ah(r,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function Xx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof me||n instanceof as||n instanceof li||n instanceof Ce||n instanceof bm||n instanceof os)}function t0(n,t,e){if(!Xx(e)||!Lw(e)){const i=om(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function qy(n,t,e){if((t=$e(t))instanceof vm)return t._internalPath;if(typeof t=="string")return e0(n,t);throw Ud("Field path arguments must be of type string or ",n,!1,void 0,e)}const c5=new RegExp("[~\\*/\\[\\]]");function e0(n,t,e){if(t.search(c5)>=0)throw Ud(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new vm(...t.split("."))._internalPath}catch{throw Ud(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Ud(n,t,e,i,r){const o=i&&!i.isEmpty(),l=r!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||l)&&(f+=" (found",o&&(f+=` in field ${i}`),l&&(f+=` in document ${r}`),f+=")"),new ft(rt.INVALID_ARGUMENT,u+n+f)}function Qx(n,t){return n.some((e=>e.isEqual(t)))}class Jx{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new u5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(n0("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class u5 extends Jx{data(){return super.data()}}function n0(n,t){return typeof t=="string"?e0(n,t):t instanceof vm?t._internalPath:t._delegate._internalPath}function h5(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ft(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class i0{}class f5 extends i0{}function Pu(n,t,...e){let i=[];t instanceof i0&&i.push(t),i=i.concat(e),(function(o){const l=o.filter((f=>f instanceof s0)).length,u=o.filter((f=>f instanceof Sm)).length;if(l>1||l>0&&u>0)throw new ft(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class Sm extends f5{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Sm(t,e,i)}_apply(t){const e=this._parse(t);return Zx(t._query,e),new jl(t.firestore,t.converter,Ny(t._query,e))}_parse(t){const e=Em(t.firestore);return(function(o,l,u,f,d,p,_){let b;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ft(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){PT(_,p);const A=[];for(const w of _)A.push(kT(f,o,w));b={arrayValue:{values:A}}}else b=kT(f,o,_)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||PT(_,p),b=l5(u,l,_,p==="in"||p==="not-in");return Ue.create(d,p,b)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function Lu(n,t,e){const i=t,r=n0("where",n);return Sm._create(r,i,e)}class s0 extends i0{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new s0(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:Ri.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(r,o){let l=r;const u=o.getFlattenedFilters();for(const f of u)Zx(l,f),l=Ny(l,f)})(t._query,e),new jl(t.firestore,t.converter,Ny(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function kT(n,t,e){if(typeof(e=$e(e))=="string"){if(e==="")throw new ft(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zw(t)&&e.indexOf("/")!==-1)throw new ft(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(ue.fromString(e));if(!vt.isDocumentKey(i))throw new ft(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return KE(n,new vt(i))}if(e instanceof Ce)return KE(n,e._key);throw new ft(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${om(e)}.`)}function PT(n,t){if(!Array.isArray(n)||n.length===0)throw new ft(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Zx(n,t){const e=(function(r,o){for(const l of r)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ft(rt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ft(rt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class d5{convertValue(t,e="none"){switch(Qr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Re(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Xr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw xt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return sa(t,((r,o)=>{i[r]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[Od].arrayValue?.values?.map((i=>Re(i.doubleValue)));return new os(e)}convertGeoPoint(t){return new as(Re(t.latitude),Re(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=um(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Mu(t));default:return null}}convertTimestamp(t){const e=Kr(t);return new me(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ue.fromString(t);Qt(Ex(i),9688,{name:t});const r=new Iu(i.get(1),i.get(3)),o=new vt(i.popFirst(5));return r.isEqual(e)||Gs(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function tA(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class ou{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $a extends Jx{constructor(t,e,i,r,o,l){super(t,e,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(n0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=$a._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}$a._jsonSchemaVersion="firestore/documentSnapshot/1.0",$a._jsonSchema={type:Fe("string",$a._jsonSchemaVersion),bundleSource:Fe("string","DocumentSnapshot"),bundleName:Fe("string"),bundle:Fe("string")};class vd extends $a{data(t={}){return super.data(t)}}class ml{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new ou(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new vd(this._firestore,this._userDataWriter,i.key,i,new ou(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ft(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map((u=>{const f=new vd(r._firestore,r._userDataWriter,u.doc.key,u.doc,new ou(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const f=new vd(r._firestore,r._userDataWriter,u.doc.key,u.doc,new ou(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,p=-1;return u.type!==0&&(d=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:m5(u.type),doc:f,oldIndex:d,newIndex:p}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ml._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=A_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function m5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt(61501,{type:n})}}ml._jsonSchemaVersion="firestore/querySnapshot/1.0",ml._jsonSchema={type:Fe("string",ml._jsonSchemaVersion),bundleSource:Fe("string","QuerySnapshot"),bundleName:Fe("string"),bundle:Fe("string")};class eA extends d5{constructor(t){super(),this.firestore=t}convertBytes(t){return new li(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ce(this.firestore,null,e)}}function g5(n,t,e){n=Bs(n,Ce);const i=Bs(n.firestore,no),r=tA(n.converter,t);return wm(i,[$x(Em(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,ui.none())])}function Gy(n,t,e,...i){n=Bs(n,Ce);const r=Bs(n.firestore,no),o=Em(r);let l;return l=typeof(t=$e(t))=="string"||t instanceof vm?o5(o,"updateDoc",n._key,t,e,i):a5(o,"updateDoc",n._key,t),wm(r,[l.toMutation(n._key,ui.exists(!0))])}function gl(n){return wm(Bs(n.firestore,no),[new k_(n._key,ui.none())])}function Bd(n,t){const e=Bs(n.firestore,no),i=es(n),r=tA(n.converter,t);return wm(e,[$x(Em(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,ui.exists(!1))]).then((()=>i))}function Vu(n,...t){n=$e(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||NT(t[i])||(e=t[i++]);const r={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(NT(t[i])){const f=t[i];t[i]=f.next?.bind(f),t[i+1]=f.error?.bind(f),t[i+2]=f.complete?.bind(f)}let o,l,u;if(n instanceof Ce)l=Bs(n.firestore,no),u=O_(n._key.path),o={next:f=>{t[i]&&t[i](p5(l,n,f))},error:t[i+1],complete:t[i+2]};else{const f=Bs(n,jl);l=Bs(f.firestore,no),u=f._query;const d=new eA(l);o={next:p=>{t[i]&&t[i](new ml(l,d,f,p))},error:t[i+1],complete:t[i+2]},h5(n._query)}return(function(d,p,_,b){const T=new Xk(b),A=new Dk(p,T,_);return d.asyncQueue.enqueueAndForget((async()=>Rk(await AT(d),A))),()=>{T.Nu(),d.asyncQueue.enqueueAndForget((async()=>Ck(await AT(d),A)))}})(Gx(l),u,r,o)}function wm(n,t){return(function(i,r){const o=new Wa;return i.asyncQueue.enqueueAndForget((async()=>Bk(await Zk(i),r,o))),o.promise})(Gx(n),t)}function p5(n,t,e){const i=e.docs.get(t._key),r=new eA(n);return new $a(n,r,t._key,i,new ou(e.hasPendingWrites,e.fromCache),t.converter)}function Ga(){return new Z_("serverTimestamp")}(function(t,e=!0){(function(r){kl=r})(Ol),_l(new Qa("firestore",((i,{instanceIdentifier:r,options:o})=>{const l=i.getProvider("app").getImmediate(),u=new no(new rN(i.getProvider("auth-internal")),new lN(l,i.getProvider("app-check-internal")),(function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ft(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Iu(d.options.projectId,p)})(l,r),l);return o={useFetchStreams:e,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),qr(LE,VE,t),qr(LE,VE,"esm2020")})();const y5={apiKey:"AIzaSyCTyX-O56qZ3ImQnuo6RvP2SFB3U5WYz6E",authDomain:"expense-track-c543f.firebaseapp.com",projectId:"expense-track-c543f",storageBucket:"expense-track-c543f.firebasestorage.app",messagingSenderId:"639110160440",appId:"1:639110160440:web:4487511611c9e7a88046cd"},nA=M4().length===0?qS(y5):GS(),Ze=e5(nA,{experimentalForceLongPolling:!0,useFetchStreams:!1}),$c=eN(nA),iA=B.createContext();function Ks(){return B.useContext(iA)}function _5({children:n}){const[t,e]=B.useState(null),[i,r]=B.useState(!0);function o(d,p){return z6($c,d,p)}function l(d,p){return U6($c,d,p)}function u(){return q6($c)}B.useEffect(()=>{if(!$c){r(!1);return}return H6($c,p=>{e(p),r(!1)})},[]);const f={currentUser:t,signup:o,login:l,logout:u};return E.jsx(iA.Provider,{value:f,children:!i&&n})}const sA=B.createContext();function rA(){return B.useContext(sA)}function v5({children:n}){const[t,e]=B.useState(()=>{const r=localStorage.getItem("theme");return r||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});B.useEffect(()=>{document.documentElement.setAttribute("data-theme",t),localStorage.setItem("theme",t)},[t]);const i=()=>{e(r=>r==="light"?"dark":"light")};return E.jsx(sA.Provider,{value:{theme:t,toggleTheme:i},children:n})}const aA=B.createContext();function r0(){return B.useContext(aA)}function b5({children:n}){const{currentUser:t}=Ks(),[e,i]=B.useState([]),[r,o]=B.useState([]),[l,u]=B.useState(!0),f=O=>({...O,date:O.date?.toDate?.()||new Date(O.date)||new Date}),d=(O,V)=>{const H=O.date?.getTime?.()||0;return(V.date?.getTime?.()||0)-H};B.useEffect(()=>{if(!t){i([]),o([]),u(!1);return}u(!0);const O=Pu(Ls(Ze,"expenses"),Lu("uid","==",t.uid)),V=Pu(Ls(Ze,"incomes"),Lu("uid","==",t.uid)),H=Vu(O,Y=>{const nt=Y.docs.map(N=>({id:N.id,...N.data()})).map(f).sort(d);i(nt)}),G=Vu(V,Y=>{const nt=Y.docs.map(N=>({id:N.id,...N.data()})).map(f).sort(d);o(nt)});return u(!1),()=>{H(),G()}},[t]);const R={expenses:e,incomes:r,loading:l,addExpense:async O=>{t&&await Bd(Ls(Ze,"expenses"),{...O,uid:t.uid,date:O.date?new Date(O.date):Ga()})},updateExpense:async(O,V)=>{await Gy(es(Ze,"expenses",O),{...V,date:V.date?new Date(V.date):Ga()})},deleteExpense:async O=>{await gl(es(Ze,"expenses",O))},addIncome:async O=>{t&&await Bd(Ls(Ze,"incomes"),{...O,uid:t.uid,date:O.date?new Date(O.date):Ga()})},updateIncome:async(O,V)=>{await Gy(es(Ze,"incomes",O),{...V,date:V.date?new Date(V.date):Ga()})},deleteIncome:async O=>{await gl(es(Ze,"incomes",O))}};return E.jsx(aA.Provider,{value:R,children:n})}const oA=6048e5,E5=864e5,LT=Symbol.for("constructDateFrom");function kn(n,t){return typeof n=="function"?n(t):n&&typeof n=="object"&&LT in n?n[LT](t):n instanceof Date?new n.constructor(t):new Date(t)}function tn(n,t){return kn(t||n,n)}function lA(n,t,e){const i=tn(n,e?.in);return isNaN(t)?kn(n,NaN):(t&&i.setDate(i.getDate()+t),i)}function cA(n,t,e){const i=tn(n,e?.in);if(isNaN(t))return kn(n,NaN);if(!t)return i;const r=i.getDate(),o=kn(n,i.getTime());o.setMonth(i.getMonth()+t+1,0);const l=o.getDate();return r>=l?o:(i.setFullYear(o.getFullYear(),o.getMonth(),r),i)}let T5={};function oh(){return T5}function Ws(n,t){const e=oh(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,r=tn(n,t?.in),o=r.getDay(),l=(o<i?7:0)+o-i;return r.setDate(r.getDate()-l),r.setHours(0,0,0,0),r}function Fd(n,t){return Ws(n,{...t,weekStartsOn:1})}function uA(n,t){const e=tn(n,t?.in),i=e.getFullYear(),r=kn(e,0);r.setFullYear(i+1,0,4),r.setHours(0,0,0,0);const o=Fd(r),l=kn(e,0);l.setFullYear(i,0,4),l.setHours(0,0,0,0);const u=Fd(l);return e.getTime()>=o.getTime()?i+1:e.getTime()>=u.getTime()?i:i-1}function VT(n){const t=tn(n),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+n-+e}function zl(n,...t){const e=kn.bind(null,t.find(i=>typeof i=="object"));return t.map(e)}function Hd(n,t){const e=tn(n,t?.in);return e.setHours(0,0,0,0),e}function hA(n,t,e){const[i,r]=zl(e?.in,n,t),o=Hd(i),l=Hd(r),u=+o-VT(o),f=+l-VT(l);return Math.round((u-f)/E5)}function S5(n,t){const e=uA(n,t),i=kn(n,0);return i.setFullYear(e,0,4),i.setHours(0,0,0,0),Fd(i)}function w5(n,t,e){return lA(n,t*7,e)}function x5(n){return kn(n,Date.now())}function fA(n,t,e){const[i,r]=zl(e?.in,n,t);return+Hd(i)==+Hd(r)}function A5(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function R5(n){return!(!A5(n)&&typeof n!="number"||isNaN(+tn(n)))}function C5(n,t,e){const[i,r]=zl(e?.in,n,t),o=jT(i,r),l=Math.abs(hA(i,r));i.setDate(i.getDate()-o*l);const u=+(jT(i,r)===-o),f=o*(l-u);return f===0?0:f}function jT(n,t){const e=n.getFullYear()-t.getFullYear()||n.getMonth()-t.getMonth()||n.getDate()-t.getDate()||n.getHours()-t.getHours()||n.getMinutes()-t.getMinutes()||n.getSeconds()-t.getSeconds()||n.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function M5(n,t){const e=tn(n,t?.in),i=e.getMonth();return e.setFullYear(e.getFullYear(),i+1,0),e.setHours(23,59,59,999),e}function I5(n,t){const[e,i]=zl(n,t.start,t.end);return{start:e,end:i}}function D5(n,t){const{start:e,end:i}=I5(t?.in,n);let r=+e>+i;const o=r?+e:+i,l=r?i:e;l.setHours(0,0,0,0);let u=1;const f=[];for(;+l<=o;)f.push(kn(e,l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return r?f.reverse():f}function zT(n,t){const e=tn(n,t?.in);return e.setDate(1),e.setHours(0,0,0,0),e}function O5(n,t){const e=tn(n,t?.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}function UT(n,t){const e=oh(),i=e.weekStartsOn??e.locale?.options?.weekStartsOn??0,r=tn(n,t?.in),o=r.getDay(),l=(o<i?-7:0)+6-(o-i);return r.setDate(r.getDate()+l),r.setHours(23,59,59,999),r}const N5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},k5=(n,t,e)=>{let i;const r=N5[n];return typeof r=="string"?i=r:t===1?i=r.one:i=r.other.replace("{{count}}",t.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+i:i+" ago":i};function Jp(n){return(t={})=>{const e=t.width?String(t.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}const P5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},L5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},V5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},j5={date:Jp({formats:P5,defaultWidth:"full"}),time:Jp({formats:L5,defaultWidth:"full"}),dateTime:Jp({formats:V5,defaultWidth:"full"})},z5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},U5=(n,t,e,i)=>z5[n];function Kc(n){return(t,e)=>{const i=e?.context?String(e.context):"standalone";let r;if(i==="formatting"&&n.formattingValues){const l=n.defaultFormattingWidth||n.defaultWidth,u=e?.width?String(e.width):l;r=n.formattingValues[u]||n.formattingValues[l]}else{const l=n.defaultWidth,u=e?.width?String(e.width):n.defaultWidth;r=n.values[u]||n.values[l]}const o=n.argumentCallback?n.argumentCallback(t):t;return r[o]}}const B5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},F5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},H5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},q5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},G5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Y5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},W5=(n,t)=>{const e=Number(n),i=e%100;if(i>20||i<10)switch(i%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},$5={ordinalNumber:W5,era:Kc({values:B5,defaultWidth:"wide"}),quarter:Kc({values:F5,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Kc({values:H5,defaultWidth:"wide"}),day:Kc({values:q5,defaultWidth:"wide"}),dayPeriod:Kc({values:G5,defaultWidth:"wide",formattingValues:Y5,defaultFormattingWidth:"wide"})};function Xc(n){return(t,e={})=>{const i=e.width,r=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],o=t.match(r);if(!o)return null;const l=o[0],u=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(u)?X5(u,_=>_.test(l)):K5(u,_=>_.test(l));let d;d=n.valueCallback?n.valueCallback(f):f,d=e.valueCallback?e.valueCallback(d):d;const p=t.slice(l.length);return{value:d,rest:p}}}function K5(n,t){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&t(n[e]))return e}function X5(n,t){for(let e=0;e<n.length;e++)if(t(n[e]))return e}function Q5(n){return(t,e={})=>{const i=t.match(n.matchPattern);if(!i)return null;const r=i[0],o=t.match(n.parsePattern);if(!o)return null;let l=n.valueCallback?n.valueCallback(o[0]):o[0];l=e.valueCallback?e.valueCallback(l):l;const u=t.slice(r.length);return{value:l,rest:u}}}const J5=/^(\d+)(th|st|nd|rd)?/i,Z5=/\d+/i,tP={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},eP={any:[/^b/i,/^(a|c)/i]},nP={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},iP={any:[/1/i,/2/i,/3/i,/4/i]},sP={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rP={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aP={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},oP={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lP={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cP={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},uP={ordinalNumber:Q5({matchPattern:J5,parsePattern:Z5,valueCallback:n=>parseInt(n,10)}),era:Xc({matchPatterns:tP,defaultMatchWidth:"wide",parsePatterns:eP,defaultParseWidth:"any"}),quarter:Xc({matchPatterns:nP,defaultMatchWidth:"wide",parsePatterns:iP,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Xc({matchPatterns:sP,defaultMatchWidth:"wide",parsePatterns:rP,defaultParseWidth:"any"}),day:Xc({matchPatterns:aP,defaultMatchWidth:"wide",parsePatterns:oP,defaultParseWidth:"any"}),dayPeriod:Xc({matchPatterns:lP,defaultMatchWidth:"any",parsePatterns:cP,defaultParseWidth:"any"})},hP={code:"en-US",formatDistance:k5,formatLong:j5,formatRelative:U5,localize:$5,match:uP,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fP(n,t){const e=tn(n,t?.in);return hA(e,O5(e))+1}function dP(n,t){const e=tn(n,t?.in),i=+Fd(e)-+S5(e);return Math.round(i/oA)+1}function dA(n,t){const e=tn(n,t?.in),i=e.getFullYear(),r=oh(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=kn(t?.in||n,0);l.setFullYear(i+1,0,o),l.setHours(0,0,0,0);const u=Ws(l,t),f=kn(t?.in||n,0);f.setFullYear(i,0,o),f.setHours(0,0,0,0);const d=Ws(f,t);return+e>=+u?i+1:+e>=+d?i:i-1}function mP(n,t){const e=oh(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,r=dA(n,t),o=kn(t?.in||n,0);return o.setFullYear(r,0,i),o.setHours(0,0,0,0),Ws(o,t)}function gP(n,t){const e=tn(n,t?.in),i=+Ws(e,t)-+mP(e,t);return Math.round(i/oA)+1}function ee(n,t){const e=n<0?"-":"",i=Math.abs(n).toString().padStart(t,"0");return e+i}const Dr={y(n,t){const e=n.getFullYear(),i=e>0?e:1-e;return ee(t==="yy"?i%100:i,t.length)},M(n,t){const e=n.getMonth();return t==="M"?String(e+1):ee(e+1,2)},d(n,t){return ee(n.getDate(),t.length)},a(n,t){const e=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];default:return e==="am"?"a.m.":"p.m."}},h(n,t){return ee(n.getHours()%12||12,t.length)},H(n,t){return ee(n.getHours(),t.length)},m(n,t){return ee(n.getMinutes(),t.length)},s(n,t){return ee(n.getSeconds(),t.length)},S(n,t){const e=t.length,i=n.getMilliseconds(),r=Math.trunc(i*Math.pow(10,e-3));return ee(r,t.length)}},tl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},BT={G:function(n,t,e){const i=n.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(i,{width:"abbreviated"});case"GGGGG":return e.era(i,{width:"narrow"});default:return e.era(i,{width:"wide"})}},y:function(n,t,e){if(t==="yo"){const i=n.getFullYear(),r=i>0?i:1-i;return e.ordinalNumber(r,{unit:"year"})}return Dr.y(n,t)},Y:function(n,t,e,i){const r=dA(n,i),o=r>0?r:1-r;if(t==="YY"){const l=o%100;return ee(l,2)}return t==="Yo"?e.ordinalNumber(o,{unit:"year"}):ee(o,t.length)},R:function(n,t){const e=uA(n);return ee(e,t.length)},u:function(n,t){const e=n.getFullYear();return ee(e,t.length)},Q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return ee(i,2);case"Qo":return e.ordinalNumber(i,{unit:"quarter"});case"QQQ":return e.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(i,{width:"narrow",context:"formatting"});default:return e.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return ee(i,2);case"qo":return e.ordinalNumber(i,{unit:"quarter"});case"qqq":return e.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(i,{width:"narrow",context:"standalone"});default:return e.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,t,e){const i=n.getMonth();switch(t){case"M":case"MM":return Dr.M(n,t);case"Mo":return e.ordinalNumber(i+1,{unit:"month"});case"MMM":return e.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(i,{width:"narrow",context:"formatting"});default:return e.month(i,{width:"wide",context:"formatting"})}},L:function(n,t,e){const i=n.getMonth();switch(t){case"L":return String(i+1);case"LL":return ee(i+1,2);case"Lo":return e.ordinalNumber(i+1,{unit:"month"});case"LLL":return e.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(i,{width:"narrow",context:"standalone"});default:return e.month(i,{width:"wide",context:"standalone"})}},w:function(n,t,e,i){const r=gP(n,i);return t==="wo"?e.ordinalNumber(r,{unit:"week"}):ee(r,t.length)},I:function(n,t,e){const i=dP(n);return t==="Io"?e.ordinalNumber(i,{unit:"week"}):ee(i,t.length)},d:function(n,t,e){return t==="do"?e.ordinalNumber(n.getDate(),{unit:"date"}):Dr.d(n,t)},D:function(n,t,e){const i=fP(n);return t==="Do"?e.ordinalNumber(i,{unit:"dayOfYear"}):ee(i,t.length)},E:function(n,t,e){const i=n.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(i,{width:"short",context:"formatting"});default:return e.day(i,{width:"wide",context:"formatting"})}},e:function(n,t,e,i){const r=n.getDay(),o=(r-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return ee(o,2);case"eo":return e.ordinalNumber(o,{unit:"day"});case"eee":return e.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(r,{width:"short",context:"formatting"});default:return e.day(r,{width:"wide",context:"formatting"})}},c:function(n,t,e,i){const r=n.getDay(),o=(r-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return ee(o,t.length);case"co":return e.ordinalNumber(o,{unit:"day"});case"ccc":return e.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(r,{width:"narrow",context:"standalone"});case"cccccc":return e.day(r,{width:"short",context:"standalone"});default:return e.day(r,{width:"wide",context:"standalone"})}},i:function(n,t,e){const i=n.getDay(),r=i===0?7:i;switch(t){case"i":return String(r);case"ii":return ee(r,t.length);case"io":return e.ordinalNumber(r,{unit:"day"});case"iii":return e.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(i,{width:"short",context:"formatting"});default:return e.day(i,{width:"wide",context:"formatting"})}},a:function(n,t,e){const r=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(r,{width:"narrow",context:"formatting"});default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(n,t,e){const i=n.getHours();let r;switch(i===12?r=tl.noon:i===0?r=tl.midnight:r=i/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(r,{width:"narrow",context:"formatting"});default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(n,t,e){const i=n.getHours();let r;switch(i>=17?r=tl.evening:i>=12?r=tl.afternoon:i>=4?r=tl.morning:r=tl.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(r,{width:"narrow",context:"formatting"});default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(n,t,e){if(t==="ho"){let i=n.getHours()%12;return i===0&&(i=12),e.ordinalNumber(i,{unit:"hour"})}return Dr.h(n,t)},H:function(n,t,e){return t==="Ho"?e.ordinalNumber(n.getHours(),{unit:"hour"}):Dr.H(n,t)},K:function(n,t,e){const i=n.getHours()%12;return t==="Ko"?e.ordinalNumber(i,{unit:"hour"}):ee(i,t.length)},k:function(n,t,e){let i=n.getHours();return i===0&&(i=24),t==="ko"?e.ordinalNumber(i,{unit:"hour"}):ee(i,t.length)},m:function(n,t,e){return t==="mo"?e.ordinalNumber(n.getMinutes(),{unit:"minute"}):Dr.m(n,t)},s:function(n,t,e){return t==="so"?e.ordinalNumber(n.getSeconds(),{unit:"second"}):Dr.s(n,t)},S:function(n,t){return Dr.S(n,t)},X:function(n,t,e){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return HT(i);case"XXXX":case"XX":return Ba(i);default:return Ba(i,":")}},x:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"x":return HT(i);case"xxxx":case"xx":return Ba(i);default:return Ba(i,":")}},O:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+FT(i,":");default:return"GMT"+Ba(i,":")}},z:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+FT(i,":");default:return"GMT"+Ba(i,":")}},t:function(n,t,e){const i=Math.trunc(+n/1e3);return ee(i,t.length)},T:function(n,t,e){return ee(+n,t.length)}};function FT(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),r=Math.trunc(i/60),o=i%60;return o===0?e+String(r):e+String(r)+t+ee(o,2)}function HT(n,t){return n%60===0?(n>0?"-":"+")+ee(Math.abs(n)/60,2):Ba(n,t)}function Ba(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),r=ee(Math.trunc(i/60),2),o=ee(i%60,2);return e+r+t+o}const qT=(n,t)=>{switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},mA=(n,t)=>{switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},pP=(n,t)=>{const e=n.match(/(P+)(p+)?/)||[],i=e[1],r=e[2];if(!r)return qT(n,t);let o;switch(i){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",qT(i,t)).replace("{{time}}",mA(r,t))},yP={p:mA,P:pP},_P=/^D+$/,vP=/^Y+$/,bP=["D","DD","YY","YYYY"];function EP(n){return _P.test(n)}function TP(n){return vP.test(n)}function SP(n,t,e){const i=wP(n,t,e);if(console.warn(i),bP.includes(n))throw new RangeError(i)}function wP(n,t,e){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${t}\`) for formatting ${i} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xP=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,AP=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,RP=/^'([^]*?)'?$/,CP=/''/g,MP=/[a-zA-Z]/;function Gt(n,t,e){const i=oh(),r=i.locale??hP,o=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,u=tn(n,e?.in);if(!R5(u))throw new RangeError("Invalid time value");let f=t.match(AP).map(p=>{const _=p[0];if(_==="p"||_==="P"){const b=yP[_];return b(p,r.formatLong)}return p}).join("").match(xP).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const _=p[0];if(_==="'")return{isToken:!1,value:IP(p)};if(BT[_])return{isToken:!0,value:p};if(_.match(MP))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:p}});r.localize.preprocessor&&(f=r.localize.preprocessor(u,f));const d={firstWeekContainsDate:o,weekStartsOn:l,locale:r};return f.map(p=>{if(!p.isToken)return p.value;const _=p.value;(TP(_)||EP(_))&&SP(_,t,String(n));const b=BT[_[0]];return b(u,_,r.localize,d)}).join("")}function IP(n){const t=n.match(RP);return t?t[1].replace(CP,"'"):n}function DP(n,t){return tn(n,t?.in).getDay()}function OP(n){return+tn(n)<Date.now()}function $f(n,t,e){const[i,r]=zl(e?.in,n,t);return+Ws(i,e)==+Ws(r,e)}function el(n,t,e){const[i,r]=zl(e?.in,n,t);return i.getFullYear()===r.getFullYear()&&i.getMonth()===r.getMonth()}function qd(n,t){return fA(kn(n,n),x5(n))}function Yy(n,t,e){return lA(n,-t,e)}function lu(n,t,e){return cA(n,-t,e)}function Wy(n,t,e){return w5(n,-t,e)}const gA=B.createContext();function pA(){return B.useContext(gA)}function NP({children:n}){const{currentUser:t}=Ks(),[e,i]=B.useState([]),[r,o]=B.useState([]),[l,u]=B.useState(!0);B.useEffect(()=>{if(!t){i([]),o([]),u(!1);return}u(!0);const T=Pu(Ls(Ze,"habits"),Lu("uid","==",t.uid)),A=Pu(Ls(Ze,"habit_logs"),Lu("uid","==",t.uid)),w=Vu(T,O=>{const V=O.docs.map(H=>({id:H.id,...H.data()}));i(V)}),R=Vu(A,O=>{const V=O.docs.map(H=>({id:H.id,...H.data()}));o(V)});return u(!1),()=>{w(),R()}},[t]);const b={habits:e,logs:r,loading:l,addHabit:async(T,A="General")=>t?(await Bd(Ls(Ze,"habits"),{title:T,category:A,uid:t.uid,createdAt:Ga()})).id:null,deleteHabit:async T=>{if(!t)return;await gl(es(Ze,"habits",T)),r.filter(w=>w.habitId===T).forEach(async w=>{await gl(es(Ze,"habit_logs",w.id))})},toggleHabit:async(T,A)=>{if(!t)return;const w=`${T}_${A}`,R=es(Ze,"habit_logs",w);r.some(V=>V.id===w)?await gl(R):await g5(R,{habitId:T,date:A,uid:t.uid,createdAt:Ga()})},getHabitStreak:T=>{const A=r.filter(H=>H.habitId===T).map(H=>H.date).sort((H,G)=>G.localeCompare(H));if(A.length===0)return 0;let w=0;const R=Gt(new Date,"yyyy-MM-dd"),O=Gt(new Date(Date.now()-864e5),"yyyy-MM-dd");let V=R;if(!A.includes(R))if(A.includes(O))V=O;else return 0;for(;A.includes(V);){w++;const H=new Date(V);H.setDate(H.getDate()-1),V=Gt(H,"yyyy-MM-dd")}return w}};return E.jsx(gA.Provider,{value:b,children:n})}const yA=B.createContext();function kP(){return B.useContext(yA)}function PP({children:n}){const{currentUser:t}=Ks(),[e,i]=B.useState([]),[r,o]=B.useState(!0);B.useEffect(()=>{if(!t){i([]),o(!1);return}o(!0);const _=Pu(Ls(Ze,"events"),Lu("uid","==",t.uid)),b=Vu(_,T=>{const A=T.docs.map(w=>({id:w.id,...w.data()}));i(A),o(!1)});return()=>b()},[t]);const p={events:e,loading:r,addEvent:async _=>t?(await Bd(Ls(Ze,"events"),{..._,uid:t.uid,createdAt:Ga()})).id:null,updateEvent:async(_,b)=>{t&&await Gy(es(Ze,"events",_),b)},deleteEvent:async _=>{t&&await gl(es(Ze,"events",_))},getEventsForDate:_=>e.filter(b=>b.date===_)};return E.jsx(yA.Provider,{value:p,children:n})}const _A=B.createContext();function LP(){return B.useContext(_A)}function VP({children:n}){const[t,e]=B.useState(()=>localStorage.getItem("appMode")||"finance");B.useEffect(()=>{localStorage.setItem("appMode",t)},[t]);const r={appMode:t,setAppMode:e,toggleAppMode:()=>{e(o=>o==="finance"?"habits":"finance")},isFinanceMode:t==="finance",isHabitsMode:t==="habits"};return E.jsx(_A.Provider,{value:r,children:n})}var vA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},GT=Br.createContext&&Br.createContext(vA),jP=["attr","size","title"];function zP(n,t){if(n==null)return{};var e=UP(n,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function UP(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Gd(){return Gd=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Gd.apply(this,arguments)}function YT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Yd(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?YT(Object(e),!0).forEach(function(i){BP(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):YT(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function BP(n,t,e){return t=FP(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function FP(n){var t=HP(n,"string");return typeof t=="symbol"?t:t+""}function HP(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function bA(n){return n&&n.map((t,e)=>Br.createElement(t.tag,Yd({key:e},t.attr),bA(t.child)))}function le(n){return t=>Br.createElement(qP,Gd({attr:Yd({},n.attr)},t),bA(n.child))}function qP(n){var t=e=>{var{attr:i,size:r,title:o}=n,l=zP(n,jP),u=r||e.size||"1em",f;return e.className&&(f=e.className),n.className&&(f=(f?f+" ":"")+n.className),Br.createElement("svg",Gd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,l,{className:f,style:Yd(Yd({color:n.color||e.color},e.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&Br.createElement("title",null,o),n.children)};return GT!==void 0?Br.createElement(GT.Consumer,null,e=>t(e)):t(vA)}function WT(n){return le({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(n)}function $y(n){return le({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(n)}function EA(n){return le({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function Wd(n){return le({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(n)}function GP(n){return le({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 432c-101.69 0-184-82.29-184-184 0-101.69 82.29-184 184-184 101.69 0 184 82.29 184 184 0 101.69-82.29 184-184 184zm0-312c-70.69 0-128 57.31-128 128s57.31 128 128 128 128-57.31 128-128-57.31-128-128-128zm0 192c-35.29 0-64-28.71-64-64s28.71-64 64-64 64 28.71 64 64-28.71 64-64 64z"},child:[]}]})(n)}function TA(n){return le({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function SA(n){return le({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.627 0-12-5.373-12-12v-36c0-26.51 21.49-48 48-48h48V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h128V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h48c26.51 0 48 21.49 48 48v36c0 6.627-5.373 12-12 12zM12 192h424c6.627 0 12 5.373 12 12v260c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V204c0-6.627 5.373-12 12-12zm333.296 95.947l-28.169-28.398c-4.667-4.705-12.265-4.736-16.97-.068L194.12 364.665l-45.98-46.352c-4.667-4.705-12.266-4.736-16.971-.068l-28.397 28.17c-4.705 4.667-4.736 12.265-.068 16.97l82.601 83.269c4.667 4.705 12.265 4.736 16.97.068l142.953-141.805c4.705-4.667 4.736-12.265.068-16.97z"},child:[]}]})(n)}function Ky(n){return le({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(n)}function YP(n){return le({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"},child:[]}]})(n)}function bd(n){return le({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(n)}function WP(n){return le({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(n)}function $P(n){return le({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(n)}function Xy(n){return le({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(n)}function wA(n){return le({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function KP(n){return le({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function xA(n){return le({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"},child:[]}]})(n)}function XP(n){return le({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(n)}function AA(n){return le({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(n)}function QP(n){return le({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M560 224h-29.5c-8.8-20-21.6-37.7-37.4-52.5L512 96h-32c-29.4 0-55.4 13.5-73 34.3-7.6-1.1-15.1-2.3-23-2.3H256c-77.4 0-141.9 55-156.8 128H56c-14.8 0-26.5-13.5-23.5-28.8C34.7 215.8 45.4 208 57 208h1c3.3 0 6-2.7 6-6v-20c0-3.3-2.7-6-6-6-28.5 0-53.9 20.4-57.5 48.6C-3.9 258.8 22.7 288 56 288h40c0 52.2 25.4 98.1 64 127.3V496c0 8.8 7.2 16 16 16h64c8.8 0 16-7.2 16-16v-48h128v48c0 8.8 7.2 16 16 16h64c8.8 0 16-7.2 16-16v-80.7c11.8-8.9 22.3-19.4 31.3-31.3H560c8.8 0 16-7.2 16-16V240c0-8.8-7.2-16-16-16zm-128 64c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM256 96h128c5.4 0 10.7.4 15.9.8 0-.3.1-.5.1-.8 0-53-43-96-96-96s-96 43-96 96c0 2.1.5 4.1.6 6.2 15.2-3.9 31-6.2 47.4-6.2z"},child:[]}]})(n)}function wl(n){return le({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function RA(n){return le({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function CA(n){return le({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(n)}function MA(n){return le({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(n)}function IA(n){return le({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(n)}function DA(n){return le({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function lh(n){return le({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function JP(n){return le({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(n)}function a0(n){return le({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(n)}function OA(){const{appMode:n,setAppMode:t}=LP(),e=Il(),i=r=>{t(r),e(r==="finance"?"/":"/habits")};return E.jsxs("div",{className:"app-switcher",children:[E.jsxs("button",{className:`app-switcher-btn finance ${n==="finance"?"active":""}`,onClick:()=>i("finance"),title:"Finance Tracker",children:[E.jsx(a0,{}),E.jsx("span",{children:"Finance"})]}),E.jsxs("button",{className:`app-switcher-btn habits ${n==="habits"?"active":""}`,onClick:()=>i("habits"),title:"Habit Tracker",children:[E.jsx(IA,{}),E.jsx("span",{children:"Habits"})]})]})}function Zp({children:n}){const{currentUser:t,logout:e}=Ks(),{theme:i,toggleTheme:r}=rA(),o=Il(),[l,u]=B.useState(!1);async function f(){try{await e(),o("/login")}catch(d){console.error("Failed to log out",d)}}return E.jsxs("div",{className:"finance-layout",children:[E.jsx("nav",{className:"finance-navbar",children:E.jsxs("div",{className:"container finance-navbar-inner",children:[E.jsxs(ts,{to:"/",className:"finance-brand",children:[E.jsx(a0,{}),E.jsx("span",{children:"Expensify"})]}),t&&E.jsxs(E.Fragment,{children:[E.jsx("button",{className:"finance-menu-toggle",onClick:()=>u(!l),children:l?E.jsx(DA,{}):E.jsx(EA,{})}),E.jsxs("div",{className:`finance-nav-links ${l?"open":""}`,children:[E.jsxs(ts,{to:"/",className:"finance-nav-btn",onClick:()=>u(!1),children:[E.jsx(YP,{})," Dashboard"]}),E.jsx(ts,{to:"/expenses",className:"finance-nav-btn",onClick:()=>u(!1),children:" Expenses"}),E.jsxs(ts,{to:"/income",className:"finance-nav-btn",onClick:()=>u(!1),children:[E.jsx($y,{})," Income"]}),E.jsx("button",{onClick:r,className:"finance-nav-btn",title:"Toggle Theme",children:i==="dark"?E.jsx(MA,{}):E.jsx(AA,{})}),E.jsxs("button",{onClick:f,className:"finance-nav-btn logout",children:[E.jsx(CA,{})," Logout"]})]})]})]})}),E.jsx("main",{className:"finance-main",children:n}),E.jsxs("footer",{className:"finance-footer",children:[" ",new Date().getFullYear()," ",E.jsx("strong",{children:"Expensify"}),"  Track your money smartly "]}),E.jsx(OA,{})]})}function ty({children:n}){const{currentUser:t,logout:e}=Ks(),{theme:i,toggleTheme:r}=rA(),o=Il(),[l,u]=B.useState(!1);async function f(){try{await e(),o("/login")}catch(d){console.error("Failed to log out",d)}}return E.jsxs("div",{className:"habit-layout",children:[E.jsx("nav",{className:"habit-navbar",children:E.jsxs("div",{className:"container habit-navbar-inner",children:[E.jsxs(ts,{to:"/habits",className:"habit-brand",children:[E.jsx(IA,{}),E.jsx("span",{children:"HabitFlow"})]}),t&&E.jsxs(E.Fragment,{children:[E.jsx("button",{className:"habit-menu-toggle",onClick:()=>u(!l),children:l?E.jsx(DA,{}):E.jsx(EA,{})}),E.jsxs("div",{className:`habit-nav-links ${l?"open":""}`,children:[E.jsxs(ts,{to:"/habits",className:"habit-nav-btn",onClick:()=>u(!1),children:[E.jsx(SA,{})," Daily Habits"]}),E.jsxs(ts,{to:"/habits/analytics",className:"habit-nav-btn",onClick:()=>u(!1),children:[E.jsx(Ky,{})," Analytics"]}),E.jsxs(ts,{to:"/habits/calendar",className:"habit-nav-btn",onClick:()=>u(!1),children:[E.jsx(TA,{})," Calendar"]}),E.jsx("button",{onClick:r,className:"habit-nav-btn",title:"Toggle Theme",children:i==="dark"?E.jsx(MA,{}):E.jsx(AA,{})}),E.jsxs("button",{onClick:f,className:"habit-nav-btn logout",children:[E.jsx(CA,{})," Logout"]})]})]})]})}),E.jsx("main",{className:"habit-main",children:n}),E.jsxs("footer",{className:"habit-footer",children:[" ",new Date().getFullYear()," ",E.jsx("strong",{children:"HabitFlow"}),"  Build better habits daily "]}),E.jsx(OA,{})]})}function ZP(){const n=B.useRef(),t=B.useRef(),{login:e,signup:i}=Ks(),[r,o]=B.useState(""),[l,u]=B.useState(!1),[f,d]=B.useState(!0),p=Il();async function _(b){b.preventDefault();try{o(""),u(!0),f?await e(n.current.value,t.current.value):await i(n.current.value,t.current.value),p("/")}catch{o(`Failed to ${f?"log in":"create an account"}`)}u(!1)}return E.jsxs("div",{className:"auth-wrapper",children:[E.jsxs("div",{className:"auth-card fade-in",children:[E.jsx("h1",{children:f?"Welcome Back ":"Create Your Account "}),E.jsx("p",{className:"subtitle",children:f?"Log in to continue managing your expenses":"Sign up to start tracking your spending smartly"}),r&&E.jsx("div",{className:"auth-error",children:r}),E.jsxs("form",{onSubmit:_,children:[E.jsxs("div",{className:"input-group",children:[E.jsx("label",{children:"Email"}),E.jsxs("div",{className:"input-icon",children:[E.jsx(KP,{}),E.jsx("input",{type:"email",ref:n,required:!0,placeholder:"you@example.com"})]})]}),E.jsxs("div",{className:"input-group",children:[E.jsx("label",{children:"Password"}),E.jsxs("div",{className:"input-icon",children:[E.jsx(XP,{}),E.jsx("input",{type:"password",ref:t,required:!0,placeholder:""})]})]}),E.jsx("button",{disabled:l,className:"btn btn-primary w-full",children:l?"Please wait":f?"Log In":"Sign Up"})]}),E.jsxs("div",{className:"auth-switch",children:[f?"Don't have an account?":"Already have an account?",E.jsx("button",{onClick:()=>d(!f),children:f?"Sign Up":"Log In"})]})]}),E.jsx("style",{children:`
        .auth-wrapper {
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          background: linear-gradient(135deg, #6366F1, #22C55E);
          padding: 1rem;
        }

        .auth-card {
          width: 100%;
          max-width: 420px;
          background: rgba(255,255,255,0.85);
          backdrop-filter: blur(14px);
          border-radius: 20px;
          padding: 2.2rem;
          box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .auth-card h1 {
          text-align: center;
          font-size: 1.8rem;
          font-weight: 700;
          margin-bottom: 0.3rem;
          color: #111827;
        }

        .subtitle {
          text-align: center;
          font-size: 0.9rem;
          color: #6b7280;
          margin-bottom: 1.8rem;
        }

        .auth-error {
          background: #fee2e2;
          color: #b91c1c;
          padding: 0.8rem;
          border-radius: 10px;
          font-size: 0.85rem;
          margin-bottom: 1rem;
          text-align: center;
        }

        .input-group {
          margin-bottom: 1.2rem;
        }

        .input-group label {
          font-size: 0.85rem;
          font-weight: 600;
          margin-bottom: 0.4rem;
          display: block;
        }

        .input-icon {
          display: flex;
          align-items: center;
          gap: 0.6rem;
          background: #f9fafb;
          padding: 0.7rem 0.8rem;
          border-radius: 10px;
          border: 1px solid #e5e7eb;
        }

        .input-icon input {
          border: none;
          outline: none;
          background: transparent;
          width: 100%;
          font-size: 0.95rem;
        }

        .btn {
          margin-top: 0.6rem;
          padding: 0.75rem;
          border-radius: 12px;
          font-weight: 600;
        }

        .auth-switch {
          margin-top: 1.5rem;
          text-align: center;
          font-size: 0.9rem;
          color: #6b7280;
        }

        .auth-switch button {
          background: none;
          border: none;
          margin-left: 6px;
          color: #4f46e5;
          font-weight: 600;
          cursor: pointer;
          text-decoration: underline;
        }

        .fade-in {
          animation: fade 0.4s ease-in;
        }

        @keyframes fade {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `})]})}function ch(n){return n+.5|0}const jr=(n,t,e)=>Math.max(Math.min(n,e),t);function cu(n){return jr(ch(n*2.55),0,255)}function Wr(n){return jr(ch(n*255),0,255)}function Ns(n){return jr(ch(n/2.55)/100,0,1)}function $T(n){return jr(ch(n*100),0,100)}const ai={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Qy=[..."0123456789ABCDEF"],t9=n=>Qy[n&15],e9=n=>Qy[(n&240)>>4]+Qy[n&15],Kf=n=>(n&240)>>4===(n&15),n9=n=>Kf(n.r)&&Kf(n.g)&&Kf(n.b)&&Kf(n.a);function i9(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&ai[n[1]]*17,g:255&ai[n[2]]*17,b:255&ai[n[3]]*17,a:t===5?ai[n[4]]*17:255}:(t===7||t===9)&&(e={r:ai[n[1]]<<4|ai[n[2]],g:ai[n[3]]<<4|ai[n[4]],b:ai[n[5]]<<4|ai[n[6]],a:t===9?ai[n[7]]<<4|ai[n[8]]:255})),e}const s9=(n,t)=>n<255?t(n):"";function r9(n){var t=n9(n)?t9:e9;return n?"#"+t(n.r)+t(n.g)+t(n.b)+s9(n.a,t):void 0}const a9=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function NA(n,t,e){const i=t*Math.min(e,1-e),r=(o,l=(o+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function o9(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function l9(n,t,e){const i=NA(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function c9(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function o0(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),l=Math.min(e,i,r),u=(o+l)/2;let f,d,p;return o!==l&&(p=o-l,d=u>.5?p/(2-o-l):p/(o+l),f=c9(e,i,r,p,o),f=f*60+.5),[f|0,d||0,u]}function l0(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Wr)}function c0(n,t,e){return l0(NA,n,t,e)}function u9(n,t,e){return l0(l9,n,t,e)}function h9(n,t,e){return l0(o9,n,t,e)}function kA(n){return(n%360+360)%360}function f9(n){const t=a9.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?cu(+t[5]):Wr(+t[5]));const r=kA(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=u9(r,o,l):t[1]==="hsv"?i=h9(r,o,l):i=c0(r,o,l),{r:i[0],g:i[1],b:i[2],a:e}}function d9(n,t){var e=o0(n);e[0]=kA(e[0]+t),e=c0(e),n.r=e[0],n.g=e[1],n.b=e[2]}function m9(n){if(!n)return;const t=o0(n),e=t[0],i=$T(t[1]),r=$T(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Ns(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const KT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},XT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function g9(){const n={},t=Object.keys(XT),e=Object.keys(KT);let i,r,o,l,u;for(i=0;i<t.length;i++){for(l=u=t[i],r=0;r<e.length;r++)o=e[r],u=u.replace(o,KT[o]);o=parseInt(XT[l],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let Xf;function p9(n){Xf||(Xf=g9(),Xf.transparent=[0,0,0,0]);const t=Xf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const y9=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function _9(n){const t=y9.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?cu(l):jr(l*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?cu(i):jr(i,0,255)),r=255&(t[4]?cu(r):jr(r,0,255)),o=255&(t[6]?cu(o):jr(o,0,255)),{r:i,g:r,b:o,a:e}}}function v9(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Ns(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const ey=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,nl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function b9(n,t,e){const i=nl(Ns(n.r)),r=nl(Ns(n.g)),o=nl(Ns(n.b));return{r:Wr(ey(i+e*(nl(Ns(t.r))-i))),g:Wr(ey(r+e*(nl(Ns(t.g))-r))),b:Wr(ey(o+e*(nl(Ns(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Qf(n,t,e){if(n){let i=o0(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=c0(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function PA(n,t){return n&&Object.assign(t||{},n)}function QT(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Wr(n[3]))):(t=PA(n,{r:0,g:0,b:0,a:1}),t.a=Wr(t.a)),t}function E9(n){return n.charAt(0)==="r"?_9(n):f9(n)}class ju{constructor(t){if(t instanceof ju)return t;const e=typeof t;let i;e==="object"?i=QT(t):e==="string"&&(i=i9(t)||p9(t)||E9(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=PA(this._rgb);return t&&(t.a=Ns(t.a)),t}set rgb(t){this._rgb=QT(t)}rgbString(){return this._valid?v9(this._rgb):void 0}hexString(){return this._valid?r9(this._rgb):void 0}hslString(){return this._valid?m9(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const l=e===o?.5:e,u=2*l-1,f=i.a-r.a,d=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;o=1-d,i.r=255&d*i.r+o*r.r+.5,i.g=255&d*i.g+o*r.g+.5,i.b=255&d*i.b+o*r.b+.5,i.a=l*i.a+(1-l)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=b9(this._rgb,t._rgb,e)),this}clone(){return new ju(this.rgb)}alpha(t){return this._rgb.a=Wr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=ch(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Qf(this._rgb,2,t),this}darken(t){return Qf(this._rgb,2,-t),this}saturate(t){return Qf(this._rgb,1,t),this}desaturate(t){return Qf(this._rgb,1,-t),this}rotate(t){return d9(this._rgb,t),this}}function Is(){}const T9=(()=>{let n=0;return()=>n++})();function Xt(n){return n==null}function Be(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Bt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function _n(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Xi(n,t){return _n(n)?n:t}function Ot(n,t){return typeof n>"u"?t:n}const S9=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,LA=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function de(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function ne(n,t,e,i){let r,o,l;if(Be(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(Bt(n))for(l=Object.keys(n),o=l.length,r=0;r<o;r++)t.call(e,n[l[r]],l[r])}function $d(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Kd(n){if(Be(n))return n.map(Kd);if(Bt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Kd(n[e[r]]);return t}return n}function VA(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function w9(n,t,e,i){if(!VA(n))return;const r=t[n],o=e[n];Bt(r)&&Bt(o)?zu(r,o,i):t[n]=Kd(o)}function zu(n,t,e){const i=Be(t)?t:[t],r=i.length;if(!Bt(n))return n;e=e||{};const o=e.merger||w9;let l;for(let u=0;u<r;++u){if(l=i[u],!Bt(l))continue;const f=Object.keys(l);for(let d=0,p=f.length;d<p;++d)o(f[d],n,l,e)}return n}function _u(n,t){return zu(n,t,{merger:x9})}function x9(n,t,e){if(!VA(n))return;const i=t[n],r=e[n];Bt(i)&&Bt(r)?_u(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Kd(r))}const JT={"":n=>n,x:n=>n.x,y:n=>n.y};function A9(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function R9(n){const t=A9(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function io(n,t){return(JT[t]||(JT[t]=R9(t)))(n)}function u0(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Uu=n=>typeof n<"u",ta=n=>typeof n=="function",ZT=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function C9(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ie=Math.PI,ve=2*ie,M9=ve+ie,Xd=Number.POSITIVE_INFINITY,I9=ie/180,Ye=ie/2,Va=ie/4,t2=ie*2/3,jA=Math.log10,ls=Math.sign;function vu(n,t,e){return Math.abs(n-t)<e}function e2(n){const t=Math.round(n);n=vu(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(jA(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function D9(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function O9(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Bu(n){return!O9(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function N9(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function k9(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Vs(n){return n*(ie/180)}function P9(n){return n*(180/ie)}function n2(n){if(!_n(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function zA(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*ie&&(o+=ve),{angle:o,distance:r}}function Jy(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function L9(n,t){return(n-t+M9)%ve-ie}function qn(n){return(n%ve+ve)%ve}function Fu(n,t,e,i){const r=qn(n),o=qn(t),l=qn(e),u=qn(o-r),f=qn(l-r),d=qn(r-o),p=qn(r-l);return r===o||r===l||i&&o===l||u>f&&d<p}function gn(n,t,e){return Math.max(t,Math.min(e,n))}function V9(n){return gn(n,-32768,32767)}function js(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function h0(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const Ya=(n,t,e,i)=>h0(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),j9=(n,t,e)=>h0(n,e,i=>n[i][t]>=e);function z9(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const UA=["push","pop","shift","splice","unshift"];function U9(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),UA.forEach(e=>{const i="_onData"+u0(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const l=r.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),l}})})}function i2(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(UA.forEach(o=>{delete n[o]}),delete n._chartjs)}function BA(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const FA=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function HA(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,FA.call(window,()=>{i=!1,n.apply(t,e)}))}}function B9(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const f0=n=>n==="start"?"left":n==="end"?"right":"center",dn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,F9=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function H9(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:l,vScale:u,_parsed:f}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,p=l.axis,{min:_,max:b,minDefined:T,maxDefined:A}=l.getUserBounds();if(T){if(r=Math.min(Ya(f,p,_).lo,e?i:Ya(t,p,l.getPixelForValue(_)).lo),d){const w=f.slice(0,r+1).reverse().findIndex(R=>!Xt(R[u.axis]));r-=Math.max(0,w)}r=gn(r,0,i-1)}if(A){let w=Math.max(Ya(f,l.axis,b,!0).hi+1,e?0:Ya(t,p,l.getPixelForValue(b),!0).hi+1);if(d){const R=f.slice(w-1).findIndex(O=>!Xt(O[u.axis]));w+=Math.max(0,R)}o=gn(w,r,i)-r}else o=i-r}return{start:r,count:o}}function q9(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const Jf=n=>n===0||n===1,s2=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*ve/e)),r2=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*ve/e)+1,bu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ye)+1,easeOutSine:n=>Math.sin(n*Ye),easeInOutSine:n=>-.5*(Math.cos(ie*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Jf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Jf(n)?n:s2(n,.075,.3),easeOutElastic:n=>Jf(n)?n:r2(n,.075,.3),easeInOutElastic(n){return Jf(n)?n:n<.5?.5*s2(n*2,.1125,.45):.5+.5*r2(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-bu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?bu.easeInBounce(n*2)*.5:bu.easeOutBounce(n*2-1)*.5+.5};function d0(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function a2(n){return d0(n)?n:new ju(n)}function ny(n){return d0(n)?n:new ju(n).saturate(.5).darken(.1).hexString()}const G9=["x","y","borderWidth","radius","tension"],Y9=["color","borderColor","backgroundColor"];function W9(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:Y9},numbers:{type:"number",properties:G9}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function $9(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const o2=new Map;function K9(n,t){t=t||{};const e=n+JSON.stringify(t);let i=o2.get(e);return i||(i=new Intl.NumberFormat(n,t),o2.set(e,i)),i}function m0(n,t,e){return K9(t,e).format(n)}const X9={values(n){return Be(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),o=Q9(n,e)}const l=jA(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),m0(n,i,f)}};function Q9(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var qA={formatters:X9};function J9(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:qA.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const so=Object.create(null),Zy=Object.create(null);function Eu(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function iy(n,t,e){return typeof t=="string"?zu(Eu(n,t),e):zu(Eu(n,""),t)}class Z9{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>ny(r.backgroundColor),this.hoverBorderColor=(i,r)=>ny(r.borderColor),this.hoverColor=(i,r)=>ny(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return iy(this,t,e)}get(t){return Eu(this,t)}describe(t,e){return iy(Zy,t,e)}override(t,e){return iy(so,t,e)}route(t,e,i,r){const o=Eu(this,t),l=Eu(this,i),u="_"+e;Object.defineProperties(o,{[u]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[u],d=l[r];return Bt(f)?Object.assign({},d,f):Ot(f,d)},set(f){this[u]=f}}})}apply(t){t.forEach(e=>e(this))}}var Me=new Z9({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[W9,$9,J9]);function tL(n){return!n||Xt(n.size)||Xt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function l2(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function ja(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function c2(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function t_(n,t,e,i){GA(n,t,e,i,null)}function GA(n,t,e,i,r){let o,l,u,f,d,p,_,b;const T=t.pointStyle,A=t.rotation,w=t.radius;let R=(A||0)*I9;if(T&&typeof T=="object"&&(o=T.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(R),n.drawImage(T,-T.width/2,-T.height/2,T.width,T.height),n.restore();return}if(!(isNaN(w)||w<=0)){switch(n.beginPath(),T){default:r?n.ellipse(e,i,r/2,w,0,0,ve):n.arc(e,i,w,0,ve),n.closePath();break;case"triangle":p=r?r/2:w,n.moveTo(e+Math.sin(R)*p,i-Math.cos(R)*w),R+=t2,n.lineTo(e+Math.sin(R)*p,i-Math.cos(R)*w),R+=t2,n.lineTo(e+Math.sin(R)*p,i-Math.cos(R)*w),n.closePath();break;case"rectRounded":d=w*.516,f=w-d,l=Math.cos(R+Va)*f,_=Math.cos(R+Va)*(r?r/2-d:f),u=Math.sin(R+Va)*f,b=Math.sin(R+Va)*(r?r/2-d:f),n.arc(e-_,i-u,d,R-ie,R-Ye),n.arc(e+b,i-l,d,R-Ye,R),n.arc(e+_,i+u,d,R,R+Ye),n.arc(e-b,i+l,d,R+Ye,R+ie),n.closePath();break;case"rect":if(!A){f=Math.SQRT1_2*w,p=r?r/2:f,n.rect(e-p,i-f,2*p,2*f);break}R+=Va;case"rectRot":_=Math.cos(R)*(r?r/2:w),l=Math.cos(R)*w,u=Math.sin(R)*w,b=Math.sin(R)*(r?r/2:w),n.moveTo(e-_,i-u),n.lineTo(e+b,i-l),n.lineTo(e+_,i+u),n.lineTo(e-b,i+l),n.closePath();break;case"crossRot":R+=Va;case"cross":_=Math.cos(R)*(r?r/2:w),l=Math.cos(R)*w,u=Math.sin(R)*w,b=Math.sin(R)*(r?r/2:w),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+b,i-l),n.lineTo(e-b,i+l);break;case"star":_=Math.cos(R)*(r?r/2:w),l=Math.cos(R)*w,u=Math.sin(R)*w,b=Math.sin(R)*(r?r/2:w),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+b,i-l),n.lineTo(e-b,i+l),R+=Va,_=Math.cos(R)*(r?r/2:w),l=Math.cos(R)*w,u=Math.sin(R)*w,b=Math.sin(R)*(r?r/2:w),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+b,i-l),n.lineTo(e-b,i+l);break;case"line":l=r?r/2:Math.cos(R)*w,u=Math.sin(R)*w,n.moveTo(e-l,i-u),n.lineTo(e+l,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(R)*(r?r/2:w),i+Math.sin(R)*w);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Hu(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function xm(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Am(n){n.restore()}function eL(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function nL(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function iL(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Xt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function sL(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),l=t-o.actualBoundingBoxLeft,u=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,d=e+o.actualBoundingBoxDescent,p=r.strikethrough?(f+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(l,p),n.lineTo(u,p),n.stroke()}}function rL(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function qu(n,t,e,i,r,o={}){const l=Be(t)?t:[t],u=o.strokeWidth>0&&o.strokeColor!=="";let f,d;for(n.save(),n.font=r.string,iL(n,o),f=0;f<l.length;++f)d=l[f],o.backdrop&&rL(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Xt(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(d,e,i,o.maxWidth)),n.fillText(d,e,i,o.maxWidth),sL(n,e,i,d,o),i+=Number(r.lineHeight);n.restore()}function Qd(n,t){const{x:e,y:i,w:r,h:o,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*ie,ie,!0),n.lineTo(e,i+o-l.bottomLeft),n.arc(e+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,ie,Ye,!0),n.lineTo(e+r-l.bottomRight,i+o),n.arc(e+r-l.bottomRight,i+o-l.bottomRight,l.bottomRight,Ye,0,!0),n.lineTo(e+r,i+l.topRight),n.arc(e+r-l.topRight,i+l.topRight,l.topRight,0,-Ye,!0),n.lineTo(e+l.topLeft,i)}const aL=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,oL=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function lL(n,t){const e=(""+n).match(aL);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const cL=n=>+n||0;function g0(n,t){const e={},i=Bt(t),r=i?Object.keys(t):t,o=Bt(n)?i?l=>Ot(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of r)e[l]=cL(o(l));return e}function YA(n){return g0(n,{top:"y",right:"x",bottom:"y",left:"x"})}function pl(n){return g0(n,["topLeft","topRight","bottomLeft","bottomRight"])}function fi(n){const t=YA(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function pn(n,t){n=n||{},t=t||Me.font;let e=Ot(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Ot(n.style,t.style);i&&!(""+i).match(oL)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Ot(n.family,t.family),lineHeight:lL(Ot(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Ot(n.weight,t.weight),string:""};return r.string=tL(r),r}function Zf(n,t,e,i){let r,o,l;for(r=0,o=n.length;r<o;++r)if(l=n[r],l!==void 0&&l!==void 0)return l}function uL(n,t,e){const{min:i,max:r}=n,o=LA(t,(r-i)/2),l=(u,f)=>e&&u===0?0:u+f;return{min:l(i,-Math.abs(o)),max:l(r,o)}}function lo(n,t){return Object.assign(Object.create(n),t)}function p0(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=XA("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:u=>p0([u,...n],t,o,i)};return new Proxy(l,{deleteProperty(u,f){return delete u[f],delete u._keys,delete n[0][f],!0},get(u,f){return $A(u,f,()=>_L(f,t,n,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,f){return h2(u).includes(f)},ownKeys(u){return h2(u)},set(u,f,d){const p=u._storage||(u._storage=r());return u[f]=p[f]=d,delete u._keys,!0}})}function xl(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:WA(n,i),setContext:o=>xl(n,o,e,i),override:o=>xl(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,u){return $A(o,l,()=>fL(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,u){return n[l]=u,delete o[l],!0}})}function WA(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:ta(e)?e:()=>e,isIndexable:ta(i)?i:()=>i}}const hL=(n,t)=>n?n+u0(t):t,y0=(n,t)=>Bt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function $A(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function fL(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:l}=n;let u=i[t];return ta(u)&&l.isScriptable(t)&&(u=dL(t,u,n,e)),Be(u)&&u.length&&(u=mL(t,u,n,l.isIndexable)),y0(t,u)&&(u=xl(u,r,o&&o[t],l)),u}function dL(n,t,e,i){const{_proxy:r,_context:o,_subProxy:l,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let f=t(o,l||i);return u.delete(n),y0(n,f)&&(f=_0(r._scopes,r,n,f)),f}function mL(n,t,e,i){const{_proxy:r,_context:o,_subProxy:l,_descriptors:u}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Bt(t[0])){const f=t,d=r._scopes.filter(p=>p!==f);t=[];for(const p of f){const _=_0(d,r,n,p);t.push(xl(_,o,l&&l[n],u))}}return t}function KA(n,t,e){return ta(n)?n(t,e):n}const gL=(n,t)=>n===!0?t:typeof n=="string"?io(t,n):void 0;function pL(n,t,e,i,r){for(const o of t){const l=gL(e,o);if(l){n.add(l);const u=KA(l._fallback,e,r);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function _0(n,t,e,i){const r=t._rootScopes,o=KA(t._fallback,e,i),l=[...n,...r],u=new Set;u.add(i);let f=u2(u,l,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=u2(u,l,o,f,i),f===null)?!1:p0(Array.from(u),[""],r,o,()=>yL(t,e,i))}function u2(n,t,e,i,r){for(;e;)e=pL(n,t,e,i,r);return e}function yL(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Be(r)&&Bt(e)?e:r||{}}function _L(n,t,e,i){let r;for(const o of t)if(r=XA(hL(o,n),e),typeof r<"u")return y0(n,r)?_0(e,i,n,r):r}function XA(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function h2(n){let t=n._keys;return t||(t=n._keys=vL(n._scopes)),t}function vL(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const bL=Number.EPSILON||1e-14,Al=(n,t)=>t<n.length&&!n[t].skip&&n[t],QA=n=>n==="x"?"y":"x";function EL(n,t,e,i){const r=n.skip?t:n,o=t,l=e.skip?t:e,u=Jy(o,r),f=Jy(l,o);let d=u/(u+f),p=f/(u+f);d=isNaN(d)?0:d,p=isNaN(p)?0:p;const _=i*d,b=i*p;return{previous:{x:o.x-_*(l.x-r.x),y:o.y-_*(l.y-r.y)},next:{x:o.x+b*(l.x-r.x),y:o.y+b*(l.y-r.y)}}}function TL(n,t,e){const i=n.length;let r,o,l,u,f,d=Al(n,0);for(let p=0;p<i-1;++p)if(f=d,d=Al(n,p+1),!(!f||!d)){if(vu(t[p],0,bL)){e[p]=e[p+1]=0;continue}r=e[p]/t[p],o=e[p+1]/t[p],u=Math.pow(r,2)+Math.pow(o,2),!(u<=9)&&(l=3/Math.sqrt(u),e[p]=r*l*t[p],e[p+1]=o*l*t[p])}}function SL(n,t,e="x"){const i=QA(e),r=n.length;let o,l,u,f=Al(n,0);for(let d=0;d<r;++d){if(l=u,u=f,f=Al(n,d+1),!u)continue;const p=u[e],_=u[i];l&&(o=(p-l[e])/3,u[`cp1${e}`]=p-o,u[`cp1${i}`]=_-o*t[d]),f&&(o=(f[e]-p)/3,u[`cp2${e}`]=p+o,u[`cp2${i}`]=_+o*t[d])}}function wL(n,t="x"){const e=QA(t),i=n.length,r=Array(i).fill(0),o=Array(i);let l,u,f,d=Al(n,0);for(l=0;l<i;++l)if(u=f,f=d,d=Al(n,l+1),!!f){if(d){const p=d[t]-f[t];r[l]=p!==0?(d[e]-f[e])/p:0}o[l]=u?d?ls(r[l-1])!==ls(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}TL(n,r,o),SL(n,o,t)}function td(n,t,e){return Math.max(Math.min(n,e),t)}function xL(n,t){let e,i,r,o,l,u=Hu(n[0],t);for(e=0,i=n.length;e<i;++e)l=o,o=u,u=e<i-1&&Hu(n[e+1],t),o&&(r=n[e],l&&(r.cp1x=td(r.cp1x,t.left,t.right),r.cp1y=td(r.cp1y,t.top,t.bottom)),u&&(r.cp2x=td(r.cp2x,t.left,t.right),r.cp2y=td(r.cp2y,t.top,t.bottom)))}function AL(n,t,e,i,r){let o,l,u,f;if(t.spanGaps&&(n=n.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")wL(n,r);else{let d=i?n[n.length-1]:n[0];for(o=0,l=n.length;o<l;++o)u=n[o],f=EL(d,u,n[Math.min(o+1,l-(i?0:1))%l],t.tension),u.cp1x=f.previous.x,u.cp1y=f.previous.y,u.cp2x=f.next.x,u.cp2y=f.next.y,d=u}t.capBezierPoints&&xL(n,e)}function v0(){return typeof window<"u"&&typeof document<"u"}function b0(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Jd(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Rm=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function RL(n,t){return Rm(n).getPropertyValue(t)}const CL=["top","right","bottom","left"];function Ka(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=CL[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const ML=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function IL(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let l=!1,u,f;if(ML(r,o,n.target))u=r,f=o;else{const d=t.getBoundingClientRect();u=i.clientX-d.left,f=i.clientY-d.top,l=!0}return{x:u,y:f,box:l}}function Fa(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=Rm(e),o=r.boxSizing==="border-box",l=Ka(r,"padding"),u=Ka(r,"border","width"),{x:f,y:d,box:p}=IL(n,e),_=l.left+(p&&u.left),b=l.top+(p&&u.top);let{width:T,height:A}=t;return o&&(T-=l.width+u.width,A-=l.height+u.height),{x:Math.round((f-_)/T*e.width/i),y:Math.round((d-b)/A*e.height/i)}}function DL(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&b0(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const l=o.getBoundingClientRect(),u=Rm(o),f=Ka(u,"border","width"),d=Ka(u,"padding");t=l.width-d.width-f.width,e=l.height-d.height-f.height,i=Jd(u.maxWidth,o,"clientWidth"),r=Jd(u.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Xd,maxHeight:r||Xd}}const zr=n=>Math.round(n*10)/10;function OL(n,t,e,i){const r=Rm(n),o=Ka(r,"margin"),l=Jd(r.maxWidth,n,"clientWidth")||Xd,u=Jd(r.maxHeight,n,"clientHeight")||Xd,f=DL(n,t,e);let{width:d,height:p}=f;if(r.boxSizing==="content-box"){const b=Ka(r,"border","width"),T=Ka(r,"padding");d-=T.width+b.width,p-=T.height+b.height}return d=Math.max(0,d-o.width),p=Math.max(0,i?d/i:p-o.height),d=zr(Math.min(d,l,f.maxWidth)),p=zr(Math.min(p,u,f.maxHeight)),d&&!p&&(p=zr(d/2)),(t!==void 0||e!==void 0)&&i&&f.height&&p>f.height&&(p=f.height,d=zr(Math.floor(p*i))),{width:d,height:p}}function f2(n,t,e){const i=t||1,r=zr(n.height*i),o=zr(n.width*i);n.height=zr(n.height),n.width=zr(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==r||l.width!==o?(n.currentDevicePixelRatio=i,l.height=r,l.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const NL=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};v0()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function d2(n,t){const e=RL(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ha(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function kL(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function PL(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},l=Ha(n,r,e),u=Ha(r,o,e),f=Ha(o,t,e),d=Ha(l,u,e),p=Ha(u,f,e);return Ha(d,p,e)}const LL=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},VL=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function yl(n,t,e){return n?LL(t,e):VL()}function JA(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function ZA(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function tR(n){return n==="angle"?{between:Fu,compare:L9,normalize:qn}:{between:js,compare:(t,e)=>t-e,normalize:t=>t}}function m2({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function jL(n,t,e){const{property:i,start:r,end:o}=e,{between:l,normalize:u}=tR(i),f=t.length;let{start:d,end:p,loop:_}=n,b,T;if(_){for(d+=f,p+=f,b=0,T=f;b<T&&l(u(t[d%f][i]),r,o);++b)d--,p--;d%=f,p%=f}return p<d&&(p+=f),{start:d,end:p,loop:_,style:n.style}}function eR(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,l=t.length,{compare:u,between:f,normalize:d}=tR(i),{start:p,end:_,loop:b,style:T}=jL(n,t,e),A=[];let w=!1,R=null,O,V,H;const G=()=>f(r,H,O)&&u(r,H)!==0,Y=()=>u(o,O)===0||f(o,H,O),nt=()=>w||G(),N=()=>!w||Y();for(let M=p,I=p;M<=_;++M)V=t[M%l],!V.skip&&(O=d(V[i]),O!==H&&(w=f(O,r,o),R===null&&nt()&&(R=u(O,r)===0?M:I),R!==null&&N()&&(A.push(m2({start:R,end:M,loop:b,count:l,style:T})),R=null),I=M,H=O));return R!==null&&A.push(m2({start:R,end:_,loop:b,count:l,style:T})),A}function nR(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=eR(i[r],n.points,t);o.length&&e.push(...o)}return e}function zL(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function UL(n,t,e,i){const r=n.length,o=[];let l=t,u=n[t],f;for(f=t+1;f<=e;++f){const d=n[f%r];d.skip||d.stop?u.skip||(i=!1,o.push({start:t%r,end:(f-1)%r,loop:i}),t=l=d.stop?f:null):(l=f,u.skip&&(t=f)),u=d}return l!==null&&o.push({start:t%r,end:l%r,loop:i}),o}function BL(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:l,end:u}=zL(e,r,o,i);if(i===!0)return g2(n,[{start:l,end:u,loop:o}],e,t);const f=u<l?u+r:u,d=!!n._fullLoop&&l===0&&u===r-1;return g2(n,UL(e,l,f,d),e,t)}function g2(n,t,e,i){return!i||!i.setContext||!e?t:FL(n,t,e,i)}function FL(n,t,e,i){const r=n._chart.getContext(),o=p2(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,f=e.length,d=[];let p=o,_=t[0].start,b=_;function T(A,w,R,O){const V=u?-1:1;if(A!==w){for(A+=f;e[A%f].skip;)A-=V;for(;e[w%f].skip;)w+=V;A%f!==w%f&&(d.push({start:A%f,end:w%f,loop:R,style:O}),p=O,_=w%f)}}for(const A of t){_=u?_:A.start;let w=e[_%f],R;for(b=_+1;b<=A.end;b++){const O=e[b%f];R=p2(i.setContext(lo(r,{type:"segment",p0:w,p1:O,p0DataIndex:(b-1)%f,p1DataIndex:b%f,datasetIndex:l}))),HL(R,p)&&T(_,b-1,A.loop,p),w=O,p=R}_<b-1&&T(_,b-1,A.loop,p)}return d}function p2(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function HL(n,t){if(!t)return!1;const e=[],i=function(r,o){return d0(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function ed(n,t,e){return n.options.clip?n[e]:t[e]}function qL(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:ed(e,t,"left"),right:ed(e,t,"right"),top:ed(i,t,"top"),bottom:ed(i,t,"bottom")}:t}function iR(n,t){const e=t._clip;if(e.disabled)return!1;const i=qL(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}class GL{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],l=e.duration;o.forEach(u=>u({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=FA.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let l=o.length-1,u=!1,f;for(;l>=0;--l)f=o[l],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),u=!0):(o[l]=o[o.length-1],o.pop());u&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ds=new GL;const y2="transparent",YL={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=a2(n||y2),r=i.valid&&a2(t||y2);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class WL{constructor(t,e,i,r){const o=e[i];r=Zf([t.to,r,o,t.from]);const l=Zf([t.from,o,r]);this._active=!0,this._fn=t.fn||YL[t.type||typeof l],this._easing=bu[t.easing]||bu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Zf([t.to,e,r,t.from]),this._from=Zf([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,l=this._loop,u=this._to;let f;if(this._active=o!==u&&(l||e<i),!this._active){this._target[r]=u,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,u,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class sR{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Bt(t))return;const e=Object.keys(Me.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!Bt(o))return;const l={};for(const u of e)l[u]=o[u];(Be(o.properties)&&o.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,l)})})}_animateOptions(t,e){const i=e.options,r=KL(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&$L(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),l=Object.keys(e),u=Date.now();let f;for(f=l.length-1;f>=0;--f){const d=l[f];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(t,e));continue}const p=e[d];let _=o[d];const b=i.get(d);if(_)if(b&&_.active()){_.update(b,p,u);continue}else _.cancel();if(!b||!b.duration){t[d]=p;continue}o[d]=_=new WL(b,t,d,p),r.push(_)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Ds.add(this._chart,i),!0}}function $L(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function KL(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function _2(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function XL(n,t,e){if(e===!1)return!1;const i=_2(n,e),r=_2(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function QL(n){let t,e,i,r;return Bt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function rR(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function v2(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let l,u,f,d;if(t===null)return;let p=!1;for(l=0,u=r.length;l<u;++l){if(f=+r[l],f===e){if(p=!0,i.all)continue;break}d=n.values[f],_n(d)&&(o||t===0||ls(t)===ls(d))&&(t+=d)}return!p&&!i.all?0:t}function JL(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let f,d,p;for(f=0,d=l.length;f<d;++f)p=l[f],u[f]={[r]:p,[o]:n[p]};return u}function sy(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function ZL(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function tV(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function eV(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function b2(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function E2(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:l,index:u}=i,f=o.axis,d=l.axis,p=ZL(o,l,i),_=t.length;let b;for(let T=0;T<_;++T){const A=t[T],{[f]:w,[d]:R}=A,O=A._stacks||(A._stacks={});b=O[d]=eV(r,p,w),b[u]=R,b._top=b2(b,l,!0,i.type),b._bottom=b2(b,l,!1,i.type);const V=b._visualValues||(b._visualValues={});V[u]=R}}function ry(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function nV(n,t){return lo(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function iV(n,t,e){return lo(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Qc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const ay=n=>n==="reset"||n==="none",T2=(n,t)=>t?n:Object.assign({},n),sV=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:rR(e,!0),values:null};class Cm{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=sy(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Qc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(_,b,T,A)=>_==="x"?b:_==="r"?A:T,o=e.xAxisID=Ot(i.xAxisID,ry(t,"x")),l=e.yAxisID=Ot(i.yAxisID,ry(t,"y")),u=e.rAxisID=Ot(i.rAxisID,ry(t,"r")),f=e.indexAxis,d=e.iAxisID=r(f,o,l,u),p=e.vAxisID=r(f,l,o,u);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&i2(this._data,this),t._stacked&&Qc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Bt(e)){const r=this._cachedMeta;this._data=JL(e,r)}else if(i!==e){if(i){i2(i,this);const r=this._cachedMeta;Qc(r),r._parsed=[]}e&&Object.isExtensible(e)&&U9(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=sy(e.vScale,e),e.stack!==i.stack&&(r=!0,Qc(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(E2(this,e._parsed),e._stacked=sy(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:l}=i,u=o.axis;let f=t===0&&e===r.length?!0:i._sorted,d=t>0&&i._parsed[t-1],p,_,b;if(this._parsing===!1)i._parsed=r,i._sorted=!0,b=r;else{Be(r[t])?b=this.parseArrayData(i,r,t,e):Bt(r[t])?b=this.parseObjectData(i,r,t,e):b=this.parsePrimitiveData(i,r,t,e);const T=()=>_[u]===null||d&&_[u]<d[u];for(p=0;p<e;++p)i._parsed[p+t]=_=b[p],f&&(T()&&(f=!1),d=_);i._sorted=f}l&&E2(this,b)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:l}=t,u=o.axis,f=l.axis,d=o.getLabels(),p=o===l,_=new Array(r);let b,T,A;for(b=0,T=r;b<T;++b)A=b+i,_[b]={[u]:p||o.parse(d[A],A),[f]:l.parse(e[A],A)};return _}parseArrayData(t,e,i,r){const{xScale:o,yScale:l}=t,u=new Array(r);let f,d,p,_;for(f=0,d=r;f<d;++f)p=f+i,_=e[p],u[f]={x:o.parse(_[0],p),y:l.parse(_[1],p)};return u}parseObjectData(t,e,i,r){const{xScale:o,yScale:l}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,d=new Array(r);let p,_,b,T;for(p=0,_=r;p<_;++p)b=p+i,T=e[b],d[p]={x:o.parse(io(T,u),b),y:l.parse(io(T,f),b)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,l=e[t.axis],u={keys:rR(r,!0),values:e._stacks[t.axis]._visualValues};return v2(u,l,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let l=o===null?NaN:o;const u=r&&i._stacks[e.axis];r&&u&&(r.values=u,l=v2(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,l=r.length,u=this._getOtherScale(t),f=sV(e,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:_}=tV(u);let b,T;function A(){T=r[b];const w=T[u.axis];return!_n(T[t.axis])||p>w||_<w}for(b=0;b<l&&!(!A()&&(this.updateRangeFromParsed(d,t,T,f),o));++b);if(o){for(b=l-1;b>=0;--b)if(!A()){this.updateRangeFromParsed(d,t,T,f);break}}return d}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,l;for(r=0,o=e.length;r<o;++r)l=e[r][t.axis],_n(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=QL(Ot(this.options.clip,XL(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,l=[],u=this._drawStart||0,f=this._drawCount||r.length-u,d=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,o,u,f),p=u;p<u+f;++p){const _=r[p];_.hidden||(_.active&&d?l.push(_):_.draw(t,o))}for(p=0;p<l.length;++p)l[p].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=iV(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=nV(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,l=t+"-"+e,u=o[l],f=this.enableOptionSharing&&Uu(i);if(u)return T2(u,f);const d=this.chart.config,p=d.datasetElementScopeKeys(this._type,t),_=r?[`${t}Hover`,"hover",t,""]:[t,""],b=d.getOptionScopes(this.getDataset(),p),T=Object.keys(Me.elements[t]),A=()=>this.getContext(i,r,e),w=d.resolveNamedOptions(b,T,A,_);return w.$shared&&(w.$shared=f,o[l]=Object.freeze(T2(w,f))),w}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,l=`animation-${e}`,u=o[l];if(u)return u;let f;if(r.options.animation!==!1){const p=this.chart.config,_=p.datasetAnimationScopeKeys(this._type,e),b=p.getOptionScopes(this.getDataset(),_);f=p.createResolver(b,this.getContext(t,i,e))}const d=new sR(r,f&&f.animations);return f&&f._cacheable&&(o[l]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||ay(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),l=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:l}}updateElement(t,e,i,r){ay(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!ay(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,f,d]of this._syncList)this[u](f,d);this._syncList=[];const r=i.length,o=e.length,l=Math.min(o,r);l&&this.parse(0,l),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,l=t+e;let u;const f=d=>{for(d.length+=e,u=d.length-1;u>=l;u--)d[u]=d[u-e]};for(f(o),u=t;u<l;++u)o[u]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Qc(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function rV(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=BA(i.sort((r,o)=>r-o))}return n._cache.$bar}function aV(n){const t=n.iScale,e=rV(t,n.type);let i=t._length,r,o,l,u;const f=()=>{l===32767||l===-32768||(Uu(u)&&(i=Math.min(i,Math.abs(l-u)||i)),u=l)};for(r=0,o=e.length;r<o;++r)l=t.getPixelForValue(e[r]),f();for(u=void 0,r=0,o=t.ticks.length;r<o;++r)l=t.getPixelForTick(r),f();return i}function oV(n,t,e,i){const r=e.barThickness;let o,l;return Xt(r)?(o=t.min*e.categoryPercentage,l=e.barPercentage):(o=r*i,l=1),{chunk:o/i,ratio:l,start:t.pixels[n]-o/2}}function lV(n,t,e,i){const r=t.pixels,o=r[n];let l=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;l===null&&(l=o-(u===null?t.end-t.start:u-o)),u===null&&(u=o+o-l);const d=o-(o-Math.min(l,u))/2*f;return{chunk:Math.abs(u-l)/2*f/i,ratio:e.barPercentage,start:d}}function cV(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),l=Math.min(r,o),u=Math.max(r,o);let f=l,d=u;Math.abs(l)>Math.abs(u)&&(f=u,d=l),t[e.axis]=d,t._custom={barStart:f,barEnd:d,start:r,end:o,min:l,max:u}}function aR(n,t,e,i){return Be(n)?cV(n,t,e,i):t[e.axis]=e.parse(n,i),t}function S2(n,t,e,i){const r=n.iScale,o=n.vScale,l=r.getLabels(),u=r===o,f=[];let d,p,_,b;for(d=e,p=e+i;d<p;++d)b=t[d],_={},_[r.axis]=u||r.parse(l[d],d),f.push(aR(b,_,o,d));return f}function oy(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function uV(n,t,e){return n!==0?ls(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function hV(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function fV(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:f,top:d,bottom:p}=hV(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=d:(e._bottom||0)===i?r=p:(o[w2(p,l,u,f)]=!0,r=d)),o[w2(r,l,u,f)]=!0,n.borderSkipped=o}function w2(n,t,e,i){return i?(n=dV(n,t,e),n=x2(n,e,t)):n=x2(n,t,e),n}function dV(n,t,e){return n===t?e:n===e?t:n}function x2(n,t,e){return n==="start"?t:n==="end"?e:n}function mV(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class gV extends Cm{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return S2(t,e,i,r)}parseArrayData(t,e,i,r){return S2(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:l}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,d=o.axis==="x"?u:f,p=l.axis==="x"?u:f,_=[];let b,T,A,w;for(b=i,T=i+r;b<T;++b)w=e[b],A={},A[o.axis]=o.parse(io(w,d),b),_.push(aR(io(w,p),A,l,b));return _}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),l=o._custom,u=oy(l)?"["+l.start+", "+l.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:l,_cachedMeta:{vScale:u}}=this,f=u.getBasePixel(),d=u.isHorizontal(),p=this._getRuler(),{sharedOptions:_,includeOptions:b}=this._getSharedOptions(e,r);for(let T=e;T<e+i;T++){const A=this.getParsed(T),w=o||Xt(A[u.axis])?{base:f,head:f}:this._calculateBarValuePixels(T),R=this._calculateBarIndexPixels(T,p),O=(A._stacks||{})[u.axis],V={horizontal:d,base:w.base,enableBorderRadius:!O||oy(A._custom)||l===O._top||l===O._bottom,x:d?w.head:R.center,y:d?R.center:w.head,height:d?R.size:Math.abs(w.size),width:d?Math.abs(w.size):R.size};b&&(V.options=_||this.resolveDataElementOptions(T,t[T].active?"active":r));const H=V.options||t[T].options;fV(V,H,O,l),mV(V,H,p.ratio),this.updateElement(t[T],T,V,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=i.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(e),f=u&&u[i.axis],d=p=>{const _=p._parsed.find(T=>T[i.axis]===f),b=_&&_[p.vScale.axis];if(Xt(b)||isNaN(b))return!0};for(const p of r)if(!(e!==void 0&&d(p))&&((o===!1||l.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Ot(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,l;for(o=0,l=e.data.length;o<l;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const u=t.barThickness;return{min:u||aV(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:l}}=this,u=o||0,f=this.getParsed(t),d=f._custom,p=oy(d);let _=f[e.axis],b=0,T=i?this.applyStack(e,f,i):_,A,w;T!==_&&(b=T-_,T=_),p&&(_=d.barStart,T=d.barEnd-d.barStart,_!==0&&ls(_)!==ls(d.barEnd)&&(b=0),b+=_);const R=!Xt(o)&&!p?o:b;let O=e.getPixelForValue(R);if(this.chart.getDataVisibility(t)?A=e.getPixelForValue(b+T):A=O,w=A-O,Math.abs(w)<l){w=uV(w,e,u)*l,_===u&&(O-=w/2);const V=e.getPixelForDecimal(0),H=e.getPixelForDecimal(1),G=Math.min(V,H),Y=Math.max(V,H);O=Math.max(Math.min(O,Y),G),A=O+w,i&&!p&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(A)-e.getValueForPixel(O))}if(O===e.getPixelForValue(u)){const V=ls(w)*e.getLineWidthForValue(u)/2;O+=V,w-=V}return{size:w,base:O,head:A,center:A+w/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,l=Ot(r.maxBarThickness,1/0);let u,f;const d=this._getAxisCount();if(e.grouped){const p=o?this._getStackCount(t):e.stackCount,_=r.barThickness==="flex"?lV(t,e,r,p*d):oV(t,e,r,p*d),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,T=this._getAxis().indexOf(Ot(b,this.getFirstScaleIdForIndexAxis())),A=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+T;u=_.start+_.chunk*A+_.chunk/2,f=Math.min(l,_.chunk*_.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(l,e.min*e.ratio);return{base:u-f/2,head:u+f/2,center:u,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function pV(n,t,e){let i=1,r=1,o=0,l=0;if(t<ve){const u=n,f=u+t,d=Math.cos(u),p=Math.sin(u),_=Math.cos(f),b=Math.sin(f),T=(H,G,Y)=>Fu(H,u,f,!0)?1:Math.max(G,G*e,Y,Y*e),A=(H,G,Y)=>Fu(H,u,f,!0)?-1:Math.min(G,G*e,Y,Y*e),w=T(0,d,_),R=T(Ye,p,b),O=A(ie,d,_),V=A(ie+Ye,p,b);i=(w-O)/2,r=(R-V)/2,o=-(w+O)/2,l=-(R+V)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:l}}class yV extends Cm{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data,{labels:{pointStyle:i,textAlign:r,color:o,useBorderRadius:l,borderRadius:u}}=t.legend.options;return e.labels.length&&e.datasets.length?e.labels.map((f,d)=>{const _=t.getDatasetMeta(0).controller.getStyle(d);return{text:f,fillStyle:_.backgroundColor,fontColor:o,hidden:!t.getDataVisibility(d),lineDash:_.borderDash,lineDashOffset:_.borderDashOffset,lineJoin:_.borderJoinStyle,lineWidth:_.borderWidth,strokeStyle:_.borderColor,textAlign:r,pointStyle:i,borderRadius:l&&(u||_.borderRadius),index:d}}):[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=f=>+i[f];if(Bt(i[t])){const{key:f="value"}=this._parsing;o=d=>+io(i[d],f)}let l,u;for(l=t,u=t+e;l<u;++l)r._parsed[l]=o(l)}}_getRotation(){return Vs(this.options.rotation-90)}_getCircumference(){return Vs(this.options.circumference)}_getRotationExtents(){let t=ve,e=-ve;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),l=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+l)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-l)/2,0),f=Math.min(S9(this.options.cutout,u),1),d=this._getRingWeight(this.index),{circumference:p,rotation:_}=this._getRotationExtents(),{ratioX:b,ratioY:T,offsetX:A,offsetY:w}=pV(_,p,f),R=(i.width-l)/b,O=(i.height-l)/T,V=Math.max(Math.min(R,O)/2,0),H=LA(this.options.radius,V),G=Math.max(H*f,0),Y=(H-G)/this._getVisibleDatasetWeightTotal();this.offsetX=A*H,this.offsetY=w*H,r.total=this.calculateTotal(),this.outerRadius=H-Y*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Y*d,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/ve)}updateElements(t,e,i,r){const o=r==="reset",l=this.chart,u=l.chartArea,d=l.options.animation,p=(u.left+u.right)/2,_=(u.top+u.bottom)/2,b=o&&d.animateScale,T=b?0:this.innerRadius,A=b?0:this.outerRadius,{sharedOptions:w,includeOptions:R}=this._getSharedOptions(e,r);let O=this._getRotation(),V;for(V=0;V<e;++V)O+=this._circumference(V,o);for(V=e;V<e+i;++V){const H=this._circumference(V,o),G=t[V],Y={x:p+this.offsetX,y:_+this.offsetY,startAngle:O,endAngle:O+H,circumference:H,outerRadius:A,innerRadius:T};R&&(Y.options=w||this.resolveDataElementOptions(V,G.active?"active":r)),O+=H,this.updateElement(G,V,Y,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?ve*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=m0(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,l,u,f;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){l=i.getDatasetMeta(r),t=l.data,u=l.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)f=u.resolveDataElementOptions(r),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Ot(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class _V extends Cm{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=e,l=this.chart._animationsDisabled;let{start:u,count:f}=H9(e,r,l);this._drawStart=u,this._drawCount=f,q9(e)&&(u=0,f=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:d},t),this.updateElements(r,u,f,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:l,vScale:u,_stacked:f,_dataset:d}=this._cachedMeta,{sharedOptions:p,includeOptions:_}=this._getSharedOptions(e,r),b=l.axis,T=u.axis,{spanGaps:A,segment:w}=this.options,R=Bu(A)?A:Number.POSITIVE_INFINITY,O=this.chart._animationsDisabled||o||r==="none",V=e+i,H=t.length;let G=e>0&&this.getParsed(e-1);for(let Y=0;Y<H;++Y){const nt=t[Y],N=O?nt:{};if(Y<e||Y>=V){N.skip=!0;continue}const M=this.getParsed(Y),I=Xt(M[T]),P=N[b]=l.getPixelForValue(M[b],Y),L=N[T]=o||I?u.getBasePixel():u.getPixelForValue(f?this.applyStack(u,M,f):M[T],Y);N.skip=isNaN(P)||isNaN(L)||I,N.stop=Y>0&&Math.abs(M[b]-G[b])>R,w&&(N.parsed=M,N.raw=d.data[Y]),_&&(N.options=p||this.resolveDataElementOptions(Y,nt.active?"active":r)),O||this.updateElement(nt,Y,N,r),G=M}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function za(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class E0{static override(t){Object.assign(E0.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return za()}parse(){return za()}format(){return za()}add(){return za()}diff(){return za()}startOf(){return za()}endOf(){return za()}}var vV={_date:E0};function bV(n,t,e,i){const{controller:r,data:o,_sorted:l}=n,u=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&o.length){const d=u._reversePixels?j9:Ya;if(i){if(r._sharedOptions){const p=o[0],_=typeof p.getRange=="function"&&p.getRange(t);if(_){const b=d(o,t,e-_),T=d(o,t,e+_);return{lo:b.lo,hi:T.hi}}}}else{const p=d(o,t,e);if(f){const{vScale:_}=r._cachedMeta,{_parsed:b}=n,T=b.slice(0,p.lo+1).reverse().findIndex(w=>!Xt(w[_.axis]));p.lo-=Math.max(0,T);const A=b.slice(p.hi).findIndex(w=>!Xt(w[_.axis]));p.hi+=Math.max(0,A)}return p}}return{lo:0,hi:o.length-1}}function Mm(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),l=e[t];for(let u=0,f=o.length;u<f;++u){const{index:d,data:p}=o[u],{lo:_,hi:b}=bV(o[u],t,l,r);for(let T=_;T<=b;++T){const A=p[T];A.skip||i(A,d,T)}}}function EV(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,l=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function ly(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||Mm(n,e,t,function(u,f,d){!r&&!Hu(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&o.push({element:u,datasetIndex:f,index:d})},!0),o}function TV(n,t,e,i){let r=[];function o(l,u,f){const{startAngle:d,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:_}=zA(l,{x:t.x,y:t.y});Fu(_,d,p)&&r.push({element:l,datasetIndex:u,index:f})}return Mm(n,e,t,o),r}function SV(n,t,e,i,r,o){let l=[];const u=EV(e);let f=Number.POSITIVE_INFINITY;function d(p,_,b){const T=p.inRange(t.x,t.y,r);if(i&&!T)return;const A=p.getCenterPoint(r);if(!(!!o||n.isPointInArea(A))&&!T)return;const R=u(t,A);R<f?(l=[{element:p,datasetIndex:_,index:b}],f=R):R===f&&l.push({element:p,datasetIndex:_,index:b})}return Mm(n,e,t,d),l}function cy(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?TV(n,t,e,r):SV(n,t,e,i,r,o)}function A2(n,t,e,i,r){const o=[],l=e==="x"?"inXRange":"inYRange";let u=!1;return Mm(n,e,t,(f,d,p)=>{f[l]&&f[l](t[e],r)&&(o.push({element:f,datasetIndex:d,index:p}),u=u||f.inRange(t.x,t.y,r))}),i&&!u?[]:o}var wV={modes:{index(n,t,e,i){const r=Fa(t,n),o=e.axis||"x",l=e.includeInvisible||!1,u=e.intersect?ly(n,r,o,i,l):cy(n,r,o,!1,i,l),f=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const p=u[0].index,_=d.data[p];_&&!_.skip&&f.push({element:_,datasetIndex:d.index,index:p})}),f):[]},dataset(n,t,e,i){const r=Fa(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;let u=e.intersect?ly(n,r,o,i,l):cy(n,r,o,!1,i,l);if(u.length>0){const f=u[0].datasetIndex,d=n.getDatasetMeta(f).data;u=[];for(let p=0;p<d.length;++p)u.push({element:d[p],datasetIndex:f,index:p})}return u},point(n,t,e,i){const r=Fa(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return ly(n,r,o,i,l)},nearest(n,t,e,i){const r=Fa(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return cy(n,r,o,e.intersect,i,l)},x(n,t,e,i){const r=Fa(t,n);return A2(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=Fa(t,n);return A2(n,r,"y",e.intersect,i)}}};const oR=["left","top","right","bottom"];function Jc(n,t){return n.filter(e=>e.pos===t)}function R2(n,t){return n.filter(e=>oR.indexOf(e.pos)===-1&&e.box.axis===t)}function Zc(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function xV(n){const t=[];let e,i,r,o,l,u;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:l,stackWeight:u=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&o+l,stackWeight:u});return t}function AV(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!oR.includes(r))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function RV(n,t){const e=AV(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,l,u;for(o=0,l=n.length;o<l;++o){u=n[o];const{fullSize:f}=u.box,d=e[u.stack],p=d&&u.stackWeight/d.weight;u.horizontal?(u.width=p?p*i:f&&t.availableWidth,u.height=r):(u.width=i,u.height=p?p*r:f&&t.availableHeight)}return e}function CV(n){const t=xV(n),e=Zc(t.filter(d=>d.box.fullSize),!0),i=Zc(Jc(t,"left"),!0),r=Zc(Jc(t,"right")),o=Zc(Jc(t,"top"),!0),l=Zc(Jc(t,"bottom")),u=R2(t,"x"),f=R2(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(l).concat(u),chartArea:Jc(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(l).concat(u)}}function C2(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function lR(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function MV(n,t,e,i){const{pos:r,box:o}=e,l=n.maxPadding;if(!Bt(r)){e.size&&(n[r]-=e.size);const _=i[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?o.height:o.width),e.size=_.size/_.count,n[r]+=e.size}o.getPadding&&lR(l,o.getPadding());const u=Math.max(0,t.outerWidth-C2(l,n,"left","right")),f=Math.max(0,t.outerHeight-C2(l,n,"top","bottom")),d=u!==n.w,p=f!==n.h;return n.w=u,n.h=f,e.horizontal?{same:d,other:p}:{same:p,other:d}}function IV(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function DV(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{o[l]=Math.max(t[l],e[l])}),o}return i(n?["left","right"]:["top","bottom"])}function uu(n,t,e,i){const r=[];let o,l,u,f,d,p;for(o=0,l=n.length,d=0;o<l;++o){u=n[o],f=u.box,f.update(u.width||t.w,u.height||t.h,DV(u.horizontal,t));const{same:_,other:b}=MV(t,e,u,i);d|=_&&r.length,p=p||b,f.fullSize||r.push(u)}return d&&uu(r,t,e,i)||p}function nd(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function M2(n,t,e,i){const r=e.padding;let{x:o,y:l}=t;for(const u of n){const f=u.box,d=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/d.weight||1;if(u.horizontal){const _=t.w*p,b=d.size||f.height;Uu(d.start)&&(l=d.start),f.fullSize?nd(f,r.left,l,e.outerWidth-r.right-r.left,b):nd(f,t.left+d.placed,l,_,b),d.start=l,d.placed+=_,l=f.bottom}else{const _=t.h*p,b=d.size||f.width;Uu(d.start)&&(o=d.start),f.fullSize?nd(f,o,r.top,b,e.outerHeight-r.bottom-r.top):nd(f,o,t.top+d.placed,b,_),d.start=o,d.placed+=_,o=f.right}}t.x=o,t.y=l}var ci={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=fi(n.options.layout.padding),o=Math.max(t-r.width,0),l=Math.max(e-r.height,0),u=CV(n.boxes),f=u.vertical,d=u.horizontal;ne(n.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const p=f.reduce((w,R)=>R.box.options&&R.box.options.display===!1?w:w+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/p,hBoxMaxHeight:l/2}),b=Object.assign({},r);lR(b,fi(i));const T=Object.assign({maxPadding:b,w:o,h:l,x:r.left,y:r.top},r),A=RV(f.concat(d),_);uu(u.fullSize,T,_,A),uu(f,T,_,A),uu(d,T,_,A)&&uu(f,T,_,A),IV(T),M2(u.leftAndTop,T,_,A),T.x+=T.w,T.y+=T.h,M2(u.rightAndBottom,T,_,A),n.chartArea={left:T.left,top:T.top,right:T.left+T.w,bottom:T.top+T.h,height:T.h,width:T.w},ne(u.chartArea,w=>{const R=w.box;Object.assign(R,n.chartArea),R.update(T.w,T.h,{left:0,top:0,right:0,bottom:0})})}};class cR{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class OV extends cR{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Ed="$chartjs",NV={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},I2=n=>n===null||n==="";function kV(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Ed]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",I2(r)){const o=d2(n,"width");o!==void 0&&(n.width=o)}if(I2(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=d2(n,"height");o!==void 0&&(n.height=o)}return n}const uR=NL?{passive:!0}:!1;function PV(n,t,e){n&&n.addEventListener(t,e,uR)}function LV(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,uR)}function VV(n,t){const e=NV[n.type]||n.type,{x:i,y:r}=Fa(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Zd(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function jV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||Zd(u.addedNodes,i),l=l&&!Zd(u.removedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function zV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||Zd(u.removedNodes,i),l=l&&!Zd(u.addedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Gu=new Map;let D2=0;function hR(){const n=window.devicePixelRatio;n!==D2&&(D2=n,Gu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function UV(n,t){Gu.size||window.addEventListener("resize",hR),Gu.set(n,t)}function BV(n){Gu.delete(n),Gu.size||window.removeEventListener("resize",hR)}function FV(n,t,e){const i=n.canvas,r=i&&b0(i);if(!r)return;const o=HA((u,f)=>{const d=r.clientWidth;e(u,f),d<r.clientWidth&&e()},window),l=new ResizeObserver(u=>{const f=u[0],d=f.contentRect.width,p=f.contentRect.height;d===0&&p===0||o(d,p)});return l.observe(r),UV(n,o),l}function uy(n,t,e){e&&e.disconnect(),t==="resize"&&BV(n)}function HV(n,t,e){const i=n.canvas,r=HA(o=>{n.ctx!==null&&e(VV(o,n))},n);return PV(i,t,r),r}class qV extends cR{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(kV(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Ed])return!1;const i=e[Ed].initial;["height","width"].forEach(o=>{const l=i[o];Xt(l)?e.removeAttribute(o):e.setAttribute(o,l)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[Ed],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),l={attach:jV,detach:zV,resize:FV}[e]||HV;r[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:uy,detach:uy,resize:uy}[e]||LV)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return OL(t,e,i,r)}isAttached(t){const e=t&&b0(t);return!!(e&&e.isConnected)}}function GV(n){return!v0()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?OV:qV}class Xs{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Bu(this.x)&&Bu(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function YV(n,t){const e=n.options.ticks,i=WV(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?KV(t):[],l=o.length,u=o[0],f=o[l-1],d=[];if(l>r)return XV(t,d,o,l/r),d;const p=$V(o,t,r);if(l>0){let _,b;const T=l>1?Math.round((f-u)/(l-1)):null;for(id(t,d,p,Xt(T)?0:u-T,u),_=0,b=l-1;_<b;_++)id(t,d,p,o[_],o[_+1]);return id(t,d,p,f,Xt(T)?t.length:f+T),d}return id(t,d,p),d}function WV(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function $V(n,t,e){const i=QV(n),r=t.length/e;if(!i)return Math.max(r,1);const o=D9(i);for(let l=0,u=o.length-1;l<u;l++){const f=o[l];if(f>r)return f}return Math.max(r,1)}function KV(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function XV(n,t,e,i){let r=0,o=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===o&&(t.push(n[l]),r++,o=e[r*i])}function id(n,t,e,i,r){const o=Ot(i,0),l=Math.min(Ot(r,n.length),n.length);let u=0,f,d,p;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),p=o;p<0;)u++,p=Math.round(o+u*e);for(d=Math.max(o,0);d<l;d++)d===p&&(t.push(n[d]),u++,p=Math.round(o+u*e))}function QV(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const JV=n=>n==="left"?"right":n==="right"?"left":n,O2=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,N2=(n,t)=>Math.min(t||n,n);function k2(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function ZV(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,l=n._endPixel,u=1e-6;let f=n.getPixelForTick(r),d;if(!(e&&(i===1?d=Math.max(f-o,l-f):t===0?d=(n.getPixelForTick(1)-f)/2:d=(f-n.getPixelForTick(r-1))/2,f+=r<t?d:-d,f<o-u||f>l+u)))return f}function t8(n,t){ne(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function tu(n){return n.drawTicks?n.tickLength:0}function P2(n,t){if(!n.display)return 0;const e=pn(n.font,t),i=fi(n.padding);return(Be(n.text)?n.text.length:1)*e.lineHeight+i.height}function e8(n,t){return lo(n,{scale:t,type:"scale"})}function n8(n,t,e){return lo(n,{tick:e,index:t,type:"tick"})}function i8(n,t,e){let i=f0(n);return(e&&t!=="right"||!e&&t==="right")&&(i=JV(i)),i}function s8(n,t,e,i){const{top:r,left:o,bottom:l,right:u,chart:f}=n,{chartArea:d,scales:p}=f;let _=0,b,T,A;const w=l-r,R=u-o;if(n.isHorizontal()){if(T=dn(i,o,u),Bt(e)){const O=Object.keys(e)[0],V=e[O];A=p[O].getPixelForValue(V)+w-t}else e==="center"?A=(d.bottom+d.top)/2+w-t:A=O2(n,e,t);b=u-o}else{if(Bt(e)){const O=Object.keys(e)[0],V=e[O];T=p[O].getPixelForValue(V)-R+t}else e==="center"?T=(d.left+d.right)/2-R+t:T=O2(n,e,t);A=dn(i,l,r),_=e==="left"?-Ye:Ye}return{titleX:T,titleY:A,maxWidth:b,rotation:_}}class Ul extends Xs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Xi(t,Number.POSITIVE_INFINITY),e=Xi(e,Number.NEGATIVE_INFINITY),i=Xi(i,Number.POSITIVE_INFINITY),r=Xi(r,Number.NEGATIVE_INFINITY),{min:Xi(t,i),max:Xi(e,r),minDefined:_n(t),maxDefined:_n(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),l;if(r&&o)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let f=0,d=u.length;f<d;++f)l=u[f].controller.getMinMax(this,t),r||(e=Math.min(e,l.min)),o||(i=Math.max(i,l.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Xi(e,Xi(i,e)),max:Xi(i,Xi(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){de(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=uL(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?k2(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=YV(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){de(this.options.afterUpdate,[this])}beforeSetDimensions(){de(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){de(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),de(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){de(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=de(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){de(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){de(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=N2(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let l=r,u,f,d;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),_=p.widest.width,b=p.highest.height,T=gn(this.chart.width-_,0,this.maxWidth);u=t.offset?this.maxWidth/i:T/(i-1),_+6>u&&(u=T/(i-(t.offset?.5:1)),f=this.maxHeight-tu(t.grid)-e.padding-P2(t.title,this.chart.options.font),d=Math.sqrt(_*_+b*b),l=P9(Math.min(Math.asin(gn((p.highest.height+6)/u,-1,1)),Math.asin(gn(f/d,-1,1))-Math.asin(gn(b/d,-1,1)))),l=Math.max(r,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){de(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){de(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const f=P2(r,e.options.font);if(u?(t.width=this.maxWidth,t.height=tu(o)+f):(t.height=this.maxHeight,t.width=tu(o)+f),i.display&&this.ticks.length){const{first:d,last:p,widest:_,highest:b}=this._getLabelSizes(),T=i.padding*2,A=Vs(this.labelRotation),w=Math.cos(A),R=Math.sin(A);if(u){const O=i.mirror?0:R*_.width+w*b.height;t.height=Math.min(this.maxHeight,t.height+O+T)}else{const O=i.mirror?0:w*_.width+R*b.height;t.width=Math.min(this.maxWidth,t.width+O+T)}this._calculatePadding(d,p,R,w)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:l},position:u}=this.options,f=this.labelRotation!==0,d=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,T=0;f?d?(b=r*t.width,T=i*e.height):(b=i*t.height,T=r*e.width):o==="start"?T=e.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,T=e.width/2),this.paddingLeft=Math.max((b-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((T-_+l)*this.width/(this.width-_),0)}else{let p=e.height/2,_=t.height/2;o==="start"?(p=0,_=t.height):o==="end"&&(p=e.height,_=0),this.paddingTop=p+l,this.paddingBottom=_+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){de(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Xt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=k2(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,l=[],u=[],f=Math.floor(e/N2(e,i));let d=0,p=0,_,b,T,A,w,R,O,V,H,G,Y;for(_=0;_<e;_+=f){if(A=t[_].label,w=this._resolveTickFontOptions(_),r.font=R=w.string,O=o[R]=o[R]||{data:{},gc:[]},V=w.lineHeight,H=G=0,!Xt(A)&&!Be(A))H=l2(r,O.data,O.gc,H,A),G=V;else if(Be(A))for(b=0,T=A.length;b<T;++b)Y=A[b],!Xt(Y)&&!Be(Y)&&(H=l2(r,O.data,O.gc,H,Y),G+=V);l.push(H),u.push(G),d=Math.max(H,d),p=Math.max(G,p)}t8(o,e);const nt=l.indexOf(d),N=u.indexOf(p),M=I=>({width:l[I]||0,height:u[I]||0});return{first:M(0),last:M(e-1),widest:M(nt),highest:M(N),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return V9(this._alignToPixels?ja(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=n8(this.getContext(),t,i))}return this.$context||(this.$context=e8(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Vs(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,u=o?o.widest.width+l:0,f=o?o.highest.height+l:0;return this.isHorizontal()?f*i>u*r?u/i:f/r:f*r<u*i?f/i:u/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:l,border:u}=r,f=o.offset,d=this.isHorizontal(),_=this.ticks.length+(f?1:0),b=tu(o),T=[],A=u.setContext(this.getContext()),w=A.display?A.width:0,R=w/2,O=function(X){return ja(i,X,w)};let V,H,G,Y,nt,N,M,I,P,L,z,k;if(l==="top")V=O(this.bottom),N=this.bottom-b,I=V-R,L=O(t.top)+R,k=t.bottom;else if(l==="bottom")V=O(this.top),L=t.top,k=O(t.bottom)-R,N=V+R,I=this.top+b;else if(l==="left")V=O(this.right),nt=this.right-b,M=V-R,P=O(t.left)+R,z=t.right;else if(l==="right")V=O(this.left),P=t.left,z=O(t.right)-R,nt=V+R,M=this.left+b;else if(e==="x"){if(l==="center")V=O((t.top+t.bottom)/2+.5);else if(Bt(l)){const X=Object.keys(l)[0],ot=l[X];V=O(this.chart.scales[X].getPixelForValue(ot))}L=t.top,k=t.bottom,N=V+R,I=N+b}else if(e==="y"){if(l==="center")V=O((t.left+t.right)/2);else if(Bt(l)){const X=Object.keys(l)[0],ot=l[X];V=O(this.chart.scales[X].getPixelForValue(ot))}nt=V-R,M=nt-b,P=t.left,z=t.right}const ut=Ot(r.ticks.maxTicksLimit,_),gt=Math.max(1,Math.ceil(_/ut));for(H=0;H<_;H+=gt){const X=this.getContext(H),ot=o.setContext(X),mt=u.setContext(X),bt=ot.lineWidth,Nt=ot.color,U=mt.dash||[],et=mt.dashOffset,ct=ot.tickWidth,ht=ot.tickColor,Et=ot.tickBorderDash||[],St=ot.tickBorderDashOffset;G=ZV(this,H,f),G!==void 0&&(Y=ja(i,G,bt),d?nt=M=P=z=Y:N=I=L=k=Y,T.push({tx1:nt,ty1:N,tx2:M,ty2:I,x1:P,y1:L,x2:z,y2:k,width:bt,color:Nt,borderDash:U,borderDashOffset:et,tickWidth:ct,tickColor:ht,tickBorderDash:Et,tickBorderDashOffset:St}))}return this._ticksLength=_,this._borderValue=V,T}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,l=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:d,padding:p,mirror:_}=o,b=tu(i.grid),T=b+p,A=_?-p:T,w=-Vs(this.labelRotation),R=[];let O,V,H,G,Y,nt,N,M,I,P,L,z,k="middle";if(r==="top")nt=this.bottom-A,N=this._getXAxisLabelAlignment();else if(r==="bottom")nt=this.top+A,N=this._getXAxisLabelAlignment();else if(r==="left"){const gt=this._getYAxisLabelAlignment(b);N=gt.textAlign,Y=gt.x}else if(r==="right"){const gt=this._getYAxisLabelAlignment(b);N=gt.textAlign,Y=gt.x}else if(e==="x"){if(r==="center")nt=(t.top+t.bottom)/2+T;else if(Bt(r)){const gt=Object.keys(r)[0],X=r[gt];nt=this.chart.scales[gt].getPixelForValue(X)+T}N=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")Y=(t.left+t.right)/2-T;else if(Bt(r)){const gt=Object.keys(r)[0],X=r[gt];Y=this.chart.scales[gt].getPixelForValue(X)}N=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(f==="start"?k="top":f==="end"&&(k="bottom"));const ut=this._getLabelSizes();for(O=0,V=u.length;O<V;++O){H=u[O],G=H.label;const gt=o.setContext(this.getContext(O));M=this.getPixelForTick(O)+o.labelOffset,I=this._resolveTickFontOptions(O),P=I.lineHeight,L=Be(G)?G.length:1;const X=L/2,ot=gt.color,mt=gt.textStrokeColor,bt=gt.textStrokeWidth;let Nt=N;l?(Y=M,N==="inner"&&(O===V-1?Nt=this.options.reverse?"left":"right":O===0?Nt=this.options.reverse?"right":"left":Nt="center"),r==="top"?d==="near"||w!==0?z=-L*P+P/2:d==="center"?z=-ut.highest.height/2-X*P+P:z=-ut.highest.height+P/2:d==="near"||w!==0?z=P/2:d==="center"?z=ut.highest.height/2-X*P:z=ut.highest.height-L*P,_&&(z*=-1),w!==0&&!gt.showLabelBackdrop&&(Y+=P/2*Math.sin(w))):(nt=M,z=(1-L)*P/2);let U;if(gt.showLabelBackdrop){const et=fi(gt.backdropPadding),ct=ut.heights[O],ht=ut.widths[O];let Et=z-et.top,St=0-et.left;switch(k){case"middle":Et-=ct/2;break;case"bottom":Et-=ct;break}switch(N){case"center":St-=ht/2;break;case"right":St-=ht;break;case"inner":O===V-1?St-=ht:O>0&&(St-=ht/2);break}U={left:St,top:Et,width:ht+et.width,height:ct+et.height,color:gt.backdropColor}}R.push({label:G,font:I,textOffset:z,options:{rotation:w,color:ot,strokeColor:mt,strokeWidth:bt,textAlign:Nt,textBaseline:k,translation:[Y,nt],backdrop:U}})}return R}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Vs(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,l=this._getLabelSizes(),u=t+o,f=l.widest.width;let d,p;return e==="left"?r?(p=this.right+o,i==="near"?d="left":i==="center"?(d="center",p+=f/2):(d="right",p+=f)):(p=this.right-u,i==="near"?d="right":i==="center"?(d="center",p-=f/2):(d="left",p=this.left)):e==="right"?r?(p=this.left+o,i==="near"?d="right":i==="center"?(d="center",p-=f/2):(d="left",p-=f)):(p=this.left+u,i==="near"?d="left":i==="center"?(d="center",p+=f/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,l;const u=(f,d,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(e.display)for(o=0,l=r.length;o<l;++o){const f=r[o];e.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;const u=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let d,p,_,b;this.isHorizontal()?(d=ja(t,this.left,l)-l/2,p=ja(t,this.right,u)+u/2,_=b=f):(_=ja(t,this.top,l)-l/2,b=ja(t,this.bottom,u)+u/2,d=p=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(d,_),e.lineTo(p,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&xm(i,r);const o=this.getLabelItems(t);for(const l of o){const u=l.options,f=l.font,d=l.label,p=l.textOffset;qu(i,d,0,p,f,u)}r&&Am(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=pn(i.font),l=fi(i.padding),u=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||Bt(e)?(f+=l.bottom,Be(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=l.top;const{titleX:d,titleY:p,maxWidth:_,rotation:b}=s8(this,f,e,u);qu(t,i.text,0,0,o,{color:i.color,maxWidth:_,rotation:b,textAlign:i8(u,e,r),textBaseline:"middle",translation:[d,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Ot(t.grid&&t.grid.z,-1),r=Ot(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ul.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,l;for(o=0,l=e.length;o<l;++o){const u=e[o];u[i]===this.id&&(!t||u.type===t)&&r.push(u)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return pn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class sd{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;o8(e)&&(i=this.register(e));const r=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,r8(t,l,i),this.override&&Me.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Me[r]&&(delete Me[r][i],this.override&&delete so[i])}}function r8(n,t,e){const i=zu(Object.create(null),[e?Me.get(e):{},Me.get(t),n.defaults]);Me.set(t,i),n.defaultRoutes&&a8(t,n.defaultRoutes),n.descriptors&&Me.describe(t,n.descriptors)}function a8(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),l=t[e].split("."),u=l.pop(),f=l.join(".");Me.route(o,r,f,u)})}function o8(n){return"id"in n&&"defaults"in n}class l8{constructor(){this.controllers=new sd(Cm,"datasets",!0),this.elements=new sd(Xs,"elements"),this.plugins=new sd(Object,"plugins"),this.scales=new sd(Ul,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):ne(r,l=>{const u=i||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,e,i){const r=u0(t);de(i["before"+r],[],i),e[t](i),de(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Ji=new l8;class c8{constructor(){this._init=void 0}notify(t,e,i,r){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=r?this._descriptors(t).filter(r):this._descriptors(t),l=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),l}_notify(t,e,i,r){r=r||{};for(const o of t){const l=o.plugin,u=l[i],f=[e,r,o.options];if(de(u,f,l)===!1&&r.cancelable)return!1}return!0}invalidate(){Xt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Ot(i.options&&i.options.plugins,{}),o=u8(i);return r===!1&&!e?[]:f8(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,l)=>o.filter(u=>!l.some(f=>u.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function u8(n){const t={},e=[],i=Object.keys(Ji.plugins.items);for(let o=0;o<i.length;o++)e.push(Ji.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const l=r[o];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function h8(n,t){return!t&&n===!1?null:n===!0?{}:n}function f8(n,{plugins:t,localIds:e},i,r){const o=[],l=n.getContext();for(const u of t){const f=u.id,d=h8(i[f],r);d!==null&&o.push({plugin:u,options:d8(n.config,{plugin:u,local:e[f]},d,l)})}return o}function d8(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),l=n.getOptionScopes(i,o);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function e_(n,t){const e=Me.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function m8(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function g8(n,t){return n===t?"_index_":"_value_"}function L2(n){if(n==="x"||n==="y"||n==="r")return n}function p8(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function n_(n,...t){if(L2(n))return n;for(const e of t){const i=e.axis||p8(e.position)||n.length>1&&L2(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function V2(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function y8(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return V2(n,"x",e[0])||V2(n,"y",e[0])}return{}}function _8(n,t){const e=so[n.type]||{scales:{}},i=t.scales||{},r=e_(n.type,t),o=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Bt(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=n_(l,u,y8(l,n),Me.scales[u.type]),d=g8(f,r),p=e.scales||{};o[l]=_u(Object.create(null),[{axis:f},u,p[f],p[d]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,f=l.indexAxis||e_(u,t),p=(so[u]||{}).scales||{};Object.keys(p).forEach(_=>{const b=m8(_,f),T=l[b+"AxisID"]||b;o[T]=o[T]||Object.create(null),_u(o[T],[{axis:b},i[T],p[_]])})}),Object.keys(o).forEach(l=>{const u=o[l];_u(u,[Me.scales[u.type],Me.scale])}),o}function fR(n){const t=n.options||(n.options={});t.plugins=Ot(t.plugins,{}),t.scales=_8(n,t)}function dR(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function v8(n){return n=n||{},n.data=dR(n.data),fR(n),n}const j2=new Map,mR=new Set;function rd(n,t){let e=j2.get(n);return e||(e=t(),j2.set(n,e),mR.add(e)),e}const eu=(n,t,e)=>{const i=io(t,e);i!==void 0&&n.add(i)};class b8{constructor(t){this._config=v8(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=dR(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),fR(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return rd(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return rd(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return rd(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return rd(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,l=this._cachedScopes(t,i),u=l.get(e);if(u)return u;const f=new Set;e.forEach(p=>{t&&(f.add(t),p.forEach(_=>eu(f,t,_))),p.forEach(_=>eu(f,r,_)),p.forEach(_=>eu(f,so[o]||{},_)),p.forEach(_=>eu(f,Me,_)),p.forEach(_=>eu(f,Zy,_))});const d=Array.from(f);return d.length===0&&d.push(Object.create(null)),mR.has(e)&&l.set(e,d),d}chartOptionScopes(){const{options:t,type:e}=this;return[t,so[e]||{},Me.datasets[e]||{},{type:e},Me,Zy]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=z2(this._resolverCache,t,r);let f=l;if(T8(l,e)){o.$shared=!1,i=ta(i)?i():i;const d=this.createResolver(t,i,u);f=xl(l,i,d)}for(const d of e)o[d]=f[d];return o}createResolver(t,e,i=[""],r){const{resolver:o}=z2(this._resolverCache,t,i);return Bt(e)?xl(o,e,void 0,r):o}}function z2(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:p0(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,o)),o}const E8=n=>Bt(n)&&Object.getOwnPropertyNames(n).some(t=>ta(n[t]));function T8(n,t){const{isScriptable:e,isIndexable:i}=WA(n);for(const r of t){const o=e(r),l=i(r),u=(l||o)&&n[r];if(o&&(ta(u)||E8(u))||l&&Be(u))return!0}return!1}var S8="4.5.1";const w8=["top","bottom","left","right","chartArea"];function U2(n,t){return n==="top"||n==="bottom"||w8.indexOf(n)===-1&&t==="x"}function B2(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function F2(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),de(e&&e.onComplete,[n],t)}function x8(n){const t=n.chart,e=t.options.animation;de(e&&e.onProgress,[n],t)}function gR(n){return v0()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Td={},H2=n=>{const t=gR(n);return Object.values(Td).filter(e=>e.canvas===t).pop()};function A8(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const l=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=l)}}}function R8(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let uh=class{static defaults=Me;static instances=Td;static overrides=so;static registry=Ji;static version=S8;static getChart=H2;static register(...t){Ji.add(...t),q2()}static unregister(...t){Ji.remove(...t),q2()}constructor(t,e){const i=this.config=new b8(e),r=gR(t),o=H2(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||GV(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,l.aspectRatio),f=u&&u.canvas,d=f&&f.height,p=f&&f.width;if(this.id=T9(),this.ctx=u,this.canvas=f,this.width=p,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new c8,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=B9(_=>this.update(_),l.resizeDelay||0),this._dataChanges=[],Td[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Ds.listen(this,"complete",F2),Ds.listen(this,"progress",x8),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return Xt(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ji}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():f2(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return c2(this.canvas,this.ctx),this}stop(){return Ds.stop(this),this}resize(t,e){Ds.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,t,e,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,f2(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),de(i.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};ne(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let o=[];e&&(o=o.concat(Object.keys(e).map(l=>{const u=e[l],f=n_(l,u),d=f==="r",p=f==="x";return{options:u,dposition:d?"chartArea":p?"bottom":"left",dtype:d?"radialLinear":p?"category":"linear"}}))),ne(o,l=>{const u=l.options,f=u.id,d=n_(f,u),p=Ot(u.type,l.dtype);(u.position===void 0||U2(u.position,d)!==U2(l.dposition))&&(u.position=l.dposition),r[f]=!0;let _=null;if(f in i&&i[f].type===p)_=i[f];else{const b=Ji.getScale(p);_=new b({id:f,type:p,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(u,t)}),ne(r,(l,u)=>{l||delete i[u]}),ne(i,l=>{ci.configure(this,l,l.options),ci.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(B2("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let l=this.getDatasetMeta(i);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=o.indexAxis||e_(u,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const f=Ji.getController(u),{datasetElementType:d,dataElementType:p}=Me.datasets[u];Object.assign(f,{dataElementType:Ji.getElement(p),datasetElementType:d&&Ji.getElement(d)}),l.controller=new f(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){ne(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,p=this.data.datasets.length;d<p;d++){const{controller:_}=this.getDatasetMeta(d),b=!r&&o.indexOf(_)===-1;_.buildOrUpdateElements(b),l=Math.max(+_.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),r||ne(o,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(B2("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){ne(this.scales,t=>{ci.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!ZT(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const l=i==="_removeElements"?-o:o;A8(t,r,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!ZT(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ci.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],ne(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,ta(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ds.has(this)?this.attached&&!Ds.running(this)&&Ds.start(this):(this.draw(),F2({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const l=e[r];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=iR(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&xm(e,r),t.controller.draw(),r&&Am(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Hu(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=wV.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=lo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,r);Uu(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(o,{visible:i}),this.update(u=>u.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Ds.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),c2(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Td[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,l)=>{e.addEventListener(this,o,l),t[o]=l},r=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};ne(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,d)=>{e.addEventListener(this,f,d),t[f]=d},r=(f,d)=>{t[f]&&(e.removeEventListener(this,f,d),delete t[f])},o=(f,d)=>{this.canvas&&this.resize(f,d)};let l;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():l()}unbindEvents(){ne(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},ne(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,l,u,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),u=0,f=t.length;u<f;++u){l=t[u];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!$d(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,d)=>f.filter(p=>!d.some(_=>p.datasetIndex===_.datasetIndex&&p.index===_.index)),l=o(e,t),u=i?t:o(t,e);l.length&&this.updateHoverStyle(l,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,l=e,u=this._getActiveElements(t,r,i,l),f=C9(t),d=R8(t,this._lastEvent,i,f);i&&(this._lastEvent=null,de(o.onHover,[t,u,this],this),f&&de(o.onClick,[t,u,this],this));const p=!$d(u,r);return(p||e)&&(this._active=u,this._updateHoverStyles(u,r,e)),this._lastEvent=d,p}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function q2(){return ne(uh.instances,n=>n._plugins.invalidate())}function C8(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:l,innerRadius:u,options:f}=t,{borderWidth:d,borderJoinStyle:p}=f,_=Math.min(d/l,qn(i-e));if(n.beginPath(),n.arc(r,o,l-d/2,i+_/2,e-_/2),u>0){const b=Math.min(d/u,qn(i-e));n.arc(r,o,u+d/2,e-b/2,i+b/2,!0)}else{const b=Math.min(d/2,l*qn(i-e));if(p==="round")n.arc(r,o,b,e-ie/2,i+ie/2,!0);else if(p==="bevel"){const T=2*b*b,A=-T*Math.cos(e+ie/2)+r,w=-T*Math.sin(e+ie/2)+o,R=T*Math.cos(i+ie/2)+r,O=T*Math.sin(i+ie/2)+o;n.lineTo(A,w),n.lineTo(R,O)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function M8(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:l,outerRadius:u,innerRadius:f}=t;let d=r/u;n.beginPath(),n.arc(o,l,u,i-d,e+d),f>r?(d=r/f,n.arc(o,l,f,e+d,i-d,!0)):n.arc(o,l,r,e+Ye,i-Ye),n.closePath(),n.clip()}function I8(n){return g0(n,["outerStart","outerEnd","innerStart","innerEnd"])}function D8(n,t,e,i){const r=I8(n.options.borderRadius),o=(e-t)/2,l=Math.min(o,i*t/2),u=f=>{const d=(e-Math.min(o,f))*i/2;return gn(f,0,Math.min(o,d))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:gn(r.innerStart,0,l),innerEnd:gn(r.innerEnd,0,l)}}function il(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function tm(n,t,e,i,r,o){const{x:l,y:u,startAngle:f,pixelMargin:d,innerRadius:p}=t,_=Math.max(t.outerRadius+i+e-d,0),b=p>0?p+i+e+d:0;let T=0;const A=r-f;if(i){const gt=p>0?p-i:0,X=_>0?_-i:0,ot=(gt+X)/2,mt=ot!==0?A*ot/(ot+i):A;T=(A-mt)/2}const w=Math.max(.001,A*_-e/ie)/_,R=(A-w)/2,O=f+R+T,V=r-R-T,{outerStart:H,outerEnd:G,innerStart:Y,innerEnd:nt}=D8(t,b,_,V-O),N=_-H,M=_-G,I=O+H/N,P=V-G/M,L=b+Y,z=b+nt,k=O+Y/L,ut=V-nt/z;if(n.beginPath(),o){const gt=(I+P)/2;if(n.arc(l,u,_,I,gt),n.arc(l,u,_,gt,P),G>0){const bt=il(M,P,l,u);n.arc(bt.x,bt.y,G,P,V+Ye)}const X=il(z,V,l,u);if(n.lineTo(X.x,X.y),nt>0){const bt=il(z,ut,l,u);n.arc(bt.x,bt.y,nt,V+Ye,ut+Math.PI)}const ot=(V-nt/b+(O+Y/b))/2;if(n.arc(l,u,b,V-nt/b,ot,!0),n.arc(l,u,b,ot,O+Y/b,!0),Y>0){const bt=il(L,k,l,u);n.arc(bt.x,bt.y,Y,k+Math.PI,O-Ye)}const mt=il(N,O,l,u);if(n.lineTo(mt.x,mt.y),H>0){const bt=il(N,I,l,u);n.arc(bt.x,bt.y,H,O-Ye,I)}}else{n.moveTo(l,u);const gt=Math.cos(I)*_+l,X=Math.sin(I)*_+u;n.lineTo(gt,X);const ot=Math.cos(P)*_+l,mt=Math.sin(P)*_+u;n.lineTo(ot,mt)}n.closePath()}function O8(n,t,e,i,r){const{fullCircles:o,startAngle:l,circumference:u}=t;let f=t.endAngle;if(o){tm(n,t,e,i,f,r);for(let d=0;d<o;++d)n.fill();isNaN(u)||(f=l+(u%ve||ve))}return tm(n,t,e,i,f,r),n.fill(),f}function N8(n,t,e,i,r){const{fullCircles:o,startAngle:l,circumference:u,options:f}=t,{borderWidth:d,borderJoinStyle:p,borderDash:_,borderDashOffset:b,borderRadius:T}=f,A=f.borderAlign==="inner";if(!d)return;n.setLineDash(_||[]),n.lineDashOffset=b,A?(n.lineWidth=d*2,n.lineJoin=p||"round"):(n.lineWidth=d,n.lineJoin=p||"bevel");let w=t.endAngle;if(o){tm(n,t,e,i,w,r);for(let R=0;R<o;++R)n.stroke();isNaN(u)||(w=l+(u%ve||ve))}A&&M8(n,t,w),f.selfJoin&&w-l>=ie&&T===0&&p!=="miter"&&C8(n,t,w),o||(tm(n,t,e,i,w,r),n.stroke())}class pR extends Xs{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:l}=zA(r,{x:t,y:e}),{startAngle:u,endAngle:f,innerRadius:d,outerRadius:p,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),b=(this.options.spacing+this.options.borderWidth)/2,T=Ot(_,f-u),A=Fu(o,u,f)&&u!==f,w=T>=ve||A,R=js(l,d+b,p+b);return w&&R}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:l,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:d}=this.options,p=(r+o)/2,_=(l+u+d+f)/2;return{x:e+Math.cos(p)*_,y:i+Math.sin(p)*_}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,l=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>ve?Math.floor(i/ve):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const u=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(u)*r,Math.sin(u)*r);const f=1-Math.sin(Math.min(ie,i||0)),d=r*f;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,O8(t,this,d,o,l),N8(t,this,d,o,l),t.restore()}}function yR(n,t,e=t){n.lineCap=Ot(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Ot(e.borderDash,t.borderDash)),n.lineDashOffset=Ot(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Ot(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Ot(e.borderWidth,t.borderWidth),n.strokeStyle=Ot(e.borderColor,t.borderColor)}function k8(n,t,e){n.lineTo(e.x,e.y)}function P8(n){return n.stepped?eL:n.tension||n.cubicInterpolationMode==="monotone"?nL:k8}function _R(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:l,end:u}=t,f=Math.max(r,l),d=Math.min(o,u),p=r<l&&o<l||r>u&&o>u;return{count:i,start:f,loop:t.loop,ilen:d<f&&!p?i+d-f:d-f}}function L8(n,t,e,i){const{points:r,options:o}=t,{count:l,start:u,loop:f,ilen:d}=_R(r,e,i),p=P8(o);let{move:_=!0,reverse:b}=i||{},T,A,w;for(T=0;T<=d;++T)A=r[(u+(b?d-T:T))%l],!A.skip&&(_?(n.moveTo(A.x,A.y),_=!1):p(n,w,A,b,o.stepped),w=A);return f&&(A=r[(u+(b?d:0))%l],p(n,w,A,b,o.stepped)),!!f}function V8(n,t,e,i){const r=t.points,{count:o,start:l,ilen:u}=_R(r,e,i),{move:f=!0,reverse:d}=i||{};let p=0,_=0,b,T,A,w,R,O;const V=G=>(l+(d?u-G:G))%o,H=()=>{w!==R&&(n.lineTo(p,R),n.lineTo(p,w),n.lineTo(p,O))};for(f&&(T=r[V(0)],n.moveTo(T.x,T.y)),b=0;b<=u;++b){if(T=r[V(b)],T.skip)continue;const G=T.x,Y=T.y,nt=G|0;nt===A?(Y<w?w=Y:Y>R&&(R=Y),p=(_*p+G)/++_):(H(),n.lineTo(G,Y),A=nt,_=0,w=R=Y),O=Y}H()}function i_(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?V8:L8}function j8(n){return n.stepped?kL:n.tension||n.cubicInterpolationMode==="monotone"?PL:Ha}function z8(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),yR(n,t.options),n.stroke(r)}function U8(n,t,e,i){const{segments:r,options:o}=t,l=i_(t);for(const u of r)yR(n,o,u.style),n.beginPath(),l(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const B8=typeof Path2D=="function";function F8(n,t,e,i){B8&&!t.options.segment?z8(n,t,e,i):U8(n,t,e,i)}class Im extends Xs{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;AL(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=BL(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],o=this.points,l=nR(this,{property:e,start:r,end:r});if(!l.length)return;const u=[],f=j8(i);let d,p;for(d=0,p=l.length;d<p;++d){const{start:_,end:b}=l[d],T=o[_],A=o[b];if(T===A){u.push(T);continue}const w=Math.abs((r-T[e])/(A[e]-T[e])),R=f(T,A,w,i.stepped);R[e]=t[e],u.push(R)}return u.length===1?u[0]:u}pathSegment(t,e,i){return i_(this)(t,this,e,i)}path(t,e,i){const r=this.segments,o=i_(this);let l=this._loop;e=e||0,i=i||this.points.length-e;for(const u of r)l&=o(t,this,u,{start:e,end:e+i-1});return!!l}draw(t,e,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),F8(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function G2(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}class H8 extends Xs{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:o,y:l}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return G2(this,t,"x",e)}inYRange(t,e){return G2(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Hu(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,t_(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function vR(n,t){const{x:e,y:i,base:r,width:o,height:l}=n.getProps(["x","y","base","width","height"],t);let u,f,d,p,_;return n.horizontal?(_=l/2,u=Math.min(e,r),f=Math.max(e,r),d=i-_,p=i+_):(_=o/2,u=e-_,f=e+_,d=Math.min(i,r),p=Math.max(i,r)),{left:u,top:d,right:f,bottom:p}}function Ur(n,t,e,i){return n?0:gn(t,e,i)}function q8(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=YA(i);return{t:Ur(r.top,o.top,0,e),r:Ur(r.right,o.right,0,t),b:Ur(r.bottom,o.bottom,0,e),l:Ur(r.left,o.left,0,t)}}function G8(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=pl(r),l=Math.min(t,e),u=n.borderSkipped,f=i||Bt(r);return{topLeft:Ur(!f||u.top||u.left,o.topLeft,0,l),topRight:Ur(!f||u.top||u.right,o.topRight,0,l),bottomLeft:Ur(!f||u.bottom||u.left,o.bottomLeft,0,l),bottomRight:Ur(!f||u.bottom||u.right,o.bottomRight,0,l)}}function Y8(n){const t=vR(n),e=t.right-t.left,i=t.bottom-t.top,r=q8(n,e/2,i/2),o=G8(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function hy(n,t,e,i){const r=t===null,o=e===null,u=n&&!(r&&o)&&vR(n,i);return u&&(r||js(t,u.left,u.right))&&(o||js(e,u.top,u.bottom))}function W8(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function $8(n,t){n.rect(t.x,t.y,t.w,t.h)}function fy(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,l=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+l,radius:n.radius}}class bR extends Xs{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:l}=Y8(this),u=W8(l.radius)?Qd:$8;t.save(),(l.w!==o.w||l.h!==o.h)&&(t.beginPath(),u(t,fy(l,e,o)),t.clip(),u(t,fy(o,-e,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,fy(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return hy(this,t,e,i)}inXRange(t,e){return hy(this,t,null,e)}inYRange(t,e){return hy(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}function K8(n,t,e){const i=n.segments,r=n.points,o=t.points,l=[];for(const u of i){let{start:f,end:d}=u;d=Dm(f,d,r);const p=s_(e,r[f],r[d],u.loop);if(!t.segments){l.push({source:u,target:p,start:r[f],end:r[d]});continue}const _=nR(t,p);for(const b of _){const T=s_(e,o[b.start],o[b.end],b.loop),A=eR(u,r,T);for(const w of A)l.push({source:w,target:b,start:{[e]:Y2(p,T,"start",Math.max)},end:{[e]:Y2(p,T,"end",Math.min)}})}}return l}function s_(n,t,e,i){if(i)return;let r=t[n],o=e[n];return n==="angle"&&(r=qn(r),o=qn(o)),{property:n,start:r,end:o}}function X8(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,o=[];return t.segments.forEach(({start:l,end:u})=>{u=Dm(l,u,r);const f=r[l],d=r[u];i!==null?(o.push({x:f.x,y:i}),o.push({x:d.x,y:i})):e!==null&&(o.push({x:e,y:f.y}),o.push({x:e,y:d.y}))}),o}function Dm(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function Y2(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function ER(n,t){let e=[],i=!1;return Be(n)?(i=!0,e=n):e=X8(n,t),e.length?new Im({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function W2(n){return n&&n.fill!==!1}function Q8(n,t,e){let r=n[t].fill;const o=[t];let l;if(!e)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!_n(r))return r;if(l=n[r],!l)return!1;if(l.visible)return r;o.push(r),r=l.fill}return!1}function J8(n,t,e){const i=nj(n);if(Bt(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return _n(r)&&Math.floor(r)===r?Z8(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Z8(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function tj(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Bt(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function ej(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Bt(n)?i=n.value:i=t.getBaseValue(),i}function nj(n){const t=n.options,e=t.fill;let i=Ot(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function ij(n){const{scale:t,index:e,line:i}=n,r=[],o=i.segments,l=i.points,u=sj(t,e);u.push(ER({x:null,y:t.bottom},i));for(let f=0;f<o.length;f++){const d=o[f];for(let p=d.start;p<=d.end;p++)rj(r,l[p],u)}return new Im({points:r,options:{}})}function sj(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function rj(n,t,e){const i=[];for(let r=0;r<e.length;r++){const o=e[r],{first:l,last:u,point:f}=aj(o,t,"x");if(!(!f||l&&u)){if(l)i.unshift(f);else if(n.push(f),!u)break}}n.push(...i)}function aj(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],o=n.segments,l=n.points;let u=!1,f=!1;for(let d=0;d<o.length;d++){const p=o[d],_=l[p.start][e],b=l[p.end][e];if(js(r,_,b)){u=r===_,f=r===b;break}}return{first:u,last:f,point:i}}class TR{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:o,radius:l}=this;return e=e||{start:0,end:ve},t.arc(r,o,l,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,o=t.angle;return{x:e+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function oj(n){const{chart:t,fill:e,line:i}=n;if(_n(e))return lj(t,e);if(e==="stack")return ij(n);if(e==="shape")return!0;const r=cj(n);return r instanceof TR?r:ER(r,i)}function lj(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function cj(n){return(n.scale||{}).getPointPositionForValue?hj(n):uj(n)}function uj(n){const{scale:t={},fill:e}=n,i=tj(e,t);if(_n(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function hj(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,o=i.reverse?t.max:t.min,l=ej(e,t,o),u=[];if(i.grid.circular){const f=t.getPointPositionForValue(0,o);return new TR({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(l)})}for(let f=0;f<r;++f)u.push(t.getPointPositionForValue(f,l));return u}function dy(n,t,e){const i=oj(t),{chart:r,index:o,line:l,scale:u,axis:f}=t,d=l.options,p=d.fill,_=d.backgroundColor,{above:b=_,below:T=_}=p||{},A=r.getDatasetMeta(o),w=iR(r,A);i&&l.points.length&&(xm(n,e),fj(n,{line:l,target:i,above:b,below:T,area:e,scale:u,axis:f,clip:w}),Am(n))}function fj(n,t){const{line:e,target:i,above:r,below:o,area:l,scale:u,clip:f}=t,d=e._loop?"angle":t.axis;n.save();let p=o;o!==r&&(d==="x"?($2(n,i,l.top),my(n,{line:e,target:i,color:r,scale:u,property:d,clip:f}),n.restore(),n.save(),$2(n,i,l.bottom)):d==="y"&&(K2(n,i,l.left),my(n,{line:e,target:i,color:o,scale:u,property:d,clip:f}),n.restore(),n.save(),K2(n,i,l.right),p=r)),my(n,{line:e,target:i,color:p,scale:u,property:d,clip:f}),n.restore()}function $2(n,t,e){const{segments:i,points:r}=t;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:f,end:d}=u,p=r[f],_=r[Dm(f,d,r)];o?(n.moveTo(p.x,p.y),o=!1):(n.lineTo(p.x,e),n.lineTo(p.x,p.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(_.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function K2(n,t,e){const{segments:i,points:r}=t;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:f,end:d}=u,p=r[f],_=r[Dm(f,d,r)];o?(n.moveTo(p.x,p.y),o=!1):(n.lineTo(e,p.y),n.lineTo(p.x,p.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(e,_.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function my(n,t){const{line:e,target:i,property:r,color:o,scale:l,clip:u}=t,f=K8(e,i,r);for(const{source:d,target:p,start:_,end:b}of f){const{style:{backgroundColor:T=o}={}}=d,A=i!==!0;n.save(),n.fillStyle=T,dj(n,l,u,A&&s_(r,_,b)),n.beginPath();const w=!!e.pathSegment(n,d);let R;if(A){w?n.closePath():X2(n,i,b,r);const O=!!i.pathSegment(n,p,{move:w,reverse:!0});R=w&&O,R||X2(n,i,_,r)}n.closePath(),n.fill(R?"evenodd":"nonzero"),n.restore()}}function dj(n,t,e,i){const r=t.chart.chartArea,{property:o,start:l,end:u}=i||{};if(o==="x"||o==="y"){let f,d,p,_;o==="x"?(f=l,d=r.top,p=u,_=r.bottom):(f=r.left,d=l,p=r.right,_=u),n.beginPath(),e&&(f=Math.max(f,e.left),p=Math.min(p,e.right),d=Math.max(d,e.top),_=Math.min(_,e.bottom)),n.rect(f,d,p-f,_-d),n.clip()}}function X2(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var mj={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let o,l,u,f;for(l=0;l<i;++l)o=n.getDatasetMeta(l),u=o.dataset,f=null,u&&u.options&&u instanceof Im&&(f={visible:n.isDatasetVisible(l),index:l,fill:J8(u,l,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=f,r.push(f);for(l=0;l<i;++l)f=r[l],!(!f||f.fill===!1)&&(f.fill=Q8(r,l,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let l=r.length-1;l>=0;--l){const u=r[l].$filler;u&&(u.line.updateControlPoints(o,u.axis),i&&u.fill&&dy(n.ctx,u,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;W2(o)&&dy(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!W2(i)||e.drawTime!=="beforeDatasetDraw"||dy(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Q2=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},gj=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class J2 extends Xs{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=de(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=pn(i.font),o=r.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=Q2(i,o);let d,p;e.font=r.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(l,o,u,f)+10):(p=this.maxHeight,d=this._fitCols(l,r,u,f)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.lineWidths=[0],p=r+u;let _=t;o.textAlign="left",o.textBaseline="middle";let b=-1,T=-p;return this.legendItems.forEach((A,w)=>{const R=i+e/2+o.measureText(A.text).width;(w===0||d[d.length-1]+R+2*u>l)&&(_+=p,d[d.length-(w>0?0:1)]=0,T+=p,b++),f[w]={left:0,top:T,row:b,width:R,height:r},d[d.length-1]+=R+u}),_}_fitCols(t,e,i,r){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.columnSizes=[],p=l-t;let _=u,b=0,T=0,A=0,w=0;return this.legendItems.forEach((R,O)=>{const{itemWidth:V,itemHeight:H}=pj(i,e,o,R,r);O>0&&T+H+2*u>p&&(_+=b+u,d.push({width:b,height:T}),A+=b+u,w++,b=T=0),f[O]={left:A,top:T,col:w,width:V,height:H},b=Math.max(b,V),T+=H+u}),_+=b,d.push({width:b,height:T}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,l=yl(o,this.left,this.width);if(this.isHorizontal()){let u=0,f=dn(i,this.left+r,this.right-this.lineWidths[u]);for(const d of e)u!==d.row&&(u=d.row,f=dn(i,this.left+r,this.right-this.lineWidths[u])),d.top+=this.top+t+r,d.left=l.leftForLtr(l.x(f),d.width),f+=d.width+r}else{let u=0,f=dn(i,this.top+t+r,this.bottom-this.columnSizes[u].height);for(const d of e)d.col!==u&&(u=d.col,f=dn(i,this.top+t+r,this.bottom-this.columnSizes[u].height)),d.top=f,d.left+=this.left+r,d.left=l.leftForLtr(l.x(d.left),d.width),f+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;xm(t,this),this._draw(),Am(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:l}=t,u=Me.color,f=yl(t.rtl,this.left,this.width),d=pn(l.font),{padding:p}=l,_=d.size,b=_/2;let T;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:A,boxHeight:w,itemHeight:R}=Q2(l,_),O=function(nt,N,M){if(isNaN(A)||A<=0||isNaN(w)||w<0)return;r.save();const I=Ot(M.lineWidth,1);if(r.fillStyle=Ot(M.fillStyle,u),r.lineCap=Ot(M.lineCap,"butt"),r.lineDashOffset=Ot(M.lineDashOffset,0),r.lineJoin=Ot(M.lineJoin,"miter"),r.lineWidth=I,r.strokeStyle=Ot(M.strokeStyle,u),r.setLineDash(Ot(M.lineDash,[])),l.usePointStyle){const P={radius:w*Math.SQRT2/2,pointStyle:M.pointStyle,rotation:M.rotation,borderWidth:I},L=f.xPlus(nt,A/2),z=N+b;GA(r,P,L,z,l.pointStyleWidth&&A)}else{const P=N+Math.max((_-w)/2,0),L=f.leftForLtr(nt,A),z=pl(M.borderRadius);r.beginPath(),Object.values(z).some(k=>k!==0)?Qd(r,{x:L,y:P,w:A,h:w,radius:z}):r.rect(L,P,A,w),r.fill(),I!==0&&r.stroke()}r.restore()},V=function(nt,N,M){qu(r,M.text,nt,N+R/2,d,{strikethrough:M.hidden,textAlign:f.textAlign(M.textAlign)})},H=this.isHorizontal(),G=this._computeTitleHeight();H?T={x:dn(o,this.left+p,this.right-i[0]),y:this.top+p+G,line:0}:T={x:this.left+p,y:dn(o,this.top+G+p,this.bottom-e[0].height),line:0},JA(this.ctx,t.textDirection);const Y=R+p;this.legendItems.forEach((nt,N)=>{r.strokeStyle=nt.fontColor,r.fillStyle=nt.fontColor;const M=r.measureText(nt.text).width,I=f.textAlign(nt.textAlign||(nt.textAlign=l.textAlign)),P=A+b+M;let L=T.x,z=T.y;f.setWidth(this.width),H?N>0&&L+P+p>this.right&&(z=T.y+=Y,T.line++,L=T.x=dn(o,this.left+p,this.right-i[T.line])):N>0&&z+Y>this.bottom&&(L=T.x=L+e[T.line].width+p,T.line++,z=T.y=dn(o,this.top+G+p,this.bottom-e[T.line].height));const k=f.x(L);if(O(k,z,nt),L=F9(I,L+A+b,H?L+P:this.right,t.rtl),V(f.x(L),z,nt),H)T.x+=P+p;else if(typeof nt.text!="string"){const ut=d.lineHeight;T.y+=SR(nt,ut)+p}else T.y+=Y}),ZA(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=pn(e.font),r=fi(e.padding);if(!e.display)return;const o=yl(t.rtl,this.left,this.width),l=this.ctx,u=e.position,f=i.size/2,d=r.top+f;let p,_=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),p=this.top+d,_=dn(t.align,_,this.right-b);else{const A=this.columnSizes.reduce((w,R)=>Math.max(w,R.height),0);p=d+dn(t.align,this.top,this.bottom-A-t.labels.padding-this._computeTitleHeight())}const T=dn(u,_,_+b);l.textAlign=o.textAlign(f0(u)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,qu(l,e.text,T,p,i)}_computeTitleHeight(){const t=this.options.title,e=pn(t.font),i=fi(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(js(t,this.left,this.right)&&js(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],js(t,r.left,r.left+r.width)&&js(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!vj(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=gj(r,i);r&&!o&&de(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&de(e.onHover,[t,i,this],this)}else i&&de(e.onClick,[t,i,this],this)}}function pj(n,t,e,i,r){const o=yj(i,n,t,e),l=_j(r,i,t.lineHeight);return{itemWidth:o,itemHeight:l}}function yj(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,l)=>o.length>l.length?o:l)),t+e.size/2+i.measureText(r).width}function _j(n,t,e){let i=n;return typeof t.text!="string"&&(i=SR(t,e)),i}function SR(n,t){const e=n.text?n.text.length:0;return t*e}function vj(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var wR={id:"legend",_element:J2,start(n,t,e){const i=n.legend=new J2({ctx:n.ctx,options:e,chart:n});ci.configure(n,i,e),ci.addBox(n,i)},stop(n){ci.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;ci.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const d=f.controller.getStyle(e?0:void 0),p=fi(d.borderWidth);return{text:t[f.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:l&&(u||d.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class xR extends Xs{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Be(i.text)?i.text.length:1;this._padding=fi(i.padding);const o=r*pn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:l}=this,u=l.align;let f=0,d,p,_;return this.isHorizontal()?(p=dn(u,i,o),_=e+t,d=o-i):(l.position==="left"?(p=i+t,_=dn(u,r,e),f=ie*-.5):(p=o-t,_=dn(u,e,r),f=ie*.5),d=r-e),{titleX:p,titleY:_,maxWidth:d,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=pn(e.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:f,rotation:d}=this._drawArgs(o);qu(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:d,textAlign:f0(e.align),textBaseline:"middle",translation:[l,u]})}}function bj(n,t){const e=new xR({ctx:n.ctx,options:t,chart:n});ci.configure(n,e,t),ci.addBox(n,e),n.titleBlock=e}var AR={id:"title",_element:xR,start(n,t,e){bj(n,e)},stop(n){const t=n.titleBlock;ci.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;ci.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const hu={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const f=u.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,f)=>u+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=n.length;o<l;++o){const f=n[o].element;if(f&&f.hasValue()){const d=f.getCenterPoint(),p=Jy(t,d);p<r&&(r=p,u=f)}}if(u){const f=u.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Qi(n,t){return t&&(Be(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Os(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function Ej(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:l,value:u}=o.getLabelAndValue(r);return{chart:n,label:l,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function Z2(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:l,boxHeight:u}=t,f=pn(t.bodyFont),d=pn(t.titleFont),p=pn(t.footerFont),_=o.length,b=r.length,T=i.length,A=fi(t.padding);let w=A.height,R=0,O=i.reduce((G,Y)=>G+Y.before.length+Y.lines.length+Y.after.length,0);if(O+=n.beforeBody.length+n.afterBody.length,_&&(w+=_*d.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),O){const G=t.displayColors?Math.max(u,f.lineHeight):f.lineHeight;w+=T*G+(O-T)*f.lineHeight+(O-1)*t.bodySpacing}b&&(w+=t.footerMarginTop+b*p.lineHeight+(b-1)*t.footerSpacing);let V=0;const H=function(G){R=Math.max(R,e.measureText(G).width+V)};return e.save(),e.font=d.string,ne(n.title,H),e.font=f.string,ne(n.beforeBody.concat(n.afterBody),H),V=t.displayColors?l+2+t.boxPadding:0,ne(i,G=>{ne(G.before,H),ne(G.lines,H),ne(G.after,H)}),V=0,e.font=p.string,ne(n.footer,H),e.restore(),R+=A.width,{width:R,height:w}}function Tj(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function Sj(n,t,e,i){const{x:r,width:o}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&r+o+l>t.width||n==="right"&&r-o-l<0)return!0}function wj(n,t,e,i){const{x:r,width:o}=e,{width:l,chartArea:{left:u,right:f}}=n;let d="center";return i==="center"?d=r<=(u+f)/2?"left":"right":r<=o/2?d="left":r>=l-o/2&&(d="right"),Sj(d,n,t,e)&&(d="center"),d}function tS(n,t,e){const i=e.yAlign||t.yAlign||Tj(n,e);return{xAlign:e.xAlign||t.xAlign||wj(n,t,e,i),yAlign:i}}function xj(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function Aj(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function eS(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:l}=n,{xAlign:u,yAlign:f}=e,d=r+o,{topLeft:p,topRight:_,bottomLeft:b,bottomRight:T}=pl(l);let A=xj(t,u);const w=Aj(t,f,d);return f==="center"?u==="left"?A+=d:u==="right"&&(A-=d):u==="left"?A-=Math.max(p,b)+r:u==="right"&&(A+=Math.max(_,T)+r),{x:gn(A,0,i.width-t.width),y:gn(w,0,i.height-t.height)}}function ad(n,t,e){const i=fi(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function nS(n){return Qi([],Os(n))}function Rj(n,t,e){return lo(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function iS(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const RR={beforeTitle:Is,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Is,beforeBody:Is,beforeLabel:Is,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Xt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Is,afterBody:Is,beforeFooter:Is,footer:Is,afterFooter:Is};function Mn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?RR[t].call(e,i):r}class sS extends Xs{static positioners=hu;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new sR(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Rj(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Mn(i,"beforeTitle",this,t),o=Mn(i,"title",this,t),l=Mn(i,"afterTitle",this,t);let u=[];return u=Qi(u,Os(r)),u=Qi(u,Os(o)),u=Qi(u,Os(l)),u}getBeforeBody(t,e){return nS(Mn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return ne(t,o=>{const l={before:[],lines:[],after:[]},u=iS(i,o);Qi(l.before,Os(Mn(u,"beforeLabel",this,o))),Qi(l.lines,Mn(u,"label",this,o)),Qi(l.after,Os(Mn(u,"afterLabel",this,o))),r.push(l)}),r}getAfterBody(t,e){return nS(Mn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Mn(i,"beforeFooter",this,t),o=Mn(i,"footer",this,t),l=Mn(i,"afterFooter",this,t);let u=[];return u=Qi(u,Os(r)),u=Qi(u,Os(o)),u=Qi(u,Os(l)),u}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],l=[];let u=[],f,d;for(f=0,d=e.length;f<d;++f)u.push(Ej(this.chart,e[f]));return t.filter&&(u=u.filter((p,_,b)=>t.filter(p,_,b,i))),t.itemSort&&(u=u.sort((p,_)=>t.itemSort(p,_,i))),ne(u,p=>{const _=iS(t.callbacks,p);r.push(Mn(_,"labelColor",this,p)),o.push(Mn(_,"labelPointStyle",this,p)),l.push(Mn(_,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,l=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const u=hu[i.position].call(this,r,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const f=this._size=Z2(this,i),d=Object.assign({},u,f),p=tS(this.chart,i,d),_=eS(i,d,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:_.x,y:_.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:f,topRight:d,bottomLeft:p,bottomRight:_}=pl(u),{x:b,y:T}=t,{width:A,height:w}=e;let R,O,V,H,G,Y;return o==="center"?(G=T+w/2,r==="left"?(R=b,O=R-l,H=G+l,Y=G-l):(R=b+A,O=R+l,H=G-l,Y=G+l),V=R):(r==="left"?O=b+Math.max(f,p)+l:r==="right"?O=b+A-Math.max(d,_)-l:O=this.caretX,o==="top"?(H=T,G=H-l,R=O-l,V=O+l):(H=T+w,G=H+l,R=O+l,V=O-l),Y=H),{x1:R,x2:O,x3:V,y1:H,y2:G,y3:Y}}drawTitle(t,e,i){const r=this.title,o=r.length;let l,u,f;if(o){const d=yl(i.rtl,this.x,this.width);for(t.x=ad(this,i.titleAlign,i),e.textAlign=d.textAlign(i.titleAlign),e.textBaseline="middle",l=pn(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,f=0;f<o;++f)e.fillText(r[f],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,f+1===o&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,r,o){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:f,boxWidth:d}=o,p=pn(o.bodyFont),_=ad(this,"left",o),b=r.x(_),T=f<p.lineHeight?(p.lineHeight-f)/2:0,A=e.y+T;if(o.usePointStyle){const w={radius:Math.min(d,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},R=r.leftForLtr(b,d)+d/2,O=A+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,t_(t,w,R,O),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,t_(t,w,R,O)}else{t.lineWidth=Bt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const w=r.leftForLtr(b,d),R=r.leftForLtr(r.xPlus(b,1),d-2),O=pl(l.borderRadius);Object.values(O).some(V=>V!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Qd(t,{x:w,y:A,w:d,h:f,radius:O}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Qd(t,{x:R,y:A+1,w:d-2,h:f-2,radius:O}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(w,A,d,f),t.strokeRect(w,A,d,f),t.fillStyle=l.backgroundColor,t.fillRect(R,A+1,d-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:f,boxWidth:d,boxPadding:p}=i,_=pn(i.bodyFont);let b=_.lineHeight,T=0;const A=yl(i.rtl,this.x,this.width),w=function(M){e.fillText(M,A.x(t.x+T),t.y+b/2),t.y+=b+o},R=A.textAlign(l);let O,V,H,G,Y,nt,N;for(e.textAlign=l,e.textBaseline="middle",e.font=_.string,t.x=ad(this,R,i),e.fillStyle=i.bodyColor,ne(this.beforeBody,w),T=u&&R!=="right"?l==="center"?d/2+p:d+2+p:0,G=0,nt=r.length;G<nt;++G){for(O=r[G],V=this.labelTextColors[G],e.fillStyle=V,ne(O.before,w),H=O.lines,u&&H.length&&(this._drawColorBox(e,t,G,A,i),b=Math.max(_.lineHeight,f)),Y=0,N=H.length;Y<N;++Y)w(H[Y]),b=_.lineHeight;ne(O.after,w)}T=0,b=_.lineHeight,ne(this.afterBody,w),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let l,u;if(o){const f=yl(i.rtl,this.x,this.width);for(t.x=ad(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",l=pn(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,u=0;u<o;++u)e.fillText(r[u],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:l}=this,{x:u,y:f}=t,{width:d,height:p}=i,{topLeft:_,topRight:b,bottomLeft:T,bottomRight:A}=pl(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(u+_,f),l==="top"&&this.drawCaret(t,e,i,r),e.lineTo(u+d-b,f),e.quadraticCurveTo(u+d,f,u+d,f+b),l==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(u+d,f+p-A),e.quadraticCurveTo(u+d,f+p,u+d-A,f+p),l==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(u+T,f+p),e.quadraticCurveTo(u,f+p,u,f+p-T),l==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(u,f+_),e.quadraticCurveTo(u,f,u+_,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const l=hu[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=Z2(this,t),f=Object.assign({},l,this._size),d=tS(e,t,f),p=eS(t,f,d,e);(r._to!==p.x||o._to!==p.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=fi(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),JA(t,e.textDirection),o.y+=l.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),ZA(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:u,index:f})=>{const d=this.chart.getDatasetMeta(u);if(!d)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:d.data[f],index:f}}),o=!$d(i,r),l=this._positionChanged(r,e);(o||l)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],l=this._getActiveElements(t,o,e,i),u=this._positionChanged(l,t),f=e||!$d(l,o)||u;return f&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,l=hu[o.position].call(this,t,e);return l!==!1&&(i!==l.x||r!==l.y)}}var CR={id:"tooltip",_element:sS,positioners:hu,afterInit(n,t,e){e&&(n.tooltip=new sS({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:RR},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Cj=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function Mj(n,t,e,i){const r=n.indexOf(t);if(r===-1)return Cj(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const Ij=(n,t)=>n===null?null:gn(Math.round(n),0,t);function rS(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class MR extends Ul{static id="category";static defaults={ticks:{callback:rS}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Xt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:Mj(i,t,Ot(e,t),this._addedLabels),Ij(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)r.push({value:l});return r}getLabelForValue(t){return rS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Dj(n,t){const e=[],{bounds:r,step:o,min:l,max:u,precision:f,count:d,maxTicks:p,maxDigits:_,includeBounds:b}=n,T=o||1,A=p-1,{min:w,max:R}=t,O=!Xt(l),V=!Xt(u),H=!Xt(d),G=(R-w)/(_+1);let Y=e2((R-w)/A/T)*T,nt,N,M,I;if(Y<1e-14&&!O&&!V)return[{value:w},{value:R}];I=Math.ceil(R/Y)-Math.floor(w/Y),I>A&&(Y=e2(I*Y/A/T)*T),Xt(f)||(nt=Math.pow(10,f),Y=Math.ceil(Y*nt)/nt),r==="ticks"?(N=Math.floor(w/Y)*Y,M=Math.ceil(R/Y)*Y):(N=w,M=R),O&&V&&o&&N9((u-l)/o,Y/1e3)?(I=Math.round(Math.min((u-l)/Y,p)),Y=(u-l)/I,N=l,M=u):H?(N=O?l:N,M=V?u:M,I=d-1,Y=(M-N)/I):(I=(M-N)/Y,vu(I,Math.round(I),Y/1e3)?I=Math.round(I):I=Math.ceil(I));const P=Math.max(n2(Y),n2(N));nt=Math.pow(10,Xt(f)?P:f),N=Math.round(N*nt)/nt,M=Math.round(M*nt)/nt;let L=0;for(O&&(b&&N!==l?(e.push({value:l}),N<l&&L++,vu(Math.round((N+L*Y)*nt)/nt,l,aS(l,G,n))&&L++):N<l&&L++);L<I;++L){const z=Math.round((N+L*Y)*nt)/nt;if(V&&z>u)break;e.push({value:z})}return V&&b&&M!==u?e.length&&vu(e[e.length-1].value,u,aS(u,G,n))?e[e.length-1].value=u:e.push({value:u}):(!V||M===u)&&e.push({value:M}),e}function aS(n,t,{horizontal:e,minRotation:i}){const r=Vs(i),o=(e?Math.sin(r):Math.cos(r))||.001,l=.75*t*(""+n).length;return Math.min(t/o,l)}class Oj extends Ul{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Xt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const l=f=>r=e?r:f,u=f=>o=i?o:f;if(t){const f=ls(r),d=ls(o);f<0&&d<0?u(0):f>0&&d>0&&l(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);u(o+f),t||l(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,l=Dj(r,o);return t.bounds==="ticks"&&k9(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return m0(t,this.chart.options.locale,this.options.ticks.format)}}class IR extends Oj{static id="linear";static defaults={ticks:{callback:qA.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=_n(t)?t:0,this.max=_n(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Vs(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Om={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Nn=Object.keys(Om);function oS(n,t){return n-t}function lS(n,t){if(Xt(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),_n(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(r&&(l=r==="week"&&(Bu(o)||o===!0)?e.startOf(l,"isoWeek",o):e.startOf(l,r)),+l)}function cS(n,t,e,i){const r=Nn.length;for(let o=Nn.indexOf(n);o<r-1;++o){const l=Om[Nn[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(u*l.size))<=i)return Nn[o]}return Nn[r-1]}function Nj(n,t,e,i,r){for(let o=Nn.length-1;o>=Nn.indexOf(e);o--){const l=Nn[o];if(Om[l].common&&n._adapter.diff(r,i,l)>=t-1)return l}return Nn[e?Nn.indexOf(e):0]}function kj(n){for(let t=Nn.indexOf(n)+1,e=Nn.length;t<e;++t)if(Om[Nn[t]].common)return Nn[t]}function uS(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=h0(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function Pj(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),l=t[t.length-1].value;let u,f;for(u=o;u<=l;u=+r.add(u,1,i))f=e[u],f>=0&&(t[f].major=!0);return t}function hS(n,t,e){const i=[],r={},o=t.length;let l,u;for(l=0;l<o;++l)u=t[l],r[u]=l,i.push({value:u,major:!1});return o===0||!e?i:Pj(n,i,r,e)}class fS extends Ul{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new vV._date(t.adapters.date);r.init(e),_u(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:lS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function f(d){!l&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!u&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!l||!u)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=_n(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=_n(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,l=this.max,u=z9(r,o,l);return this._unit=e.unit||(i.autoSkip?cS(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):Nj(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:kj(this._unit),this.initOffsets(r),t.reverse&&u.reverse(),hS(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=gn(e,0,l),i=gn(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,l=o.unit||cS(o.minUnit,e,i,this._getLabelCapacity(e)),u=Ot(r.ticks.stepSize,1),f=l==="week"?o.isoWeekday:!1,d=Bu(f)||f===!0,p={};let _=e,b,T;if(d&&(_=+t.startOf(_,"isoWeek",f)),_=+t.startOf(_,d?"day":l),t.diff(i,e,l)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+l);const A=r.ticks.source==="data"&&this.getDataTimestamps();for(b=_,T=0;b<i;b=+t.add(b,u,l),T++)uS(p,b,A);return(b===i||r.bounds==="ticks"||T===1)&&uS(p,b,A),Object.keys(p).sort(oS).map(w=>+w)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,l=e||r[o];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,r){const o=this.options,l=o.ticks.callback;if(l)return de(l,[t,e,i],this);const u=o.time.displayFormats,f=this._unit,d=this._majorUnit,p=f&&u[f],_=d&&u[d],b=i[e],T=d&&_&&b&&b.major;return this._adapter.format(t,r||(T?_:p))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Vs(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),l=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*l,h:i*l+u*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,hS(this,[t],this._majorUnit),r),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(lS(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return BA(t.sort(oS))}}function od(n,t,e){let i=0,r=n.length-1,o,l,u,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Ya(n,"pos",t)),{pos:o,time:u}=n[i],{pos:l,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Ya(n,"time",t)),{time:o,pos:u}=n[i],{time:l,pos:f}=n[r]);const d=l-o;return d?u+(f-u)*(t-o)/d:u}class l7 extends fS{static id="timeseries";static defaults=fS.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=od(e,this.min),this._tableRange=od(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let l,u,f,d,p;for(l=0,u=t.length;l<u;++l)d=t[l],d>=e&&d<=i&&r.push(d);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,u=r.length;l<u;++l)p=r[l+1],f=r[l-1],d=r[l],Math.round((p+f)/2)!==d&&o.push({time:d,pos:l/(u-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(od(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return od(this._table,i*this._tableRange+this._minPos,!0)}}const DR="label";function dS(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function Lj(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function OR(n,t){n.labels=t}function NR(n,t,e=DR){const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(l=>l[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function Vj(n,t=DR){const e={labels:[],datasets:[]};return OR(e,n.labels),NR(e,n.datasets,t),e}function jj(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:l,data:u,options:f,plugins:d=[],fallbackContent:p,updateMode:_,...b}=n,T=B.useRef(null),A=B.useRef(null),w=()=>{T.current&&(A.current=new uh(T.current,{type:l,data:Vj(u,o),options:f&&{...f},plugins:d}),dS(t,A.current))},R=()=>{dS(t,null),A.current&&(A.current.destroy(),A.current=null)};return B.useEffect(()=>{!r&&A.current&&f&&Lj(A.current,f)},[r,f]),B.useEffect(()=>{!r&&A.current&&OR(A.current.config.data,u.labels)},[r,u.labels]),B.useEffect(()=>{!r&&A.current&&u.datasets&&NR(A.current.config.data,u.datasets,o)},[r,u.datasets]),B.useEffect(()=>{A.current&&(r?(R(),setTimeout(w)):A.current.update(_))},[r,f,u.labels,u.datasets,_]),B.useEffect(()=>{A.current&&(R(),setTimeout(w))},[l]),B.useEffect(()=>(w(),()=>R()),[]),E.jsx("canvas",{ref:T,role:"img",height:e,width:i,...b,children:p})}const zj=B.forwardRef(jj);function T0(n,t){return uh.register(t),B.forwardRef((e,i)=>E.jsx(zj,{...e,ref:i,type:n}))}const Uj=T0("line",_V),r_=T0("bar",gV),kR=T0("doughnut",yV);uh.register(pR,CR,wR,MR,IR,bR,AR);function Bj(){const{expenses:n,incomes:t,loading:e}=r0(),i=B.useMemo(()=>{const T=new Date,A=lu(T,1),w=Wy(T,1),R=n.reduce((I,P)=>I+(parseFloat(P.amount)||0),0),O=t.reduce((I,P)=>I+(parseFloat(P.amount)||0),0),V=n.filter(I=>el(I.date,T)).reduce((I,P)=>I+parseFloat(P.amount),0),H=t.filter(I=>el(I.date,T)).reduce((I,P)=>I+parseFloat(P.amount),0),G=n.filter(I=>$f(I.date,T)).reduce((I,P)=>I+parseFloat(P.amount),0),Y=t.filter(I=>$f(I.date,T)).reduce((I,P)=>I+parseFloat(P.amount),0),nt=n.filter(I=>el(I.date,A)).reduce((I,P)=>I+parseFloat(P.amount),0),N=n.filter(I=>$f(I.date,w)).reduce((I,P)=>I+parseFloat(P.amount),0),M=O-R;return{totalExpense:R,totalIncome:O,thisMonthExpense:V,thisMonthIncome:H,thisWeekExpense:G,thisWeekIncome:Y,prevMonthExpense:nt,prevWeekExpense:N,purseAmount:M}},[n,t]),r=B.useMemo(()=>{const T={};return n.forEach(A=>{const w=A.category||"Other";T[w]=(T[w]||0)+parseFloat(A.amount)}),{labels:Object.keys(T),datasets:[{data:Object.values(T),backgroundColor:["#6366F1","#22C55E","#F59E0B","#EF4444","#06B6D4","#A855F7"]}]}},[n]),o=B.useMemo(()=>{const T={};for(let A=5;A>=0;A--){const w=lu(new Date,A);T[Gt(w,"MMM")]=0}return n.forEach(A=>{const w=Gt(A.date,"MMM");T[w]!==void 0&&(T[w]+=parseFloat(A.amount))}),{labels:Object.keys(T),datasets:[{label:"Monthly Spending",data:Object.values(T),backgroundColor:"rgba(99,102,241,0.6)",borderRadius:8}]}},[n]),l=B.useMemo(()=>{const T={},A=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];A.forEach(R=>{T[R]=0});const w=new Date;return n.forEach(R=>{if($f(R.date,w)){const O=R.date.getDay(),V=A[O===0?6:O-1];T[V]+=parseFloat(R.amount)}}),{labels:Object.keys(T),datasets:[{label:"Weekly Spending",data:Object.values(T),backgroundColor:"rgba(34,197,94,0.6)",borderRadius:8}]}},[n]),u=B.useMemo(()=>{const T=new Date,A=lu(T,1),w={},R={};return n.forEach(O=>{const V=parseFloat(O.amount)||0,H=O.category||"Other";el(O.date,T)&&(w[H]=(w[H]||0)+V),el(O.date,A)&&(R[H]=(R[H]||0)+V)}),Object.keys(w).map(O=>({category:O,change:(w[O]||0)-(R[O]||0)})).sort((O,V)=>V.change-O.change)},[n]),f=B.useMemo(()=>{if(!n.length)return 0;const T=new Set(n.map(A=>Gt(A.date,"yyyy-MM-dd")));return i.totalExpense/T.size},[n,i.totalExpense]),d=B.useMemo(()=>{let T=0,A=0;for(let w=1;w<=3;w++){const R=lu(new Date,w),O=n.filter(V=>el(V.date,R)).reduce((V,H)=>V+parseFloat(H.amount),0);O>0&&(T+=O,A++)}return A?T/A:0},[n]),p=i.prevMonthExpense>0?(i.thisMonthExpense-i.prevMonthExpense)/i.prevMonthExpense*100:0,_=i.prevWeekExpense>0?(i.thisWeekExpense-i.prevWeekExpense)/i.prevWeekExpense*100:0,b=i.totalIncome>0?(i.purseAmount/i.totalIncome*100).toFixed(1):0;return e?E.jsx("div",{className:"dashboard-loader",children:"Loading dashboard"}):E.jsxs("div",{className:"dashboard fade-in",children:[E.jsxs("header",{className:"dashboard-header",children:[E.jsx("h1",{children:"Dashboard Overview"}),E.jsx("span",{children:Gt(new Date,"MMMM d, yyyy")})]}),p>20&&E.jsxs("div",{className:"alert-card",children:[" You are spending ",E.jsxs("strong",{children:[p.toFixed(1),"%"]})," more than last month"]}),_>20&&E.jsxs("div",{className:"alert-card alert-warning",children:[" This week's spending is ",E.jsxs("strong",{children:[_.toFixed(1),"%"]})," higher than last week"]}),E.jsxs("section",{className:"stats-grid",children:[E.jsxs("div",{className:"stat-card highlight",children:[E.jsx(a0,{}),E.jsxs("div",{children:[E.jsx("p",{children:"Total Income"}),E.jsxs("h2",{children:["",i.totalIncome.toLocaleString()]}),E.jsx("span",{className:"meta",children:"Lifetime"})]})]}),E.jsxs("div",{className:"stat-card highlight purse",children:[E.jsx(QP,{}),E.jsxs("div",{children:[E.jsx("p",{children:"Purse Amount"}),E.jsxs("h2",{children:["",i.purseAmount.toLocaleString()]}),E.jsxs("span",{className:"meta",children:[b,"% of income"]})]})]}),E.jsxs("div",{className:"stat-card",children:[E.jsxs("div",{children:[E.jsx("p",{children:"This Month Income"}),E.jsxs("h2",{children:["",i.thisMonthIncome.toLocaleString()]})]}),E.jsx("span",{className:"meta",children:"Monthly earnings"})]}),E.jsxs("div",{className:"stat-card",children:[E.jsxs("div",{children:[E.jsx("p",{children:"This Month Expense"}),E.jsxs("h2",{children:["",i.thisMonthExpense.toLocaleString()]})]}),E.jsxs("span",{className:`trend ${i.thisMonthExpense>i.prevMonthExpense?"up":"down"}`,children:[i.thisMonthExpense>i.prevMonthExpense?E.jsx($y,{}):E.jsx(WT,{})," vs last month"]})]}),E.jsxs("div",{className:"stat-card",children:[E.jsxs("div",{children:[E.jsx("p",{children:"This Week Income"}),E.jsxs("h2",{children:["",i.thisWeekIncome.toLocaleString()]})]}),E.jsx("span",{className:"meta",children:"Weekly earnings"})]}),E.jsxs("div",{className:"stat-card",children:[E.jsxs("div",{children:[E.jsx("p",{children:"This Week Expense"}),E.jsxs("h2",{children:["",i.thisWeekExpense.toLocaleString()]})]}),E.jsxs("span",{className:`trend ${i.thisWeekExpense>i.prevWeekExpense?"up":"down"}`,children:[i.thisWeekExpense>i.prevWeekExpense?E.jsx($y,{}):E.jsx(WT,{})," vs last week"]})]}),E.jsxs("div",{className:"stat-card",children:[E.jsxs("div",{children:[E.jsx("p",{children:"Avg / Day"}),E.jsxs("h2",{children:["",f.toFixed(0)]})]}),E.jsx("span",{className:"meta",children:"Spending habit"})]}),E.jsxs("div",{className:"stat-card highlight",children:[E.jsxs("div",{children:[E.jsx("p",{children:"Predicted Next Month"}),E.jsxs("h2",{children:["",d.toFixed(0)]})]}),E.jsx("span",{className:"meta",children:"Forecast"})]})]}),E.jsxs("section",{className:"charts-grid",children:[E.jsxs("div",{className:"chart-card",children:[E.jsx("h3",{children:"Spending by Category"}),E.jsx("div",{className:"chart-box",children:r.labels.length?E.jsx(kR,{data:r}):E.jsx("p",{className:"empty",children:"No data available"})})]}),E.jsxs("div",{className:"chart-card",children:[E.jsx("h3",{children:"Weekly Trend"}),E.jsx("div",{className:"chart-box",children:E.jsx(r_,{data:l})})]}),E.jsxs("div",{className:"chart-card",children:[E.jsx("h3",{children:"Monthly Trend"}),E.jsx("div",{className:"chart-box",children:E.jsx(r_,{data:o})})]}),E.jsxs("div",{className:"chart-card",children:[E.jsx("h3",{children:"Top Category Growth"}),u.length>0?u.slice(0,3).map(T=>E.jsxs("div",{className:"growth-row",children:[E.jsx("span",{children:T.category}),E.jsxs("span",{className:T.change>=0?"up":"down",children:[T.change>=0?"+":"-","",Math.abs(T.change).toFixed(0)]})]},T.category)):E.jsx("p",{className:"empty",children:"No data available"})]})]})]})}const Fj=["Food","Travel","Mobile Recharge","Taxies","Utilities","Movie","Xerox","Pharmacy","Others"];function Hj(){const{expenses:n,addExpense:t,deleteExpense:e,updateExpense:i}=r0(),[r,o]=B.useState(!1),[l,u]=B.useState(null),[f,d]=B.useState(""),[p,_]=B.useState({title:"",amount:"",category:"Food",date:Gt(new Date,"yyyy-MM-dd")}),b=n.filter(w=>w.title.toLowerCase().includes(f.toLowerCase())||w.category.toLowerCase().includes(f.toLowerCase())),T=(w=null)=>{w?(u(w.id),_({title:w.title,amount:w.amount,category:w.category,date:Gt(w.date,"yyyy-MM-dd")})):(u(null),_({title:"",amount:"",category:"Food",date:Gt(new Date,"yyyy-MM-dd")})),o(!0)},A=async w=>{w.preventDefault();const R={title:p.title,amount:parseFloat(p.amount),category:p.category,date:new Date(p.date)};l?await i(l,R):await t(R),o(!1)};return E.jsxs("div",{className:"fade-in",children:[E.jsxs("header",{className:"expenses-header",children:[E.jsx("h1",{children:"Expenses"}),E.jsxs("button",{className:"btn btn-primary",onClick:()=>T(),children:[E.jsx(wl,{})," Add Expense"]})]}),E.jsxs("div",{className:"search-card",children:[E.jsx(RA,{}),E.jsx("input",{placeholder:"Search by title or category",value:f,onChange:w=>d(w.target.value)})]}),E.jsx("div",{className:"table-card",children:E.jsxs("table",{children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Date"}),E.jsx("th",{children:"Title"}),E.jsx("th",{children:"Category"}),E.jsx("th",{className:"amount",children:"Amount"}),E.jsx("th",{children:"Actions"})]})}),E.jsxs("tbody",{children:[b.map(w=>E.jsxs("tr",{children:[E.jsx("td",{children:Gt(w.date,"MMM d, yyyy")}),E.jsx("td",{className:"title",children:w.title}),E.jsx("td",{children:E.jsx("span",{className:`badge ${w.category.toLowerCase()}`,children:w.category})}),E.jsxs("td",{className:"amount",children:["",parseFloat(w.amount).toFixed(2)]}),E.jsx("td",{children:E.jsxs("div",{className:"actions",children:[E.jsx("button",{onClick:()=>T(w),className:"icon-btn edit",children:E.jsx(wA,{})}),E.jsx("button",{onClick:()=>window.confirm("Delete this expense?")&&e(w.id),className:"icon-btn delete",children:E.jsx(lh,{})})]})})]},w.id)),b.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:"5",className:"empty",children:"No expenses found"})})]})]})}),r&&E.jsx("div",{className:"modal-overlay",children:E.jsxs("div",{className:"modal-card",children:[E.jsx("h2",{children:l?"Edit Expense":"Add Expense"}),E.jsxs("form",{onSubmit:A,className:"modal-form",children:[E.jsxs("div",{className:"input-group",children:[E.jsx("label",{className:"input-label",children:"Title"}),E.jsx("input",{required:!0,className:"input-control",value:p.title,onChange:w=>_({...p,title:w.target.value})})]}),E.jsxs("div",{className:"row",children:[E.jsxs("div",{className:"input-group",children:[E.jsx("label",{className:"input-label",children:"Amount"}),E.jsx("input",{type:"number",step:"0.01",required:!0,className:"input-control",value:p.amount,onChange:w=>_({...p,amount:w.target.value})}),E.jsxs("div",{className:"quick-add",children:[E.jsx("button",{type:"button",onClick:()=>_(w=>({...w,amount:(parseFloat(w.amount||0)+50).toString()})),children:"+50"}),E.jsx("button",{type:"button",onClick:()=>_(w=>({...w,amount:(parseFloat(w.amount||0)+100).toString()})),children:"+100"}),E.jsx("button",{type:"button",onClick:()=>_(w=>({...w,amount:(parseFloat(w.amount||0)+500).toString()})),children:"+500"}),E.jsx("button",{type:"button",onClick:()=>_(w=>({...w,amount:(parseFloat(w.amount||0)+1e3).toString()})),children:"+1000"})]})]}),E.jsxs("div",{className:"input-group",children:[E.jsx("label",{className:"input-label",children:"Date"}),E.jsx("input",{type:"date",required:!0,className:"input-control",value:p.date,onChange:w=>_({...p,date:w.target.value})})]})]}),E.jsxs("div",{className:"input-group",children:[E.jsx("label",{className:"input-label",children:"Category"}),E.jsx("select",{className:"input-control",value:p.category,onChange:w=>_({...p,category:w.target.value}),children:Fj.map(w=>E.jsx("option",{children:w},w))})]}),E.jsxs("div",{className:"modal-actions",children:[E.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>o(!1),children:"Cancel"}),E.jsxs("button",{className:"btn btn-primary",children:[l?"Update":"Add"," Expense"]})]})]})]})})]})}const qj=["Salary","Freelance","Bonus","Investment","Gift","Other"];function Gj(){const{incomes:n,addIncome:t,deleteIncome:e,updateIncome:i}=r0(),[r,o]=B.useState(!1),[l,u]=B.useState(null),[f,d]=B.useState(""),[p,_]=B.useState({title:"",amount:"",source:"Salary",date:Gt(new Date,"yyyy-MM-dd")}),b=n.filter(w=>w.title.toLowerCase().includes(f.toLowerCase())||w.source.toLowerCase().includes(f.toLowerCase())),T=(w=null)=>{w?(u(w.id),_({title:w.title,amount:w.amount,source:w.source,date:Gt(w.date,"yyyy-MM-dd")})):(u(null),_({title:"",amount:"",source:"Salary",date:Gt(new Date,"yyyy-MM-dd")})),o(!0)},A=async w=>{w.preventDefault();const R={title:p.title,amount:parseFloat(p.amount),source:p.source,date:new Date(p.date)};l?await i(l,R):await t(R),o(!1)};return E.jsxs("div",{className:"fade-in",children:[E.jsxs("header",{className:"expenses-header",children:[E.jsx("h1",{children:"Income"}),E.jsxs("button",{className:"btn btn-primary",onClick:()=>T(),children:[E.jsx(wl,{})," Add Income"]})]}),E.jsxs("div",{className:"search-card",children:[E.jsx(RA,{}),E.jsx("input",{placeholder:"Search by title or source",value:f,onChange:w=>d(w.target.value)})]}),E.jsx("div",{className:"table-card",children:E.jsxs("table",{children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Date"}),E.jsx("th",{children:"Title"}),E.jsx("th",{children:"Source"}),E.jsx("th",{className:"amount",children:"Amount"}),E.jsx("th",{children:"Actions"})]})}),E.jsxs("tbody",{children:[b.map(w=>E.jsxs("tr",{children:[E.jsx("td",{children:Gt(w.date,"MMM d, yyyy")}),E.jsx("td",{className:"title",children:w.title}),E.jsx("td",{children:E.jsx("span",{className:`badge ${w.source.toLowerCase()}`,children:w.source})}),E.jsxs("td",{className:"amount",children:["",parseFloat(w.amount).toFixed(2)]}),E.jsx("td",{children:E.jsxs("div",{className:"actions",children:[E.jsx("button",{onClick:()=>T(w),className:"icon-btn edit",children:E.jsx(wA,{})}),E.jsx("button",{onClick:()=>window.confirm("Delete this income?")&&e(w.id),className:"icon-btn delete",children:E.jsx(lh,{})})]})})]},w.id)),b.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:"5",className:"empty",children:"No income records found"})})]})]})}),r&&E.jsx("div",{className:"modal-overlay",children:E.jsxs("div",{className:"modal-card",children:[E.jsx("h2",{children:l?"Edit Income":"Add Income"}),E.jsxs("form",{onSubmit:A,className:"modal-form",children:[E.jsxs("div",{className:"input-group",children:[E.jsx("label",{className:"input-label",children:"Title"}),E.jsx("input",{required:!0,className:"input-control",value:p.title,onChange:w=>_({...p,title:w.target.value})})]}),E.jsxs("div",{className:"row",children:[E.jsxs("div",{className:"input-group",children:[E.jsx("label",{className:"input-label",children:"Amount"}),E.jsx("input",{type:"number",step:"0.01",required:!0,className:"input-control",value:p.amount,onChange:w=>_({...p,amount:w.target.value})}),E.jsxs("div",{className:"quick-add",children:[E.jsx("button",{type:"button",onClick:()=>_(w=>({...w,amount:(parseFloat(w.amount||0)+50).toString()})),children:"+50"}),E.jsx("button",{type:"button",onClick:()=>_(w=>({...w,amount:(parseFloat(w.amount||0)+100).toString()})),children:"+100"}),E.jsx("button",{type:"button",onClick:()=>_(w=>({...w,amount:(parseFloat(w.amount||0)+500).toString()})),children:"+500"}),E.jsx("button",{type:"button",onClick:()=>_(w=>({...w,amount:(parseFloat(w.amount||0)+1e3).toString()})),children:"+1000"})]})]}),E.jsxs("div",{className:"input-group",children:[E.jsx("label",{className:"input-label",children:"Date"}),E.jsx("input",{type:"date",required:!0,className:"input-control",value:p.date,onChange:w=>_({...p,date:w.target.value})})]})]}),E.jsxs("div",{className:"input-group",children:[E.jsx("label",{className:"input-label",children:"Source"}),E.jsx("select",{className:"input-control",value:p.source,onChange:w=>_({...p,source:w.target.value}),children:qj.map(w=>E.jsx("option",{children:w},w))})]}),E.jsxs("div",{className:"modal-actions",children:[E.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>o(!1),children:"Cancel"}),E.jsxs("button",{className:"btn btn-primary",children:[l?"Update":"Add"," Income"]})]})]})]})})]})}function PR(){return"Notification"in window?Notification.permission==="granted"?Promise.resolve("granted"):Notification.requestPermission():(console.log("This browser does not support notifications"),Promise.resolve("denied"))}function LR(n,t={}){return!("Notification"in window)||Notification.permission!=="granted"?null:new Notification(n,{icon:"/favicon.ico",badge:"/favicon.ico",...t})}function VR(n,t){const[e,i]=t.split(":").map(Number),r=new Date,o=new Date(r.getFullYear(),r.getMonth(),r.getDate(),e,i,0);o<=r&&o.setDate(o.getDate()+1);const l=o.getTime()-r.getTime();return setTimeout(()=>{LR(` Habit Reminder: ${n.title}`,{body:"Don't forget to complete your habit today!",tag:`habit-${n.id}`,requireInteraction:!0}),VR(n,t)},l)}const gy=new Map;function mS(n,t){if(gy.has(n.id)&&clearTimeout(gy.get(n.id)),t){const e=VR(n,t);gy.set(n.id,e)}}function jR(){return"Notification"in window?Notification.permission:"unsupported"}const Yj=["Workout / Gym","Read Books","Coding","Drink Water","Meditation","Journaling"];function Wj(){const{habits:n,logs:t,addHabit:e,deleteHabit:i,toggleHabit:r,getHabitStreak:o}=pA(),[l,u]=B.useState(!1),[f,d]=B.useState(""),[p,_]=B.useState("Health"),[b,T]=B.useState(""),[A,w]=B.useState(Gt(new Date,"yyyy-MM-dd")),[R,O]=B.useState({});B.useEffect(()=>{const G=localStorage.getItem("habitReminders");G&&O(JSON.parse(G))},[]),B.useEffect(()=>{jR()==="granted"&&n.forEach(G=>{R[G.id]&&mS(G,R[G.id])})},[n,R]);const V=async G=>{if(G.preventDefault(),!f)return;const Y=await e(f,p);if(b&&Y){const nt={...R,[Y]:b};O(nt),localStorage.setItem("habitReminders",JSON.stringify(nt)),await PR(),mS({id:Y,title:f},b)}d(""),T(""),u(!1)},H=(G,Y)=>t.some(nt=>nt.habitId===G&&nt.date===Y);return E.jsxs("div",{className:"fade-in",children:[E.jsxs("header",{className:"habits-header",children:[E.jsxs("div",{children:[E.jsx("h1",{children:"Daily Habits"}),E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginTop:"0.5rem"},children:[E.jsx("input",{type:"date",className:"input-control",style:{width:"auto"},value:A,onChange:G=>w(G.target.value)}),E.jsx("span",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:fA(new Date(A),new Date)?"Today":Gt(new Date(A),"EEEE, MMMM d")})]})]}),E.jsxs("button",{className:"btn btn-primary",onClick:()=>u(!0),children:[E.jsx(wl,{})," Add Habit"]})]}),E.jsx("div",{className:"habits-grid",children:n.map(G=>{const Y=o(G.id),nt=H(G.id,A),N=R[G.id];return E.jsxs("div",{className:"habit-card",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"habit-info",children:[E.jsx("h3",{children:G.title}),E.jsx("button",{className:"icon-btn delete",onClick:()=>window.confirm("Delete this habit?")&&i(G.id),children:E.jsx(lh,{})})]}),E.jsxs("div",{className:"habit-stats",children:[E.jsxs("span",{className:"stat-chip",children:[E.jsx(xA,{className:"fire-icon"})," ",Y," Day Streak"]}),E.jsx("span",{className:"badge",children:G.category}),N&&E.jsxs("span",{className:"stat-chip reminder-chip",children:[E.jsx(Wd,{})," ",N]})]}),E.jsx("div",{className:"mini-calendar",children:[...Array(7)].map((M,I)=>{const P=Yy(new Date,6-I),L=Gt(P,"yyyy-MM-dd"),z=H(G.id,L),k=L===A;return E.jsx("div",{className:`day-dot ${z?"done":""}`,title:`${Gt(P,"MMM d")}: ${z?"Done":"Missed"}`,style:k?{border:"2px solid var(--primary-color)",transform:"scale(1.2)"}:{},onClick:()=>w(L),children:Gt(P,"d")},I)})})]}),E.jsx("div",{style:{marginTop:"1.5rem"},children:E.jsx("button",{className:`check-btn ${nt?"completed":""}`,onClick:()=>r(G.id,A),children:nt?E.jsxs(E.Fragment,{children:[E.jsx(bd,{})," Completed"]}):"Mark as Done"})})]},G.id)})}),n.length===0&&E.jsxs("div",{className:"no-habits",children:[E.jsx("h2",{children:"No habits tracked yet"}),E.jsx("p",{children:"Start building your routine by adding a new habit."})]}),l&&E.jsx("div",{className:"modal-overlay",children:E.jsxs("div",{className:"modal-card",children:[E.jsx("h2",{children:"Track New Habit"}),E.jsxs("form",{onSubmit:V,className:"modal-form",children:[E.jsxs("div",{className:"input-group",children:[E.jsx("label",{className:"input-label",children:"Habit Name"}),E.jsx("input",{autoFocus:!0,required:!0,className:"input-control",placeholder:"e.g. Read 10 pages",value:f,onChange:G=>d(G.target.value)}),E.jsx("div",{style:{marginTop:"0.5rem",display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:Yj.map(G=>E.jsx("span",{className:"badge",style:{cursor:"pointer",background:"var(--bg-secondary)"},onClick:()=>d(G),children:G},G))})]}),E.jsxs("div",{className:"input-group",children:[E.jsx("label",{className:"input-label",children:"Category"}),E.jsxs("select",{className:"input-control",value:p,onChange:G=>_(G.target.value),children:[E.jsx("option",{children:"Health"}),E.jsx("option",{children:"Productivity"}),E.jsx("option",{children:"Learning"}),E.jsx("option",{children:"Mindfulness"}),E.jsx("option",{children:"Other"})]})]}),E.jsxs("div",{className:"input-group",children:[E.jsxs("label",{className:"input-label",children:[E.jsx(Wd,{style:{marginRight:"0.5rem"}}),"Daily Reminder (optional)"]}),E.jsx("input",{type:"time",className:"input-control",value:b,onChange:G=>T(G.target.value)}),E.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:"0.25rem"},children:"Get a browser notification at this time daily"})]}),E.jsxs("div",{className:"modal-actions",children:[E.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>u(!1),children:"Cancel"}),E.jsx("button",{className:"btn btn-primary",children:"Start Tracking"})]})]})]})})]})}uh.register(MR,IR,bR,Im,H8,AR,CR,wR,pR,mj);function $j(){const{habits:n,logs:t,getHabitStreak:e}=pA(),i=B.useMemo(()=>{const f=Gt(new Date,"yyyy-MM-dd"),d=t.filter(G=>G.date===f).length,p=n.length;let _=0,b="";n.forEach(G=>{const Y=e(G.id);Y>_&&(_=Y,b=G.title)});const T=Ws(new Date),A=UT(new Date),w=t.filter(G=>{const Y=new Date(G.date);return Y>=T&&Y<=A}).length,R=[];for(let G=6;G>=0;G--)R.push(Gt(Yy(new Date,G),"yyyy-MM-dd"));const O=n.length*7,V=t.filter(G=>R.includes(G.date)).length,H=O>0?V/O*100:0;return{completedToday:d,totalHabits:p,bestStreak:_,bestHabit:b,thisWeekLogs:w,completionRate:H}},[n,t]),r=B.useMemo(()=>{const f=[],d=[];for(let p=3;p>=0;p--){const _=Ws(Wy(new Date,p)),b=UT(Wy(new Date,p)),T=`Week ${Gt(_,"MMM d")}`;f.push(T);const A=t.filter(w=>{const R=new Date(w.date);return R>=_&&R<=b}).length;d.push(A)}return{labels:f,datasets:[{label:"Habits Completed",data:d,backgroundColor:"rgba(16, 185, 129, 0.5)",borderColor:"#10B981",borderWidth:2,borderRadius:8}]}},[t]),o=B.useMemo(()=>{const f=[],d=[];for(let p=13;p>=0;p--){const _=Yy(new Date,p),b=Gt(_,"yyyy-MM-dd");f.push(Gt(_,"MMM d"));const T=t.filter(A=>A.date===b).length;d.push(T)}return{labels:f,datasets:[{label:"Daily Completions",data:d,fill:!0,backgroundColor:"rgba(16, 185, 129, 0.1)",borderColor:"#10B981",tension:.4,pointBackgroundColor:"#10B981"}]}},[t]),l=B.useMemo(()=>{const f=n.map(p=>p.title),d=n.map(p=>t.filter(_=>_.habitId===p.id).length);return{labels:f,datasets:[{label:"Total Completions",data:d,backgroundColor:["#10B981","#3B82F6","#F59E0B","#EF4444","#8B5CF6","#EC4899"]}]}},[n,t]),u=B.useMemo(()=>n.map(f=>({title:f.title,streak:e(f.id)})).sort((f,d)=>d.streak-f.streak).slice(0,5),[n,t]);return E.jsxs("div",{className:"fade-in",children:[E.jsxs("header",{className:"analytics-header",children:[E.jsxs("h1",{children:[E.jsx(Ky,{})," Habit Analytics"]}),E.jsx("p",{children:"Track your progress and build consistency"})]}),E.jsxs("section",{className:"analytics-kpi-grid",children:[E.jsxs("div",{className:"kpi-card",children:[E.jsx(SA,{className:"kpi-icon green"}),E.jsxs("div",{children:[E.jsx("p",{children:"Completed Today"}),E.jsxs("h2",{children:[i.completedToday," ",E.jsxs("span",{children:["/ ",i.totalHabits]})]})]})]}),E.jsxs("div",{className:"kpi-card",children:[E.jsx(xA,{className:"kpi-icon orange"}),E.jsxs("div",{children:[E.jsx("p",{children:"Best Streak"}),E.jsxs("h2",{children:[i.bestStreak," days"]}),E.jsx("span",{className:"meta",children:i.bestHabit||"N/A"})]})]}),E.jsxs("div",{className:"kpi-card",children:[E.jsx(JP,{className:"kpi-icon yellow"}),E.jsxs("div",{children:[E.jsx("p",{children:"This Week"}),E.jsx("h2",{children:i.thisWeekLogs}),E.jsx("span",{className:"meta",children:"completions"})]})]}),E.jsxs("div",{className:"kpi-card",children:[E.jsx(Ky,{className:"kpi-icon blue"}),E.jsxs("div",{children:[E.jsx("p",{children:"7-Day Rate"}),E.jsxs("h2",{children:[i.completionRate.toFixed(0),"%"]}),E.jsx("span",{className:"meta",children:"consistency"})]})]})]}),E.jsxs("section",{className:"analytics-charts",children:[E.jsxs("div",{className:"chart-card wide",children:[E.jsx("h3",{children:"Daily Progress (Last 14 Days)"}),E.jsx("div",{className:"chart-box",children:E.jsx(Uj,{data:o,options:{maintainAspectRatio:!1}})})]}),E.jsxs("div",{className:"chart-card",children:[E.jsx("h3",{children:"Weekly Overview"}),E.jsx("div",{className:"chart-box",children:E.jsx(r_,{data:r})})]}),E.jsxs("div",{className:"chart-card",children:[E.jsx("h3",{children:"Habit Breakdown"}),E.jsx("div",{className:"chart-box",children:n.length>0?E.jsx(kR,{data:l}):E.jsx("p",{className:"empty",children:"No habits yet"})})]})]}),E.jsxs("section",{className:"streaks-section",children:[E.jsx("h2",{children:" Current Streaks"}),E.jsxs("div",{className:"streaks-list",children:[u.map((f,d)=>E.jsxs("div",{className:"streak-row",children:[E.jsxs("span",{className:"rank",children:["#",d+1]}),E.jsx("span",{className:"habit-name",children:f.title}),E.jsxs("span",{className:"streak-count",children:[f.streak," days"]})]},f.title)),u.length===0&&E.jsx("p",{className:"empty",children:"Start tracking habits to see streaks!"})]})]})]})}async function Kj(n=new Date().getFullYear(),t="IN"){try{const e=await fetch(`https://date.nager.at/api/v3/PublicHolidays/${n}/${t}`);if(!e.ok)throw new Error("Failed to fetch holidays");return(await e.json()).map(r=>({date:r.date,name:r.localName||r.name,type:"holiday"}))}catch(e){return console.error("Error fetching holidays:",e),Xj(n)}}function Xj(n){return[{date:`${n}-01-26`,name:"Republic Day",type:"holiday"},{date:`${n}-08-15`,name:"Independence Day",type:"holiday"},{date:`${n}-10-02`,name:"Gandhi Jayanti",type:"holiday"},{date:`${n}-11-01`,name:"Diwali",type:"holiday"},{date:`${n}-12-25`,name:"Christmas",type:"holiday"}]}async function Qj(n=13.0827,t=80.2707){try{const e=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${n}&longitude=${t}&daily=temperature_2m_max,temperature_2m_min,weathercode&timezone=auto&forecast_days=7`);if(!e.ok)throw new Error("Failed to fetch weather");const i=await e.json();return i.daily.time.map((r,o)=>({date:r,tempMax:Math.round(i.daily.temperature_2m_max[o]),tempMin:Math.round(i.daily.temperature_2m_min[o]),weatherCode:i.daily.weathercode[o],description:Jj(i.daily.weathercode[o])}))}catch(e){return console.error("Error fetching weather:",e),[]}}function Jj(n){return{0:" Clear",1:" Mainly Clear",2:" Partly Cloudy",3:" Overcast",45:" Foggy",48:" Icy Fog",51:" Light Drizzle",53:" Drizzle",55:" Heavy Drizzle",61:" Light Rain",63:" Rain",65:" Heavy Rain",71:" Light Snow",73:" Snow",75:" Heavy Snow",80:" Rain Showers",81:" Moderate Showers",82:" Heavy Showers",95:" Thunderstorm",96:" Thunderstorm + Hail",99:" Heavy Thunderstorm"}[n]||" Unknown"}function Zj(n){return n===0?"":n<=3?"":n<=48?"":n<=55||n<=65?"":n<=75?"":n<=82?"":""}const t7=[{id:"reminder",label:" Reminder",color:"#3B82F6"},{id:"event",label:" Event",color:"#8B5CF6"},{id:"task",label:" Task",color:"#F59E0B"},{id:"birthday",label:" Birthday",color:"#EC4899"}];function e7(){const{events:n,addEvent:t,deleteEvent:e}=kP(),[i,r]=B.useState(new Date),[o,l]=B.useState(Gt(new Date,"yyyy-MM-dd")),[u,f]=B.useState(!1),[d,p]=B.useState([]),[_,b]=B.useState([]),[T,A]=B.useState(""),[w,R]=B.useState("reminder"),[O,V]=B.useState(""),[H,G]=B.useState("");B.useEffect(()=>{const ut=i.getFullYear();Kj(ut,"IN").then(p),Qj().then(b)},[i]);const Y=B.useMemo(()=>{const ut=zT(i),gt=M5(i);return D5({start:ut,end:gt})},[i]),nt=ut=>{const gt=n.filter(ot=>ot.date===ut),X=d.filter(ot=>ot.date===ut).map(ot=>({...ot,id:`holiday-${ot.date}`,type:"holiday"}));return[...gt,...X]},N=ut=>_.find(gt=>gt.date===ut),M=DP(zT(i)),I=M===0?6:M-1,P=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],L=async ut=>{ut.preventDefault(),T.trim()&&(await t({title:T.trim(),type:w,date:o,time:O||null,description:H||null}),A(""),V(""),G(""),f(!1))},z=nt(o),k=N(o);return E.jsxs("div",{className:"event-calendar",children:[E.jsxs("div",{className:"calendar-header",children:[E.jsxs("h2",{children:[E.jsx(TA,{})," Event Calendar"]}),E.jsxs("div",{className:"calendar-nav",children:[E.jsx("button",{onClick:()=>r(lu(i,1)),children:E.jsx(WP,{})}),E.jsx("span",{children:Gt(i,"MMMM yyyy")}),E.jsx("button",{onClick:()=>r(cA(i,1)),children:E.jsx($P,{})})]})]}),E.jsxs("div",{className:"calendar-grid",children:[P.map(ut=>E.jsx("div",{className:"calendar-day-header",children:ut},ut)),[...Array(I)].map((ut,gt)=>E.jsx("div",{className:"calendar-day empty"},`pad-${gt}`)),Y.map(ut=>{const gt=Gt(ut,"yyyy-MM-dd"),X=nt(gt),ot=N(gt),mt=o===gt,bt=qd(ut),Nt=X.some(U=>U.type==="holiday");return E.jsxs("div",{className:`calendar-day ${mt?"selected":""} ${bt?"today":""} ${Nt?"holiday":""}`,onClick:()=>l(gt),children:[E.jsxs("div",{className:"day-header",children:[E.jsx("span",{className:"day-number",children:Gt(ut,"d")}),ot&&E.jsx("span",{className:"day-weather",children:Zj(ot.weatherCode)})]}),E.jsxs("div",{className:"day-events",children:[X.slice(0,3).map((U,et)=>E.jsx("div",{className:`event-pill ${U.type}`,children:U.title||U.name},U.id||et)),X.length>3&&E.jsxs("span",{className:"more-events",children:["+",X.length-3," more"]})]}),E.jsx("button",{className:"add-event-btn",onClick:U=>{U.stopPropagation(),l(gt),f(!0)},children:E.jsx(wl,{})})]},gt)})]}),E.jsxs("div",{className:"selected-day-panel",children:[E.jsxs("div",{className:"selected-day-header",children:[E.jsx("h3",{children:qd(new Date(o))?"Today":Gt(new Date(o),"EEEE, MMMM d, yyyy")}),k&&E.jsxs("div",{className:"weather-info",children:[E.jsx("span",{children:k.description}),E.jsxs("span",{children:[k.tempMin," - ",k.tempMax,"C"]})]})]}),E.jsxs("button",{className:"btn btn-primary",style:{marginBottom:"1rem"},onClick:()=>f(!0),children:[E.jsx(wl,{})," Add Event"]}),E.jsxs("div",{className:"events-list",children:[z.map((ut,gt)=>E.jsxs("div",{className:`event-item ${ut.type}`,children:[ut.time&&E.jsxs("span",{className:"event-time",children:[E.jsx(Xy,{})," ",ut.time]}),E.jsxs("div",{className:"event-details",children:[E.jsx("div",{className:"event-title",children:ut.title||ut.name}),ut.description&&E.jsx("div",{className:"event-description",children:ut.description})]}),ut.type!=="holiday"&&E.jsx("div",{className:"event-actions",children:E.jsx("button",{className:"delete",onClick:()=>e(ut.id),children:E.jsx(lh,{})})})]},ut.id||gt)),z.length===0&&E.jsx("div",{className:"no-events",children:E.jsx("p",{children:"No events for this day"})})]})]}),u&&E.jsx("div",{className:"modal-overlay",children:E.jsxs("div",{className:"modal-card",children:[E.jsxs("h2",{children:["Add Event - ",Gt(new Date(o),"MMM d, yyyy")]}),E.jsxs("form",{onSubmit:L,className:"modal-form",children:[E.jsx("div",{className:"event-type-selector",children:t7.map(ut=>E.jsx("button",{type:"button",className:`event-type-btn ${w===ut.id?"active":""}`,onClick:()=>R(ut.id),children:ut.label},ut.id))}),E.jsxs("div",{className:"input-group",children:[E.jsx("label",{className:"input-label",children:"Title"}),E.jsx("input",{autoFocus:!0,required:!0,className:"input-control",placeholder:"Event title...",value:T,onChange:ut=>A(ut.target.value)})]}),E.jsxs("div",{className:"input-group",children:[E.jsx("label",{className:"input-label",children:"Time (optional)"}),E.jsx("input",{type:"time",className:"input-control",value:O,onChange:ut=>V(ut.target.value)})]}),E.jsxs("div",{className:"input-group",children:[E.jsx("label",{className:"input-label",children:"Description (optional)"}),E.jsx("textarea",{className:"input-control",rows:"2",placeholder:"Add notes...",value:H,onChange:ut=>G(ut.target.value)})]}),E.jsxs("div",{className:"modal-actions",children:[E.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>f(!1),children:"Cancel"}),E.jsx("button",{className:"btn btn-primary",children:"Add Event"})]})]})]})})]})}function n7({goals:n,onAddGoal:t,onDeleteGoal:e,onToggleGoal:i}){const[r,o]=B.useState(!1),[l,u]=B.useState(""),[f,d]=B.useState(""),p=T=>{if(T.preventDefault(),!l.trim())return;const A={id:Date.now().toString(),name:l.trim(),targetDate:f||null,completed:!1,createdAt:new Date().toISOString()};t(A),o(!1),u(""),d("")},_=n.filter(T=>T.completed).length,b=T=>{if(!T.targetDate||T.completed)return null;const A=new Date(T.targetDate),w=C5(A,new Date);return OP(A)&&!qd(A)?{text:"Overdue",class:"overdue",days:Math.abs(w)}:qd(A)?{text:"Due today",class:"due-today",days:0}:w<=3?{text:`${w} days left`,class:"due-soon",days:w}:{text:`${w} days left`,class:"on-track",days:w}};return E.jsxs("div",{className:"goals-section",children:[E.jsxs("div",{className:"goals-header",children:[E.jsxs("div",{children:[E.jsxs("h2",{children:[E.jsx(GP,{})," Goals"]}),E.jsxs("span",{className:"goals-count",children:[_,"/",n.length," completed"]})]}),E.jsxs("button",{className:"btn btn-primary btn-sm",onClick:()=>o(!0),children:[E.jsx(wl,{})," Add Goal"]})]}),E.jsxs("div",{className:"goals-list",children:[n.map(T=>{const A=b(T);return E.jsxs("div",{className:`goal-item ${T.completed?"completed":""}`,children:[E.jsx("button",{className:`goal-checkbox ${T.completed?"checked":""}`,onClick:()=>i(T.id),children:T.completed&&E.jsx(bd,{})}),E.jsxs("div",{className:"goal-content",children:[E.jsx("span",{className:"goal-name",children:T.name}),T.completed?E.jsxs("span",{className:"goal-deadline completed-mark",children:[E.jsx(bd,{})," Done"]}):T.targetDate&&E.jsxs("span",{className:`goal-deadline ${A?.class||""}`,children:[E.jsx(Xy,{}),A?.text||Gt(new Date(T.targetDate),"MMM d, yyyy")]})]}),E.jsxs("div",{className:"goal-actions",children:[!T.completed&&E.jsxs("button",{className:"mark-complete-btn",onClick:()=>i(T.id),children:[E.jsx(bd,{})," Complete"]}),E.jsx("button",{className:"goal-delete",onClick:()=>e(T.id),children:E.jsx(lh,{})})]})]},T.id)}),n.length===0&&E.jsx("div",{className:"no-goals",children:E.jsx("p",{children:"No goals yet. Add one to stay focused!"})})]}),r&&E.jsx("div",{className:"modal-overlay",children:E.jsxs("div",{className:"modal-card",children:[E.jsx("h2",{children:"Add New Goal"}),E.jsxs("form",{onSubmit:p,className:"modal-form",children:[E.jsxs("div",{className:"input-group",children:[E.jsx("label",{className:"input-label",children:"What do you want to achieve?"}),E.jsx("input",{autoFocus:!0,required:!0,className:"input-control",placeholder:"e.g. Complete 30-day challenge",value:l,onChange:T=>u(T.target.value)})]}),E.jsxs("div",{className:"input-group",children:[E.jsxs("label",{className:"input-label",children:[E.jsx(Xy,{style:{marginRight:"0.5rem"}}),"Target Date (optional)"]}),E.jsx("input",{type:"date",className:"input-control",value:f,min:Gt(new Date,"yyyy-MM-dd"),onChange:T=>d(T.target.value)}),E.jsx("span",{className:"input-hint",children:"Set a deadline to stay accountable"})]}),E.jsxs("div",{className:"modal-actions",children:[E.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>o(!1),children:"Cancel"}),E.jsx("button",{className:"btn btn-primary",children:"Add Goal"})]})]})]})})]})}function i7(){const{currentUser:n}=Ks(),[t,e]=B.useState([]),[i,r]=B.useState("default");B.useEffect(()=>{const p=localStorage.getItem(`goals_${n?.uid}`);p&&e(JSON.parse(p)),r(jR())},[n]);const o=p=>{e(p),localStorage.setItem(`goals_${n?.uid}`,JSON.stringify(p))},l=p=>{o([...t,p])},u=p=>{o(t.filter(_=>_.id!==p))},f=p=>{o(t.map(_=>_.id===p?{..._,completed:!_.completed}:_))},d=async()=>{const p=await PR();r(p),p==="granted"&&LR(" Notifications Enabled!",{body:"You will now receive event reminders."})};return E.jsxs("div",{className:"fade-in",children:[E.jsxs("header",{className:"calendar-page-header",children:[E.jsxs("div",{children:[E.jsx("h1",{children:"Calendar"}),E.jsx("p",{children:"Add events, reminders & track goals"})]}),E.jsx("div",{className:"calendar-actions",children:i!=="granted"?E.jsxs("button",{className:"btn btn-secondary",onClick:d,children:[E.jsx(Wd,{})," Enable Reminders"]}):E.jsxs("span",{className:"notification-status",children:[E.jsx(Wd,{style:{color:"#22C55E"}})," Reminders Active"]})})]}),E.jsx(n7,{goals:t,onAddGoal:l,onDeleteGoal:u,onToggleGoal:f}),E.jsx(e7,{})]})}function sl({children:n}){const{currentUser:t}=Ks();return t?n:E.jsx(IS,{to:"/login"})}function s7({children:n}){const{currentUser:t}=Ks();return t?E.jsx(IS,{to:"/"}):n}function r7(){return E.jsx(_5,{children:E.jsx(v5,{children:E.jsx(VP,{children:E.jsx(b5,{children:E.jsx(PP,{children:E.jsx(NP,{children:E.jsxs(TI,{children:[E.jsx(Or,{path:"/login",element:E.jsx(s7,{children:E.jsx(ZP,{})})}),E.jsx(Or,{path:"/",element:E.jsx(sl,{children:E.jsx(Zp,{children:E.jsx(Bj,{})})})}),E.jsx(Or,{path:"/expenses",element:E.jsx(sl,{children:E.jsx(Zp,{children:E.jsx(Hj,{})})})}),E.jsx(Or,{path:"/income",element:E.jsx(sl,{children:E.jsx(Zp,{children:E.jsx(Gj,{})})})}),E.jsx(Or,{path:"/habits",element:E.jsx(sl,{children:E.jsx(ty,{children:E.jsx(Wj,{})})})}),E.jsx(Or,{path:"/habits/analytics",element:E.jsx(sl,{children:E.jsx(ty,{children:E.jsx($j,{})})})}),E.jsx(Or,{path:"/habits/calendar",element:E.jsx(sl,{children:E.jsx(ty,{children:E.jsx(i7,{})})})})]})})})})})})})}xM.createRoot(document.getElementById("root")).render(E.jsx(Br.StrictMode,{children:E.jsx(YI,{basename:"/expense-tracker",children:E.jsx(r7,{})})}));
