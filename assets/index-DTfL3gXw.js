(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function PR(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ip={exports:{}},Dc={};var iE;function VR(){if(iE)return Dc;iE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return Dc.Fragment=t,Dc.jsx=e,Dc.jsxs=e,Dc}var sE;function LR(){return sE||(sE=1,ip.exports=VR()),ip.exports}var H=LR(),sp={exports:{}},xt={};var rE;function zR(){if(rE)return xt;rE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function S(z){return z===null||typeof z!="object"?null:(z=E&&z[E]||z["@@iterator"],typeof z=="function"?z:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,I={};function V(z,Z,ct){this.props=z,this.context=Z,this.refs=I,this.updater=ct||R}V.prototype.isReactComponent={},V.prototype.setState=function(z,Z){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Z,"setState")},V.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function B(){}B.prototype=V.prototype;function W(z,Z,ct){this.props=z,this.context=Z,this.refs=I,this.updater=ct||R}var rt=W.prototype=new B;rt.constructor=W,A(rt,V.prototype),rt.isPureReactComponent=!0;var et=Array.isArray;function ot(){}var M={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function D(z,Z,ct){var ut=ct.ref;return{$$typeof:n,type:z,key:Z,ref:ut!==void 0?ut:null,props:ct}}function P(z,Z){return D(z.type,Z,z.props)}function k(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function L(z){var Z={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ct){return Z[ct]})}var O=/\/+/g;function Dt(z,Z){return typeof z=="object"&&z!==null&&z.key!=null?L(""+z.key):Z.toString(36)}function wt(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(ot,ot):(z.status="pending",z.then(function(Z){z.status==="pending"&&(z.status="fulfilled",z.value=Z)},function(Z){z.status==="pending"&&(z.status="rejected",z.reason=Z)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Q(z,Z,ct,ut,_t){var Et=typeof z;(Et==="undefined"||Et==="boolean")&&(z=null);var jt=!1;if(z===null)jt=!0;else switch(Et){case"bigint":case"string":case"number":jt=!0;break;case"object":switch(z.$$typeof){case n:case t:jt=!0;break;case y:return jt=z._init,Q(jt(z._payload),Z,ct,ut,_t)}}if(jt)return _t=_t(z),jt=ut===""?"."+Dt(z,0):ut,et(_t)?(ct="",jt!=null&&(ct=jt.replace(O,"$&/")+"/"),Q(_t,Z,ct,"",function(Xr){return Xr})):_t!=null&&(k(_t)&&(_t=P(_t,ct+(_t.key==null||z&&z.key===_t.key?"":(""+_t.key).replace(O,"$&/")+"/")+jt)),Z.push(_t)),1;jt=0;var Be=ut===""?".":ut+":";if(et(z))for(var de=0;de<z.length;de++)ut=z[de],Et=Be+Dt(ut,de),jt+=Q(ut,Z,ct,Et,_t);else if(de=S(z),typeof de=="function")for(z=de.call(z),de=0;!(ut=z.next()).done;)ut=ut.value,Et=Be+Dt(ut,de++),jt+=Q(ut,Z,ct,Et,_t);else if(Et==="object"){if(typeof z.then=="function")return Q(wt(z),Z,ct,ut,_t);throw Z=String(z),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return jt}function at(z,Z,ct){if(z==null)return z;var ut=[],_t=0;return Q(z,ut,"","",function(Et){return Z.call(ct,Et,_t++)}),ut}function dt(z){if(z._status===-1){var Z=z._result;Z=Z(),Z.then(function(ct){(z._status===0||z._status===-1)&&(z._status=1,z._result=ct)},function(ct){(z._status===0||z._status===-1)&&(z._status=2,z._result=ct)}),z._status===-1&&(z._status=0,z._result=Z)}if(z._status===1)return z._result.default;throw z._result}var bt=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Nt={map:at,forEach:function(z,Z,ct){at(z,function(){Z.apply(this,arguments)},ct)},count:function(z){var Z=0;return at(z,function(){Z++}),Z},toArray:function(z){return at(z,function(Z){return Z})||[]},only:function(z){if(!k(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return xt.Activity=_,xt.Children=Nt,xt.Component=V,xt.Fragment=e,xt.Profiler=r,xt.PureComponent=W,xt.StrictMode=i,xt.Suspense=f,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,xt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return M.H.useMemoCache(z)}},xt.cache=function(z){return function(){return z.apply(null,arguments)}},xt.cacheSignal=function(){return null},xt.cloneElement=function(z,Z,ct){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ut=A({},z.props),_t=z.key;if(Z!=null)for(Et in Z.key!==void 0&&(_t=""+Z.key),Z)!C.call(Z,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&Z.ref===void 0||(ut[Et]=Z[Et]);var Et=arguments.length-2;if(Et===1)ut.children=ct;else if(1<Et){for(var jt=Array(Et),Be=0;Be<Et;Be++)jt[Be]=arguments[Be+2];ut.children=jt}return D(z.type,_t,ut)},xt.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},xt.createElement=function(z,Z,ct){var ut,_t={},Et=null;if(Z!=null)for(ut in Z.key!==void 0&&(Et=""+Z.key),Z)C.call(Z,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(_t[ut]=Z[ut]);var jt=arguments.length-2;if(jt===1)_t.children=ct;else if(1<jt){for(var Be=Array(jt),de=0;de<jt;de++)Be[de]=arguments[de+2];_t.children=Be}if(z&&z.defaultProps)for(ut in jt=z.defaultProps,jt)_t[ut]===void 0&&(_t[ut]=jt[ut]);return D(z,Et,_t)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(z){return{$$typeof:h,render:z}},xt.isValidElement=k,xt.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:dt}},xt.memo=function(z,Z){return{$$typeof:d,type:z,compare:Z===void 0?null:Z}},xt.startTransition=function(z){var Z=M.T,ct={};M.T=ct;try{var ut=z(),_t=M.S;_t!==null&&_t(ct,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(ot,bt)}catch(Et){bt(Et)}finally{Z!==null&&ct.types!==null&&(Z.types=ct.types),M.T=Z}},xt.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},xt.use=function(z){return M.H.use(z)},xt.useActionState=function(z,Z,ct){return M.H.useActionState(z,Z,ct)},xt.useCallback=function(z,Z){return M.H.useCallback(z,Z)},xt.useContext=function(z){return M.H.useContext(z)},xt.useDebugValue=function(){},xt.useDeferredValue=function(z,Z){return M.H.useDeferredValue(z,Z)},xt.useEffect=function(z,Z){return M.H.useEffect(z,Z)},xt.useEffectEvent=function(z){return M.H.useEffectEvent(z)},xt.useId=function(){return M.H.useId()},xt.useImperativeHandle=function(z,Z,ct){return M.H.useImperativeHandle(z,Z,ct)},xt.useInsertionEffect=function(z,Z){return M.H.useInsertionEffect(z,Z)},xt.useLayoutEffect=function(z,Z){return M.H.useLayoutEffect(z,Z)},xt.useMemo=function(z,Z){return M.H.useMemo(z,Z)},xt.useOptimistic=function(z,Z){return M.H.useOptimistic(z,Z)},xt.useReducer=function(z,Z,ct){return M.H.useReducer(z,Z,ct)},xt.useRef=function(z){return M.H.useRef(z)},xt.useState=function(z){return M.H.useState(z)},xt.useSyncExternalStore=function(z,Z,ct){return M.H.useSyncExternalStore(z,Z,ct)},xt.useTransition=function(){return M.H.useTransition()},xt.version="19.2.3",xt}var aE;function _y(){return aE||(aE=1,sp.exports=zR()),sp.exports}var G=_y();const Pa=PR(G);var rp={exports:{}},Oc={},ap={exports:{}},op={};var oE;function UR(){return oE||(oE=1,(function(n){function t(Q,at){var dt=Q.length;Q.push(at);t:for(;0<dt;){var bt=dt-1>>>1,Nt=Q[bt];if(0<r(Nt,at))Q[bt]=at,Q[dt]=Nt,dt=bt;else break t}}function e(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var at=Q[0],dt=Q.pop();if(dt!==at){Q[0]=dt;t:for(var bt=0,Nt=Q.length,z=Nt>>>1;bt<z;){var Z=2*(bt+1)-1,ct=Q[Z],ut=Z+1,_t=Q[ut];if(0>r(ct,dt))ut<Nt&&0>r(_t,ct)?(Q[bt]=_t,Q[ut]=dt,bt=ut):(Q[bt]=ct,Q[Z]=dt,bt=Z);else if(ut<Nt&&0>r(_t,dt))Q[bt]=_t,Q[ut]=dt,bt=ut;else break t}}return at}function r(Q,at){var dt=Q.sortIndex-at.sortIndex;return dt!==0?dt:Q.id-at.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],d=[],y=1,_=null,E=3,S=!1,R=!1,A=!1,I=!1,V=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function rt(Q){for(var at=e(d);at!==null;){if(at.callback===null)i(d);else if(at.startTime<=Q)i(d),at.sortIndex=at.expirationTime,t(f,at);else break;at=e(d)}}function et(Q){if(A=!1,rt(Q),!R)if(e(f)!==null)R=!0,ot||(ot=!0,L());else{var at=e(d);at!==null&&wt(et,at.startTime-Q)}}var ot=!1,M=-1,C=5,D=-1;function P(){return I?!0:!(n.unstable_now()-D<C)}function k(){if(I=!1,ot){var Q=n.unstable_now();D=Q;var at=!0;try{t:{R=!1,A&&(A=!1,B(M),M=-1),S=!0;var dt=E;try{e:{for(rt(Q),_=e(f);_!==null&&!(_.expirationTime>Q&&P());){var bt=_.callback;if(typeof bt=="function"){_.callback=null,E=_.priorityLevel;var Nt=bt(_.expirationTime<=Q);if(Q=n.unstable_now(),typeof Nt=="function"){_.callback=Nt,rt(Q),at=!0;break e}_===e(f)&&i(f),rt(Q)}else i(f);_=e(f)}if(_!==null)at=!0;else{var z=e(d);z!==null&&wt(et,z.startTime-Q),at=!1}}break t}finally{_=null,E=dt,S=!1}at=void 0}}finally{at?L():ot=!1}}}var L;if(typeof W=="function")L=function(){W(k)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Dt=O.port2;O.port1.onmessage=k,L=function(){Dt.postMessage(null)}}else L=function(){V(k,0)};function wt(Q,at){M=V(function(){Q(n.unstable_now())},at)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(Q){switch(E){case 1:case 2:case 3:var at=3;break;default:at=E}var dt=E;E=at;try{return Q()}finally{E=dt}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(Q,at){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var dt=E;E=Q;try{return at()}finally{E=dt}},n.unstable_scheduleCallback=function(Q,at,dt){var bt=n.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?bt+dt:bt):dt=bt,Q){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=dt+Nt,Q={id:y++,callback:at,priorityLevel:Q,startTime:dt,expirationTime:Nt,sortIndex:-1},dt>bt?(Q.sortIndex=dt,t(d,Q),e(f)===null&&Q===e(d)&&(A?(B(M),M=-1):A=!0,wt(et,dt-bt))):(Q.sortIndex=Nt,t(f,Q),R||S||(R=!0,ot||(ot=!0,L()))),Q},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(Q){var at=E;return function(){var dt=E;E=at;try{return Q.apply(this,arguments)}finally{E=dt}}}})(op)),op}var lE;function BR(){return lE||(lE=1,ap.exports=UR()),ap.exports}var lp={exports:{}},on={};var cE;function jR(){if(cE)return on;cE=1;var n=_y();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,d,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:f,containerInfo:d,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,on.createPortal=function(f,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,y)},on.flushSync=function(f){var d=c.T,y=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=d,i.p=y,i.d.f()}},on.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},on.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},on.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var y=d.as,_=h(y,d.crossOrigin),E=typeof d.integrity=="string"?d.integrity:void 0,S=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:S}):y==="script"&&i.d.X(f,{crossOrigin:_,integrity:E,fetchPriority:S,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},on.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=h(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},on.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,_=h(y,d.crossOrigin);i.d.L(f,y,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},on.preloadModule=function(f,d){if(typeof f=="string")if(d){var y=h(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},on.requestFormReset=function(f){i.d.r(f)},on.unstable_batchedUpdates=function(f,d){return f(d)},on.useFormState=function(f,d,y){return c.H.useFormState(f,d,y)},on.useFormStatus=function(){return c.H.useHostTransitionStatus()},on.version="19.2.3",on}var uE;function FR(){if(uE)return lp.exports;uE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),lp.exports=jR(),lp.exports}var hE;function HR(){if(hE)return Oc;hE=1;var n=BR(),t=_y(),e=FR();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(i(188))}function d(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var g=l.return;if(g===null)break;var p=g.alternate;if(p===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===l)return f(g),s;if(p===u)return f(g),a;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=g,u=p;else{for(var b=!1,w=g.child;w;){if(w===l){b=!0,l=g,u=p;break}if(w===u){b=!0,u=g,l=p;break}w=w.sibling}if(!b){for(w=p.child;w;){if(w===l){b=!0,l=p,u=g;break}if(w===u){b=!0,u=p,l=g;break}w=w.sibling}if(!b)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function y(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=y(s),a!==null)return a;s=s.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),W=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function L(s){return s===null||typeof s!="object"?null:(s=k&&s[k]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function Dt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case V:return"Profiler";case I:return"StrictMode";case et:return"Suspense";case ot:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case R:return"Portal";case W:return s.displayName||"Context";case B:return(s._context.displayName||"Context")+".Consumer";case rt:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return a=s.displayName||null,a!==null?a:Dt(s.type)||"Memo";case C:a=s._payload,s=s._init;try{return Dt(s(a))}catch{}}return null}var wt=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},bt=[],Nt=-1;function z(s){return{current:s}}function Z(s){0>Nt||(s.current=bt[Nt],bt[Nt]=null,Nt--)}function ct(s,a){Nt++,bt[Nt]=s.current,s.current=a}var ut=z(null),_t=z(null),Et=z(null),jt=z(null);function Be(s,a){switch(ct(Et,a),ct(_t,s),ct(ut,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?xb(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=xb(a),s=Rb(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Z(ut),ct(ut,s)}function de(){Z(ut),Z(_t),Z(Et)}function Xr(s){s.memoizedState!==null&&ct(jt,s);var a=ut.current,l=Rb(a,s.type);a!==l&&(ct(_t,s),ct(ut,l))}function to(s){_t.current===s&&(Z(ut),Z(_t)),jt.current===s&&(Z(jt),Rc._currentValue=dt)}var eo,no;function wi(s){if(eo===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);eo=a&&a[1]||"",no=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+eo+s+no}var Rl=!1;function $r(s,a){if(!s||Rl)return"";Rl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch($){var K=$}Reflect.construct(s,[],it)}else{try{it.call()}catch($){K=$}s.call(it.prototype)}}else{try{throw Error()}catch($){K=$}(it=s())&&typeof it.catch=="function"&&it.catch(function(){})}}catch($){if($&&K&&typeof $.stack=="string")return[$.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],w=p[1];if(b&&w){var N=b.split(`
`),Y=w.split(`
`);for(g=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;g<Y.length&&!Y[g].includes("DetermineComponentFrameRoot");)g++;if(u===N.length||g===Y.length)for(u=N.length-1,g=Y.length-1;1<=u&&0<=g&&N[u]!==Y[g];)g--;for(;1<=u&&0<=g;u--,g--)if(N[u]!==Y[g]){if(u!==1||g!==1)do if(u--,g--,0>g||N[u]!==Y[g]){var J=`
`+N[u].replace(" at new "," at ");return s.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",s.displayName)),J}while(1<=u&&0<=g);break}}}finally{Rl=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?wi(l):""}function Cl(s,a){switch(s.tag){case 26:case 27:case 5:return wi(s.type);case 16:return wi("Lazy");case 13:return s.child!==a&&a!==null?wi("Suspense Fallback"):wi("Suspense");case 19:return wi("SuspenseList");case 0:case 15:return $r(s.type,!1);case 11:return $r(s.type.render,!1);case 1:return $r(s.type,!0);case 31:return wi("Activity");default:return""}}function Il(s){try{var a="",l=null;do a+=Cl(s,l),l=s,s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var xe=Object.prototype.hasOwnProperty,je=n.unstable_scheduleCallback,Bs=n.unstable_cancelCallback,rm=n.unstable_shouldYield,ju=n.unstable_requestPaint,dn=n.unstable_now,Jr=n.unstable_getCurrentPriorityLevel,Ml=n.unstable_ImmediatePriority,Dl=n.unstable_UserBlockingPriority,js=n.unstable_NormalPriority,am=n.unstable_LowPriority,Fu=n.unstable_IdlePriority,Hu=n.log,qu=n.unstable_setDisableYieldValue,li=null,$e=null;function jn(s){if(typeof Hu=="function"&&qu(s),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(li,s)}catch{}}var be=Math.clz32?Math.clz32:Gu,Yu=Math.log,io=Math.LN2;function Gu(s){return s>>>=0,s===0?32:31-(Yu(s)/io|0)|0}var Ai=256,Zr=262144,Re=4194304;function xi(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ri(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var g=0,p=s.suspendedLanes,b=s.pingedLanes;s=s.warmLanes;var w=u&134217727;return w!==0?(u=w&~p,u!==0?g=xi(u):(b&=w,b!==0?g=xi(b):l||(l=w&~s,l!==0&&(g=xi(l))))):(w=u&~p,w!==0?g=xi(w):b!==0?g=xi(b):l||(l=u&~s,l!==0&&(g=xi(l)))),g===0?0:a!==0&&a!==g&&(a&p)===0&&(p=g&-g,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:g}function ci(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function om(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wu(){var s=Re;return Re<<=1,(Re&62914560)===0&&(Re=4194304),s}function Ci(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function ta(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function lm(s,a,l,u,g,p){var b=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var w=s.entanglements,N=s.expirationTimes,Y=s.hiddenUpdates;for(l=b&~l;0<l;){var J=31-be(l),it=1<<J;w[J]=0,N[J]=-1;var K=Y[J];if(K!==null)for(Y[J]=null,J=0;J<K.length;J++){var $=K[J];$!==null&&($.lane&=-536870913)}l&=~it}u!==0&&ea(s,u,0),p!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=p&~(b&~a))}function ea(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-be(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function Ol(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-be(l),g=1<<u;g&a|s[u]&a&&(s[u]|=a),l&=~g}}function kl(s,a){var l=a&-a;return l=(l&42)!==0?1:na(l),(l&(s.suspendedLanes|a))!==0?0:l}function na(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function as(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ku(){var s=at.p;return s!==0?s:(s=window.event,s===void 0?32:Xb(s.type))}function ui(s,a){var l=at.p;try{return at.p=s,a()}finally{at.p=l}}var hi=Math.random().toString(36).slice(2),Ce="__reactFiber$"+hi,We="__reactProps$"+hi,Ii="__reactContainer$"+hi,so="__reactEvents$"+hi,cm="__reactListeners$"+hi,Qu="__reactHandles$"+hi,Xu="__reactResources$"+hi,Mi="__reactMarker$"+hi;function ro(s){delete s[Ce],delete s[We],delete s[so],delete s[cm],delete s[Qu]}function Di(s){var a=s[Ce];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Ii]||l[Ce]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=Nb(s);s!==null;){if(l=s[Ce])return l;s=Nb(s)}return a}s=l,l=s.parentNode}return null}function Fn(s){if(s=s[Ce]||s[Ii]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function In(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Oi(s){var a=s[Xu];return a||(a=s[Xu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ie(s){s[Mi]=!0}var Nl=new Set,Pl={};function ki(s,a){Ni(s,a),Ni(s+"Capture",a)}function Ni(s,a){for(Pl[s]=a,s=0;s<a.length;s++)Nl.add(a[s])}var Vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ll={},zl={};function $u(s){return xe.call(zl,s)?!0:xe.call(Ll,s)?!1:Vl.test(s)?zl[s]=!0:(Ll[s]=!0,!1)}function ao(s,a,l){if($u(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Mn(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Me(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}function Ke(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Fs(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ul(s,a,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,p=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(b){l=""+b,p.call(this,b)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Xt(s){if(!s._valueTracker){var a=Fs(s)?"checked":"value";s._valueTracker=Ul(s,a,""+s[a])}}function ia(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=Fs(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function Pi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var sa=/[\n"\\]/g;function pn(s){return s.replace(sa,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function oo(s,a,l,u,g,p,b,w){s.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?s.type=b:s.removeAttribute("type"),a!=null?b==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Ke(a)):s.value!==""+Ke(a)&&(s.value=""+Ke(a)):b!=="submit"&&b!=="reset"||s.removeAttribute("value"),a!=null?Bl(s,b,Ke(a)):l!=null?Bl(s,b,Ke(l)):u!=null&&s.removeAttribute("value"),g==null&&p!=null&&(s.defaultChecked=!!p),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.name=""+Ke(w):s.removeAttribute("name")}function Ju(s,a,l,u,g,p,b,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){Xt(s);return}l=l!=null?""+Ke(l):"",a=a!=null?""+Ke(a):l,w||a===s.value||(s.value=a),s.defaultValue=a}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=w?s.checked:!!u,s.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.name=b),Xt(s)}function Bl(s,a,l){a==="number"&&Pi(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Hs(s,a,l,u){if(s=s.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=a.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&u&&(s[l].defaultSelected=!0)}else{for(l=""+Ke(l),a=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,u&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Zu(s,a,l){if(a!=null&&(a=""+Ke(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Ke(l):""}function qs(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(wt(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=Ke(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),Xt(s)}function yn(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var th=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jl(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||th.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Fl(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var g in a)u=a[g],a.hasOwnProperty(g)&&l[g]!==u&&jl(s,g,u)}else for(var p in a)a.hasOwnProperty(p)&&jl(s,p,a[p])}function lo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function co(s){return Ys.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function fi(){}var Hl=null;function Hn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Gs=null,Vi=null;function ra(s){var a=Fn(s);if(a&&(s=a.stateNode)){var l=s[We]||null;t:switch(s=a.stateNode,a.type){case"input":if(oo(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+pn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var g=u[We]||null;if(!g)throw Error(i(90));oo(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&ia(u)}break t;case"textarea":Zu(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&Hs(s,!!l.multiple,a,!1)}}}var uo=!1;function Ws(s,a,l){if(uo)return s(a,l);uo=!0;try{var u=s(a);return u}finally{if(uo=!1,(Gs!==null||Vi!==null)&&(Kh(),Gs&&(a=Gs,s=Vi,Vi=Gs=null,ra(a),s)))for(a=0;a<s.length;a++)ra(s[a])}}function di(s,a){var l=s.stateNode;if(l===null)return null;var u=l[We]||null;if(u===null)return null;l=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aa=!1;if(qn)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){aa=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{aa=!1}var Li=null,ql=null,oa=null;function Yl(){if(oa)return oa;var s,a=ql,l=a.length,u,g="value"in Li?Li.value:Li.textContent,p=g.length;for(s=0;s<l&&a[s]===g[s];s++);var b=l-s;for(u=1;u<=b&&a[l-u]===g[p-u];u++);return oa=g.slice(s,1<u?1-u:void 0)}function la(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function os(){return!0}function mi(){return!1}function Je(s){function a(l,u,g,p,b){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var w in s)s.hasOwnProperty(w)&&(l=s[w],this[w]=l?l(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?os:mi,this.isPropagationStopped=mi,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),a}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zi=Je(ls),Ks=_({},ls,{view:0,detail:0}),Gl=Je(Ks),Qs,ho,Ui,fo=_({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ui&&(Ui&&s.type==="mousemove"?(Qs=s.screenX-Ui.screenX,ho=s.screenY-Ui.screenY):ho=Qs=0,Ui=s),Qs)},movementY:function(s){return"movementY"in s?s.movementY:ho}}),Wl=Je(fo),ca=_({},fo,{dataTransfer:0}),nh=Je(ca),ih=_({},Ks,{relatedTarget:0}),ua=Je(ih),Kl=_({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),sh=Je(Kl),mo=_({},ls,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),rh=Je(mo),ah=_({},ls,{data:0}),Bi=Je(ah),oh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ch={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=ch[s])?!!a[s]:!1}function Xs(){return uh}var mn=_({},Ks,{key:function(s){if(s.key){var a=oh[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=la(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?lh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xs,charCode:function(s){return s.type==="keypress"?la(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?la(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),hh=Je(mn),fh=_({},fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cs=Je(fh),m=_({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xs}),v=Je(m),T=_({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=Je(T),F=_({},fo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Je(F),lt=_({},ls,{newState:0,oldState:0}),Ct=Je(lt),Ee=[9,13,27,32],Wt=qn&&"CompositionEvent"in window,me=null;qn&&"documentMode"in document&&(me=document.documentMode);var Yn=qn&&"TextEvent"in window&&!me,ji=qn&&(!Wt||me&&8<me&&11>=me),gi=" ",pi=!1;function ha(s,a){switch(s){case"keyup":return Ee.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function go(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var po=!1;function rx(s,a){switch(s){case"compositionend":return go(a);case"keypress":return a.which!==32?null:(pi=!0,gi);case"textInput":return s=a.data,s===gi&&pi?null:s;default:return null}}function ax(s,a){if(po)return s==="compositionend"||!Wt&&ha(s,a)?(s=Yl(),oa=ql=Li=null,po=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ji&&a.locale!=="ko"?null:a.data;default:return null}}var ox={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function L_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!ox[s.type]:a==="textarea"}function z_(s,a,l,u){Gs?Vi?Vi.push(u):Vi=[u]:Gs=u,a=ef(a,"onChange"),0<a.length&&(l=new zi("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var Ql=null,Xl=null;function lx(s){bb(s,0)}function dh(s){var a=In(s);if(ia(a))return s}function U_(s,a){if(s==="change")return a}var B_=!1;if(qn){var um;if(qn){var hm="oninput"in document;if(!hm){var j_=document.createElement("div");j_.setAttribute("oninput","return;"),hm=typeof j_.oninput=="function"}um=hm}else um=!1;B_=um&&(!document.documentMode||9<document.documentMode)}function F_(){Ql&&(Ql.detachEvent("onpropertychange",H_),Xl=Ql=null)}function H_(s){if(s.propertyName==="value"&&dh(Xl)){var a=[];z_(a,Xl,s,Hn(s)),Ws(lx,a)}}function cx(s,a,l){s==="focusin"?(F_(),Ql=a,Xl=l,Ql.attachEvent("onpropertychange",H_)):s==="focusout"&&F_()}function ux(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return dh(Xl)}function hx(s,a){if(s==="click")return dh(a)}function fx(s,a){if(s==="input"||s==="change")return dh(a)}function dx(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Dn=typeof Object.is=="function"?Object.is:dx;function $l(s,a){if(Dn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!xe.call(a,g)||!Dn(s[g],a[g]))return!1}return!0}function q_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Y_(s,a){var l=q_(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=q_(l)}}function G_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?G_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function W_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Pi(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Pi(s.document)}return a}function fm(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var mx=qn&&"documentMode"in document&&11>=document.documentMode,yo=null,dm=null,Jl=null,mm=!1;function K_(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;mm||yo==null||yo!==Pi(u)||(u=yo,"selectionStart"in u&&fm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Jl&&$l(Jl,u)||(Jl=u,u=ef(dm,"onSelect"),0<u.length&&(a=new zi("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=yo)))}function fa(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var _o={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionrun:fa("Transition","TransitionRun"),transitionstart:fa("Transition","TransitionStart"),transitioncancel:fa("Transition","TransitionCancel"),transitionend:fa("Transition","TransitionEnd")},gm={},Q_={};qn&&(Q_=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function da(s){if(gm[s])return gm[s];if(!_o[s])return s;var a=_o[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in Q_)return gm[s]=a[l];return s}var X_=da("animationend"),$_=da("animationiteration"),J_=da("animationstart"),gx=da("transitionrun"),px=da("transitionstart"),yx=da("transitioncancel"),Z_=da("transitionend"),t0=new Map,pm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pm.push("scrollEnd");function yi(s,a){t0.set(s,a),ki(a,[s])}var mh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Gn=[],vo=0,ym=0;function gh(){for(var s=vo,a=ym=vo=0;a<s;){var l=Gn[a];Gn[a++]=null;var u=Gn[a];Gn[a++]=null;var g=Gn[a];Gn[a++]=null;var p=Gn[a];if(Gn[a++]=null,u!==null&&g!==null){var b=u.pending;b===null?g.next=g:(g.next=b.next,b.next=g),u.pending=g}p!==0&&e0(l,g,p)}}function ph(s,a,l,u){Gn[vo++]=s,Gn[vo++]=a,Gn[vo++]=l,Gn[vo++]=u,ym|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function _m(s,a,l,u){return ph(s,a,l,u),yh(s)}function ma(s,a){return ph(s,null,null,a),yh(s)}function e0(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var g=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(g=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,g&&a!==null&&(g=31-be(l),s=p.hiddenUpdates,u=s[g],u===null?s[g]=[a]:u.push(a),a.lane=l|536870912),p):null}function yh(s){if(50<bc)throw bc=0,Rg=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var bo={};function _x(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(s,a,l,u){return new _x(s,a,l,u)}function vm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function us(s,a){var l=s.alternate;return l===null?(l=On(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function n0(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function _h(s,a,l,u,g,p){var b=0;if(u=s,typeof s=="function")vm(s)&&(b=1);else if(typeof s=="string")b=SR(s,l,ut.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case D:return s=On(31,l,a,g),s.elementType=D,s.lanes=p,s;case A:return ga(l.children,g,p,a);case I:b=8,g|=24;break;case V:return s=On(12,l,a,g|2),s.elementType=V,s.lanes=p,s;case et:return s=On(13,l,a,g),s.elementType=et,s.lanes=p,s;case ot:return s=On(19,l,a,g),s.elementType=ot,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case W:b=10;break t;case B:b=9;break t;case rt:b=11;break t;case M:b=14;break t;case C:b=16,u=null;break t}b=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=On(b,l,a,g),a.elementType=s,a.type=u,a.lanes=p,a}function ga(s,a,l,u){return s=On(7,s,u,a),s.lanes=l,s}function bm(s,a,l){return s=On(6,s,null,a),s.lanes=l,s}function i0(s){var a=On(18,null,null,0);return a.stateNode=s,a}function Em(s,a,l){return a=On(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var s0=new WeakMap;function Wn(s,a){if(typeof s=="object"&&s!==null){var l=s0.get(s);return l!==void 0?l:(a={value:s,source:a,stack:Il(a)},s0.set(s,a),a)}return{value:s,source:a,stack:Il(a)}}var Eo=[],To=0,vh=null,Zl=0,Kn=[],Qn=0,$s=null,Fi=1,Hi="";function hs(s,a){Eo[To++]=Zl,Eo[To++]=vh,vh=s,Zl=a}function r0(s,a,l){Kn[Qn++]=Fi,Kn[Qn++]=Hi,Kn[Qn++]=$s,$s=s;var u=Fi;s=Hi;var g=32-be(u)-1;u&=~(1<<g),l+=1;var p=32-be(a)+g;if(30<p){var b=g-g%5;p=(u&(1<<b)-1).toString(32),u>>=b,g-=b,Fi=1<<32-be(a)+g|l<<g|u,Hi=p+s}else Fi=1<<p|l<<g|u,Hi=s}function Tm(s){s.return!==null&&(hs(s,1),r0(s,1,0))}function Sm(s){for(;s===vh;)vh=Eo[--To],Eo[To]=null,Zl=Eo[--To],Eo[To]=null;for(;s===$s;)$s=Kn[--Qn],Kn[Qn]=null,Hi=Kn[--Qn],Kn[Qn]=null,Fi=Kn[--Qn],Kn[Qn]=null}function a0(s,a){Kn[Qn++]=Fi,Kn[Qn++]=Hi,Kn[Qn++]=$s,Fi=a.id,Hi=a.overflow,$s=s}var Ze=null,ce=null,Bt=!1,Js=null,Xn=!1,wm=Error(i(519));function Zs(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tc(Wn(a,s)),wm}function o0(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[Ce]=s,a[We]=u,l){case"dialog":kt("cancel",a),kt("close",a);break;case"iframe":case"object":case"embed":kt("load",a);break;case"video":case"audio":for(l=0;l<Tc.length;l++)kt(Tc[l],a);break;case"source":kt("error",a);break;case"img":case"image":case"link":kt("error",a),kt("load",a);break;case"details":kt("toggle",a);break;case"input":kt("invalid",a),Ju(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":kt("invalid",a);break;case"textarea":kt("invalid",a),qs(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||wb(a.textContent,l)?(u.popover!=null&&(kt("beforetoggle",a),kt("toggle",a)),u.onScroll!=null&&kt("scroll",a),u.onScrollEnd!=null&&kt("scrollend",a),u.onClick!=null&&(a.onclick=fi),a=!0):a=!1,a||Zs(s,!0)}function l0(s){for(Ze=s.return;Ze;)switch(Ze.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Ze=Ze.return}}function So(s){if(s!==Ze)return!1;if(!Bt)return l0(s),Bt=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Fg(s.type,s.memoizedProps)),l=!l),l&&ce&&Zs(s),l0(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ce=kb(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ce=kb(s)}else a===27?(a=ce,dr(s.type)?(s=Wg,Wg=null,ce=s):ce=a):ce=Ze?Jn(s.stateNode.nextSibling):null;return!0}function pa(){ce=Ze=null,Bt=!1}function Am(){var s=Js;return s!==null&&(En===null?En=s:En.push.apply(En,s),Js=null),s}function tc(s){Js===null?Js=[s]:Js.push(s)}var xm=z(null),ya=null,fs=null;function tr(s,a,l){ct(xm,a._currentValue),a._currentValue=l}function ds(s){s._currentValue=xm.current,Z(xm)}function Rm(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function Cm(s,a,l,u){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var p=g.dependencies;if(p!==null){var b=g.child;p=p.firstContext;t:for(;p!==null;){var w=p;p=g;for(var N=0;N<a.length;N++)if(w.context===a[N]){p.lanes|=l,w=p.alternate,w!==null&&(w.lanes|=l),Rm(p.return,l,s),u||(b=null);break t}p=w.next}}else if(g.tag===18){if(b=g.return,b===null)throw Error(i(341));b.lanes|=l,p=b.alternate,p!==null&&(p.lanes|=l),Rm(b,l,s),b=null}else b=g.child;if(b!==null)b.return=g;else for(b=g;b!==null;){if(b===s){b=null;break}if(g=b.sibling,g!==null){g.return=b.return,b=g;break}b=b.return}g=b}}function wo(s,a,l,u){s=null;for(var g=a,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var b=g.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var w=g.type;Dn(g.pendingProps.value,b.value)||(s!==null?s.push(w):s=[w])}}else if(g===jt.current){if(b=g.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(Rc):s=[Rc])}g=g.return}s!==null&&Cm(a,s,l,u),a.flags|=262144}function bh(s){for(s=s.firstContext;s!==null;){if(!Dn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function _a(s){ya=s,fs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function tn(s){return c0(ya,s)}function Eh(s,a){return ya===null&&_a(s),c0(s,a)}function c0(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},fs===null){if(s===null)throw Error(i(308));fs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else fs=fs.next=a;return l}var vx=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},bx=n.unstable_scheduleCallback,Ex=n.unstable_NormalPriority,De={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Im(){return{controller:new vx,data:new Map,refCount:0}}function ec(s){s.refCount--,s.refCount===0&&bx(Ex,function(){s.controller.abort()})}var nc=null,Mm=0,Ao=0,xo=null;function Tx(s,a){if(nc===null){var l=nc=[];Mm=0,Ao=kg(),xo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Mm++,a.then(u0,u0),a}function u0(){if(--Mm===0&&nc!==null){xo!==null&&(xo.status="fulfilled");var s=nc;nc=null,Ao=0,xo=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function Sx(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var h0=Q.S;Q.S=function(s,a){Kv=dn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Tx(s,a),h0!==null&&h0(s,a)};var va=z(null);function Dm(){var s=va.current;return s!==null?s:re.pooledCache}function Th(s,a){a===null?ct(va,va.current):ct(va,a.pool)}function f0(){var s=Dm();return s===null?null:{parent:De._currentValue,pool:s}}var Ro=Error(i(460)),Om=Error(i(474)),Sh=Error(i(542)),wh={then:function(){}};function d0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function m0(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(fi,fi),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,p0(s),s;default:if(typeof a.status=="string")a.then(fi,fi);else{if(s=re,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=u}},function(u){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,p0(s),s}throw Ea=a,Ro}}function ba(s){try{var a=s._init;return a(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ea=l,Ro):l}}var Ea=null;function g0(){if(Ea===null)throw Error(i(459));var s=Ea;return Ea=null,s}function p0(s){if(s===Ro||s===Sh)throw Error(i(483))}var Co=null,ic=0;function Ah(s){var a=ic;return ic+=1,Co===null&&(Co=[]),m0(Co,s,a)}function sc(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function xh(s,a){throw a.$$typeof===E?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function y0(s){function a(j,U){if(s){var q=j.deletions;q===null?(j.deletions=[U],j.flags|=16):q.push(U)}}function l(j,U){if(!s)return null;for(;U!==null;)a(j,U),U=U.sibling;return null}function u(j){for(var U=new Map;j!==null;)j.key!==null?U.set(j.key,j):U.set(j.index,j),j=j.sibling;return U}function g(j,U){return j=us(j,U),j.index=0,j.sibling=null,j}function p(j,U,q){return j.index=q,s?(q=j.alternate,q!==null?(q=q.index,q<U?(j.flags|=67108866,U):q):(j.flags|=67108866,U)):(j.flags|=1048576,U)}function b(j){return s&&j.alternate===null&&(j.flags|=67108866),j}function w(j,U,q,tt){return U===null||U.tag!==6?(U=bm(q,j.mode,tt),U.return=j,U):(U=g(U,q),U.return=j,U)}function N(j,U,q,tt){var pt=q.type;return pt===A?J(j,U,q.props.children,tt,q.key):U!==null&&(U.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===C&&ba(pt)===U.type)?(U=g(U,q.props),sc(U,q),U.return=j,U):(U=_h(q.type,q.key,q.props,null,j.mode,tt),sc(U,q),U.return=j,U)}function Y(j,U,q,tt){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=Em(q,j.mode,tt),U.return=j,U):(U=g(U,q.children||[]),U.return=j,U)}function J(j,U,q,tt,pt){return U===null||U.tag!==7?(U=ga(q,j.mode,tt,pt),U.return=j,U):(U=g(U,q),U.return=j,U)}function it(j,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=bm(""+U,j.mode,q),U.return=j,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return q=_h(U.type,U.key,U.props,null,j.mode,q),sc(q,U),q.return=j,q;case R:return U=Em(U,j.mode,q),U.return=j,U;case C:return U=ba(U),it(j,U,q)}if(wt(U)||L(U))return U=ga(U,j.mode,q,null),U.return=j,U;if(typeof U.then=="function")return it(j,Ah(U),q);if(U.$$typeof===W)return it(j,Eh(j,U),q);xh(j,U)}return null}function K(j,U,q,tt){var pt=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return pt!==null?null:w(j,U,""+q,tt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return q.key===pt?N(j,U,q,tt):null;case R:return q.key===pt?Y(j,U,q,tt):null;case C:return q=ba(q),K(j,U,q,tt)}if(wt(q)||L(q))return pt!==null?null:J(j,U,q,tt,null);if(typeof q.then=="function")return K(j,U,Ah(q),tt);if(q.$$typeof===W)return K(j,U,Eh(j,q),tt);xh(j,q)}return null}function $(j,U,q,tt,pt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return j=j.get(q)||null,w(U,j,""+tt,pt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case S:return j=j.get(tt.key===null?q:tt.key)||null,N(U,j,tt,pt);case R:return j=j.get(tt.key===null?q:tt.key)||null,Y(U,j,tt,pt);case C:return tt=ba(tt),$(j,U,q,tt,pt)}if(wt(tt)||L(tt))return j=j.get(q)||null,J(U,j,tt,pt,null);if(typeof tt.then=="function")return $(j,U,q,Ah(tt),pt);if(tt.$$typeof===W)return $(j,U,q,Eh(U,tt),pt);xh(U,tt)}return null}function mt(j,U,q,tt){for(var pt=null,Yt=null,gt=U,Mt=U=0,Vt=null;gt!==null&&Mt<q.length;Mt++){gt.index>Mt?(Vt=gt,gt=null):Vt=gt.sibling;var Gt=K(j,gt,q[Mt],tt);if(Gt===null){gt===null&&(gt=Vt);break}s&&gt&&Gt.alternate===null&&a(j,gt),U=p(Gt,U,Mt),Yt===null?pt=Gt:Yt.sibling=Gt,Yt=Gt,gt=Vt}if(Mt===q.length)return l(j,gt),Bt&&hs(j,Mt),pt;if(gt===null){for(;Mt<q.length;Mt++)gt=it(j,q[Mt],tt),gt!==null&&(U=p(gt,U,Mt),Yt===null?pt=gt:Yt.sibling=gt,Yt=gt);return Bt&&hs(j,Mt),pt}for(gt=u(gt);Mt<q.length;Mt++)Vt=$(gt,j,Mt,q[Mt],tt),Vt!==null&&(s&&Vt.alternate!==null&&gt.delete(Vt.key===null?Mt:Vt.key),U=p(Vt,U,Mt),Yt===null?pt=Vt:Yt.sibling=Vt,Yt=Vt);return s&&gt.forEach(function(_r){return a(j,_r)}),Bt&&hs(j,Mt),pt}function vt(j,U,q,tt){if(q==null)throw Error(i(151));for(var pt=null,Yt=null,gt=U,Mt=U=0,Vt=null,Gt=q.next();gt!==null&&!Gt.done;Mt++,Gt=q.next()){gt.index>Mt?(Vt=gt,gt=null):Vt=gt.sibling;var _r=K(j,gt,Gt.value,tt);if(_r===null){gt===null&&(gt=Vt);break}s&&gt&&_r.alternate===null&&a(j,gt),U=p(_r,U,Mt),Yt===null?pt=_r:Yt.sibling=_r,Yt=_r,gt=Vt}if(Gt.done)return l(j,gt),Bt&&hs(j,Mt),pt;if(gt===null){for(;!Gt.done;Mt++,Gt=q.next())Gt=it(j,Gt.value,tt),Gt!==null&&(U=p(Gt,U,Mt),Yt===null?pt=Gt:Yt.sibling=Gt,Yt=Gt);return Bt&&hs(j,Mt),pt}for(gt=u(gt);!Gt.done;Mt++,Gt=q.next())Gt=$(gt,j,Mt,Gt.value,tt),Gt!==null&&(s&&Gt.alternate!==null&&gt.delete(Gt.key===null?Mt:Gt.key),U=p(Gt,U,Mt),Yt===null?pt=Gt:Yt.sibling=Gt,Yt=Gt);return s&&gt.forEach(function(NR){return a(j,NR)}),Bt&&hs(j,Mt),pt}function se(j,U,q,tt){if(typeof q=="object"&&q!==null&&q.type===A&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case S:t:{for(var pt=q.key;U!==null;){if(U.key===pt){if(pt=q.type,pt===A){if(U.tag===7){l(j,U.sibling),tt=g(U,q.props.children),tt.return=j,j=tt;break t}}else if(U.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===C&&ba(pt)===U.type){l(j,U.sibling),tt=g(U,q.props),sc(tt,q),tt.return=j,j=tt;break t}l(j,U);break}else a(j,U);U=U.sibling}q.type===A?(tt=ga(q.props.children,j.mode,tt,q.key),tt.return=j,j=tt):(tt=_h(q.type,q.key,q.props,null,j.mode,tt),sc(tt,q),tt.return=j,j=tt)}return b(j);case R:t:{for(pt=q.key;U!==null;){if(U.key===pt)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){l(j,U.sibling),tt=g(U,q.children||[]),tt.return=j,j=tt;break t}else{l(j,U);break}else a(j,U);U=U.sibling}tt=Em(q,j.mode,tt),tt.return=j,j=tt}return b(j);case C:return q=ba(q),se(j,U,q,tt)}if(wt(q))return mt(j,U,q,tt);if(L(q)){if(pt=L(q),typeof pt!="function")throw Error(i(150));return q=pt.call(q),vt(j,U,q,tt)}if(typeof q.then=="function")return se(j,U,Ah(q),tt);if(q.$$typeof===W)return se(j,U,Eh(j,q),tt);xh(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(l(j,U.sibling),tt=g(U,q),tt.return=j,j=tt):(l(j,U),tt=bm(q,j.mode,tt),tt.return=j,j=tt),b(j)):l(j,U)}return function(j,U,q,tt){try{ic=0;var pt=se(j,U,q,tt);return Co=null,pt}catch(gt){if(gt===Ro||gt===Sh)throw gt;var Yt=On(29,gt,null,j.mode);return Yt.lanes=tt,Yt.return=j,Yt}}}var Ta=y0(!0),_0=y0(!1),er=!1;function km(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nm(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function nr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ir(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var g=u.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),u.pending=a,a=yh(s),e0(s,null,l),a}return ph(s,u,a,l),yh(s)}function rc(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Ol(s,l)}}function Pm(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?g=p=b:p=p.next=b,l=l.next}while(l!==null);p===null?g=p=a:p=p.next=a}else g=p=a;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var Vm=!1;function ac(){if(Vm){var s=xo;if(s!==null)throw s}}function oc(s,a,l,u){Vm=!1;var g=s.updateQueue;er=!1;var p=g.firstBaseUpdate,b=g.lastBaseUpdate,w=g.shared.pending;if(w!==null){g.shared.pending=null;var N=w,Y=N.next;N.next=null,b===null?p=Y:b.next=Y,b=N;var J=s.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==b&&(w===null?J.firstBaseUpdate=Y:w.next=Y,J.lastBaseUpdate=N))}if(p!==null){var it=g.baseState;b=0,J=Y=N=null,w=p;do{var K=w.lane&-536870913,$=K!==w.lane;if($?(Pt&K)===K:(u&K)===K){K!==0&&K===Ao&&(Vm=!0),J!==null&&(J=J.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var mt=s,vt=w;K=a;var se=l;switch(vt.tag){case 1:if(mt=vt.payload,typeof mt=="function"){it=mt.call(se,it,K);break t}it=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=vt.payload,K=typeof mt=="function"?mt.call(se,it,K):mt,K==null)break t;it=_({},it,K);break t;case 2:er=!0}}K=w.callback,K!==null&&(s.flags|=64,$&&(s.flags|=8192),$=g.callbacks,$===null?g.callbacks=[K]:$.push(K))}else $={lane:K,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?(Y=J=$,N=it):J=J.next=$,b|=K;if(w=w.next,w===null){if(w=g.shared.pending,w===null)break;$=w,w=$.next,$.next=null,g.lastBaseUpdate=$,g.shared.pending=null}}while(!0);J===null&&(N=it),g.baseState=N,g.firstBaseUpdate=Y,g.lastBaseUpdate=J,p===null&&(g.shared.lanes=0),lr|=b,s.lanes=b,s.memoizedState=it}}function v0(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function b0(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)v0(l[s],a)}var Io=z(null),Rh=z(0);function E0(s,a){s=Ts,ct(Rh,s),ct(Io,a),Ts=s|a.baseLanes}function Lm(){ct(Rh,Ts),ct(Io,Io.current)}function zm(){Ts=Rh.current,Z(Io),Z(Rh)}var kn=z(null),$n=null;function sr(s){var a=s.alternate;ct(Te,Te.current&1),ct(kn,s),$n===null&&(a===null||Io.current!==null||a.memoizedState!==null)&&($n=s)}function Um(s){ct(Te,Te.current),ct(kn,s),$n===null&&($n=s)}function T0(s){s.tag===22?(ct(Te,Te.current),ct(kn,s),$n===null&&($n=s)):rr()}function rr(){ct(Te,Te.current),ct(kn,kn.current)}function Nn(s){Z(kn),$n===s&&($n=null),Z(Te)}var Te=z(0);function Ch(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Yg(l)||Gg(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ms=0,It=null,ne=null,Oe=null,Ih=!1,Mo=!1,Sa=!1,Mh=0,lc=0,Do=null,wx=0;function _e(){throw Error(i(321))}function Bm(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!Dn(s[l],a[l]))return!1;return!0}function jm(s,a,l,u,g,p){return ms=p,It=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Q.H=s===null||s.memoizedState===null?rv:ng,Sa=!1,p=l(u,g),Sa=!1,Mo&&(p=w0(a,l,u,g)),S0(s),p}function S0(s){Q.H=hc;var a=ne!==null&&ne.next!==null;if(ms=0,Oe=ne=It=null,Ih=!1,lc=0,Do=null,a)throw Error(i(300));s===null||ke||(s=s.dependencies,s!==null&&bh(s)&&(ke=!0))}function w0(s,a,l,u){It=s;var g=0;do{if(Mo&&(Do=null),lc=0,Mo=!1,25<=g)throw Error(i(301));if(g+=1,Oe=ne=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Q.H=av,p=a(l,u)}while(Mo);return p}function Ax(){var s=Q.H,a=s.useState()[0];return a=typeof a.then=="function"?cc(a):a,s=s.useState()[0],(ne!==null?ne.memoizedState:null)!==s&&(It.flags|=1024),a}function Fm(){var s=Mh!==0;return Mh=0,s}function Hm(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function qm(s){if(Ih){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Ih=!1}ms=0,Oe=ne=It=null,Mo=!1,lc=Mh=0,Do=null}function gn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?It.memoizedState=Oe=s:Oe=Oe.next=s,Oe}function Se(){if(ne===null){var s=It.alternate;s=s!==null?s.memoizedState:null}else s=ne.next;var a=Oe===null?It.memoizedState:Oe.next;if(a!==null)Oe=a,ne=s;else{if(s===null)throw It.alternate===null?Error(i(467)):Error(i(310));ne=s,s={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},Oe===null?It.memoizedState=Oe=s:Oe=Oe.next=s}return Oe}function Dh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cc(s){var a=lc;return lc+=1,Do===null&&(Do=[]),s=m0(Do,s,a),a=It,(Oe===null?a.memoizedState:Oe.next)===null&&(a=a.alternate,Q.H=a===null||a.memoizedState===null?rv:ng),s}function Oh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return cc(s);if(s.$$typeof===W)return tn(s)}throw Error(i(438,String(s)))}function Ym(s){var a=null,l=It.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=It.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Dh(),It.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=P;return a.index++,l}function gs(s,a){return typeof a=="function"?a(s):a}function kh(s){var a=Se();return Gm(a,ne,s)}function Gm(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var g=s.baseQueue,p=u.pending;if(p!==null){if(g!==null){var b=g.next;g.next=p.next,p.next=b}a.baseQueue=g=p,u.pending=null}if(p=s.baseState,g===null)s.memoizedState=p;else{a=g.next;var w=b=null,N=null,Y=a,J=!1;do{var it=Y.lane&-536870913;if(it!==Y.lane?(Pt&it)===it:(ms&it)===it){var K=Y.revertLane;if(K===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),it===Ao&&(J=!0);else if((ms&K)===K){Y=Y.next,K===Ao&&(J=!0);continue}else it={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},N===null?(w=N=it,b=p):N=N.next=it,It.lanes|=K,lr|=K;it=Y.action,Sa&&l(p,it),p=Y.hasEagerState?Y.eagerState:l(p,it)}else K={lane:it,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},N===null?(w=N=K,b=p):N=N.next=K,It.lanes|=it,lr|=it;Y=Y.next}while(Y!==null&&Y!==a);if(N===null?b=p:N.next=w,!Dn(p,s.memoizedState)&&(ke=!0,J&&(l=xo,l!==null)))throw l;s.memoizedState=p,s.baseState=b,s.baseQueue=N,u.lastRenderedState=p}return g===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Wm(s){var a=Se(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,g=l.pending,p=a.memoizedState;if(g!==null){l.pending=null;var b=g=g.next;do p=s(p,b.action),b=b.next;while(b!==g);Dn(p,a.memoizedState)||(ke=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,u]}function A0(s,a,l){var u=It,g=Se(),p=Bt;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=a();var b=!Dn((ne||g).memoizedState,l);if(b&&(g.memoizedState=l,ke=!0),g=g.queue,Xm(C0.bind(null,u,g,s),[s]),g.getSnapshot!==a||b||Oe!==null&&Oe.memoizedState.tag&1){if(u.flags|=2048,Oo(9,{destroy:void 0},R0.bind(null,u,g,l,a),null),re===null)throw Error(i(349));p||(ms&127)!==0||x0(u,a,l)}return l}function x0(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=It.updateQueue,a===null?(a=Dh(),It.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function R0(s,a,l,u){a.value=l,a.getSnapshot=u,I0(a)&&M0(s)}function C0(s,a,l){return l(function(){I0(a)&&M0(s)})}function I0(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!Dn(s,l)}catch{return!0}}function M0(s){var a=ma(s,2);a!==null&&Tn(a,s,2)}function Km(s){var a=gn();if(typeof s=="function"){var l=s;if(s=l(),Sa){jn(!0);try{l()}finally{jn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:s},a}function D0(s,a,l,u){return s.baseState=l,Gm(s,ne,typeof u=="function"?u:gs)}function xx(s,a,l,u,g){if(Vh(s))throw Error(i(485));if(s=a.action,s!==null){var p={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};Q.T!==null?l(!0):p.isTransition=!1,u(p),l=a.pending,l===null?(p.next=a.pending=p,O0(a,p)):(p.next=l.next,a.pending=l.next=p)}}function O0(s,a){var l=a.action,u=a.payload,g=s.state;if(a.isTransition){var p=Q.T,b={};Q.T=b;try{var w=l(g,u),N=Q.S;N!==null&&N(b,w),k0(s,a,w)}catch(Y){Qm(s,a,Y)}finally{p!==null&&b.types!==null&&(p.types=b.types),Q.T=p}}else try{p=l(g,u),k0(s,a,p)}catch(Y){Qm(s,a,Y)}}function k0(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){N0(s,a,u)},function(u){return Qm(s,a,u)}):N0(s,a,l)}function N0(s,a,l){a.status="fulfilled",a.value=l,P0(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,O0(s,l)))}function Qm(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,P0(a),a=a.next;while(a!==u)}s.action=null}function P0(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function V0(s,a){return a}function L0(s,a){if(Bt){var l=re.formState;if(l!==null){t:{var u=It;if(Bt){if(ce){e:{for(var g=ce,p=Xn;g.nodeType!==8;){if(!p){g=null;break e}if(g=Jn(g.nextSibling),g===null){g=null;break e}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){ce=Jn(g.nextSibling),u=g.data==="F!";break t}}Zs(u)}u=!1}u&&(a=l[0])}}return l=gn(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:V0,lastRenderedState:a},l.queue=u,l=nv.bind(null,It,u),u.dispatch=l,u=Km(!1),p=eg.bind(null,It,!1,u.queue),u=gn(),g={state:a,dispatch:null,action:s,pending:null},u.queue=g,l=xx.bind(null,It,g,p,l),g.dispatch=l,u.memoizedState=s,[a,l,!1]}function z0(s){var a=Se();return U0(a,ne,s)}function U0(s,a,l){if(a=Gm(s,a,V0)[0],s=kh(gs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=cc(a)}catch(b){throw b===Ro?Sh:b}else u=a;a=Se();var g=a.queue,p=g.dispatch;return l!==a.memoizedState&&(It.flags|=2048,Oo(9,{destroy:void 0},Rx.bind(null,g,l),null)),[u,p,s]}function Rx(s,a){s.action=a}function B0(s){var a=Se(),l=ne;if(l!==null)return U0(a,l,s);Se(),a=a.memoizedState,l=Se();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function Oo(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=It.updateQueue,a===null&&(a=Dh(),It.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function j0(){return Se().memoizedState}function Nh(s,a,l,u){var g=gn();It.flags|=s,g.memoizedState=Oo(1|a,{destroy:void 0},l,u===void 0?null:u)}function Ph(s,a,l,u){var g=Se();u=u===void 0?null:u;var p=g.memoizedState.inst;ne!==null&&u!==null&&Bm(u,ne.memoizedState.deps)?g.memoizedState=Oo(a,p,l,u):(It.flags|=s,g.memoizedState=Oo(1|a,p,l,u))}function F0(s,a){Nh(8390656,8,s,a)}function Xm(s,a){Ph(2048,8,s,a)}function Cx(s){It.flags|=4;var a=It.updateQueue;if(a===null)a=Dh(),It.updateQueue=a,a.events=[s];else{var l=a.events;l===null?a.events=[s]:l.push(s)}}function H0(s){var a=Se().memoizedState;return Cx({ref:a,nextImpl:s}),function(){if((Kt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function q0(s,a){return Ph(4,2,s,a)}function Y0(s,a){return Ph(4,4,s,a)}function G0(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function W0(s,a,l){l=l!=null?l.concat([s]):null,Ph(4,4,G0.bind(null,a,s),l)}function $m(){}function K0(s,a){var l=Se();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&Bm(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function Q0(s,a){var l=Se();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&Bm(a,u[1]))return u[0];if(u=s(),Sa){jn(!0);try{s()}finally{jn(!1)}}return l.memoizedState=[u,a],u}function Jm(s,a,l){return l===void 0||(ms&1073741824)!==0&&(Pt&261930)===0?s.memoizedState=a:(s.memoizedState=l,s=Xv(),It.lanes|=s,lr|=s,l)}function X0(s,a,l,u){return Dn(l,a)?l:Io.current!==null?(s=Jm(s,l,u),Dn(s,a)||(ke=!0),s):(ms&42)===0||(ms&1073741824)!==0&&(Pt&261930)===0?(ke=!0,s.memoizedState=l):(s=Xv(),It.lanes|=s,lr|=s,a)}function $0(s,a,l,u,g){var p=at.p;at.p=p!==0&&8>p?p:8;var b=Q.T,w={};Q.T=w,eg(s,!1,a,l);try{var N=g(),Y=Q.S;if(Y!==null&&Y(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var J=Sx(N,u);uc(s,a,J,Ln(s))}else uc(s,a,u,Ln(s))}catch(it){uc(s,a,{then:function(){},status:"rejected",reason:it},Ln())}finally{at.p=p,b!==null&&w.types!==null&&(b.types=w.types),Q.T=b}}function Ix(){}function Zm(s,a,l,u){if(s.tag!==5)throw Error(i(476));var g=J0(s).queue;$0(s,g,a,dt,l===null?Ix:function(){return Z0(s),l(u)})}function J0(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:dt},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Z0(s){var a=J0(s);a.next===null&&(a=s.alternate.memoizedState),uc(s,a.next.queue,{},Ln())}function tg(){return tn(Rc)}function tv(){return Se().memoizedState}function ev(){return Se().memoizedState}function Mx(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Ln();s=nr(l);var u=ir(a,s,l);u!==null&&(Tn(u,a,l),rc(u,a,l)),a={cache:Im()},s.payload=a;return}a=a.return}}function Dx(s,a,l){var u=Ln();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Vh(s)?iv(a,l):(l=_m(s,a,l,u),l!==null&&(Tn(l,s,u),sv(l,a,u)))}function nv(s,a,l){var u=Ln();uc(s,a,l,u)}function uc(s,a,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Vh(s))iv(a,g);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var b=a.lastRenderedState,w=p(b,l);if(g.hasEagerState=!0,g.eagerState=w,Dn(w,b))return ph(s,a,g,0),re===null&&gh(),!1}catch{}if(l=_m(s,a,g,u),l!==null)return Tn(l,s,u),sv(l,a,u),!0}return!1}function eg(s,a,l,u){if(u={lane:2,revertLane:kg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Vh(s)){if(a)throw Error(i(479))}else a=_m(s,l,u,2),a!==null&&Tn(a,s,2)}function Vh(s){var a=s.alternate;return s===It||a!==null&&a===It}function iv(s,a){Mo=Ih=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function sv(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Ol(s,l)}}var hc={readContext:tn,use:Oh,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e};hc.useEffectEvent=_e;var rv={readContext:tn,use:Oh,useCallback:function(s,a){return gn().memoizedState=[s,a===void 0?null:a],s},useContext:tn,useEffect:F0,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Nh(4194308,4,G0.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Nh(4194308,4,s,a)},useInsertionEffect:function(s,a){Nh(4,2,s,a)},useMemo:function(s,a){var l=gn();a=a===void 0?null:a;var u=s();if(Sa){jn(!0);try{s()}finally{jn(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=gn();if(l!==void 0){var g=l(a);if(Sa){jn(!0);try{l(a)}finally{jn(!1)}}}else g=a;return u.memoizedState=u.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},u.queue=s,s=s.dispatch=Dx.bind(null,It,s),[u.memoizedState,s]},useRef:function(s){var a=gn();return s={current:s},a.memoizedState=s},useState:function(s){s=Km(s);var a=s.queue,l=nv.bind(null,It,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:$m,useDeferredValue:function(s,a){var l=gn();return Jm(l,s,a)},useTransition:function(){var s=Km(!1);return s=$0.bind(null,It,s.queue,!0,!1),gn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=It,g=gn();if(Bt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),re===null)throw Error(i(349));(Pt&127)!==0||x0(u,a,l)}g.memoizedState=l;var p={value:l,getSnapshot:a};return g.queue=p,F0(C0.bind(null,u,p,s),[s]),u.flags|=2048,Oo(9,{destroy:void 0},R0.bind(null,u,p,l,a),null),l},useId:function(){var s=gn(),a=re.identifierPrefix;if(Bt){var l=Hi,u=Fi;l=(u&~(1<<32-be(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Mh++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=wx++,a="_"+a+"r_"+l.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:tg,useFormState:L0,useActionState:L0,useOptimistic:function(s){var a=gn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=eg.bind(null,It,!0,l),l.dispatch=a,[s,a]},useMemoCache:Ym,useCacheRefresh:function(){return gn().memoizedState=Mx.bind(null,It)},useEffectEvent:function(s){var a=gn(),l={impl:s};return a.memoizedState=l,function(){if((Kt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},ng={readContext:tn,use:Oh,useCallback:K0,useContext:tn,useEffect:Xm,useImperativeHandle:W0,useInsertionEffect:q0,useLayoutEffect:Y0,useMemo:Q0,useReducer:kh,useRef:j0,useState:function(){return kh(gs)},useDebugValue:$m,useDeferredValue:function(s,a){var l=Se();return X0(l,ne.memoizedState,s,a)},useTransition:function(){var s=kh(gs)[0],a=Se().memoizedState;return[typeof s=="boolean"?s:cc(s),a]},useSyncExternalStore:A0,useId:tv,useHostTransitionStatus:tg,useFormState:z0,useActionState:z0,useOptimistic:function(s,a){var l=Se();return D0(l,ne,s,a)},useMemoCache:Ym,useCacheRefresh:ev};ng.useEffectEvent=H0;var av={readContext:tn,use:Oh,useCallback:K0,useContext:tn,useEffect:Xm,useImperativeHandle:W0,useInsertionEffect:q0,useLayoutEffect:Y0,useMemo:Q0,useReducer:Wm,useRef:j0,useState:function(){return Wm(gs)},useDebugValue:$m,useDeferredValue:function(s,a){var l=Se();return ne===null?Jm(l,s,a):X0(l,ne.memoizedState,s,a)},useTransition:function(){var s=Wm(gs)[0],a=Se().memoizedState;return[typeof s=="boolean"?s:cc(s),a]},useSyncExternalStore:A0,useId:tv,useHostTransitionStatus:tg,useFormState:B0,useActionState:B0,useOptimistic:function(s,a){var l=Se();return ne!==null?D0(l,ne,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Ym,useCacheRefresh:ev};av.useEffectEvent=H0;function ig(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:_({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var sg={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=Ln(),g=nr(u);g.payload=a,l!=null&&(g.callback=l),a=ir(s,g,u),a!==null&&(Tn(a,s,u),rc(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=Ln(),g=nr(u);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=ir(s,g,u),a!==null&&(Tn(a,s,u),rc(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Ln(),u=nr(l);u.tag=2,a!=null&&(u.callback=a),a=ir(s,u,l),a!==null&&(Tn(a,s,l),rc(a,s,l))}};function ov(s,a,l,u,g,p,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,b):a.prototype&&a.prototype.isPureReactComponent?!$l(l,u)||!$l(g,p):!0}function lv(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&sg.enqueueReplaceState(a,a.state,null)}function wa(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=_({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}function cv(s){mh(s)}function uv(s){console.error(s)}function hv(s){mh(s)}function Lh(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function fv(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function rg(s,a,l){return l=nr(l),l.tag=3,l.payload={element:null},l.callback=function(){Lh(s,a)},l}function dv(s){return s=nr(s),s.tag=3,s}function mv(s,a,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var p=u.value;s.payload=function(){return g(p)},s.callback=function(){fv(a,l,u)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(s.callback=function(){fv(a,l,u),typeof g!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function Ox(s,a,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&wo(a,l,g,!0),l=kn.current,l!==null){switch(l.tag){case 31:case 13:return $n===null?Qh():l.alternate===null&&ve===0&&(ve=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===wh?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Mg(s,u,g)),!1;case 22:return l.flags|=65536,u===wh?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Mg(s,u,g)),!1}throw Error(i(435,l.tag))}return Mg(s,u,g),Qh(),!1}if(Bt)return a=kn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,u!==wm&&(s=Error(i(422),{cause:u}),tc(Wn(s,l)))):(u!==wm&&(a=Error(i(423),{cause:u}),tc(Wn(a,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,u=Wn(u,l),g=rg(s.stateNode,u,g),Pm(s,g),ve!==4&&(ve=2)),!1;var p=Error(i(520),{cause:u});if(p=Wn(p,l),vc===null?vc=[p]:vc.push(p),ve!==4&&(ve=2),a===null)return!0;u=Wn(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=rg(l.stateNode,u,s),Pm(l,s),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(cr===null||!cr.has(p))))return l.flags|=65536,g&=-g,l.lanes|=g,g=dv(g),mv(g,s,l,u),Pm(l,g),!1}l=l.return}while(l!==null);return!1}var ag=Error(i(461)),ke=!1;function en(s,a,l,u){a.child=s===null?_0(a,null,l,u):Ta(a,s.child,l,u)}function gv(s,a,l,u,g){l=l.render;var p=a.ref;if("ref"in u){var b={};for(var w in u)w!=="ref"&&(b[w]=u[w])}else b=u;return _a(a),u=jm(s,a,l,b,p,g),w=Fm(),s!==null&&!ke?(Hm(s,a,g),ps(s,a,g)):(Bt&&w&&Tm(a),a.flags|=1,en(s,a,u,g),a.child)}function pv(s,a,l,u,g){if(s===null){var p=l.type;return typeof p=="function"&&!vm(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,yv(s,a,p,u,g)):(s=_h(l.type,null,u,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(p=s.child,!mg(s,g)){var b=p.memoizedProps;if(l=l.compare,l=l!==null?l:$l,l(b,u)&&s.ref===a.ref)return ps(s,a,g)}return a.flags|=1,s=us(p,u),s.ref=a.ref,s.return=a,a.child=s}function yv(s,a,l,u,g){if(s!==null){var p=s.memoizedProps;if($l(p,u)&&s.ref===a.ref)if(ke=!1,a.pendingProps=u=p,mg(s,g))(s.flags&131072)!==0&&(ke=!0);else return a.lanes=s.lanes,ps(s,a,g)}return og(s,a,l,u,g)}function _v(s,a,l,u){var g=u.children,p=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,s!==null){for(u=a.child=s.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~p}else u=0,a.child=null;return vv(s,a,p,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Th(a,p!==null?p.cachePool:null),p!==null?E0(a,p):Lm(),T0(a);else return u=a.lanes=536870912,vv(s,a,p!==null?p.baseLanes|l:l,l,u)}else p!==null?(Th(a,p.cachePool),E0(a,p),rr(),a.memoizedState=null):(s!==null&&Th(a,null),Lm(),rr());return en(s,a,g,l),a.child}function fc(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function vv(s,a,l,u,g){var p=Dm();return p=p===null?null:{parent:De._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},s!==null&&Th(a,null),Lm(),T0(a),s!==null&&wo(s,a,u,!0),a.childLanes=g,null}function zh(s,a){return a=Bh({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function bv(s,a,l){return Ta(a,s.child,null,l),s=zh(a,a.pendingProps),s.flags|=2,Nn(a),a.memoizedState=null,s}function kx(s,a,l){var u=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Bt){if(u.mode==="hidden")return s=zh(a,u),a.lanes=536870912,fc(null,s);if(Um(a),(s=ce)?(s=Ob(s,Xn),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:$s!==null?{id:Fi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},l=i0(s),l.return=a,a.child=l,Ze=a,ce=null)):s=null,s===null)throw Zs(a);return a.lanes=536870912,null}return zh(a,u)}var p=s.memoizedState;if(p!==null){var b=p.dehydrated;if(Um(a),g)if(a.flags&256)a.flags&=-257,a=bv(s,a,l);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(ke||wo(s,a,l,!1),g=(l&s.childLanes)!==0,ke||g){if(u=re,u!==null&&(b=kl(u,l),b!==0&&b!==p.retryLane))throw p.retryLane=b,ma(s,b),Tn(u,s,b),ag;Qh(),a=bv(s,a,l)}else s=p.treeContext,ce=Jn(b.nextSibling),Ze=a,Bt=!0,Js=null,Xn=!1,s!==null&&a0(a,s),a=zh(a,u),a.flags|=4096;return a}return s=us(s.child,{mode:u.mode,children:u.children}),s.ref=a.ref,a.child=s,s.return=a,s}function Uh(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function og(s,a,l,u,g){return _a(a),l=jm(s,a,l,u,void 0,g),u=Fm(),s!==null&&!ke?(Hm(s,a,g),ps(s,a,g)):(Bt&&u&&Tm(a),a.flags|=1,en(s,a,l,g),a.child)}function Ev(s,a,l,u,g,p){return _a(a),a.updateQueue=null,l=w0(a,u,l,g),S0(s),u=Fm(),s!==null&&!ke?(Hm(s,a,p),ps(s,a,p)):(Bt&&u&&Tm(a),a.flags|=1,en(s,a,l,p),a.child)}function Tv(s,a,l,u,g){if(_a(a),a.stateNode===null){var p=bo,b=l.contextType;typeof b=="object"&&b!==null&&(p=tn(b)),p=new l(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=sg,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},km(a),b=l.contextType,p.context=typeof b=="object"&&b!==null?tn(b):bo,p.state=a.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(ig(a,l,b,u),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&sg.enqueueReplaceState(p,p.state,null),oc(a,u,p,g),ac(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){p=a.stateNode;var w=a.memoizedProps,N=wa(l,w);p.props=N;var Y=p.context,J=l.contextType;b=bo,typeof J=="object"&&J!==null&&(b=tn(J));var it=l.getDerivedStateFromProps;J=typeof it=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=a.pendingProps!==w,J||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||Y!==b)&&lv(a,p,u,b),er=!1;var K=a.memoizedState;p.state=K,oc(a,u,p,g),ac(),Y=a.memoizedState,w||K!==Y||er?(typeof it=="function"&&(ig(a,l,it,u),Y=a.memoizedState),(N=er||ov(a,l,N,u,K,Y,b))?(J||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=Y),p.props=u,p.state=Y,p.context=b,u=N):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,Nm(s,a),b=a.memoizedProps,J=wa(l,b),p.props=J,it=a.pendingProps,K=p.context,Y=l.contextType,N=bo,typeof Y=="object"&&Y!==null&&(N=tn(Y)),w=l.getDerivedStateFromProps,(Y=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==it||K!==N)&&lv(a,p,u,N),er=!1,K=a.memoizedState,p.state=K,oc(a,u,p,g),ac();var $=a.memoizedState;b!==it||K!==$||er||s!==null&&s.dependencies!==null&&bh(s.dependencies)?(typeof w=="function"&&(ig(a,l,w,u),$=a.memoizedState),(J=er||ov(a,l,J,u,K,$,N)||s!==null&&s.dependencies!==null&&bh(s.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,$,N),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,$,N)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&K===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&K===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=$),p.props=u,p.state=$,p.context=N,u=J):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&K===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&K===s.memoizedState||(a.flags|=1024),u=!1)}return p=u,Uh(s,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,s!==null&&u?(a.child=Ta(a,s.child,null,g),a.child=Ta(a,null,l,g)):en(s,a,l,g),a.memoizedState=p.state,s=a.child):s=ps(s,a,g),s}function Sv(s,a,l,u){return pa(),a.flags|=256,en(s,a,l,u),a.child}var lg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cg(s){return{baseLanes:s,cachePool:f0()}}function ug(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Vn),s}function wv(s,a,l){var u=a.pendingProps,g=!1,p=(a.flags&128)!==0,b;if((b=p)||(b=s!==null&&s.memoizedState===null?!1:(Te.current&2)!==0),b&&(g=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,s===null){if(Bt){if(g?sr(a):rr(),(s=ce)?(s=Ob(s,Xn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:$s!==null?{id:Fi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},l=i0(s),l.return=a,a.child=l,Ze=a,ce=null)):s=null,s===null)throw Zs(a);return Gg(s)?a.lanes=32:a.lanes=536870912,null}var w=u.children;return u=u.fallback,g?(rr(),g=a.mode,w=Bh({mode:"hidden",children:w},g),u=ga(u,g,l,null),w.return=a,u.return=a,w.sibling=u,a.child=w,u=a.child,u.memoizedState=cg(l),u.childLanes=ug(s,b,l),a.memoizedState=lg,fc(null,u)):(sr(a),hg(a,w))}var N=s.memoizedState;if(N!==null&&(w=N.dehydrated,w!==null)){if(p)a.flags&256?(sr(a),a.flags&=-257,a=fg(s,a,l)):a.memoizedState!==null?(rr(),a.child=s.child,a.flags|=128,a=null):(rr(),w=u.fallback,g=a.mode,u=Bh({mode:"visible",children:u.children},g),w=ga(w,g,l,null),w.flags|=2,u.return=a,w.return=a,u.sibling=w,a.child=u,Ta(a,s.child,null,l),u=a.child,u.memoizedState=cg(l),u.childLanes=ug(s,b,l),a.memoizedState=lg,a=fc(null,u));else if(sr(a),Gg(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var Y=b.dgst;b=Y,u=Error(i(419)),u.stack="",u.digest=b,tc({value:u,source:null,stack:null}),a=fg(s,a,l)}else if(ke||wo(s,a,l,!1),b=(l&s.childLanes)!==0,ke||b){if(b=re,b!==null&&(u=kl(b,l),u!==0&&u!==N.retryLane))throw N.retryLane=u,ma(s,u),Tn(b,s,u),ag;Yg(w)||Qh(),a=fg(s,a,l)}else Yg(w)?(a.flags|=192,a.child=s.child,a=null):(s=N.treeContext,ce=Jn(w.nextSibling),Ze=a,Bt=!0,Js=null,Xn=!1,s!==null&&a0(a,s),a=hg(a,u.children),a.flags|=4096);return a}return g?(rr(),w=u.fallback,g=a.mode,N=s.child,Y=N.sibling,u=us(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,Y!==null?w=us(Y,w):(w=ga(w,g,l,null),w.flags|=2),w.return=a,u.return=a,u.sibling=w,a.child=u,fc(null,u),u=a.child,w=s.child.memoizedState,w===null?w=cg(l):(g=w.cachePool,g!==null?(N=De._currentValue,g=g.parent!==N?{parent:N,pool:N}:g):g=f0(),w={baseLanes:w.baseLanes|l,cachePool:g}),u.memoizedState=w,u.childLanes=ug(s,b,l),a.memoizedState=lg,fc(s.child,u)):(sr(a),l=s.child,s=l.sibling,l=us(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(b=a.deletions,b===null?(a.deletions=[s],a.flags|=16):b.push(s)),a.child=l,a.memoizedState=null,l)}function hg(s,a){return a=Bh({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Bh(s,a){return s=On(22,s,null,a),s.lanes=0,s}function fg(s,a,l){return Ta(a,s.child,null,l),s=hg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Av(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),Rm(s.return,a,l)}function dg(s,a,l,u,g,p){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:p}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=l,b.tailMode=g,b.treeForkCount=p)}function xv(s,a,l){var u=a.pendingProps,g=u.revealOrder,p=u.tail;u=u.children;var b=Te.current,w=(b&2)!==0;if(w?(b=b&1|2,a.flags|=128):b&=1,ct(Te,b),en(s,a,u,l),u=Bt?Zl:0,!w&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Av(s,l,a);else if(s.tag===19)Av(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(l=a.child,g=null;l!==null;)s=l.alternate,s!==null&&Ch(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),dg(a,!1,g,l,p,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Ch(s)===null){a.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}dg(a,!0,l,null,p,u);break;case"together":dg(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function ps(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),lr|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(wo(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=us(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=us(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function mg(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&bh(s)))}function Nx(s,a,l){switch(a.tag){case 3:Be(a,a.stateNode.containerInfo),tr(a,De,s.memoizedState.cache),pa();break;case 27:case 5:Xr(a);break;case 4:Be(a,a.stateNode.containerInfo);break;case 10:tr(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Um(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(sr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?wv(s,a,l):(sr(a),s=ps(s,a,l),s!==null?s.sibling:null);sr(a);break;case 19:var g=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(wo(s,a,l,!1),u=(l&a.childLanes)!==0),g){if(u)return xv(s,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ct(Te,Te.current),u)break;return null;case 22:return a.lanes=0,_v(s,a,l,a.pendingProps);case 24:tr(a,De,s.memoizedState.cache)}return ps(s,a,l)}function Rv(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)ke=!0;else{if(!mg(s,l)&&(a.flags&128)===0)return ke=!1,Nx(s,a,l);ke=(s.flags&131072)!==0}else ke=!1,Bt&&(a.flags&1048576)!==0&&r0(a,Zl,a.index);switch(a.lanes=0,a.tag){case 16:t:{var u=a.pendingProps;if(s=ba(a.elementType),a.type=s,typeof s=="function")vm(s)?(u=wa(s,u),a.tag=1,a=Tv(null,a,s,u,l)):(a.tag=0,a=og(null,a,s,u,l));else{if(s!=null){var g=s.$$typeof;if(g===rt){a.tag=11,a=gv(null,a,s,u,l);break t}else if(g===M){a.tag=14,a=pv(null,a,s,u,l);break t}}throw a=Dt(s)||s,Error(i(306,a,""))}}return a;case 0:return og(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,g=wa(u,a.pendingProps),Tv(s,a,u,g,l);case 3:t:{if(Be(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var p=a.memoizedState;g=p.element,Nm(s,a),oc(a,u,null,l);var b=a.memoizedState;if(u=b.cache,tr(a,De,u),u!==p.cache&&Cm(a,[De],l,!0),ac(),u=b.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=Sv(s,a,u,l);break t}else if(u!==g){g=Wn(Error(i(424)),a),tc(g),a=Sv(s,a,u,l);break t}else for(s=a.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,ce=Jn(s.firstChild),Ze=a,Bt=!0,Js=null,Xn=!0,l=_0(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(pa(),u===g){a=ps(s,a,l);break t}en(s,a,u,l)}a=a.child}return a;case 26:return Uh(s,a),s===null?(l=zb(a.type,null,a.pendingProps,null))?a.memoizedState=l:Bt||(l=a.type,s=a.pendingProps,u=nf(Et.current).createElement(l),u[Ce]=a,u[We]=s,nn(u,l,s),Ie(u),a.stateNode=u):a.memoizedState=zb(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Xr(a),s===null&&Bt&&(u=a.stateNode=Pb(a.type,a.pendingProps,Et.current),Ze=a,Xn=!0,g=ce,dr(a.type)?(Wg=g,ce=Jn(u.firstChild)):ce=g),en(s,a,a.pendingProps.children,l),Uh(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Bt&&((g=u=ce)&&(u=uR(u,a.type,a.pendingProps,Xn),u!==null?(a.stateNode=u,Ze=a,ce=Jn(u.firstChild),Xn=!1,g=!0):g=!1),g||Zs(a)),Xr(a),g=a.type,p=a.pendingProps,b=s!==null?s.memoizedProps:null,u=p.children,Fg(g,p)?u=null:b!==null&&Fg(g,b)&&(a.flags|=32),a.memoizedState!==null&&(g=jm(s,a,Ax,null,null,l),Rc._currentValue=g),Uh(s,a),en(s,a,u,l),a.child;case 6:return s===null&&Bt&&((s=l=ce)&&(l=hR(l,a.pendingProps,Xn),l!==null?(a.stateNode=l,Ze=a,ce=null,s=!0):s=!1),s||Zs(a)),null;case 13:return wv(s,a,l);case 4:return Be(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=Ta(a,null,u,l):en(s,a,u,l),a.child;case 11:return gv(s,a,a.type,a.pendingProps,l);case 7:return en(s,a,a.pendingProps,l),a.child;case 8:return en(s,a,a.pendingProps.children,l),a.child;case 12:return en(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,tr(a,a.type,u.value),en(s,a,u.children,l),a.child;case 9:return g=a.type._context,u=a.pendingProps.children,_a(a),g=tn(g),u=u(g),a.flags|=1,en(s,a,u,l),a.child;case 14:return pv(s,a,a.type,a.pendingProps,l);case 15:return yv(s,a,a.type,a.pendingProps,l);case 19:return xv(s,a,l);case 31:return kx(s,a,l);case 22:return _v(s,a,l,a.pendingProps);case 24:return _a(a),u=tn(De),s===null?(g=Dm(),g===null&&(g=re,p=Im(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=l),g=p),a.memoizedState={parent:u,cache:g},km(a),tr(a,De,g)):((s.lanes&l)!==0&&(Nm(s,a),oc(a,null,null,l),ac()),g=s.memoizedState,p=a.memoizedState,g.parent!==u?(g={parent:u,cache:u},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),tr(a,De,u)):(u=p.cache,tr(a,De,u),u!==g.cache&&Cm(a,[De],l,!0))),en(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ys(s){s.flags|=4}function gg(s,a,l,u,g){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(tb())s.flags|=8192;else throw Ea=wh,Om}else s.flags&=-16777217}function Cv(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Hb(a))if(tb())s.flags|=8192;else throw Ea=wh,Om}function jh(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Wu():536870912,s.lanes|=a,Vo|=a)}function dc(s,a){if(!Bt)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function ue(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function Px(s,a,l){var u=a.pendingProps;switch(Sm(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(a),null;case 1:return ue(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),ds(De),de(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(So(a)?ys(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Am())),ue(a),null;case 26:var g=a.type,p=a.memoizedState;return s===null?(ys(a),p!==null?(ue(a),Cv(a,p)):(ue(a),gg(a,g,null,u,l))):p?p!==s.memoizedState?(ys(a),ue(a),Cv(a,p)):(ue(a),a.flags&=-16777217):(s=s.memoizedProps,s!==u&&ys(a),ue(a),gg(a,g,s,u,l)),null;case 27:if(to(a),l=Et.current,g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ys(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return ue(a),null}s=ut.current,So(a)?o0(a):(s=Pb(g,u,l),a.stateNode=s,ys(a))}return ue(a),null;case 5:if(to(a),g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ys(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return ue(a),null}if(p=ut.current,So(a))o0(a);else{var b=nf(Et.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?b.createElement(g,{is:u.is}):b.createElement(g)}}p[Ce]=a,p[We]=u;t:for(b=a.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===a)break t;for(;b.sibling===null;){if(b.return===null||b.return===a)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}a.stateNode=p;t:switch(nn(p,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&ys(a)}}return ue(a),gg(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,l),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&ys(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=Et.current,So(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,g=Ze,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}s[Ce]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||wb(s.nodeValue,l)),s||Zs(a,!0)}else s=nf(s).createTextNode(u),s[Ce]=a,a.stateNode=s}return ue(a),null;case 31:if(l=a.memoizedState,s===null||s.memoizedState!==null){if(u=So(a),l!==null){if(s===null){if(!u)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Ce]=a}else pa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ue(a),s=!1}else l=Am(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return a.flags&256?(Nn(a),a):(Nn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return ue(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=So(a),u!==null&&u.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Ce]=a}else pa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ue(a),g=!1}else g=Am(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Nn(a),a):(Nn(a),null)}return Nn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=a.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==g&&(u.flags|=2048)),l!==s&&l&&(a.child.flags|=8192),jh(a,a.updateQueue),ue(a),null);case 4:return de(),s===null&&Lg(a.stateNode.containerInfo),ue(a),null;case 10:return ds(a.type),ue(a),null;case 19:if(Z(Te),u=a.memoizedState,u===null)return ue(a),null;if(g=(a.flags&128)!==0,p=u.rendering,p===null)if(g)dc(u,!1);else{if(ve!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(p=Ch(s),p!==null){for(a.flags|=128,dc(u,!1),s=p.updateQueue,a.updateQueue=s,jh(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)n0(l,s),l=l.sibling;return ct(Te,Te.current&1|2),Bt&&hs(a,u.treeForkCount),a.child}s=s.sibling}u.tail!==null&&dn()>Gh&&(a.flags|=128,g=!0,dc(u,!1),a.lanes=4194304)}else{if(!g)if(s=Ch(p),s!==null){if(a.flags|=128,g=!0,s=s.updateQueue,a.updateQueue=s,jh(a,s),dc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Bt)return ue(a),null}else 2*dn()-u.renderingStartTime>Gh&&l!==536870912&&(a.flags|=128,g=!0,dc(u,!1),a.lanes=4194304);u.isBackwards?(p.sibling=a.child,a.child=p):(s=u.last,s!==null?s.sibling=p:a.child=p,u.last=p)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=dn(),s.sibling=null,l=Te.current,ct(Te,g?l&1|2:l&1),Bt&&hs(a,u.treeForkCount),s):(ue(a),null);case 22:case 23:return Nn(a),zm(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(ue(a),a.subtreeFlags&6&&(a.flags|=8192)):ue(a),l=a.updateQueue,l!==null&&jh(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&Z(va),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ds(De),ue(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function Vx(s,a){switch(Sm(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ds(De),de(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return to(a),null;case 31:if(a.memoizedState!==null){if(Nn(a),a.alternate===null)throw Error(i(340));pa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(Nn(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));pa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Z(Te),null;case 4:return de(),null;case 10:return ds(a.type),null;case 22:case 23:return Nn(a),zm(),s!==null&&Z(va),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return ds(De),null;case 25:return null;default:return null}}function Iv(s,a){switch(Sm(a),a.tag){case 3:ds(De),de();break;case 26:case 27:case 5:to(a);break;case 4:de();break;case 31:a.memoizedState!==null&&Nn(a);break;case 13:Nn(a);break;case 19:Z(Te);break;case 10:ds(a.type);break;case 22:case 23:Nn(a),zm(),s!==null&&Z(va);break;case 24:ds(De)}}function mc(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&s)===s){u=void 0;var p=l.create,b=l.inst;u=p(),b.destroy=u}l=l.next}while(l!==g)}}catch(w){Jt(a,a.return,w)}}function ar(s,a,l){try{var u=a.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var p=g.next;u=p;do{if((u.tag&s)===s){var b=u.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,g=a;var N=l,Y=w;try{Y()}catch(J){Jt(g,N,J)}}}u=u.next}while(u!==p)}}catch(J){Jt(a,a.return,J)}}function Mv(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{b0(a,l)}catch(u){Jt(s,s.return,u)}}}function Dv(s,a,l){l.props=wa(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){Jt(s,a,u)}}function gc(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(g){Jt(s,a,g)}}function qi(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Jt(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Jt(s,a,g)}else l.current=null}function Ov(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Jt(s,s.return,g)}}function pg(s,a,l){try{var u=s.stateNode;sR(u,s.type,l,a),u[We]=a}catch(g){Jt(s,s.return,g)}}function kv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&dr(s.type)||s.tag===4}function yg(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||kv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&dr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function _g(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=fi));else if(u!==4&&(u===27&&dr(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(_g(s,a,l),s=s.sibling;s!==null;)_g(s,a,l),s=s.sibling}function Fh(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&dr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Fh(s,a,l),s=s.sibling;s!==null;)Fh(s,a,l),s=s.sibling}function Nv(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);nn(a,u,l),a[Ce]=s,a[We]=l}catch(p){Jt(s,s.return,p)}}var _s=!1,Ne=!1,vg=!1,Pv=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Lx(s,a){if(s=s.containerInfo,Bg=uf,s=W_(s),fm(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var b=0,w=-1,N=-1,Y=0,J=0,it=s,K=null;e:for(;;){for(var $;it!==l||g!==0&&it.nodeType!==3||(w=b+g),it!==p||u!==0&&it.nodeType!==3||(N=b+u),it.nodeType===3&&(b+=it.nodeValue.length),($=it.firstChild)!==null;)K=it,it=$;for(;;){if(it===s)break e;if(K===l&&++Y===g&&(w=b),K===p&&++J===u&&(N=b),($=it.nextSibling)!==null)break;it=K,K=it.parentNode}it=$}l=w===-1||N===-1?null:{start:w,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(jg={focusedElem:s,selectionRange:l},uf=!1,Qe=a;Qe!==null;)if(a=Qe,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Qe=s;else for(;Qe!==null;){switch(a=Qe,p=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)g=s[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=a,g=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var mt=wa(l.type,g);s=u.getSnapshotBeforeUpdate(mt,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(vt){Jt(l,l.return,vt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)qg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":qg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Qe=s;break}Qe=a.return}}function Vv(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:bs(s,l),u&4&&mc(5,l);break;case 1:if(bs(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(b){Jt(l,l.return,b)}else{var g=wa(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(b){Jt(l,l.return,b)}}u&64&&Mv(l),u&512&&gc(l,l.return);break;case 3:if(bs(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{b0(s,a)}catch(b){Jt(l,l.return,b)}}break;case 27:a===null&&u&4&&Nv(l);case 26:case 5:bs(s,l),a===null&&u&4&&Ov(l),u&512&&gc(l,l.return);break;case 12:bs(s,l);break;case 31:bs(s,l),u&4&&Uv(s,l);break;case 13:bs(s,l),u&4&&Bv(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=Gx.bind(null,l),fR(s,l))));break;case 22:if(u=l.memoizedState!==null||_s,!u){a=a!==null&&a.memoizedState!==null||Ne,g=_s;var p=Ne;_s=u,(Ne=a)&&!p?Es(s,l,(l.subtreeFlags&8772)!==0):bs(s,l),_s=g,Ne=p}break;case 30:break;default:bs(s,l)}}function Lv(s){var a=s.alternate;a!==null&&(s.alternate=null,Lv(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&ro(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ge=null,_n=!1;function vs(s,a,l){for(l=l.child;l!==null;)zv(s,a,l),l=l.sibling}function zv(s,a,l){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(li,l)}catch{}switch(l.tag){case 26:Ne||qi(l,a),vs(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ne||qi(l,a);var u=ge,g=_n;dr(l.type)&&(ge=l.stateNode,_n=!1),vs(s,a,l),wc(l.stateNode),ge=u,_n=g;break;case 5:Ne||qi(l,a);case 6:if(u=ge,g=_n,ge=null,vs(s,a,l),ge=u,_n=g,ge!==null)if(_n)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(l.stateNode)}catch(p){Jt(l,a,p)}else try{ge.removeChild(l.stateNode)}catch(p){Jt(l,a,p)}break;case 18:ge!==null&&(_n?(s=ge,Mb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),qo(s)):Mb(ge,l.stateNode));break;case 4:u=ge,g=_n,ge=l.stateNode.containerInfo,_n=!0,vs(s,a,l),ge=u,_n=g;break;case 0:case 11:case 14:case 15:ar(2,l,a),Ne||ar(4,l,a),vs(s,a,l);break;case 1:Ne||(qi(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Dv(l,a,u)),vs(s,a,l);break;case 21:vs(s,a,l);break;case 22:Ne=(u=Ne)||l.memoizedState!==null,vs(s,a,l),Ne=u;break;default:vs(s,a,l)}}function Uv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{qo(s)}catch(l){Jt(a,a.return,l)}}}function Bv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{qo(s)}catch(l){Jt(a,a.return,l)}}function zx(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Pv),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Pv),a;default:throw Error(i(435,s.tag))}}function Hh(s,a){var l=zx(s);a.forEach(function(u){if(!l.has(u)){l.add(u);var g=Wx.bind(null,s,u);u.then(g,g)}})}function vn(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],p=s,b=a,w=b;t:for(;w!==null;){switch(w.tag){case 27:if(dr(w.type)){ge=w.stateNode,_n=!1;break t}break;case 5:ge=w.stateNode,_n=!1;break t;case 3:case 4:ge=w.stateNode.containerInfo,_n=!0;break t}w=w.return}if(ge===null)throw Error(i(160));zv(p,b,g),ge=null,_n=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)jv(a,s),a=a.sibling}var _i=null;function jv(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:vn(a,s),bn(s),u&4&&(ar(3,s,s.return),mc(3,s),ar(5,s,s.return));break;case 1:vn(a,s),bn(s),u&512&&(Ne||l===null||qi(l,l.return)),u&64&&_s&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=_i;if(vn(a,s),bn(s),u&512&&(Ne||l===null||qi(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":p=g.getElementsByTagName("title")[0],(!p||p[Mi]||p[Ce]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(u),g.head.insertBefore(p,g.querySelector("head > title"))),nn(p,u,l),p[Ce]=s,Ie(p),u=p;break t;case"link":var b=jb("link","href",g).get(u+(l.href||""));if(b){for(var w=0;w<b.length;w++)if(p=b[w],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(w,1);break e}}p=g.createElement(u),nn(p,u,l),g.head.appendChild(p);break;case"meta":if(b=jb("meta","content",g).get(u+(l.content||""))){for(w=0;w<b.length;w++)if(p=b[w],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(w,1);break e}}p=g.createElement(u),nn(p,u,l),g.head.appendChild(p);break;default:throw Error(i(468,u))}p[Ce]=s,Ie(p),u=p}s.stateNode=u}else Fb(g,s.type,s.stateNode);else s.stateNode=Bb(g,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?Fb(g,s.type,s.stateNode):Bb(g,u,s.memoizedProps)):u===null&&s.stateNode!==null&&pg(s,s.memoizedProps,l.memoizedProps)}break;case 27:vn(a,s),bn(s),u&512&&(Ne||l===null||qi(l,l.return)),l!==null&&u&4&&pg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(vn(a,s),bn(s),u&512&&(Ne||l===null||qi(l,l.return)),s.flags&32){g=s.stateNode;try{yn(g,"")}catch(mt){Jt(s,s.return,mt)}}u&4&&s.stateNode!=null&&(g=s.memoizedProps,pg(s,g,l!==null?l.memoizedProps:g)),u&1024&&(vg=!0);break;case 6:if(vn(a,s),bn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(mt){Jt(s,s.return,mt)}}break;case 3:if(af=null,g=_i,_i=sf(a.containerInfo),vn(a,s),_i=g,bn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{qo(a.containerInfo)}catch(mt){Jt(s,s.return,mt)}vg&&(vg=!1,Fv(s));break;case 4:u=_i,_i=sf(s.stateNode.containerInfo),vn(a,s),bn(s),_i=u;break;case 12:vn(a,s),bn(s);break;case 31:vn(a,s),bn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Hh(s,u)));break;case 13:vn(a,s),bn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Yh=dn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Hh(s,u)));break;case 22:g=s.memoizedState!==null;var N=l!==null&&l.memoizedState!==null,Y=_s,J=Ne;if(_s=Y||g,Ne=J||N,vn(a,s),Ne=J,_s=Y,bn(s),u&8192)t:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||N||_s||Ne||Aa(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){N=l=a;try{if(p=N.stateNode,g)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=N.stateNode;var it=N.memoizedProps.style,K=it!=null&&it.hasOwnProperty("display")?it.display:null;w.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(mt){Jt(N,N.return,mt)}}}else if(a.tag===6){if(l===null){N=a;try{N.stateNode.nodeValue=g?"":N.memoizedProps}catch(mt){Jt(N,N.return,mt)}}}else if(a.tag===18){if(l===null){N=a;try{var $=N.stateNode;g?Db($,!0):Db(N.stateNode,!1)}catch(mt){Jt(N,N.return,mt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Hh(s,l))));break;case 19:vn(a,s),bn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Hh(s,u)));break;case 30:break;case 21:break;default:vn(a,s),bn(s)}}function bn(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(kv(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,p=yg(s);Fh(s,p,g);break;case 5:var b=l.stateNode;l.flags&32&&(yn(b,""),l.flags&=-33);var w=yg(s);Fh(s,w,b);break;case 3:case 4:var N=l.stateNode.containerInfo,Y=yg(s);_g(s,Y,N);break;default:throw Error(i(161))}}catch(J){Jt(s,s.return,J)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Fv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;Fv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function bs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Vv(s,a.alternate,a),a=a.sibling}function Aa(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:ar(4,a,a.return),Aa(a);break;case 1:qi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Dv(a,a.return,l),Aa(a);break;case 27:wc(a.stateNode);case 26:case 5:qi(a,a.return),Aa(a);break;case 22:a.memoizedState===null&&Aa(a);break;case 30:Aa(a);break;default:Aa(a)}s=s.sibling}}function Es(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,g=s,p=a,b=p.flags;switch(p.tag){case 0:case 11:case 15:Es(g,p,l),mc(4,p);break;case 1:if(Es(g,p,l),u=p,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Y){Jt(u,u.return,Y)}if(u=p,g=u.updateQueue,g!==null){var w=u.stateNode;try{var N=g.shared.hiddenCallbacks;if(N!==null)for(g.shared.hiddenCallbacks=null,g=0;g<N.length;g++)v0(N[g],w)}catch(Y){Jt(u,u.return,Y)}}l&&b&64&&Mv(p),gc(p,p.return);break;case 27:Nv(p);case 26:case 5:Es(g,p,l),l&&u===null&&b&4&&Ov(p),gc(p,p.return);break;case 12:Es(g,p,l);break;case 31:Es(g,p,l),l&&b&4&&Uv(g,p);break;case 13:Es(g,p,l),l&&b&4&&Bv(g,p);break;case 22:p.memoizedState===null&&Es(g,p,l),gc(p,p.return);break;case 30:break;default:Es(g,p,l)}a=a.sibling}}function bg(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&ec(l))}function Eg(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ec(s))}function vi(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Hv(s,a,l,u),a=a.sibling}function Hv(s,a,l,u){var g=a.flags;switch(a.tag){case 0:case 11:case 15:vi(s,a,l,u),g&2048&&mc(9,a);break;case 1:vi(s,a,l,u);break;case 3:vi(s,a,l,u),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ec(s)));break;case 12:if(g&2048){vi(s,a,l,u),s=a.stateNode;try{var p=a.memoizedProps,b=p.id,w=p.onPostCommit;typeof w=="function"&&w(b,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(N){Jt(a,a.return,N)}}else vi(s,a,l,u);break;case 31:vi(s,a,l,u);break;case 13:vi(s,a,l,u);break;case 23:break;case 22:p=a.stateNode,b=a.alternate,a.memoizedState!==null?p._visibility&2?vi(s,a,l,u):pc(s,a):p._visibility&2?vi(s,a,l,u):(p._visibility|=2,ko(s,a,l,u,(a.subtreeFlags&10256)!==0||!1)),g&2048&&bg(b,a);break;case 24:vi(s,a,l,u),g&2048&&Eg(a.alternate,a);break;default:vi(s,a,l,u)}}function ko(s,a,l,u,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=s,b=a,w=l,N=u,Y=b.flags;switch(b.tag){case 0:case 11:case 15:ko(p,b,w,N,g),mc(8,b);break;case 23:break;case 22:var J=b.stateNode;b.memoizedState!==null?J._visibility&2?ko(p,b,w,N,g):pc(p,b):(J._visibility|=2,ko(p,b,w,N,g)),g&&Y&2048&&bg(b.alternate,b);break;case 24:ko(p,b,w,N,g),g&&Y&2048&&Eg(b.alternate,b);break;default:ko(p,b,w,N,g)}a=a.sibling}}function pc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,g=u.flags;switch(u.tag){case 22:pc(l,u),g&2048&&bg(u.alternate,u);break;case 24:pc(l,u),g&2048&&Eg(u.alternate,u);break;default:pc(l,u)}a=a.sibling}}var yc=8192;function No(s,a,l){if(s.subtreeFlags&yc)for(s=s.child;s!==null;)qv(s,a,l),s=s.sibling}function qv(s,a,l){switch(s.tag){case 26:No(s,a,l),s.flags&yc&&s.memoizedState!==null&&wR(l,_i,s.memoizedState,s.memoizedProps);break;case 5:No(s,a,l);break;case 3:case 4:var u=_i;_i=sf(s.stateNode.containerInfo),No(s,a,l),_i=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=yc,yc=16777216,No(s,a,l),yc=u):No(s,a,l));break;default:No(s,a,l)}}function Yv(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function _c(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Qe=u,Wv(u,s)}Yv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Gv(s),s=s.sibling}function Gv(s){switch(s.tag){case 0:case 11:case 15:_c(s),s.flags&2048&&ar(9,s,s.return);break;case 3:_c(s);break;case 12:_c(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,qh(s)):_c(s);break;default:_c(s)}}function qh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Qe=u,Wv(u,s)}Yv(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:ar(8,a,a.return),qh(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,qh(a));break;default:qh(a)}s=s.sibling}}function Wv(s,a){for(;Qe!==null;){var l=Qe;switch(l.tag){case 0:case 11:case 15:ar(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ec(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Qe=u;else t:for(l=s;Qe!==null;){u=Qe;var g=u.sibling,p=u.return;if(Lv(u),u===l){Qe=null;break t}if(g!==null){g.return=p,Qe=g;break t}Qe=p}}}var Ux={getCacheForType:function(s){var a=tn(De),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l},cacheSignal:function(){return tn(De).controller.signal}},Bx=typeof WeakMap=="function"?WeakMap:Map,Kt=0,re=null,Ot=null,Pt=0,$t=0,Pn=null,or=!1,Po=!1,Tg=!1,Ts=0,ve=0,lr=0,xa=0,Sg=0,Vn=0,Vo=0,vc=null,En=null,wg=!1,Yh=0,Kv=0,Gh=1/0,Wh=null,cr=null,Fe=0,ur=null,Lo=null,Ss=0,Ag=0,xg=null,Qv=null,bc=0,Rg=null;function Ln(){return(Kt&2)!==0&&Pt!==0?Pt&-Pt:Q.T!==null?kg():Ku()}function Xv(){if(Vn===0)if((Pt&536870912)===0||Bt){var s=Zr;Zr<<=1,(Zr&3932160)===0&&(Zr=262144),Vn=s}else Vn=536870912;return s=kn.current,s!==null&&(s.flags|=32),Vn}function Tn(s,a,l){(s===re&&($t===2||$t===9)||s.cancelPendingCommit!==null)&&(zo(s,0),hr(s,Pt,Vn,!1)),ta(s,l),((Kt&2)===0||s!==re)&&(s===re&&((Kt&2)===0&&(xa|=l),ve===4&&hr(s,Pt,Vn,!1)),Yi(s))}function $v(s,a,l){if((Kt&6)!==0)throw Error(i(327));var u=!l&&(a&127)===0&&(a&s.expiredLanes)===0||ci(s,a),g=u?Hx(s,a):Ig(s,a,!0),p=u;do{if(g===0){Po&&!u&&hr(s,a,0,!1);break}else{if(l=s.current.alternate,p&&!jx(l)){g=Ig(s,a,!1),p=!1;continue}if(g===2){if(p=a,s.errorRecoveryDisabledLanes&p)var b=0;else b=s.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;t:{var w=s;g=vc;var N=w.current.memoizedState.isDehydrated;if(N&&(zo(w,b).flags|=256),b=Ig(w,b,!1),b!==2){if(Tg&&!N){w.errorRecoveryDisabledLanes|=p,xa|=p,g=4;break t}p=En,En=g,p!==null&&(En===null?En=p:En.push.apply(En,p))}g=b}if(p=!1,g!==2)continue}}if(g===1){zo(s,0),hr(s,a,0,!0);break}t:{switch(u=s,p=g,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:hr(u,a,Vn,!or);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=Yh+300-dn(),10<g)){if(hr(u,a,Vn,!or),Ri(u,0,!0)!==0)break t;Ss=a,u.timeoutHandle=Cb(Jv.bind(null,u,l,En,Wh,wg,a,Vn,xa,Vo,or,p,"Throttled",-0,0),g);break t}Jv(u,l,En,Wh,wg,a,Vn,xa,Vo,or,p,null,-0,0)}}break}while(!0);Yi(s)}function Jv(s,a,l,u,g,p,b,w,N,Y,J,it,K,$){if(s.timeoutHandle=-1,it=a.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},qv(a,p,it);var mt=(p&62914560)===p?Yh-dn():(p&4194048)===p?Kv-dn():0;if(mt=AR(it,mt),mt!==null){Ss=p,s.cancelPendingCommit=mt(ab.bind(null,s,a,p,l,u,g,b,w,N,J,it,null,K,$)),hr(s,p,b,!Y);return}}ab(s,a,p,l,u,g,b,w,N)}function jx(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],p=g.getSnapshot;g=g.value;try{if(!Dn(p(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function hr(s,a,l,u){a&=~Sg,a&=~xa,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var g=a;0<g;){var p=31-be(g),b=1<<p;u[p]=-1,g&=~b}l!==0&&ea(s,l,a)}function Kh(){return(Kt&6)===0?(Ec(0),!1):!0}function Cg(){if(Ot!==null){if($t===0)var s=Ot.return;else s=Ot,fs=ya=null,qm(s),Co=null,ic=0,s=Ot;for(;s!==null;)Iv(s.alternate,s),s=s.return;Ot=null}}function zo(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,oR(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Ss=0,Cg(),re=s,Ot=l=us(s.current,null),Pt=a,$t=0,Pn=null,or=!1,Po=ci(s,a),Tg=!1,Vo=Vn=Sg=xa=lr=ve=0,En=vc=null,wg=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var g=31-be(u),p=1<<g;a|=s[g],u&=~p}return Ts=a,gh(),l}function Zv(s,a){It=null,Q.H=hc,a===Ro||a===Sh?(a=g0(),$t=3):a===Om?(a=g0(),$t=4):$t=a===ag?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Pn=a,Ot===null&&(ve=1,Lh(s,Wn(a,s.current)))}function tb(){var s=kn.current;return s===null?!0:(Pt&4194048)===Pt?$n===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?s===$n:!1}function eb(){var s=Q.H;return Q.H=hc,s===null?hc:s}function nb(){var s=Q.A;return Q.A=Ux,s}function Qh(){ve=4,or||(Pt&4194048)!==Pt&&kn.current!==null||(Po=!0),(lr&134217727)===0&&(xa&134217727)===0||re===null||hr(re,Pt,Vn,!1)}function Ig(s,a,l){var u=Kt;Kt|=2;var g=eb(),p=nb();(re!==s||Pt!==a)&&(Wh=null,zo(s,a)),a=!1;var b=ve;t:do try{if($t!==0&&Ot!==null){var w=Ot,N=Pn;switch($t){case 8:Cg(),b=6;break t;case 3:case 2:case 9:case 6:kn.current===null&&(a=!0);var Y=$t;if($t=0,Pn=null,Uo(s,w,N,Y),l&&Po){b=0;break t}break;default:Y=$t,$t=0,Pn=null,Uo(s,w,N,Y)}}Fx(),b=ve;break}catch(J){Zv(s,J)}while(!0);return a&&s.shellSuspendCounter++,fs=ya=null,Kt=u,Q.H=g,Q.A=p,Ot===null&&(re=null,Pt=0,gh()),b}function Fx(){for(;Ot!==null;)ib(Ot)}function Hx(s,a){var l=Kt;Kt|=2;var u=eb(),g=nb();re!==s||Pt!==a?(Wh=null,Gh=dn()+500,zo(s,a)):Po=ci(s,a);t:do try{if($t!==0&&Ot!==null){a=Ot;var p=Pn;e:switch($t){case 1:$t=0,Pn=null,Uo(s,a,p,1);break;case 2:case 9:if(d0(p)){$t=0,Pn=null,sb(a);break}a=function(){$t!==2&&$t!==9||re!==s||($t=7),Yi(s)},p.then(a,a);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:d0(p)?($t=0,Pn=null,sb(a)):($t=0,Pn=null,Uo(s,a,p,7));break;case 5:var b=null;switch(Ot.tag){case 26:b=Ot.memoizedState;case 5:case 27:var w=Ot;if(b?Hb(b):w.stateNode.complete){$t=0,Pn=null;var N=w.sibling;if(N!==null)Ot=N;else{var Y=w.return;Y!==null?(Ot=Y,Xh(Y)):Ot=null}break e}}$t=0,Pn=null,Uo(s,a,p,5);break;case 6:$t=0,Pn=null,Uo(s,a,p,6);break;case 8:Cg(),ve=6;break t;default:throw Error(i(462))}}qx();break}catch(J){Zv(s,J)}while(!0);return fs=ya=null,Q.H=u,Q.A=g,Kt=l,Ot!==null?0:(re=null,Pt=0,gh(),ve)}function qx(){for(;Ot!==null&&!rm();)ib(Ot)}function ib(s){var a=Rv(s.alternate,s,Ts);s.memoizedProps=s.pendingProps,a===null?Xh(s):Ot=a}function sb(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=Ev(l,a,a.pendingProps,a.type,void 0,Pt);break;case 11:a=Ev(l,a,a.pendingProps,a.type.render,a.ref,Pt);break;case 5:qm(a);default:Iv(l,a),a=Ot=n0(a,Ts),a=Rv(l,a,Ts)}s.memoizedProps=s.pendingProps,a===null?Xh(s):Ot=a}function Uo(s,a,l,u){fs=ya=null,qm(a),Co=null,ic=0;var g=a.return;try{if(Ox(s,g,a,l,Pt)){ve=1,Lh(s,Wn(l,s.current)),Ot=null;return}}catch(p){if(g!==null)throw Ot=g,p;ve=1,Lh(s,Wn(l,s.current)),Ot=null;return}a.flags&32768?(Bt||u===1?s=!0:Po||(Pt&536870912)!==0?s=!1:(or=s=!0,(u===2||u===9||u===3||u===6)&&(u=kn.current,u!==null&&u.tag===13&&(u.flags|=16384))),rb(a,s)):Xh(a)}function Xh(s){var a=s;do{if((a.flags&32768)!==0){rb(a,or);return}s=a.return;var l=Px(a.alternate,a,Ts);if(l!==null){Ot=l;return}if(a=a.sibling,a!==null){Ot=a;return}Ot=a=s}while(a!==null);ve===0&&(ve=5)}function rb(s,a){do{var l=Vx(s.alternate,s);if(l!==null){l.flags&=32767,Ot=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Ot=s;return}Ot=s=l}while(s!==null);ve=6,Ot=null}function ab(s,a,l,u,g,p,b,w,N){s.cancelPendingCommit=null;do $h();while(Fe!==0);if((Kt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=ym,lm(s,l,p,b,w,N),s===re&&(Ot=re=null,Pt=0),Lo=a,ur=s,Ss=l,Ag=p,xg=g,Qv=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Kx(js,function(){return hb(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,g=at.p,at.p=2,b=Kt,Kt|=4;try{Lx(s,a,l)}finally{Kt=b,at.p=g,Q.T=u}}Fe=1,ob(),lb(),cb()}}function ob(){if(Fe===1){Fe=0;var s=ur,a=Lo,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null;var u=at.p;at.p=2;var g=Kt;Kt|=4;try{jv(a,s);var p=jg,b=W_(s.containerInfo),w=p.focusedElem,N=p.selectionRange;if(b!==w&&w&&w.ownerDocument&&G_(w.ownerDocument.documentElement,w)){if(N!==null&&fm(w)){var Y=N.start,J=N.end;if(J===void 0&&(J=Y),"selectionStart"in w)w.selectionStart=Y,w.selectionEnd=Math.min(J,w.value.length);else{var it=w.ownerDocument||document,K=it&&it.defaultView||window;if(K.getSelection){var $=K.getSelection(),mt=w.textContent.length,vt=Math.min(N.start,mt),se=N.end===void 0?vt:Math.min(N.end,mt);!$.extend&&vt>se&&(b=se,se=vt,vt=b);var j=Y_(w,vt),U=Y_(w,se);if(j&&U&&($.rangeCount!==1||$.anchorNode!==j.node||$.anchorOffset!==j.offset||$.focusNode!==U.node||$.focusOffset!==U.offset)){var q=it.createRange();q.setStart(j.node,j.offset),$.removeAllRanges(),vt>se?($.addRange(q),$.extend(U.node,U.offset)):(q.setEnd(U.node,U.offset),$.addRange(q))}}}}for(it=[],$=w;$=$.parentNode;)$.nodeType===1&&it.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<it.length;w++){var tt=it[w];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}uf=!!Bg,jg=Bg=null}finally{Kt=g,at.p=u,Q.T=l}}s.current=a,Fe=2}}function lb(){if(Fe===2){Fe=0;var s=ur,a=Lo,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=Q.T,Q.T=null;var u=at.p;at.p=2;var g=Kt;Kt|=4;try{Vv(s,a.alternate,a)}finally{Kt=g,at.p=u,Q.T=l}}Fe=3}}function cb(){if(Fe===4||Fe===3){Fe=0,ju();var s=ur,a=Lo,l=Ss,u=Qv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Fe=5:(Fe=0,Lo=ur=null,ub(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(cr=null),as(l),a=a.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(li,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=Q.T,g=at.p,at.p=2,Q.T=null;try{for(var p=s.onRecoverableError,b=0;b<u.length;b++){var w=u[b];p(w.value,{componentStack:w.stack})}}finally{Q.T=a,at.p=g}}(Ss&3)!==0&&$h(),Yi(s),g=s.pendingLanes,(l&261930)!==0&&(g&42)!==0?s===Rg?bc++:(bc=0,Rg=s):bc=0,Ec(0)}}function ub(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,ec(a)))}function $h(){return ob(),lb(),cb(),hb()}function hb(){if(Fe!==5)return!1;var s=ur,a=Ag;Ag=0;var l=as(Ss),u=Q.T,g=at.p;try{at.p=32>l?32:l,Q.T=null,l=xg,xg=null;var p=ur,b=Ss;if(Fe=0,Lo=ur=null,Ss=0,(Kt&6)!==0)throw Error(i(331));var w=Kt;if(Kt|=4,Gv(p.current),Hv(p,p.current,b,l),Kt=w,Ec(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(li,p)}catch{}return!0}finally{at.p=g,Q.T=u,ub(s,a)}}function fb(s,a,l){a=Wn(l,a),a=rg(s.stateNode,a,2),s=ir(s,a,2),s!==null&&(ta(s,2),Yi(s))}function Jt(s,a,l){if(s.tag===3)fb(s,s,l);else for(;a!==null;){if(a.tag===3){fb(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(cr===null||!cr.has(u))){s=Wn(l,s),l=dv(2),u=ir(a,l,2),u!==null&&(mv(l,u,a,s),ta(u,2),Yi(u));break}}a=a.return}}function Mg(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new Bx;var g=new Set;u.set(a,g)}else g=u.get(a),g===void 0&&(g=new Set,u.set(a,g));g.has(l)||(Tg=!0,g.add(l),s=Yx.bind(null,s,a,l),a.then(s,s))}function Yx(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,re===s&&(Pt&l)===l&&(ve===4||ve===3&&(Pt&62914560)===Pt&&300>dn()-Yh?(Kt&2)===0&&zo(s,0):Sg|=l,Vo===Pt&&(Vo=0)),Yi(s)}function db(s,a){a===0&&(a=Wu()),s=ma(s,a),s!==null&&(ta(s,a),Yi(s))}function Gx(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),db(s,l)}function Wx(s,a){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),db(s,l)}function Kx(s,a){return je(s,a)}var Jh=null,Bo=null,Dg=!1,Zh=!1,Og=!1,fr=0;function Yi(s){s!==Bo&&s.next===null&&(Bo===null?Jh=Bo=s:Bo=Bo.next=s),Zh=!0,Dg||(Dg=!0,Xx())}function Ec(s,a){if(!Og&&Zh){Og=!0;do for(var l=!1,u=Jh;u!==null;){if(s!==0){var g=u.pendingLanes;if(g===0)var p=0;else{var b=u.suspendedLanes,w=u.pingedLanes;p=(1<<31-be(42|s)+1)-1,p&=g&~(b&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,yb(u,p))}else p=Pt,p=Ri(u,u===re?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ci(u,p)||(l=!0,yb(u,p));u=u.next}while(l);Og=!1}}function Qx(){mb()}function mb(){Zh=Dg=!1;var s=0;fr!==0&&aR()&&(s=fr);for(var a=dn(),l=null,u=Jh;u!==null;){var g=u.next,p=gb(u,a);p===0?(u.next=null,l===null?Jh=g:l.next=g,g===null&&(Bo=l)):(l=u,(s!==0||(p&3)!==0)&&(Zh=!0)),u=g}Fe!==0&&Fe!==5||Ec(s),fr!==0&&(fr=0)}function gb(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,g=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var b=31-be(p),w=1<<b,N=g[b];N===-1?((w&l)===0||(w&u)!==0)&&(g[b]=om(w,a)):N<=a&&(s.expiredLanes|=w),p&=~w}if(a=re,l=Pt,l=Ri(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&($t===2||$t===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Bs(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||ci(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&Bs(u),as(l)){case 2:case 8:l=Dl;break;case 32:l=js;break;case 268435456:l=Fu;break;default:l=js}return u=pb.bind(null,s),l=je(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&Bs(u),s.callbackPriority=2,s.callbackNode=null,2}function pb(s,a){if(Fe!==0&&Fe!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if($h()&&s.callbackNode!==l)return null;var u=Pt;return u=Ri(s,s===re?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:($v(s,u,a),gb(s,dn()),s.callbackNode!=null&&s.callbackNode===l?pb.bind(null,s):null)}function yb(s,a){if($h())return null;$v(s,a,!0)}function Xx(){lR(function(){(Kt&6)!==0?je(Ml,Qx):mb()})}function kg(){if(fr===0){var s=Ao;s===0&&(s=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),fr=s}return fr}function _b(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:co(""+s)}function vb(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function $x(s,a,l,u,g){if(a==="submit"&&l&&l.stateNode===g){var p=_b((g[We]||null).action),b=u.submitter;b&&(a=(a=b[We]||null)?_b(a.formAction):b.getAttribute("formAction"),a!==null&&(p=a,b=null));var w=new zi("action","action",null,u,g);s.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(fr!==0){var N=b?vb(g,b):new FormData(g);Zm(l,{pending:!0,data:N,method:g.method,action:p},null,N)}}else typeof p=="function"&&(w.preventDefault(),N=b?vb(g,b):new FormData(g),Zm(l,{pending:!0,data:N,method:g.method,action:p},p,N))},currentTarget:g}]})}}for(var Ng=0;Ng<pm.length;Ng++){var Pg=pm[Ng],Jx=Pg.toLowerCase(),Zx=Pg[0].toUpperCase()+Pg.slice(1);yi(Jx,"on"+Zx)}yi(X_,"onAnimationEnd"),yi($_,"onAnimationIteration"),yi(J_,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(gx,"onTransitionRun"),yi(px,"onTransitionStart"),yi(yx,"onTransitionCancel"),yi(Z_,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tc));function bb(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],g=u.event;u=u.listeners;t:{var p=void 0;if(a)for(var b=u.length-1;0<=b;b--){var w=u[b],N=w.instance,Y=w.currentTarget;if(w=w.listener,N!==p&&g.isPropagationStopped())break t;p=w,g.currentTarget=Y;try{p(g)}catch(J){mh(J)}g.currentTarget=null,p=N}else for(b=0;b<u.length;b++){if(w=u[b],N=w.instance,Y=w.currentTarget,w=w.listener,N!==p&&g.isPropagationStopped())break t;p=w,g.currentTarget=Y;try{p(g)}catch(J){mh(J)}g.currentTarget=null,p=N}}}}function kt(s,a){var l=a[so];l===void 0&&(l=a[so]=new Set);var u=s+"__bubble";l.has(u)||(Eb(a,s,2,!1),l.add(u))}function Vg(s,a,l){var u=0;a&&(u|=4),Eb(l,s,u,a)}var tf="_reactListening"+Math.random().toString(36).slice(2);function Lg(s){if(!s[tf]){s[tf]=!0,Nl.forEach(function(l){l!=="selectionchange"&&(tR.has(l)||Vg(l,!1,s),Vg(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[tf]||(a[tf]=!0,Vg("selectionchange",!1,a))}}function Eb(s,a,l,u){switch(Xb(a)){case 2:var g=CR;break;case 8:g=IR;break;default:g=Jg}l=g.bind(null,a,l,s),g=void 0,!aa||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),u?g!==void 0?s.addEventListener(a,l,{capture:!0,passive:g}):s.addEventListener(a,l,!0):g!==void 0?s.addEventListener(a,l,{passive:g}):s.addEventListener(a,l,!1)}function zg(s,a,l,u,g){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var w=u.stateNode.containerInfo;if(w===g)break;if(b===4)for(b=u.return;b!==null;){var N=b.tag;if((N===3||N===4)&&b.stateNode.containerInfo===g)return;b=b.return}for(;w!==null;){if(b=Di(w),b===null)return;if(N=b.tag,N===5||N===6||N===26||N===27){u=p=b;continue t}w=w.parentNode}}u=u.return}Ws(function(){var Y=p,J=Hn(l),it=[];t:{var K=t0.get(s);if(K!==void 0){var $=zi,mt=s;switch(s){case"keypress":if(la(l)===0)break t;case"keydown":case"keyup":$=hh;break;case"focusin":mt="focus",$=ua;break;case"focusout":mt="blur",$=ua;break;case"beforeblur":case"afterblur":$=ua;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=nh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=v;break;case X_:case $_:case J_:$=sh;break;case Z_:$=x;break;case"scroll":case"scrollend":$=Gl;break;case"wheel":$=X;break;case"copy":case"cut":case"paste":$=rh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=cs;break;case"toggle":case"beforetoggle":$=Ct}var vt=(a&4)!==0,se=!vt&&(s==="scroll"||s==="scrollend"),j=vt?K!==null?K+"Capture":null:K;vt=[];for(var U=Y,q;U!==null;){var tt=U;if(q=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||q===null||j===null||(tt=di(U,j),tt!=null&&vt.push(Sc(U,tt,q))),se)break;U=U.return}0<vt.length&&(K=new $(K,mt,null,l,J),it.push({event:K,listeners:vt}))}}if((a&7)===0){t:{if(K=s==="mouseover"||s==="pointerover",$=s==="mouseout"||s==="pointerout",K&&l!==Hl&&(mt=l.relatedTarget||l.fromElement)&&(Di(mt)||mt[Ii]))break t;if(($||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,$?(mt=l.relatedTarget||l.toElement,$=Y,mt=mt?Di(mt):null,mt!==null&&(se=o(mt),vt=mt.tag,mt!==se||vt!==5&&vt!==27&&vt!==6)&&(mt=null)):($=null,mt=Y),$!==mt)){if(vt=Wl,tt="onMouseLeave",j="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(vt=cs,tt="onPointerLeave",j="onPointerEnter",U="pointer"),se=$==null?K:In($),q=mt==null?K:In(mt),K=new vt(tt,U+"leave",$,l,J),K.target=se,K.relatedTarget=q,tt=null,Di(J)===Y&&(vt=new vt(j,U+"enter",mt,l,J),vt.target=q,vt.relatedTarget=se,tt=vt),se=tt,$&&mt)e:{for(vt=eR,j=$,U=mt,q=0,tt=j;tt;tt=vt(tt))q++;tt=0;for(var pt=U;pt;pt=vt(pt))tt++;for(;0<q-tt;)j=vt(j),q--;for(;0<tt-q;)U=vt(U),tt--;for(;q--;){if(j===U||U!==null&&j===U.alternate){vt=j;break e}j=vt(j),U=vt(U)}vt=null}else vt=null;$!==null&&Tb(it,K,$,vt,!1),mt!==null&&se!==null&&Tb(it,se,mt,vt,!0)}}t:{if(K=Y?In(Y):window,$=K.nodeName&&K.nodeName.toLowerCase(),$==="select"||$==="input"&&K.type==="file")var Yt=U_;else if(L_(K))if(B_)Yt=fx;else{Yt=ux;var gt=cx}else $=K.nodeName,!$||$.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Y&&lo(Y.elementType)&&(Yt=U_):Yt=hx;if(Yt&&(Yt=Yt(s,Y))){z_(it,Yt,l,J);break t}gt&&gt(s,K,Y),s==="focusout"&&Y&&K.type==="number"&&Y.memoizedProps.value!=null&&Bl(K,"number",K.value)}switch(gt=Y?In(Y):window,s){case"focusin":(L_(gt)||gt.contentEditable==="true")&&(yo=gt,dm=Y,Jl=null);break;case"focusout":Jl=dm=yo=null;break;case"mousedown":mm=!0;break;case"contextmenu":case"mouseup":case"dragend":mm=!1,K_(it,l,J);break;case"selectionchange":if(mx)break;case"keydown":case"keyup":K_(it,l,J)}var Mt;if(Wt)t:{switch(s){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else po?ha(s,l)&&(Vt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Vt="onCompositionStart");Vt&&(ji&&l.locale!=="ko"&&(po||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&po&&(Mt=Yl()):(Li=J,ql="value"in Li?Li.value:Li.textContent,po=!0)),gt=ef(Y,Vt),0<gt.length&&(Vt=new Bi(Vt,s,null,l,J),it.push({event:Vt,listeners:gt}),Mt?Vt.data=Mt:(Mt=go(l),Mt!==null&&(Vt.data=Mt)))),(Mt=Yn?rx(s,l):ax(s,l))&&(Vt=ef(Y,"onBeforeInput"),0<Vt.length&&(gt=new Bi("onBeforeInput","beforeinput",null,l,J),it.push({event:gt,listeners:Vt}),gt.data=Mt)),$x(it,s,Y,l,J)}bb(it,a)})}function Sc(s,a,l){return{instance:s,listener:a,currentTarget:l}}function ef(s,a){for(var l=a+"Capture",u=[];s!==null;){var g=s,p=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=di(s,l),g!=null&&u.unshift(Sc(s,g,p)),g=di(s,a),g!=null&&u.push(Sc(s,g,p))),s.tag===3)return u;s=s.return}return[]}function eR(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Tb(s,a,l,u,g){for(var p=a._reactName,b=[];l!==null&&l!==u;){var w=l,N=w.alternate,Y=w.stateNode;if(w=w.tag,N!==null&&N===u)break;w!==5&&w!==26&&w!==27||Y===null||(N=Y,g?(Y=di(l,p),Y!=null&&b.unshift(Sc(l,Y,N))):g||(Y=di(l,p),Y!=null&&b.push(Sc(l,Y,N)))),l=l.return}b.length!==0&&s.push({event:a,listeners:b})}var nR=/\r\n?/g,iR=/\u0000|\uFFFD/g;function Sb(s){return(typeof s=="string"?s:""+s).replace(nR,`
`).replace(iR,"")}function wb(s,a){return a=Sb(a),Sb(s)===a}function ie(s,a,l,u,g,p){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||yn(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&yn(s,""+u);break;case"className":Mn(s,"class",u);break;case"tabIndex":Mn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(s,l,u);break;case"style":Fl(s,u,p);break;case"data":if(a!=="object"){Mn(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=co(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&ie(s,a,"name",g.name,g,null),ie(s,a,"formEncType",g.formEncType,g,null),ie(s,a,"formMethod",g.formMethod,g,null),ie(s,a,"formTarget",g.formTarget,g,null)):(ie(s,a,"encType",g.encType,g,null),ie(s,a,"method",g.method,g,null),ie(s,a,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=co(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=fi);break;case"onScroll":u!=null&&kt("scroll",s);break;case"onScrollEnd":u!=null&&kt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=co(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":kt("beforetoggle",s),kt("toggle",s),ao(s,"popover",u);break;case"xlinkActuate":Me(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Me(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Me(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Me(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Me(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Me(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Me(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Me(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Me(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ao(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=eh.get(l)||l,ao(s,l,u))}}function Ug(s,a,l,u,g,p){switch(l){case"style":Fl(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?yn(s,u):(typeof u=="number"||typeof u=="bigint")&&yn(s,""+u);break;case"onScroll":u!=null&&kt("scroll",s);break;case"onScrollEnd":u!=null&&kt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pl.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),p=s[We]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(a,p,g),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,g);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):ao(s,l,u)}}}function nn(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",s),kt("load",s);var u=!1,g=!1,p;for(p in l)if(l.hasOwnProperty(p)){var b=l[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ie(s,a,p,b,l,null)}}g&&ie(s,a,"srcSet",l.srcSet,l,null),u&&ie(s,a,"src",l.src,l,null);return;case"input":kt("invalid",s);var w=p=b=g=null,N=null,Y=null;for(u in l)if(l.hasOwnProperty(u)){var J=l[u];if(J!=null)switch(u){case"name":g=J;break;case"type":b=J;break;case"checked":N=J;break;case"defaultChecked":Y=J;break;case"value":p=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:ie(s,a,u,J,l,null)}}Ju(s,p,w,N,Y,b,g,!1);return;case"select":kt("invalid",s),u=b=p=null;for(g in l)if(l.hasOwnProperty(g)&&(w=l[g],w!=null))switch(g){case"value":p=w;break;case"defaultValue":b=w;break;case"multiple":u=w;default:ie(s,a,g,w,l,null)}a=p,l=b,s.multiple=!!u,a!=null?Hs(s,!!u,a,!1):l!=null&&Hs(s,!!u,l,!0);return;case"textarea":kt("invalid",s),p=g=u=null;for(b in l)if(l.hasOwnProperty(b)&&(w=l[b],w!=null))switch(b){case"value":u=w;break;case"defaultValue":g=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:ie(s,a,b,w,l,null)}qs(s,u,g,p);return;case"option":for(N in l)l.hasOwnProperty(N)&&(u=l[N],u!=null)&&(N==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":ie(s,a,N,u,l,null));return;case"dialog":kt("beforetoggle",s),kt("toggle",s),kt("cancel",s),kt("close",s);break;case"iframe":case"object":kt("load",s);break;case"video":case"audio":for(u=0;u<Tc.length;u++)kt(Tc[u],s);break;case"image":kt("error",s),kt("load",s);break;case"details":kt("toggle",s);break;case"embed":case"source":case"link":kt("error",s),kt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(u=l[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ie(s,a,Y,u,l,null)}return;default:if(lo(a)){for(J in l)l.hasOwnProperty(J)&&(u=l[J],u!==void 0&&Ug(s,a,J,u,l,void 0));return}}for(w in l)l.hasOwnProperty(w)&&(u=l[w],u!=null&&ie(s,a,w,u,l,null))}function sR(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,b=null,w=null,N=null,Y=null,J=null;for($ in l){var it=l[$];if(l.hasOwnProperty($)&&it!=null)switch($){case"checked":break;case"value":break;case"defaultValue":N=it;default:u.hasOwnProperty($)||ie(s,a,$,null,u,it)}}for(var K in u){var $=u[K];if(it=l[K],u.hasOwnProperty(K)&&($!=null||it!=null))switch(K){case"type":p=$;break;case"name":g=$;break;case"checked":Y=$;break;case"defaultChecked":J=$;break;case"value":b=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,a));break;default:$!==it&&ie(s,a,K,$,u,it)}}oo(s,b,w,N,Y,J,p,g);return;case"select":$=b=w=K=null;for(p in l)if(N=l[p],l.hasOwnProperty(p)&&N!=null)switch(p){case"value":break;case"multiple":$=N;default:u.hasOwnProperty(p)||ie(s,a,p,null,u,N)}for(g in u)if(p=u[g],N=l[g],u.hasOwnProperty(g)&&(p!=null||N!=null))switch(g){case"value":K=p;break;case"defaultValue":w=p;break;case"multiple":b=p;default:p!==N&&ie(s,a,g,p,u,N)}a=w,l=b,u=$,K!=null?Hs(s,!!l,K,!1):!!u!=!!l&&(a!=null?Hs(s,!!l,a,!0):Hs(s,!!l,l?[]:"",!1));return;case"textarea":$=K=null;for(w in l)if(g=l[w],l.hasOwnProperty(w)&&g!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ie(s,a,w,null,u,g)}for(b in u)if(g=u[b],p=l[b],u.hasOwnProperty(b)&&(g!=null||p!=null))switch(b){case"value":K=g;break;case"defaultValue":$=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==p&&ie(s,a,b,g,u,p)}Zu(s,K,$);return;case"option":for(var mt in l)K=l[mt],l.hasOwnProperty(mt)&&K!=null&&!u.hasOwnProperty(mt)&&(mt==="selected"?s.selected=!1:ie(s,a,mt,null,u,K));for(N in u)K=u[N],$=l[N],u.hasOwnProperty(N)&&K!==$&&(K!=null||$!=null)&&(N==="selected"?s.selected=K&&typeof K!="function"&&typeof K!="symbol":ie(s,a,N,K,u,$));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in l)K=l[vt],l.hasOwnProperty(vt)&&K!=null&&!u.hasOwnProperty(vt)&&ie(s,a,vt,null,u,K);for(Y in u)if(K=u[Y],$=l[Y],u.hasOwnProperty(Y)&&K!==$&&(K!=null||$!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,a));break;default:ie(s,a,Y,K,u,$)}return;default:if(lo(a)){for(var se in l)K=l[se],l.hasOwnProperty(se)&&K!==void 0&&!u.hasOwnProperty(se)&&Ug(s,a,se,void 0,u,K);for(J in u)K=u[J],$=l[J],!u.hasOwnProperty(J)||K===$||K===void 0&&$===void 0||Ug(s,a,J,K,u,$);return}}for(var j in l)K=l[j],l.hasOwnProperty(j)&&K!=null&&!u.hasOwnProperty(j)&&ie(s,a,j,null,u,K);for(it in u)K=u[it],$=l[it],!u.hasOwnProperty(it)||K===$||K==null&&$==null||ie(s,a,it,K,u,$)}function Ab(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],p=g.transferSize,b=g.initiatorType,w=g.duration;if(p&&w&&Ab(b)){for(b=0,w=g.responseEnd,u+=1;u<l.length;u++){var N=l[u],Y=N.startTime;if(Y>w)break;var J=N.transferSize,it=N.initiatorType;J&&Ab(it)&&(N=N.responseEnd,b+=J*(N<w?1:(w-Y)/(N-Y)))}if(--u,a+=8*(p+b)/(g.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Bg=null,jg=null;function nf(s){return s.nodeType===9?s:s.ownerDocument}function xb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rb(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Fg(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Hg=null;function aR(){var s=window.event;return s&&s.type==="popstate"?s===Hg?!1:(Hg=s,!0):(Hg=null,!1)}var Cb=typeof setTimeout=="function"?setTimeout:void 0,oR=typeof clearTimeout=="function"?clearTimeout:void 0,Ib=typeof Promise=="function"?Promise:void 0,lR=typeof queueMicrotask=="function"?queueMicrotask:typeof Ib<"u"?function(s){return Ib.resolve(null).then(s).catch(cR)}:Cb;function cR(s){setTimeout(function(){throw s})}function dr(s){return s==="head"}function Mb(s,a){var l=a,u=0;do{var g=l.nextSibling;if(s.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(g),qo(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")wc(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,wc(l);for(var p=l.firstChild;p;){var b=p.nextSibling,w=p.nodeName;p[Mi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=b}}else l==="body"&&wc(s.ownerDocument.body);l=g}while(l);qo(a)}function Db(s,a){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function qg(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":qg(l),ro(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function uR(s,a,l,u){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Mi])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=Jn(s.nextSibling),s===null)break}return null}function hR(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Jn(s.nextSibling),s===null))return null;return s}function Ob(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=Jn(s.nextSibling),s===null))return null;return s}function Yg(s){return s.data==="$?"||s.data==="$~"}function Gg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function fR(s,a){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Jn(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var Wg=null;function kb(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(a===0)return Jn(s.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}s=s.nextSibling}return null}function Nb(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return s;a--}else l!=="/$"&&l!=="/&"||a++}s=s.previousSibling}return null}function Pb(s,a,l){switch(a=nf(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function wc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);ro(s)}var Zn=new Map,Vb=new Set;function sf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ws=at.d;at.d={f:dR,r:mR,D:gR,C:pR,L:yR,m:_R,X:bR,S:vR,M:ER};function dR(){var s=ws.f(),a=Kh();return s||a}function mR(s){var a=Fn(s);a!==null&&a.tag===5&&a.type==="form"?Z0(a):ws.r(s)}var jo=typeof document>"u"?null:document;function Lb(s,a,l){var u=jo;if(u&&typeof a=="string"&&a){var g=pn(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Vb.has(g)||(Vb.add(g),s={rel:s,crossOrigin:l,href:a},u.querySelector(g)===null&&(a=u.createElement("link"),nn(a,"link",s),Ie(a),u.head.appendChild(a)))}}function gR(s){ws.D(s),Lb("dns-prefetch",s,null)}function pR(s,a){ws.C(s,a),Lb("preconnect",s,a)}function yR(s,a,l){ws.L(s,a,l);var u=jo;if(u&&s&&a){var g='link[rel="preload"][as="'+pn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+pn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+pn(l.imageSizes)+'"]')):g+='[href="'+pn(s)+'"]';var p=g;switch(a){case"style":p=Fo(s);break;case"script":p=Ho(s)}Zn.has(p)||(s=_({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Zn.set(p,s),u.querySelector(g)!==null||a==="style"&&u.querySelector(Ac(p))||a==="script"&&u.querySelector(xc(p))||(a=u.createElement("link"),nn(a,"link",s),Ie(a),u.head.appendChild(a)))}}function _R(s,a){ws.m(s,a);var l=jo;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+pn(u)+'"][href="'+pn(s)+'"]',p=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Ho(s)}if(!Zn.has(p)&&(s=_({rel:"modulepreload",href:s},a),Zn.set(p,s),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(xc(p)))return}u=l.createElement("link"),nn(u,"link",s),Ie(u),l.head.appendChild(u)}}}function vR(s,a,l){ws.S(s,a,l);var u=jo;if(u&&s){var g=Oi(u).hoistableStyles,p=Fo(s);a=a||"default";var b=g.get(p);if(!b){var w={loading:0,preload:null};if(b=u.querySelector(Ac(p)))w.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Zn.get(p))&&Kg(s,l);var N=b=u.createElement("link");Ie(N),nn(N,"link",s),N._p=new Promise(function(Y,J){N.onload=Y,N.onerror=J}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,rf(b,a,u)}b={type:"stylesheet",instance:b,count:1,state:w},g.set(p,b)}}}function bR(s,a){ws.X(s,a);var l=jo;if(l&&s){var u=Oi(l).hoistableScripts,g=Ho(s),p=u.get(g);p||(p=l.querySelector(xc(g)),p||(s=_({src:s,async:!0},a),(a=Zn.get(g))&&Qg(s,a),p=l.createElement("script"),Ie(p),nn(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function ER(s,a){ws.M(s,a);var l=jo;if(l&&s){var u=Oi(l).hoistableScripts,g=Ho(s),p=u.get(g);p||(p=l.querySelector(xc(g)),p||(s=_({src:s,async:!0,type:"module"},a),(a=Zn.get(g))&&Qg(s,a),p=l.createElement("script"),Ie(p),nn(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function zb(s,a,l,u){var g=(g=Et.current)?sf(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Fo(l.href),l=Oi(g).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Fo(l.href);var p=Oi(g).hoistableStyles,b=p.get(s);if(b||(g=g.ownerDocument||g,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,b),(p=g.querySelector(Ac(s)))&&!p._p&&(b.instance=p,b.state.loading=5),Zn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Zn.set(s,l),p||TR(g,s,l,b.state))),a&&u===null)throw Error(i(528,""));return b}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ho(l),l=Oi(g).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Fo(s){return'href="'+pn(s)+'"'}function Ac(s){return'link[rel="stylesheet"]['+s+"]"}function Ub(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function TR(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),nn(a,"link",l),Ie(a),s.head.appendChild(a))}function Ho(s){return'[src="'+pn(s)+'"]'}function xc(s){return"script[async]"+s}function Bb(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+pn(l.href)+'"]');if(u)return a.instance=u,Ie(u),u;var g=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ie(u),nn(u,"style",g),rf(u,l.precedence,s),a.instance=u;case"stylesheet":g=Fo(l.href);var p=s.querySelector(Ac(g));if(p)return a.state.loading|=4,a.instance=p,Ie(p),p;u=Ub(l),(g=Zn.get(g))&&Kg(u,g),p=(s.ownerDocument||s).createElement("link"),Ie(p);var b=p;return b._p=new Promise(function(w,N){b.onload=w,b.onerror=N}),nn(p,"link",u),a.state.loading|=4,rf(p,l.precedence,s),a.instance=p;case"script":return p=Ho(l.src),(g=s.querySelector(xc(p)))?(a.instance=g,Ie(g),g):(u=l,(g=Zn.get(p))&&(u=_({},l),Qg(u,g)),s=s.ownerDocument||s,g=s.createElement("script"),Ie(g),nn(g,"link",u),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,rf(u,l.precedence,s));return a.instance}function rf(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,p=g,b=0;b<u.length;b++){var w=u[b];if(w.dataset.precedence===a)p=w;else if(p!==g)break}p?p.parentNode.insertBefore(s,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function Kg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Qg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var af=null;function jb(s,a,l){if(af===null){var u=new Map,g=af=new Map;g.set(l,u)}else g=af,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var p=l[g];if(!(p[Mi]||p[Ce]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(a)||"";b=s+b;var w=u.get(b);w?w.push(p):u.set(b,[p])}}return u}function Fb(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function SR(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(s=a.disabled,typeof a.precedence=="string"&&s==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Hb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function wR(s,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Fo(u.href),p=a.querySelector(Ac(g));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=of.bind(s),a.then(s,s)),l.state.loading|=4,l.instance=p,Ie(p);return}p=a.ownerDocument||a,u=Ub(u),(g=Zn.get(g))&&Kg(u,g),p=p.createElement("link"),Ie(p);var b=p;b._p=new Promise(function(w,N){b.onload=w,b.onerror=N}),nn(p,"link",u),l.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=of.bind(s),a.addEventListener("load",l),a.addEventListener("error",l))}}var Xg=0;function AR(s,a){return s.stylesheets&&s.count===0&&cf(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&cf(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4+a);0<s.imgBytes&&Xg===0&&(Xg=62500*rR());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&cf(s,s.stylesheets),s.unsuspend)){var p=s.unsuspend;s.unsuspend=null,p()}},(s.imgBytes>Xg?50:800)+a);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function of(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var lf=null;function cf(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,lf=new Map,a.forEach(xR,s),lf=null,of.call(s))}function xR(s,a){if(!(a.state.loading&4)){var l=lf.get(s);if(l)var u=l.get(null);else{l=new Map,lf.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var b=g[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),u=b)}u&&l.set(null,u)}g=a.instance,b=g.getAttribute("data-precedence"),p=l.get(b)||u,p===u&&l.set(null,g),l.set(b,g),this.count++,u=of.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),p?p.parentNode.insertBefore(g,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var Rc={$$typeof:W,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function RR(s,a,l,u,g,p,b,w,N){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function qb(s,a,l,u,g,p,b,w,N,Y,J,it){return s=new RR(s,a,l,b,N,Y,J,it,w),a=1,p===!0&&(a|=24),p=On(3,null,null,a),s.current=p,p.stateNode=s,a=Im(),a.refCount++,s.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:a},km(p),s}function Yb(s){return s?(s=bo,s):bo}function Gb(s,a,l,u,g,p){g=Yb(g),u.context===null?u.context=g:u.pendingContext=g,u=nr(a),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=ir(s,u,a),l!==null&&(Tn(l,s,a),rc(l,s,a))}function Wb(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function $g(s,a){Wb(s,a),(s=s.alternate)&&Wb(s,a)}function Kb(s){if(s.tag===13||s.tag===31){var a=ma(s,67108864);a!==null&&Tn(a,s,67108864),$g(s,67108864)}}function Qb(s){if(s.tag===13||s.tag===31){var a=Ln();a=na(a);var l=ma(s,a);l!==null&&Tn(l,s,a),$g(s,a)}}var uf=!0;function CR(s,a,l,u){var g=Q.T;Q.T=null;var p=at.p;try{at.p=2,Jg(s,a,l,u)}finally{at.p=p,Q.T=g}}function IR(s,a,l,u){var g=Q.T;Q.T=null;var p=at.p;try{at.p=8,Jg(s,a,l,u)}finally{at.p=p,Q.T=g}}function Jg(s,a,l,u){if(uf){var g=Zg(u);if(g===null)zg(s,a,u,hf,l),$b(s,u);else if(DR(g,s,a,l,u))u.stopPropagation();else if($b(s,u),a&4&&-1<MR.indexOf(s)){for(;g!==null;){var p=Fn(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=xi(p.pendingLanes);if(b!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var N=1<<31-be(b);w.entanglements[1]|=N,b&=~N}Yi(p),(Kt&6)===0&&(Gh=dn()+500,Ec(0))}}break;case 31:case 13:w=ma(p,2),w!==null&&Tn(w,p,2),Kh(),$g(p,2)}if(p=Zg(u),p===null&&zg(s,a,u,hf,l),p===g)break;g=p}g!==null&&u.stopPropagation()}else zg(s,a,u,null,l)}}function Zg(s){return s=Hn(s),tp(s)}var hf=null;function tp(s){if(hf=null,s=Di(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===31){if(s=h(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return hf=s,null}function Xb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jr()){case Ml:return 2;case Dl:return 8;case js:case am:return 32;case Fu:return 268435456;default:return 32}default:return 32}}var ep=!1,mr=null,gr=null,pr=null,Cc=new Map,Ic=new Map,yr=[],MR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $b(s,a){switch(s){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Cc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ic.delete(a.pointerId)}}function Mc(s,a,l,u,g,p){return s===null||s.nativeEvent!==p?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[g]},a!==null&&(a=Fn(a),a!==null&&Kb(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function DR(s,a,l,u,g){switch(a){case"focusin":return mr=Mc(mr,s,a,l,u,g),!0;case"dragenter":return gr=Mc(gr,s,a,l,u,g),!0;case"mouseover":return pr=Mc(pr,s,a,l,u,g),!0;case"pointerover":var p=g.pointerId;return Cc.set(p,Mc(Cc.get(p)||null,s,a,l,u,g)),!0;case"gotpointercapture":return p=g.pointerId,Ic.set(p,Mc(Ic.get(p)||null,s,a,l,u,g)),!0}return!1}function Jb(s){var a=Di(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,ui(s.priority,function(){Qb(l)});return}}else if(a===31){if(a=h(l),a!==null){s.blockedOn=a,ui(s.priority,function(){Qb(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ff(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Zg(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Hl=u,l.target.dispatchEvent(u),Hl=null}else return a=Fn(l),a!==null&&Kb(a),s.blockedOn=l,!1;a.shift()}return!0}function Zb(s,a,l){ff(s)&&l.delete(a)}function OR(){ep=!1,mr!==null&&ff(mr)&&(mr=null),gr!==null&&ff(gr)&&(gr=null),pr!==null&&ff(pr)&&(pr=null),Cc.forEach(Zb),Ic.forEach(Zb)}function df(s,a){s.blockedOn===a&&(s.blockedOn=null,ep||(ep=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,OR)))}var mf=null;function tE(s){mf!==s&&(mf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){mf===s&&(mf=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],g=s[a+2];if(typeof u!="function"){if(tp(u||l)===null)continue;break}var p=Fn(l);p!==null&&(s.splice(a,3),a-=3,Zm(p,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function qo(s){function a(N){return df(N,s)}mr!==null&&df(mr,s),gr!==null&&df(gr,s),pr!==null&&df(pr,s),Cc.forEach(a),Ic.forEach(a);for(var l=0;l<yr.length;l++){var u=yr[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<yr.length&&(l=yr[0],l.blockedOn===null);)Jb(l),l.blockedOn===null&&yr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],p=l[u+1],b=g[We]||null;if(typeof p=="function")b||tE(l);else if(b){var w=null;if(p&&p.hasAttribute("formAction")){if(g=p,b=p[We]||null)w=b.formAction;else if(tp(g)!==null)continue}else w=b.action;typeof w=="function"?l[u+1]=w:(l.splice(u,3),u-=3),tE(l)}}}function eE(){function s(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return g=b})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function np(s){this._internalRoot=s}gf.prototype.render=np.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=Ln();Gb(l,u,s,a,null,null)},gf.prototype.unmount=np.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Gb(s.current,2,null,s,null,null),Kh(),a[Ii]=null}};function gf(s){this._internalRoot=s}gf.prototype.unstable_scheduleHydration=function(s){if(s){var a=Ku();s={blockedOn:null,target:s,priority:a};for(var l=0;l<yr.length&&a!==0&&a<yr[l].priority;l++);yr.splice(l,0,s),l===0&&Jb(s)}};var nE=t.version;if(nE!=="19.2.3")throw Error(i(527,nE,"19.2.3"));at.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(a),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var kR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pf.isDisabled&&pf.supportsFiber)try{li=pf.inject(kR),$e=pf}catch{}}return Oc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",g=cv,p=uv,b=hv;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=qb(s,1,!1,null,null,l,u,null,g,p,b,eE),s[Ii]=a.current,Lg(s),new np(a)},Oc.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,g="",p=cv,b=uv,w=hv,N=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError),l.formState!==void 0&&(N=l.formState)),a=qb(s,1,!0,a,l??null,u,g,N,p,b,w,eE),a.context=Yb(null),l=a.current,u=Ln(),u=na(u),g=nr(u),g.callback=null,ir(l,g,u),l=u,a.current.lanes=l,ta(a,l),Yi(a),s[Ii]=a.current,Lg(s),new gf(a)},Oc.version="19.2.3",Oc}var fE;function qR(){if(fE)return rp.exports;fE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),rp.exports=HR(),rp.exports}var YR=qR();var dE="popstate";function GR(n={}){function t(i,r){let{pathname:o,search:c,hash:h}=i.location;return Lp("",{pathname:o,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:ou(r)}return KR(t,e,null,n)}function pe(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function si(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function WR(){return Math.random().toString(36).substring(2,10)}function mE(n,t){return{usr:n.state,key:n.key,idx:t}}function Lp(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?ml(t):t,state:e,key:t&&t.key||i||WR()}}function ou({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function ml(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function KR(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,c=r.history,h="POP",f=null,d=y();d==null&&(d=0,c.replaceState({...c.state,idx:d},""));function y(){return(c.state||{idx:null}).idx}function _(){h="POP";let I=y(),V=I==null?null:I-d;d=I,f&&f({action:h,location:A.location,delta:V})}function E(I,V){h="PUSH";let B=Lp(A.location,I,V);d=y()+1;let W=mE(B,d),rt=A.createHref(B);try{c.pushState(W,"",rt)}catch(et){if(et instanceof DOMException&&et.name==="DataCloneError")throw et;r.location.assign(rt)}o&&f&&f({action:h,location:A.location,delta:1})}function S(I,V){h="REPLACE";let B=Lp(A.location,I,V);d=y();let W=mE(B,d),rt=A.createHref(B);c.replaceState(W,"",rt),o&&f&&f({action:h,location:A.location,delta:0})}function R(I){return QR(I)}let A={get action(){return h},get location(){return n(r,c)},listen(I){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(dE,_),f=I,()=>{r.removeEventListener(dE,_),f=null}},createHref(I){return t(r,I)},createURL:R,encodeLocation(I){let V=R(I);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:E,replace:S,go(I){return c.go(I)}};return A}function QR(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),pe(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:ou(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function ES(n,t,e="/"){return XR(n,t,e,!1)}function XR(n,t,e,i){let r=typeof t=="string"?ml(t):t,o=Ns(r.pathname||"/",e);if(o==null)return null;let c=TS(n);$R(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let d=lC(o);h=aC(c[f],d,i)}return h}function TS(n,t=[],e=[],i="",r=!1){let o=(c,h,f=r,d)=>{let y={relativePath:d===void 0?c.path||"":d,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&f)return;pe(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let _=Os([i,y.relativePath]),E=e.concat(y);c.children&&c.children.length>0&&(pe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),TS(c.children,t,E,_,f)),!(c.path==null&&!c.index)&&t.push({path:_,score:sC(_,c.index),routesMeta:E})};return n.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let f of SS(c.path))o(c,h,!0,f)}),t}function SS(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let c=SS(i.join("/")),h=[];return h.push(...c.map(f=>f===""?o:[o,f].join("/"))),r&&h.push(...c),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function $R(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:rC(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var JR=/^:[\w-]+$/,ZR=3,tC=2,eC=1,nC=10,iC=-2,gE=n=>n==="*";function sC(n,t){let e=n.split("/"),i=e.length;return e.some(gE)&&(i+=iC),t&&(i+=tC),e.filter(r=>!gE(r)).reduce((r,o)=>r+(JR.test(o)?ZR:o===""?eC:nC),i)}function rC(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function aC(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],d=h===i.length-1,y=o==="/"?t:t.slice(o.length)||"/",_=td({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},y),E=f.route;if(!_&&d&&e&&!i[i.length-1].route.index&&(_=td({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!_)return null;Object.assign(r,_.params),c.push({params:r,pathname:Os([o,_.pathname]),pathnameBase:fC(Os([o,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(o=Os([o,_.pathnameBase]))}return c}function td(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=oC(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((d,{paramName:y,isOptional:_},E)=>{if(y==="*"){let R=h[E]||"";c=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const S=h[E];return _&&!S?d[y]=void 0:d[y]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:c,pattern:n}}function oC(n,t=!1,e=!0){si(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function lC(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return si(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Ns(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}var wS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cC=n=>wS.test(n);function uC(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?ml(n):n,o;if(e)if(cC(e))o=e;else{if(e.includes("//")){let c=e;e=e.replace(/\/\/+/g,"/"),si(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${e}`)}e.startsWith("/")?o=pE(e.substring(1),"/"):o=pE(e,t)}else o=t;return{pathname:o,search:dC(i),hash:mC(r)}}function pE(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function cp(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hC(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function vy(n){let t=hC(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function by(n,t,e,i=!1){let r;typeof n=="string"?r=ml(n):(r={...n},pe(!r.pathname||!r.pathname.includes("?"),cp("?","pathname","search",r)),pe(!r.pathname||!r.pathname.includes("#"),cp("#","pathname","hash",r)),pe(!r.search||!r.search.includes("#"),cp("#","search","hash",r)));let o=n===""||r.pathname==="",c=o?"/":r.pathname,h;if(c==null)h=e;else{let _=t.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;r.pathname=E.join("/")}h=_>=0?t[_]:"/"}let f=uC(r,h),d=c&&c!=="/"&&c.endsWith("/"),y=(o||c===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(d||y)&&(f.pathname+="/"),f}var Os=n=>n.join("/").replace(/\/\/+/g,"/"),fC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),dC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,mC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,gC=class{constructor(n,t,e,i=!1){this.status=n,this.statusText=t||"",this.internal=i,e instanceof Error?(this.data=e.toString(),this.error=e):this.data=e}};function pC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function yC(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var AS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function xS(n,t){let e=n;if(typeof e!="string"||!wS.test(e))return{absoluteURL:void 0,isExternal:!1,to:e};let i=e,r=!1;if(AS)try{let o=new URL(window.location.href),c=e.startsWith("//")?new URL(o.protocol+e):new URL(e),h=Ns(c.pathname,t);c.origin===o.origin&&h!=null?e=h+c.search+c.hash:r=!0}catch{si(!1,`<Link to="${e}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var RS=["POST","PUT","PATCH","DELETE"];new Set(RS);var _C=["GET",...RS];new Set(_C);var gl=G.createContext(null);gl.displayName="DataRouter";var Id=G.createContext(null);Id.displayName="DataRouterState";var vC=G.createContext(!1),CS=G.createContext({isTransitioning:!1});CS.displayName="ViewTransition";var bC=G.createContext(new Map);bC.displayName="Fetchers";var EC=G.createContext(null);EC.displayName="Await";var Un=G.createContext(null);Un.displayName="Navigation";var xu=G.createContext(null);xu.displayName="Location";var rs=G.createContext({outlet:null,matches:[],isDataRoute:!1});rs.displayName="Route";var Ey=G.createContext(null);Ey.displayName="RouteError";var IS="REACT_ROUTER_ERROR",TC="REDIRECT",SC="ROUTE_ERROR_RESPONSE";function wC(n){if(n.startsWith(`${IS}:${TC}:{`))try{let t=JSON.parse(n.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function AC(n){if(n.startsWith(`${IS}:${SC}:{`))try{let t=JSON.parse(n.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new gC(t.status,t.statusText,t.data)}catch{}}function xC(n,{relative:t}={}){pe(pl(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=G.useContext(Un),{hash:r,pathname:o,search:c}=Ru(n,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:Os([e,o])),i.createHref({pathname:h,search:c,hash:r})}function pl(){return G.useContext(xu)!=null}function Yr(){return pe(pl(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(xu).location}var MS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DS(n){G.useContext(Un).static||G.useLayoutEffect(n)}function Md(){let{isDataRoute:n}=G.useContext(rs);return n?UC():RC()}function RC(){pe(pl(),"useNavigate() may be used only in the context of a <Router> component.");let n=G.useContext(gl),{basename:t,navigator:e}=G.useContext(Un),{matches:i}=G.useContext(rs),{pathname:r}=Yr(),o=JSON.stringify(vy(i)),c=G.useRef(!1);return DS(()=>{c.current=!0}),G.useCallback((f,d={})=>{if(si(c.current,MS),!c.current)return;if(typeof f=="number"){e.go(f);return}let y=by(f,JSON.parse(o),r,d.relative==="path");n==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Os([t,y.pathname])),(d.replace?e.replace:e.push)(y,d.state,d)},[t,e,o,r,n])}G.createContext(null);function Ru(n,{relative:t}={}){let{matches:e}=G.useContext(rs),{pathname:i}=Yr(),r=JSON.stringify(vy(e));return G.useMemo(()=>by(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function CC(n,t){return OS(n,t)}function OS(n,t,e,i,r){pe(pl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=G.useContext(Un),{matches:c}=G.useContext(rs),h=c[c.length-1],f=h?h.params:{},d=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let B=_&&_.path||"";NS(d,!_||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let E=Yr(),S;if(t){let B=typeof t=="string"?ml(t):t;pe(y==="/"||B.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${B.pathname}" was given in the \`location\` prop.`),S=B}else S=E;let R=S.pathname||"/",A=R;if(y!=="/"){let B=y.replace(/^\//,"").split("/");A="/"+R.replace(/^\//,"").split("/").slice(B.length).join("/")}let I=ES(n,{pathname:A});si(_||I!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),si(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=kC(I&&I.map(B=>Object.assign({},B,{params:Object.assign({},f,B.params),pathname:Os([y,o.encodeLocation?o.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:Os([y,o.encodeLocation?o.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),c,e,i,r);return t&&V?G.createElement(xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},V):V}function IC(){let n=zC(),t=pC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:o},"ErrorBoundary")," or"," ",G.createElement("code",{style:o},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),e?G.createElement("pre",{style:r},e):null,c)}var MC=G.createElement(IC,null),kS=class extends G.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const e=AC(n.digest);e&&(n=e)}let t=n!==void 0?G.createElement(rs.Provider,{value:this.props.routeContext},G.createElement(Ey.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?G.createElement(DC,{error:n},t):t}};kS.contextType=vC;var up=new WeakMap;function DC({children:n,error:t}){let{basename:e}=G.useContext(Un);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=wC(t.digest);if(i){let r=up.get(t);if(r)throw r;let o=xS(i.location,e);if(AS&&!up.get(t))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw up.set(t,c),c}return G.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function OC({routeContext:n,match:t,children:e}){let i=G.useContext(gl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(rs.Provider,{value:n},e)}function kC(n,t=[],e=null,i=null,r=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let o=n,c=e?.errors;if(c!=null){let y=o.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);pe(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let h=!1,f=-1;if(e)for(let y=0;y<o.length;y++){let _=o[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(f=y),_.route.id){let{loaderData:E,errors:S}=e,R=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||R){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let d=e&&i?(y,_)=>{i(y,{location:e.location,params:e.matches?.[0]?.params??{},unstable_pattern:yC(e.matches),errorInfo:_})}:void 0;return o.reduceRight((y,_,E)=>{let S,R=!1,A=null,I=null;e&&(S=c&&_.route.id?c[_.route.id]:void 0,A=_.route.errorElement||MC,h&&(f<0&&E===0?(NS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,I=null):f===E&&(R=!0,I=_.route.hydrateFallbackElement||null)));let V=t.concat(o.slice(0,E+1)),B=()=>{let W;return S?W=A:R?W=I:_.route.Component?W=G.createElement(_.route.Component,null):_.route.element?W=_.route.element:W=y,G.createElement(OC,{match:_,routeContext:{outlet:y,matches:V,isDataRoute:e!=null},children:W})};return e&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?G.createElement(kS,{location:e.location,revalidation:e.revalidation,component:A,error:S,children:B(),routeContext:{outlet:null,matches:V,isDataRoute:!0},onError:d}):B()},null)}function Ty(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NC(n){let t=G.useContext(gl);return pe(t,Ty(n)),t}function PC(n){let t=G.useContext(Id);return pe(t,Ty(n)),t}function VC(n){let t=G.useContext(rs);return pe(t,Ty(n)),t}function Sy(n){let t=VC(n),e=t.matches[t.matches.length-1];return pe(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function LC(){return Sy("useRouteId")}function zC(){let n=G.useContext(Ey),t=PC("useRouteError"),e=Sy("useRouteError");return n!==void 0?n:t.errors?.[e]}function UC(){let{router:n}=NC("useNavigate"),t=Sy("useNavigate"),e=G.useRef(!1);return DS(()=>{e.current=!0}),G.useCallback(async(r,o={})=>{si(e.current,MS),e.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var yE={};function NS(n,t,e){!t&&!yE[n]&&(yE[n]=!0,si(!1,e))}G.memo(BC);function BC({routes:n,future:t,state:e,onError:i}){return OS(n,void 0,e,i,t)}function PS({to:n,replace:t,state:e,relative:i}){pe(pl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=G.useContext(Un);si(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=G.useContext(rs),{pathname:c}=Yr(),h=Md(),f=by(n,vy(o),c,i==="path"),d=JSON.stringify(f);return G.useEffect(()=>{h(JSON.parse(d),{replace:t,state:e,relative:i})},[h,d,i,t,e]),null}function zf(n){pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jC({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1,unstable_useTransitions:c}){pe(!pl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),f=G.useMemo(()=>({basename:h,navigator:r,static:o,unstable_useTransitions:c,future:{}}),[h,r,o,c]);typeof e=="string"&&(e=ml(e));let{pathname:d="/",search:y="",hash:_="",state:E=null,key:S="default"}=e,R=G.useMemo(()=>{let A=Ns(d,h);return A==null?null:{location:{pathname:A,search:y,hash:_,state:E,key:S},navigationType:i}},[h,d,y,_,E,S,i]);return si(R!=null,`<Router basename="${h}"> is not able to match the URL "${d}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:G.createElement(Un.Provider,{value:f},G.createElement(xu.Provider,{children:t,value:R}))}function FC({children:n,location:t}){return CC(zp(n),t)}function zp(n,t=[]){let e=[];return G.Children.forEach(n,(i,r)=>{if(!G.isValidElement(i))return;let o=[...t,r];if(i.type===G.Fragment){e.push.apply(e,zp(i.props.children,o));return}pe(i.type===zf,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=zp(i.props.children,o)),e.push(c)}),e}var Uf="get",Bf="application/x-www-form-urlencoded";function Dd(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function HC(n){return Dd(n)&&n.tagName.toLowerCase()==="button"}function qC(n){return Dd(n)&&n.tagName.toLowerCase()==="form"}function YC(n){return Dd(n)&&n.tagName.toLowerCase()==="input"}function GC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function WC(n,t){return n.button===0&&(!t||t==="_self")&&!GC(n)}var yf=null;function KC(){if(yf===null)try{new FormData(document.createElement("form"),0),yf=!1}catch{yf=!0}return yf}var QC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hp(n){return n!=null&&!QC.has(n)?(si(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bf}"`),null):n}function XC(n,t){let e,i,r,o,c;if(qC(n)){let h=n.getAttribute("action");i=h?Ns(h,t):null,e=n.getAttribute("method")||Uf,r=hp(n.getAttribute("enctype"))||Bf,o=new FormData(n)}else if(HC(n)||YC(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?Ns(f,t):null,e=n.getAttribute("formmethod")||h.getAttribute("method")||Uf,r=hp(n.getAttribute("formenctype"))||hp(h.getAttribute("enctype"))||Bf,o=new FormData(h,n),!KC()){let{name:d,type:y,value:_}=n;if(y==="image"){let E=d?`${d}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else d&&o.append(d,_)}}else{if(Dd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Uf,i=null,r=Bf,c=n}return o&&r==="text/plain"&&(c=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wy(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function $C(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&Ns(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function JC(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function tI(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let c=await JC(o,e);return c.links?c.links():[]}return[]}));return sI(i.flat(1).filter(ZC).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function _E(n,t,e,i,r,o){let c=(f,d)=>e[d]?f.route.id!==e[d].route.id:!0,h=(f,d)=>e[d].pathname!==f.pathname||e[d].route.path?.endsWith("*")&&e[d].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,d)=>c(f,d)||h(f,d)):o==="data"?t.filter((f,d)=>{let y=i.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(c(f,d)||h(f,d))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function eI(n,t,{includeHydrateFallback:e}={}){return nI(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function nI(n){return[...new Set(n)]}function iI(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function sI(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(iI(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}function VS(){let n=G.useContext(gl);return wy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function rI(){let n=G.useContext(Id);return wy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ay=G.createContext(void 0);Ay.displayName="FrameworkContext";function LS(){let n=G.useContext(Ay);return wy(n,"You must render this element inside a <HydratedRouter> element"),n}function aI(n,t){let e=G.useContext(Ay),[i,r]=G.useState(!1),[o,c]=G.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:d,onMouseLeave:y,onTouchStart:_}=t,E=G.useRef(null);G.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let A=V=>{V.forEach(B=>{c(B.isIntersecting)})},I=new IntersectionObserver(A,{threshold:.5});return E.current&&I.observe(E.current),()=>{I.disconnect()}}},[n]),G.useEffect(()=>{if(i){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[i]);let S=()=>{r(!0)},R=()=>{r(!1),c(!1)};return e?n!=="intent"?[o,E,{}]:[o,E,{onFocus:kc(h,S),onBlur:kc(f,R),onMouseEnter:kc(d,S),onMouseLeave:kc(y,R),onTouchStart:kc(_,S)}]:[!1,E,{}]}function kc(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function oI({page:n,...t}){let{router:e}=VS(),i=G.useMemo(()=>ES(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?G.createElement(cI,{page:n,matches:i,...t}):null}function lI(n){let{manifest:t,routeModules:e}=LS(),[i,r]=G.useState([]);return G.useEffect(()=>{let o=!1;return tI(n,t,e).then(c=>{o||r(c)}),()=>{o=!0}},[n,t,e]),i}function cI({page:n,matches:t,...e}){let i=Yr(),{manifest:r,routeModules:o}=LS(),{basename:c}=VS(),{loaderData:h,matches:f}=rI(),d=G.useMemo(()=>_E(n,t,f,r,i,"data"),[n,t,f,r,i]),y=G.useMemo(()=>_E(n,t,f,r,i,"assets"),[n,t,f,r,i]),_=G.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let R=new Set,A=!1;if(t.forEach(V=>{let B=r.routes[V.route.id];!B||!B.hasLoader||(!d.some(W=>W.route.id===V.route.id)&&V.route.id in h&&o[V.route.id]?.shouldRevalidate||B.hasClientLoader?A=!0:R.add(V.route.id))}),R.size===0)return[];let I=$C(n,c,"data");return A&&R.size>0&&I.searchParams.set("_routes",t.filter(V=>R.has(V.route.id)).map(V=>V.route.id).join(",")),[I.pathname+I.search]},[c,h,i,r,d,t,n,o]),E=G.useMemo(()=>eI(y,r),[y,r]),S=lI(y);return G.createElement(G.Fragment,null,_.map(R=>G.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...e})),E.map(R=>G.createElement("link",{key:R,rel:"modulepreload",href:R,...e})),S.map(({key:R,link:A})=>G.createElement("link",{key:R,nonce:e.nonce,...A})))}function uI(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var hI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hI&&(window.__reactRouterVersion="7.11.0")}catch{}function fI({basename:n,children:t,unstable_useTransitions:e,window:i}){let r=G.useRef();r.current==null&&(r.current=GR({window:i,v5Compat:!0}));let o=r.current,[c,h]=G.useState({action:o.action,location:o.location}),f=G.useCallback(d=>{e===!1?h(d):G.startTransition(()=>h(d))},[e]);return G.useLayoutEffect(()=>o.listen(f),[o,f]),G.createElement(jC,{basename:n,children:t,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:e})}var zS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$c=G.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:c,state:h,target:f,to:d,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E,...S},R){let{basename:A,unstable_useTransitions:I}=G.useContext(Un),V=typeof d=="string"&&zS.test(d),B=xS(d,A);d=B.to;let W=xC(d,{relative:r}),[rt,et,ot]=aI(i,S),M=pI(d,{replace:c,state:h,target:f,preventScrollReset:y,relative:r,viewTransition:_,unstable_defaultShouldRevalidate:E,unstable_useTransitions:I});function C(P){t&&t(P),P.defaultPrevented||M(P)}let D=G.createElement("a",{...S,...ot,href:B.absoluteURL||W,onClick:B.isExternal||o?t:C,ref:uI(R,et),target:f,"data-discover":!V&&e==="render"?"true":void 0});return rt&&!V?G.createElement(G.Fragment,null,D,G.createElement(oI,{page:W})):D});$c.displayName="Link";var dI=G.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:c,viewTransition:h,children:f,...d},y){let _=Ru(c,{relative:d.relative}),E=Yr(),S=G.useContext(Id),{navigator:R,basename:A}=G.useContext(Un),I=S!=null&&EI(_)&&h===!0,V=R.encodeLocation?R.encodeLocation(_).pathname:_.pathname,B=E.pathname,W=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;e||(B=B.toLowerCase(),W=W?W.toLowerCase():null,V=V.toLowerCase()),W&&A&&(W=Ns(W,A)||W);const rt=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let et=B===V||!r&&B.startsWith(V)&&B.charAt(rt)==="/",ot=W!=null&&(W===V||!r&&W.startsWith(V)&&W.charAt(V.length)==="/"),M={isActive:et,isPending:ot,isTransitioning:I},C=et?t:void 0,D;typeof i=="function"?D=i(M):D=[i,et?"active":null,ot?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(M):o;return G.createElement($c,{...d,"aria-current":C,className:D,ref:y,style:P,to:c,viewTransition:h},typeof f=="function"?f(M):f)});dI.displayName="NavLink";var mI=G.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:c=Uf,action:h,onSubmit:f,relative:d,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E,...S},R)=>{let{unstable_useTransitions:A}=G.useContext(Un),I=vI(),V=bI(h,{relative:d}),B=c.toLowerCase()==="get"?"get":"post",W=typeof h=="string"&&zS.test(h),rt=et=>{if(f&&f(et),et.defaultPrevented)return;et.preventDefault();let ot=et.nativeEvent.submitter,M=ot?.getAttribute("formmethod")||c,C=()=>I(ot||et.currentTarget,{fetcherKey:t,method:M,navigate:e,replace:r,state:o,relative:d,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E});A&&e!==!1?G.startTransition(()=>C()):C()};return G.createElement("form",{ref:R,method:B,action:V,onSubmit:i?f:rt,...S,"data-discover":!W&&n==="render"?"true":void 0})});mI.displayName="Form";function gI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function US(n){let t=G.useContext(gl);return pe(t,gI(n)),t}function pI(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:f}={}){let d=Md(),y=Yr(),_=Ru(n,{relative:o});return G.useCallback(E=>{if(WC(E,t)){E.preventDefault();let S=e!==void 0?e:ou(y)===ou(_),R=()=>d(n,{replace:S,state:i,preventScrollReset:r,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h});f?G.startTransition(()=>R()):R()}},[y,d,_,e,i,t,n,r,o,c,h,f])}var yI=0,_I=()=>`__${String(++yI)}__`;function vI(){let{router:n}=US("useSubmit"),{basename:t}=G.useContext(Un),e=LC(),i=n.fetch,r=n.navigate;return G.useCallback(async(o,c={})=>{let{action:h,method:f,encType:d,formData:y,body:_}=XC(o,t);if(c.navigate===!1){let E=c.fetcherKey||_I();await i(E,e,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||f,formEncType:c.encType||d,flushSync:c.flushSync})}else await r(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||f,formEncType:c.encType||d,replace:c.replace,state:c.state,fromRouteId:e,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,r,t,e])}function bI(n,{relative:t}={}){let{basename:e}=G.useContext(Un),i=G.useContext(rs);pe(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Ru(n||".",{relative:t})},c=Yr();if(n==null){o.search=c.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Os([e,o.pathname])),ou(o)}function EI(n,{relative:t}={}){let e=G.useContext(CS);pe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=US("useViewTransitionState"),r=Ru(n,{relative:t});if(!e.isTransitioning)return!1;let o=Ns(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=Ns(e.nextLocation.pathname,i)||e.nextLocation.pathname;return td(r.pathname,c)!=null||td(r.pathname,o)!=null}const TI=()=>{};var vE={};const BS=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},SI=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],h=n[e++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},jS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,f=r+2<n.length,d=f?n[r+2]:0,y=o>>2,_=(o&3)<<4|h>>4;let E=(h&15)<<2|d>>6,S=d&63;f||(S=64,c||(E=64)),i.push(e[y],e[_],e[E],e[S])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(BS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):SI(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const d=r<n.length?e[n.charAt(r)]:64;++r;const _=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||d==null||_==null)throw new wI;const E=o<<2|h>>4;if(i.push(E),d!==64){const S=h<<4&240|d>>2;if(i.push(S),_!==64){const R=d<<6&192|_;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class wI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AI=function(n){const t=BS(n);return jS.encodeByteArray(t,!0)},FS=function(n){return AI(n).replace(/\./g,"")},HS=function(n){try{return jS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function xI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const RI=()=>xI().__FIREBASE_DEFAULTS__,CI=()=>{if(typeof process>"u"||typeof vE>"u")return;const n=vE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},II=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&HS(n[1]);return t&&JSON.parse(t)},Od=()=>{try{return TI()||RI()||CI()||II()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},MI=n=>Od()?.emulatorHosts?.[n],qS=()=>Od()?.config,YS=n=>Od()?.[`_${n}`];class DI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function yl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function GS(n){return(await fetch(n,{credentials:"include"})).ok}const Jc={};function OI(){const n={prod:[],emulator:[]};for(const t of Object.keys(Jc))Jc[t]?n.emulator.push(t):n.prod.push(t);return n}function kI(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let bE=!1;function NI(n,t){if(typeof window>"u"||typeof document>"u"||!yl(window.location.host)||Jc[n]===t||Jc[n]||bE)return;Jc[n]=t;function e(E){return`__firebase__banner__${E}`}const i="__firebase__banner",o=OI().prod.length>0;function c(){const E=document.getElementById(i);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,S){E.setAttribute("width","24"),E.setAttribute("id",S),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function d(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{bE=!0,c()},E}function y(E,S){E.setAttribute("id",S),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=kI(i),S=e("text"),R=document.getElementById(S)||document.createElement("span"),A=e("learnmore"),I=document.getElementById(A)||document.createElement("a"),V=e("preprendIcon"),B=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const W=E.element;h(W),y(I,A);const rt=d();f(B,V),W.append(B,R,I,rt),document.body.appendChild(W)}o?(R.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function VI(){const n=Od()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function UI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BI(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function jI(){return!VI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FI(){try{return typeof indexedDB=="object"}catch{return!1}}function HI(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}const qI="FirebaseError";class Us extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=qI,Object.setPrototypeOf(this,Us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cu.prototype.create)}}class Cu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?YI(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new Us(r,h,i)}}function YI(n,t){return n.replace(GI,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const GI=/\{\$([^}]+)}/g;function WI(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Ba(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(EE(o)&&EE(c)){if(!Ba(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function EE(n){return n!==null&&typeof n=="object"}function Iu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Fc(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function Hc(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function KI(n,t){const e=new QI(n,t);return e.subscribe.bind(e)}class QI{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");XI(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=fp),r.error===void 0&&(r.error=fp),r.complete===void 0&&(r.complete=fp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XI(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function fp(){}function Ge(n){return n&&n._delegate?n._delegate:n}class ja{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ma="[DEFAULT]";class $I{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new DI;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ZI(t))try{this.getOrInitializeService({instanceIdentifier:Ma})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=Ma){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ma){return this.instances.has(t)}getOptions(t=Ma){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:JI(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ma){return this.component?this.component.multipleInstances?t:Ma:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JI(n){return n===Ma?void 0:n}function ZI(n){return n.instantiationMode==="EAGER"}class tM{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new $I(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Lt||(Lt={}));const eM={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},nM=Lt.INFO,iM={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},sM=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=iM[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class xy{constructor(t){this.name=t,this._logLevel=nM,this._logHandler=sM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?eM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const rM=(n,t)=>t.some(e=>n instanceof e);let TE,SE;function aM(){return TE||(TE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oM(){return SE||(SE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WS=new WeakMap,Up=new WeakMap,KS=new WeakMap,dp=new WeakMap,Ry=new WeakMap;function lM(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(Dr(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&WS.set(e,n)}).catch(()=>{}),Ry.set(t,n),t}function cM(n){if(Up.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Up.set(n,t)}let Bp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Up.get(n);if(t==="objectStoreNames")return n.objectStoreNames||KS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Dr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function uM(n){Bp=n(Bp)}function hM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(mp(this),t,...e);return KS.set(i,t.sort?t.sort():[t]),Dr(i)}:oM().includes(n)?function(...t){return n.apply(mp(this),t),Dr(WS.get(this))}:function(...t){return Dr(n.apply(mp(this),t))}}function fM(n){return typeof n=="function"?hM(n):(n instanceof IDBTransaction&&cM(n),rM(n,aM())?new Proxy(n,Bp):n)}function Dr(n){if(n instanceof IDBRequest)return lM(n);if(dp.has(n))return dp.get(n);const t=fM(n);return t!==n&&(dp.set(n,t),Ry.set(t,n)),t}const mp=n=>Ry.get(n);function dM(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),h=Dr(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Dr(c.result),f.oldVersion,f.newVersion,Dr(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const mM=["get","getKey","getAll","getAllKeys","count"],gM=["put","add","delete","clear"],gp=new Map;function wE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(gp.get(t))return gp.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=gM.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||mM.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,r?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(h.shift())),(await Promise.all([d[e](...h),r&&f.done]))[0]};return gp.set(t,o),o}uM(n=>({...n,get:(t,e,i)=>wE(t,e)||n.get(t,e,i),has:(t,e)=>!!wE(t,e)||n.has(t,e)}));class pM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(yM(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function yM(n){return n.getComponent()?.type==="VERSION"}const jp="@firebase/app",AE="0.14.6";const Ps=new xy("@firebase/app"),_M="@firebase/app-compat",vM="@firebase/analytics-compat",bM="@firebase/analytics",EM="@firebase/app-check-compat",TM="@firebase/app-check",SM="@firebase/auth",wM="@firebase/auth-compat",AM="@firebase/database",xM="@firebase/data-connect",RM="@firebase/database-compat",CM="@firebase/functions",IM="@firebase/functions-compat",MM="@firebase/installations",DM="@firebase/installations-compat",OM="@firebase/messaging",kM="@firebase/messaging-compat",NM="@firebase/performance",PM="@firebase/performance-compat",VM="@firebase/remote-config",LM="@firebase/remote-config-compat",zM="@firebase/storage",UM="@firebase/storage-compat",BM="@firebase/firestore",jM="@firebase/ai",FM="@firebase/firestore-compat",HM="firebase",qM="12.6.0";const Fp="[DEFAULT]",YM={[jp]:"fire-core",[_M]:"fire-core-compat",[bM]:"fire-analytics",[vM]:"fire-analytics-compat",[TM]:"fire-app-check",[EM]:"fire-app-check-compat",[SM]:"fire-auth",[wM]:"fire-auth-compat",[AM]:"fire-rtdb",[xM]:"fire-data-connect",[RM]:"fire-rtdb-compat",[CM]:"fire-fn",[IM]:"fire-fn-compat",[MM]:"fire-iid",[DM]:"fire-iid-compat",[OM]:"fire-fcm",[kM]:"fire-fcm-compat",[NM]:"fire-perf",[PM]:"fire-perf-compat",[VM]:"fire-rc",[LM]:"fire-rc-compat",[zM]:"fire-gcs",[UM]:"fire-gcs-compat",[BM]:"fire-fst",[FM]:"fire-fst-compat",[jM]:"fire-vertex","fire-js":"fire-js",[HM]:"fire-js-all"};const lu=new Map,GM=new Map,Hp=new Map;function xE(n,t){try{n.container.addComponent(t)}catch(e){Ps.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function al(n){const t=n.name;if(Hp.has(t))return Ps.debug(`There were multiple attempts to register component ${t}.`),!1;Hp.set(t,n);for(const e of lu.values())xE(e,n);for(const e of GM.values())xE(e,n);return!0}function Cy(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ei(n){return n==null?!1:n.settings!==void 0}const WM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Or=new Cu("app","Firebase",WM);class KM{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}const _l=qM;function QS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:Fp,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw Or.create("bad-app-name",{appName:String(r)});if(e||(e=qS()),!e)throw Or.create("no-options");const o=lu.get(r);if(o){if(Ba(e,o.options)&&Ba(i,o.config))return o;throw Or.create("duplicate-app",{appName:r})}const c=new tM(r);for(const f of Hp.values())c.addComponent(f);const h=new KM(e,i,c);return lu.set(r,h),h}function XS(n=Fp){const t=lu.get(n);if(!t&&n===Fp&&qS())return QS();if(!t)throw Or.create("no-app",{appName:n});return t}function QM(){return Array.from(lu.values())}function kr(n,t,e){let i=YM[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const c=[`Unable to register library "${i}" with version "${t}":`];r&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ps.warn(c.join(" "));return}al(new ja(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const XM="firebase-heartbeat-database",$M=1,cu="firebase-heartbeat-store";let pp=null;function $S(){return pp||(pp=dM(XM,$M,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(cu)}catch(e){console.warn(e)}}}}).catch(n=>{throw Or.create("idb-open",{originalErrorMessage:n.message})})),pp}async function JM(n){try{const e=(await $S()).transaction(cu),i=await e.objectStore(cu).get(JS(n));return await e.done,i}catch(t){if(t instanceof Us)Ps.warn(t.message);else{const e=Or.create("idb-get",{originalErrorMessage:t?.message});Ps.warn(e.message)}}}async function RE(n,t){try{const i=(await $S()).transaction(cu,"readwrite");await i.objectStore(cu).put(t,JS(n)),await i.done}catch(e){if(e instanceof Us)Ps.warn(e.message);else{const i=Or.create("idb-set",{originalErrorMessage:e?.message});Ps.warn(i.message)}}}function JS(n){return`${n.name}!${n.options.appId}`}const ZM=1024,tD=30;class eD{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new iD(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=CE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>tD){const r=sD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ps.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=CE(),{heartbeatsToSend:e,unsentEntries:i}=nD(this._heartbeatsCache.heartbeats),r=FS(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return Ps.warn(t),""}}}function CE(){return new Date().toISOString().substring(0,10)}function nD(n,t=ZM){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),IE(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),IE(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class iD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FI()?HI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await JM(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return RE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return RE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function IE(n){return FS(JSON.stringify({version:2,heartbeats:n})).length}function sD(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function rD(n){al(new ja("platform-logger",t=>new pM(t),"PRIVATE")),al(new ja("heartbeat",t=>new eD(t),"PRIVATE")),kr(jp,AE,n),kr(jp,AE,"esm2020"),kr("fire-js","")}rD("");var aD="firebase",oD="12.7.0";kr(aD,oD,"app");function ZS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lD=ZS,tw=new Cu("auth","Firebase",ZS());const ed=new xy("@firebase/auth");function cD(n,...t){ed.logLevel<=Lt.WARN&&ed.warn(`Auth (${_l}): ${n}`,...t)}function jf(n,...t){ed.logLevel<=Lt.ERROR&&ed.error(`Auth (${_l}): ${n}`,...t)}function Ti(n,...t){throw Iy(n,...t)}function $i(n,...t){return Iy(n,...t)}function ew(n,t,e){const i={...lD(),[t]:e};return new Cu("auth","Firebase",i).create(t,{appName:n.name})}function ks(n){return ew(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Iy(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return tw.create(n,...t)}function Tt(n,t,...e){if(!n)throw Iy(t,...e)}function Is(n){const t="INTERNAL ASSERTION FAILED: "+n;throw jf(t),new Error(t)}function Vs(n,t){n||Is(t)}function qp(){return typeof self<"u"&&self.location?.href||""}function uD(){return ME()==="http:"||ME()==="https:"}function ME(){return typeof self<"u"&&self.location?.protocol||null}function hD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uD()||zI()||"connection"in navigator)?navigator.onLine:!0}function fD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Mu{constructor(t,e){this.shortDelay=t,this.longDelay=e,Vs(e>t,"Short delay should be less than long delay!"),this.isMobile=PI()||UI()}get(){return hD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function My(n,t){Vs(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class nw{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const mD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gD=new Mu(3e4,6e4);function Gr(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Wr(n,t,e,i,r={}){return iw(n,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=Iu({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:t,headers:f,...o};return LI()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&yl(n.emulatorConfig.host)&&(d.credentials="include"),nw.fetch()(await sw(n,n.config.apiHost,e,h),d)})}async function iw(n,t,e){n._canInitEmulator=!1;const i={...dD,...t};try{const r=new yD(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw _f(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,d]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw _f(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw _f(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw _f(n,"user-disabled",c);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw ew(n,y,d);Ti(n,y)}}catch(r){if(r instanceof Us)throw r;Ti(n,"network-request-failed",{message:String(r)})}}async function Du(n,t,e,i,r={}){const o=await Wr(n,t,e,i,r);return"mfaPendingCredential"in o&&Ti(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function sw(n,t,e,i){const r=`${t}${e}?${i}`,o=n,c=o.config.emulator?My(n.config,r):`${n.config.apiScheme}://${r}`;return mD.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function pD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i($i(this.auth,"network-request-failed")),gD.get())})}}function _f(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=$i(n,t,i);return r.customData._tokenResponse=e,r}function DE(n){return n!==void 0&&n.enterprise!==void 0}class _D{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return pD(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vD(n,t){return Wr(n,"GET","/v2/recaptchaConfig",Gr(n,t))}async function bD(n,t){return Wr(n,"POST","/v1/accounts:delete",t)}async function nd(n,t){return Wr(n,"POST","/v1/accounts:lookup",t)}function Zc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ED(n,t=!1){const e=Ge(n),i=await e.getIdToken(t),r=Dy(i);Tt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:Zc(yp(r.auth_time)),issuedAtTime:Zc(yp(r.iat)),expirationTime:Zc(yp(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function yp(n){return Number(n)*1e3}function Dy(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return jf("JWT malformed, contained fewer than 3 sections"),null;try{const r=HS(e);return r?JSON.parse(r):(jf("Failed to decode base64 JWT payload"),null)}catch(r){return jf("Caught error parsing JWT payload as JSON",r?.toString()),null}}function OE(n){const t=Dy(n);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function uu(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Us&&TD(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function TD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class SD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Yp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zc(this.lastLoginAt),this.creationTime=Zc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function id(n){const t=n.auth,e=await n.getIdToken(),i=await uu(n,nd(t,{idToken:e}));Tt(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?rw(r.providerUserInfo):[],c=AD(n.providerData,o),h=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!c?.length,d=h?f:!1,y={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new Yp(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(n,y)}async function wD(n){const t=Ge(n);await id(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function AD(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function rw(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function xD(n,t){const e=await iw(n,{},async()=>{const i=Iu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await sw(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&yl(n.emulatorConfig.host)&&(f.credentials="include"),nw.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function RD(n,t){return Wr(n,"POST","/v2/accounts:revokeToken",Gr(n,t))}class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):OE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const e=OE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await xD(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new Zo;return i&&(Tt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(Tt(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(Tt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return Is("not implemented")}}function vr(n,t){Tt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class bi{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new SD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Yp(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await uu(this,this.stsTokenManager.getToken(this.auth,t));return Tt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return ED(this,t)}reload(){return wD(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new bi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await id(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(ks(this.auth));const t=await this.getIdToken();return await uu(this,bD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,f=e._redirectEventId??void 0,d=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:S,providerData:R,stsTokenManager:A}=e;Tt(_&&A,t,"internal-error");const I=Zo.fromJSON(this.name,A);Tt(typeof _=="string",t,"internal-error"),vr(i,t.name),vr(r,t.name),Tt(typeof E=="boolean",t,"internal-error"),Tt(typeof S=="boolean",t,"internal-error"),vr(o,t.name),vr(c,t.name),vr(h,t.name),vr(f,t.name),vr(d,t.name),vr(y,t.name);const V=new bi({uid:_,auth:t,email:r,emailVerified:E,displayName:i,isAnonymous:S,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:I,createdAt:d,lastLoginAt:y});return R&&Array.isArray(R)&&(V.providerData=R.map(B=>({...B}))),f&&(V._redirectEventId=f),V}static async _fromIdTokenResponse(t,e,i=!1){const r=new Zo;r.updateFromServerResponse(e);const o=new bi({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await id(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];Tt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?rw(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,h=new Zo;h.updateFromIdToken(i);const f=new bi({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:c}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Yp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,d),f}}const kE=new Map;function Ms(n){Vs(n instanceof Function,"Expected a class definition");let t=kE.get(n);return t?(Vs(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,kE.set(n,t),t)}class aw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}aw.type="NONE";const NE=aw;function Ff(n,t,e){return`firebase:${n}:${t}:${e}`}class tl{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Ff(this.userKey,r.apiKey,o),this.fullPersistenceKey=Ff("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await nd(this.auth,{idToken:t}).catch(()=>{});return e?bi._fromGetAccountInfoResponse(this.auth,e,t):null}return bi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new tl(Ms(NE),t,i);const r=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=r[0]||Ms(NE);const c=Ff(i,t.config.apiKey,t.name);let h=null;for(const d of e)try{const y=await d._get(c);if(y){let _;if(typeof y=="string"){const E=await nd(t,{idToken:y}).catch(()=>{});if(!E)break;_=await bi._fromGetAccountInfoResponse(t,E,y)}else _=bi._fromJSON(t,y);d!==o&&(h=_),o=d;break}}catch{}const f=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new tl(o,t,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async d=>{if(d!==o)try{await d._remove(c)}catch{}})),new tl(o,t,i))}}function PE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(uw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ow(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fw(t))return"Blackberry";if(dw(t))return"Webos";if(lw(t))return"Safari";if((t.includes("chrome/")||cw(t))&&!t.includes("edge/"))return"Chrome";if(hw(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function ow(n=fn()){return/firefox\//i.test(n)}function lw(n=fn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function cw(n=fn()){return/crios\//i.test(n)}function uw(n=fn()){return/iemobile/i.test(n)}function hw(n=fn()){return/android/i.test(n)}function fw(n=fn()){return/blackberry/i.test(n)}function dw(n=fn()){return/webos/i.test(n)}function Oy(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function CD(n=fn()){return Oy(n)&&!!window.navigator?.standalone}function ID(){return BI()&&document.documentMode===10}function mw(n=fn()){return Oy(n)||hw(n)||dw(n)||fw(n)||/windows phone/i.test(n)||uw(n)}function gw(n,t=[]){let e;switch(n){case"Browser":e=PE(fn());break;case"Worker":e=`${PE(fn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${_l}/${i}`}class MD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function DD(n,t={}){return Wr(n,"GET","/v2/passwordPolicy",Gr(n,t))}const OD=6;class kD{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??OD,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class ND{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new VE(this),this.idTokenSubscription=new VE(this),this.beforeStateQueue=new MD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ms(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await tl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await nd(this,{idToken:t}),i=await bi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ei(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(i=h.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await id(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=fD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ei(this.app))return Promise.reject(ks(this));const e=t?Ge(t):null;return e&&Tt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ei(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ms(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await DD(this),e=new kD(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Cu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await RD(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ms(t)||this._popupRedirectResolver;Tt(e,this,"argument-error"),this.redirectPersistenceManager=await tl.create(this,[Ms(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=gw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&cD(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Qa(n){return Ge(n)}class VE{constructor(t){this.auth=t,this.observer=null,this.addObserver=KI(e=>this.observer=e)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let kd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PD(n){kd=n}function pw(n){return kd.loadJS(n)}function VD(){return kd.recaptchaEnterpriseScript}function LD(){return kd.gapiScript}function zD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class UD{constructor(){this.enterprise=new BD}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class BD{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const jD="recaptcha-enterprise",yw="NO_RECAPTCHA";class FD{constructor(t){this.type=jD,this.auth=Qa(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{vD(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const d=new _D(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,c(d.siteKey)}}).catch(f=>{h(f)})})}function r(o,c,h){const f=window.grecaptcha;DE(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(d=>{c(d)}).catch(()=>{c(yw)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new UD().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(h=>{if(!e&&DE(window.grecaptcha))r(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=VD();f.length!==0&&(f+=h),pw(f).then(()=>{r(h,o,c)}).catch(d=>{c(d)})}}).catch(h=>{c(h)})})}}async function LE(n,t,e,i=!1,r=!1){const o=new FD(n);let c;if(r)c=yw;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const h={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,d=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Gp(n,t,e,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await LE(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await LE(n,t,e,e==="getOobCode");return i(n,c)}else return Promise.reject(o)})}function HD(n,t){const e=Cy(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(Ba(o,t??{}))return r;Ti(r,"already-initialized")}return e.initialize({options:t})}function qD(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Ms);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function YD(n,t,e){const i=Qa(n);Tt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=_w(t),{host:c,port:h}=GD(t),f=h===null?"":`:${h}`,d={url:`${o}//${c}${f}/`},y=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Tt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Tt(Ba(d,i.config.emulator)&&Ba(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,yl(c)?(GS(`${o}//${c}${f}`),NI("Auth",!0)):WD()}function _w(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function GD(n){const t=_w(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:zE(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:zE(c)}}}function zE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function WD(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class ky{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Is("not implemented")}_getIdTokenResponse(t){return Is("not implemented")}_linkToIdToken(t,e){return Is("not implemented")}_getReauthenticationResolver(t){return Is("not implemented")}}async function KD(n,t){return Wr(n,"POST","/v1/accounts:signUp",t)}async function QD(n,t){return Du(n,"POST","/v1/accounts:signInWithPassword",Gr(n,t))}async function XD(n,t){return Du(n,"POST","/v1/accounts:signInWithEmailLink",Gr(n,t))}async function $D(n,t){return Du(n,"POST","/v1/accounts:signInWithEmailLink",Gr(n,t))}class hu extends ky{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new hu(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new hu(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gp(t,e,"signInWithPassword",QD);case"emailLink":return XD(t,{email:this._email,oobCode:this._password});default:Ti(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gp(t,i,"signUpPassword",KD);case"emailLink":return $D(t,{idToken:e,email:this._email,oobCode:this._password});default:Ti(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function el(n,t){return Du(n,"POST","/v1/accounts:signInWithIdp",Gr(n,t))}const JD="http://localhost";class Fa extends ky{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Fa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ti("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const c=new Fa(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return el(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,el(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,el(t,e)}buildRequest(){const t={requestUri:JD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Iu(e)}return t}}function ZD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tO(n){const t=Fc(Hc(n)).link,e=t?Fc(Hc(t)).deep_link_id:null,i=Fc(Hc(n)).deep_link_id;return(i?Fc(Hc(i)).link:null)||i||e||t||n}class Ny{constructor(t){const e=Fc(Hc(t)),i=e.apiKey??null,r=e.oobCode??null,o=ZD(e.mode??null);Tt(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=tO(t);try{return new Ny(e)}catch{return null}}}class vl{constructor(){this.providerId=vl.PROVIDER_ID}static credential(t,e){return hu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=Ny.parseLink(e);return Tt(i,"argument-error"),hu._fromEmailAndCode(t,i.code,i.tenantId)}}vl.PROVIDER_ID="password";vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class vw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ou extends vw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Er extends Ou{constructor(){super("facebook.com")}static credential(t){return Fa._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Er.credential(t.oauthAccessToken)}catch{return null}}}Er.FACEBOOK_SIGN_IN_METHOD="facebook.com";Er.PROVIDER_ID="facebook.com";class Tr extends Ou{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Fa._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Tr.credential(e,i)}catch{return null}}}Tr.GOOGLE_SIGN_IN_METHOD="google.com";Tr.PROVIDER_ID="google.com";class Sr extends Ou{constructor(){super("github.com")}static credential(t){return Fa._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Sr.credentialFromTaggedObject(t)}static credentialFromError(t){return Sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Sr.credential(t.oauthAccessToken)}catch{return null}}}Sr.GITHUB_SIGN_IN_METHOD="github.com";Sr.PROVIDER_ID="github.com";class wr extends Ou{constructor(){super("twitter.com")}static credential(t,e){return Fa._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return wr.credential(e,i)}catch{return null}}}wr.TWITTER_SIGN_IN_METHOD="twitter.com";wr.PROVIDER_ID="twitter.com";async function eO(n,t){return Du(n,"POST","/v1/accounts:signUp",Gr(n,t))}class Ha{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await bi._fromIdTokenResponse(t,i,r),c=UE(i);return new Ha({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=UE(i);return new Ha({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function UE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class sd extends Us{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,sd.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new sd(t,e,i,r)}}function bw(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?sd._fromErrorAndOperation(n,o,t,i):o})}async function nO(n,t,e=!1){const i=await uu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Ha._forOperation(n,"link",i)}async function iO(n,t,e=!1){const{auth:i}=n;if(ei(i.app))return Promise.reject(ks(i));const r="reauthenticate";try{const o=await uu(n,bw(i,r,t,n),e);Tt(o.idToken,i,"internal-error");const c=Dy(o.idToken);Tt(c,i,"internal-error");const{sub:h}=c;return Tt(n.uid===h,i,"user-mismatch"),Ha._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ti(i,"user-mismatch"),o}}async function Ew(n,t,e=!1){if(ei(n.app))return Promise.reject(ks(n));const i="signIn",r=await bw(n,i,t),o=await Ha._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function sO(n,t){return Ew(Qa(n),t)}async function Tw(n){const t=Qa(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function rO(n,t,e){if(ei(n.app))return Promise.reject(ks(n));const i=Qa(n),c=await Gp(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eO).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Tw(n),f}),h=await Ha._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function aO(n,t,e){return ei(n.app)?Promise.reject(ks(n)):sO(Ge(n),vl.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Tw(n),i})}function oO(n,t,e,i){return Ge(n).onIdTokenChanged(t,e,i)}function lO(n,t,e){return Ge(n).beforeAuthStateChanged(t,e)}function Sw(n,t,e,i){return Ge(n).onAuthStateChanged(t,e,i)}function cO(n){return Ge(n).signOut()}const rd="__sak";class ww{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const uO=1e3,hO=10;class Aw extends ww{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);ID()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,hO):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},uO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Aw.type="LOCAL";const fO=Aw;class xw extends ww{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}xw.type="SESSION";const Rw=xw;function dO(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Nd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new Nd(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async d=>d(e.origin,o)),f=await dO(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nd.receivers=[];function Py(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class mO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const d=Py("",20);r.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(_){const E=_;if(E.data.eventId===d)switch(E.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Ji(){return window}function gO(n){Ji().location.href=n}function Cw(){return typeof Ji().WorkerGlobalScope<"u"&&typeof Ji().importScripts=="function"}async function pO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yO(){return navigator?.serviceWorker?.controller||null}function _O(){return Cw()?self:null}const Iw="firebaseLocalStorageDb",vO=1,ad="firebaseLocalStorage",Mw="fbase_key";class ku{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Pd(n,t){return n.transaction([ad],t?"readwrite":"readonly").objectStore(ad)}function bO(){const n=indexedDB.deleteDatabase(Iw);return new ku(n).toPromise()}function Wp(){const n=indexedDB.open(Iw,vO);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(ad,{keyPath:Mw})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(ad)?t(i):(i.close(),await bO(),t(await Wp()))})})}async function BE(n,t,e){const i=Pd(n,!0).put({[Mw]:t,value:e});return new ku(i).toPromise()}async function EO(n,t){const e=Pd(n,!1).get(t),i=await new ku(e).toPromise();return i===void 0?null:i.value}function jE(n,t){const e=Pd(n,!0).delete(t);return new ku(e).toPromise()}const TO=800,SO=3;class Dw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>SO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Cw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nd._getInstance(_O()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pO(),!this.activeServiceWorker)return;this.sender=new mO(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||yO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Wp();return await BE(t,rd,"1"),await jE(t,rd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>BE(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>EO(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>jE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=Pd(r,!1).getAll();return new ku(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Dw.type="LOCAL";const wO=Dw;new Mu(3e4,6e4);function AO(n,t){return t?Ms(t):(Tt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Vy extends ky{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return el(t,this._buildIdpRequest())}_linkToIdToken(t,e){return el(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return el(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function xO(n){return Ew(n.auth,new Vy(n),n.bypassAuthState)}function RO(n){const{auth:t,user:e}=n;return Tt(e,t,"internal-error"),iO(e,new Vy(n),n.bypassAuthState)}async function CO(n){const{auth:t,user:e}=n;return Tt(e,t,"internal-error"),nO(e,new Vy(n),n.bypassAuthState)}class Ow{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return xO;case"linkViaPopup":case"linkViaRedirect":return CO;case"reauthViaPopup":case"reauthViaRedirect":return RO;default:Ti(this.auth,"internal-error")}}resolve(t){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const IO=new Mu(2e3,1e4);class Jo extends Ow{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Jo.currentPopupAction&&Jo.currentPopupAction.cancel(),Jo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){Vs(this.filter.length===1,"Popup operations only handle one event");const t=Py();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject($i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject($i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,IO.get())};t()}}Jo.currentPopupAction=null;const MO="pendingRedirect",Hf=new Map;class DO extends Ow{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Hf.get(this.auth._key());if(!t){try{const i=await OO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Hf.set(this.auth._key(),t)}return this.bypassAuthState||Hf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OO(n,t){const e=PO(t),i=NO(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function kO(n,t){Hf.set(n._key(),t)}function NO(n){return Ms(n._redirectPersistence)}function PO(n){return Ff(MO,n.config.apiKey,n.name)}async function VO(n,t,e=!1){if(ei(n.app))return Promise.reject(ks(n));const i=Qa(n),r=AO(i,t),c=await new DO(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}const LO=600*1e3;class zO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!UO(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!kw(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError($i(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=LO&&this.cachedEventUids.clear(),this.cachedEventUids.has(FE(t))}saveEventToCache(t){this.cachedEventUids.add(FE(t)),this.lastProcessedEventTime=Date.now()}}function FE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function kw({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function UO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kw(n);default:return!1}}async function BO(n,t={}){return Wr(n,"GET","/v1/projects",t)}const jO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FO=/^https?/;async function HO(n){if(n.config.emulator)return;const{authorizedDomains:t}=await BO(n);for(const e of t)try{if(qO(e))return}catch{}Ti(n,"unauthorized-domain")}function qO(n){const t=qp(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!FO.test(e))return!1;if(jO.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const YO=new Mu(3e4,6e4);function HE(){const n=Ji().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function GO(n){return new Promise((t,e)=>{function i(){HE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{HE(),e($i(n,"network-request-failed"))},timeout:YO.get()})}if(Ji().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ji().gapi?.load)i();else{const r=zD("iframefcb");return Ji()[r]=()=>{gapi.load?i():e($i(n,"network-request-failed"))},pw(`${LD()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw qf=null,t})}let qf=null;function WO(n){return qf=qf||GO(n),qf}const KO=new Mu(5e3,15e3),QO="__/auth/iframe",XO="emulator/auth/iframe",$O={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZO(n){const t=n.config;Tt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?My(t,XO):`https://${n.config.authDomain}/${QO}`,i={apiKey:t.apiKey,appName:n.name,v:_l},r=JO.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${Iu(i).slice(1)}`}async function t4(n){const t=await WO(n),e=Ji().gapi;return Tt(e,n,"internal-error"),t.open({where:document.body,url:ZO(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$O,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=$i(n,"network-request-failed"),h=Ji().setTimeout(()=>{o(c)},KO.get());function f(){Ji().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{o(c)})}))}const e4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n4=500,i4=600,s4="_blank",r4="http://localhost";class qE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a4(n,t,e,i=n4,r=i4){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...e4,width:i.toString(),height:r.toString(),top:o,left:c},d=fn().toLowerCase();e&&(h=cw(d)?s4:e),ow(d)&&(t=t||r4,f.scrollbars="yes");const y=Object.entries(f).reduce((E,[S,R])=>`${E}${S}=${R},`,"");if(CD(d)&&h!=="_self")return o4(t||"",h),new qE(null);const _=window.open(t||"",h,y);Tt(_,n,"popup-blocked");try{_.focus()}catch{}return new qE(_)}function o4(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const l4="__/auth/handler",c4="emulator/auth/handler",u4=encodeURIComponent("fac");async function YE(n,t,e,i,r,o){Tt(n.config.authDomain,n,"auth-domain-config-required"),Tt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:_l,eventId:r};if(t instanceof vw){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",WI(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof Ou){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),d=f?`#${u4}=${encodeURIComponent(f)}`:"";return`${h4(n)}?${Iu(h).slice(1)}${d}`}function h4({config:n}){return n.emulator?My(n,c4):`https://${n.authDomain}/${l4}`}const _p="webStorageSupport";class f4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rw,this._completeRedirectFn=VO,this._overrideRedirectResult=kO}async _openPopup(t,e,i,r){Vs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await YE(t,e,i,qp(),r);return a4(t,o,Py())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await YE(t,e,i,qp(),r);return gO(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(Vs(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await t4(t),i=new zO(t);return e.register("authEvent",r=>(Tt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(_p,{type:_p},r=>{const o=r?.[0]?.[_p];o!==void 0&&e(!!o),Ti(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=HO(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return mw()||lw()||Oy()}}const d4=f4;var GE="@firebase/auth",WE="1.12.0";class m4{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function g4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function p4(n){al(new ja("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Tt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gw(n)},d=new ND(i,r,o,f);return qD(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),al(new ja("auth-internal",t=>{const e=Qa(t.getProvider("auth").getImmediate());return(i=>new m4(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),kr(GE,WE,g4(n)),kr(GE,WE,"esm2020")}const y4=300,_4=YS("authIdTokenMaxAge")||y4;let KE=null;const v4=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>_4)return;const r=e?.token;KE!==r&&(KE=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function b4(n=XS()){const t=Cy(n,"auth");if(t.isInitialized())return t.getImmediate();const e=HD(n,{popupRedirectResolver:d4,persistence:[wO,fO,Rw]}),i=YS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=v4(o.toString());lO(e,c,()=>c(e.currentUser)),oO(e,h=>c(h))}}const r=MI("auth");return r&&YD(e,`http://${r}`),e}function E4(){return document.getElementsByTagName("head")?.[0]??document}PD({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=$i("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",E4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});p4("Browser");var QE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Nr,Nw;(function(){var n;function t(M,C){function D(){}D.prototype=C.prototype,M.F=C.prototype,M.prototype=new D,M.prototype.constructor=M,M.D=function(P,k,L){for(var O=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)O[Dt-2]=arguments[Dt];return C.prototype[k].apply(P,O)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(M,C,D){D||(D=0);const P=Array(16);if(typeof C=="string")for(var k=0;k<16;++k)P[k]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for(k=0;k<16;++k)P[k]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=M.g[0],D=M.g[1],k=M.g[2];let L=M.g[3],O;O=C+(L^D&(k^L))+P[0]+3614090360&4294967295,C=D+(O<<7&4294967295|O>>>25),O=L+(k^C&(D^k))+P[1]+3905402710&4294967295,L=C+(O<<12&4294967295|O>>>20),O=k+(D^L&(C^D))+P[2]+606105819&4294967295,k=L+(O<<17&4294967295|O>>>15),O=D+(C^k&(L^C))+P[3]+3250441966&4294967295,D=k+(O<<22&4294967295|O>>>10),O=C+(L^D&(k^L))+P[4]+4118548399&4294967295,C=D+(O<<7&4294967295|O>>>25),O=L+(k^C&(D^k))+P[5]+1200080426&4294967295,L=C+(O<<12&4294967295|O>>>20),O=k+(D^L&(C^D))+P[6]+2821735955&4294967295,k=L+(O<<17&4294967295|O>>>15),O=D+(C^k&(L^C))+P[7]+4249261313&4294967295,D=k+(O<<22&4294967295|O>>>10),O=C+(L^D&(k^L))+P[8]+1770035416&4294967295,C=D+(O<<7&4294967295|O>>>25),O=L+(k^C&(D^k))+P[9]+2336552879&4294967295,L=C+(O<<12&4294967295|O>>>20),O=k+(D^L&(C^D))+P[10]+4294925233&4294967295,k=L+(O<<17&4294967295|O>>>15),O=D+(C^k&(L^C))+P[11]+2304563134&4294967295,D=k+(O<<22&4294967295|O>>>10),O=C+(L^D&(k^L))+P[12]+1804603682&4294967295,C=D+(O<<7&4294967295|O>>>25),O=L+(k^C&(D^k))+P[13]+4254626195&4294967295,L=C+(O<<12&4294967295|O>>>20),O=k+(D^L&(C^D))+P[14]+2792965006&4294967295,k=L+(O<<17&4294967295|O>>>15),O=D+(C^k&(L^C))+P[15]+1236535329&4294967295,D=k+(O<<22&4294967295|O>>>10),O=C+(k^L&(D^k))+P[1]+4129170786&4294967295,C=D+(O<<5&4294967295|O>>>27),O=L+(D^k&(C^D))+P[6]+3225465664&4294967295,L=C+(O<<9&4294967295|O>>>23),O=k+(C^D&(L^C))+P[11]+643717713&4294967295,k=L+(O<<14&4294967295|O>>>18),O=D+(L^C&(k^L))+P[0]+3921069994&4294967295,D=k+(O<<20&4294967295|O>>>12),O=C+(k^L&(D^k))+P[5]+3593408605&4294967295,C=D+(O<<5&4294967295|O>>>27),O=L+(D^k&(C^D))+P[10]+38016083&4294967295,L=C+(O<<9&4294967295|O>>>23),O=k+(C^D&(L^C))+P[15]+3634488961&4294967295,k=L+(O<<14&4294967295|O>>>18),O=D+(L^C&(k^L))+P[4]+3889429448&4294967295,D=k+(O<<20&4294967295|O>>>12),O=C+(k^L&(D^k))+P[9]+568446438&4294967295,C=D+(O<<5&4294967295|O>>>27),O=L+(D^k&(C^D))+P[14]+3275163606&4294967295,L=C+(O<<9&4294967295|O>>>23),O=k+(C^D&(L^C))+P[3]+4107603335&4294967295,k=L+(O<<14&4294967295|O>>>18),O=D+(L^C&(k^L))+P[8]+1163531501&4294967295,D=k+(O<<20&4294967295|O>>>12),O=C+(k^L&(D^k))+P[13]+2850285829&4294967295,C=D+(O<<5&4294967295|O>>>27),O=L+(D^k&(C^D))+P[2]+4243563512&4294967295,L=C+(O<<9&4294967295|O>>>23),O=k+(C^D&(L^C))+P[7]+1735328473&4294967295,k=L+(O<<14&4294967295|O>>>18),O=D+(L^C&(k^L))+P[12]+2368359562&4294967295,D=k+(O<<20&4294967295|O>>>12),O=C+(D^k^L)+P[5]+4294588738&4294967295,C=D+(O<<4&4294967295|O>>>28),O=L+(C^D^k)+P[8]+2272392833&4294967295,L=C+(O<<11&4294967295|O>>>21),O=k+(L^C^D)+P[11]+1839030562&4294967295,k=L+(O<<16&4294967295|O>>>16),O=D+(k^L^C)+P[14]+4259657740&4294967295,D=k+(O<<23&4294967295|O>>>9),O=C+(D^k^L)+P[1]+2763975236&4294967295,C=D+(O<<4&4294967295|O>>>28),O=L+(C^D^k)+P[4]+1272893353&4294967295,L=C+(O<<11&4294967295|O>>>21),O=k+(L^C^D)+P[7]+4139469664&4294967295,k=L+(O<<16&4294967295|O>>>16),O=D+(k^L^C)+P[10]+3200236656&4294967295,D=k+(O<<23&4294967295|O>>>9),O=C+(D^k^L)+P[13]+681279174&4294967295,C=D+(O<<4&4294967295|O>>>28),O=L+(C^D^k)+P[0]+3936430074&4294967295,L=C+(O<<11&4294967295|O>>>21),O=k+(L^C^D)+P[3]+3572445317&4294967295,k=L+(O<<16&4294967295|O>>>16),O=D+(k^L^C)+P[6]+76029189&4294967295,D=k+(O<<23&4294967295|O>>>9),O=C+(D^k^L)+P[9]+3654602809&4294967295,C=D+(O<<4&4294967295|O>>>28),O=L+(C^D^k)+P[12]+3873151461&4294967295,L=C+(O<<11&4294967295|O>>>21),O=k+(L^C^D)+P[15]+530742520&4294967295,k=L+(O<<16&4294967295|O>>>16),O=D+(k^L^C)+P[2]+3299628645&4294967295,D=k+(O<<23&4294967295|O>>>9),O=C+(k^(D|~L))+P[0]+4096336452&4294967295,C=D+(O<<6&4294967295|O>>>26),O=L+(D^(C|~k))+P[7]+1126891415&4294967295,L=C+(O<<10&4294967295|O>>>22),O=k+(C^(L|~D))+P[14]+2878612391&4294967295,k=L+(O<<15&4294967295|O>>>17),O=D+(L^(k|~C))+P[5]+4237533241&4294967295,D=k+(O<<21&4294967295|O>>>11),O=C+(k^(D|~L))+P[12]+1700485571&4294967295,C=D+(O<<6&4294967295|O>>>26),O=L+(D^(C|~k))+P[3]+2399980690&4294967295,L=C+(O<<10&4294967295|O>>>22),O=k+(C^(L|~D))+P[10]+4293915773&4294967295,k=L+(O<<15&4294967295|O>>>17),O=D+(L^(k|~C))+P[1]+2240044497&4294967295,D=k+(O<<21&4294967295|O>>>11),O=C+(k^(D|~L))+P[8]+1873313359&4294967295,C=D+(O<<6&4294967295|O>>>26),O=L+(D^(C|~k))+P[15]+4264355552&4294967295,L=C+(O<<10&4294967295|O>>>22),O=k+(C^(L|~D))+P[6]+2734768916&4294967295,k=L+(O<<15&4294967295|O>>>17),O=D+(L^(k|~C))+P[13]+1309151649&4294967295,D=k+(O<<21&4294967295|O>>>11),O=C+(k^(D|~L))+P[4]+4149444226&4294967295,C=D+(O<<6&4294967295|O>>>26),O=L+(D^(C|~k))+P[11]+3174756917&4294967295,L=C+(O<<10&4294967295|O>>>22),O=k+(C^(L|~D))+P[2]+718787259&4294967295,k=L+(O<<15&4294967295|O>>>17),O=D+(L^(k|~C))+P[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(k+(O<<21&4294967295|O>>>11))&4294967295,M.g[2]=M.g[2]+k&4294967295,M.g[3]=M.g[3]+L&4294967295}i.prototype.v=function(M,C){C===void 0&&(C=M.length);const D=C-this.blockSize,P=this.C;let k=this.h,L=0;for(;L<C;){if(k==0)for(;L<=D;)r(this,M,L),L+=this.blockSize;if(typeof M=="string"){for(;L<C;)if(P[k++]=M.charCodeAt(L++),k==this.blockSize){r(this,P),k=0;break}}else for(;L<C;)if(P[k++]=M[L++],k==this.blockSize){r(this,P),k=0;break}}this.h=k,this.o+=C},i.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;C=this.o*8;for(var D=M.length-8;D<M.length;++D)M[D]=C&255,C/=256;for(this.v(M),M=Array(16),C=0,D=0;D<4;++D)for(let P=0;P<32;P+=8)M[C++]=this.g[D]>>>P&255;return M};function o(M,C){var D=h;return Object.prototype.hasOwnProperty.call(D,M)?D[M]:D[M]=C(M)}function c(M,C){this.h=C;const D=[];let P=!0;for(let k=M.length-1;k>=0;k--){const L=M[k]|0;P&&L==C||(D[k]=L,P=!1)}this.g=D}var h={};function f(M){return-128<=M&&M<128?o(M,function(C){return new c([C|0],C<0?-1:0)}):new c([M|0],M<0?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return _;if(M<0)return I(d(-M));const C=[];let D=1;for(let P=0;M>=D;P++)C[P]=M/D|0,D*=4294967296;return new c(C,0)}function y(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return I(y(M.substring(1),C));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=d(Math.pow(C,8));let P=_;for(let L=0;L<M.length;L+=8){var k=Math.min(8,M.length-L);const O=parseInt(M.substring(L,L+k),C);k<8?(k=d(Math.pow(C,k)),P=P.j(k).add(d(O))):(P=P.j(D),P=P.add(d(O)))}return P}var _=f(0),E=f(1),S=f(16777216);n=c.prototype,n.m=function(){if(A(this))return-I(this).m();let M=0,C=1;for(let D=0;D<this.g.length;D++){const P=this.i(D);M+=(P>=0?P:4294967296+P)*C,C*=4294967296}return M},n.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(R(this))return"0";if(A(this))return"-"+I(this).toString(M);const C=d(Math.pow(M,6));var D=this;let P="";for(;;){const k=rt(D,C).g;D=V(D,k.j(C));let L=((D.g.length>0?D.g[0]:D.h)>>>0).toString(M);if(D=k,R(D))return L+P;for(;L.length<6;)L="0"+L;P=L+P}},n.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function R(M){if(M.h!=0)return!1;for(let C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function A(M){return M.h==-1}n.l=function(M){return M=V(this,M),A(M)?-1:R(M)?0:1};function I(M){const C=M.g.length,D=[];for(let P=0;P<C;P++)D[P]=~M.g[P];return new c(D,~M.h).add(E)}n.abs=function(){return A(this)?I(this):this},n.add=function(M){const C=Math.max(this.g.length,M.g.length),D=[];let P=0;for(let k=0;k<=C;k++){let L=P+(this.i(k)&65535)+(M.i(k)&65535),O=(L>>>16)+(this.i(k)>>>16)+(M.i(k)>>>16);P=O>>>16,L&=65535,O&=65535,D[k]=O<<16|L}return new c(D,D[D.length-1]&-2147483648?-1:0)};function V(M,C){return M.add(I(C))}n.j=function(M){if(R(this)||R(M))return _;if(A(this))return A(M)?I(this).j(I(M)):I(I(this).j(M));if(A(M))return I(this.j(I(M)));if(this.l(S)<0&&M.l(S)<0)return d(this.m()*M.m());const C=this.g.length+M.g.length,D=[];for(var P=0;P<2*C;P++)D[P]=0;for(P=0;P<this.g.length;P++)for(let k=0;k<M.g.length;k++){const L=this.i(P)>>>16,O=this.i(P)&65535,Dt=M.i(k)>>>16,wt=M.i(k)&65535;D[2*P+2*k]+=O*wt,B(D,2*P+2*k),D[2*P+2*k+1]+=L*wt,B(D,2*P+2*k+1),D[2*P+2*k+1]+=O*Dt,B(D,2*P+2*k+1),D[2*P+2*k+2]+=L*Dt,B(D,2*P+2*k+2)}for(M=0;M<C;M++)D[M]=D[2*M+1]<<16|D[2*M];for(M=C;M<2*C;M++)D[M]=0;return new c(D,0)};function B(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function W(M,C){this.g=M,this.h=C}function rt(M,C){if(R(C))throw Error("division by zero");if(R(M))return new W(_,_);if(A(M))return C=rt(I(M),C),new W(I(C.g),I(C.h));if(A(C))return C=rt(M,I(C)),new W(I(C.g),C.h);if(M.g.length>30){if(A(M)||A(C))throw Error("slowDivide_ only works with positive integers.");for(var D=E,P=C;P.l(M)<=0;)D=et(D),P=et(P);var k=ot(D,1),L=ot(P,1);for(P=ot(P,2),D=ot(D,2);!R(P);){var O=L.add(P);O.l(M)<=0&&(k=k.add(D),L=O),P=ot(P,1),D=ot(D,1)}return C=V(M,k.j(C)),new W(k,C)}for(k=_;M.l(C)>=0;){for(D=Math.max(1,Math.floor(M.m()/C.m())),P=Math.ceil(Math.log(D)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),L=d(D),O=L.j(C);A(O)||O.l(M)>0;)D-=P,L=d(D),O=L.j(C);R(L)&&(L=E),k=k.add(L),M=V(M,O)}return new W(k,M)}n.B=function(M){return rt(this,M).h},n.and=function(M){const C=Math.max(this.g.length,M.g.length),D=[];for(let P=0;P<C;P++)D[P]=this.i(P)&M.i(P);return new c(D,this.h&M.h)},n.or=function(M){const C=Math.max(this.g.length,M.g.length),D=[];for(let P=0;P<C;P++)D[P]=this.i(P)|M.i(P);return new c(D,this.h|M.h)},n.xor=function(M){const C=Math.max(this.g.length,M.g.length),D=[];for(let P=0;P<C;P++)D[P]=this.i(P)^M.i(P);return new c(D,this.h^M.h)};function et(M){const C=M.g.length+1,D=[];for(let P=0;P<C;P++)D[P]=M.i(P)<<1|M.i(P-1)>>>31;return new c(D,M.h)}function ot(M,C){const D=C>>5;C%=32;const P=M.g.length-D,k=[];for(let L=0;L<P;L++)k[L]=C>0?M.i(L+D)>>>C|M.i(L+D+1)<<32-C:M.i(L+D);return new c(k,M.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,Nw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=d,c.fromString=y,Nr=c}).apply(typeof QE<"u"?QE:typeof self<"u"?self:typeof window<"u"?window:{});var vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Pw,qc,Vw,Yf,Kp,Lw,zw,Uw;(function(){var n,t=Object.defineProperty;function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof vf=="object"&&vf];for(var v=0;v<m.length;++v){var T=m[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=e(this);function r(m,v){if(v)t:{var T=i;m=m.split(".");for(var x=0;x<m.length-1;x++){var F=m[x];if(!(F in T))break t;T=T[F]}m=m[m.length-1],x=T[m],v=v(x),v!=x&&v!=null&&t(T,m,{configurable:!0,writable:!0,value:v})}}r("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(m){return m||function(v){var T=[],x;for(x in v)Object.prototype.hasOwnProperty.call(v,x)&&T.push([x,v[x]]);return T}});var o=o||{},c=this||self;function h(m){var v=typeof m;return v=="object"&&m!=null||v=="function"}function f(m,v,T){return m.call.apply(m.bind,arguments)}function d(m,v,T){return d=f,d.apply(null,arguments)}function y(m,v){var T=Array.prototype.slice.call(arguments,1);return function(){var x=T.slice();return x.push.apply(x,arguments),m.apply(this,x)}}function _(m,v){function T(){}T.prototype=v.prototype,m.Z=v.prototype,m.prototype=new T,m.prototype.constructor=m,m.Ob=function(x,F,X){for(var lt=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)lt[Ct-2]=arguments[Ct];return v.prototype[F].apply(x,lt)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function S(m){const v=m.length;if(v>0){const T=Array(v);for(let x=0;x<v;x++)T[x]=m[x];return T}return[]}function R(m,v){for(let x=1;x<arguments.length;x++){const F=arguments[x];var T=typeof F;if(T=T!="object"?T:F?Array.isArray(F)?"array":T:"null",T=="array"||T=="object"&&typeof F.length=="number"){T=m.length||0;const X=F.length||0;m.length=T+X;for(let lt=0;lt<X;lt++)m[T+lt]=F[lt]}else m.push(F)}}class A{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function I(m){c.setTimeout(()=>{throw m},0)}function V(){var m=M;let v=null;return m.g&&(v=m.g,m.g=m.g.next,m.g||(m.h=null),v.next=null),v}class B{constructor(){this.h=this.g=null}add(v,T){const x=W.get();x.set(v,T),this.h?this.h.next=x:this.g=x,this.h=x}}var W=new A(()=>new rt,m=>m.reset());class rt{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ot=!1,M=new B,C=()=>{const m=Promise.resolve(void 0);et=()=>{m.then(D)}};function D(){for(var m;m=V();){try{m.h.call(m.g)}catch(T){I(T)}var v=W;v.j(m),v.h<100&&(v.h++,m.next=v.g,v.g=m)}ot=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(m,v){this.type=m,this.g=this.target=v,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,v=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const T=()=>{};c.addEventListener("test",T,v),c.removeEventListener("test",T,v)}catch{}return m})();function O(m){return/^[\s\xa0]*$/.test(m)}function Dt(m,v){k.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,v)}_(Dt,k),Dt.prototype.init=function(m,v){const T=this.type=m.type,x=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=v,v=m.relatedTarget,v||(T=="mouseover"?v=m.fromElement:T=="mouseout"&&(v=m.toElement)),this.relatedTarget=v,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&Dt.Z.h.call(this)},Dt.prototype.h=function(){Dt.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var wt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function at(m,v,T,x,F){this.listener=m,this.proxy=null,this.src=v,this.type=T,this.capture=!!x,this.ha=F,this.key=++Q,this.da=this.fa=!1}function dt(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function bt(m,v,T){for(const x in m)v.call(T,m[x],x,m)}function Nt(m,v){for(const T in m)v.call(void 0,m[T],T,m)}function z(m){const v={};for(const T in m)v[T]=m[T];return v}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(m,v){let T,x;for(let F=1;F<arguments.length;F++){x=arguments[F];for(T in x)m[T]=x[T];for(let X=0;X<Z.length;X++)T=Z[X],Object.prototype.hasOwnProperty.call(x,T)&&(m[T]=x[T])}}function ut(m){this.src=m,this.g={},this.h=0}ut.prototype.add=function(m,v,T,x,F){const X=m.toString();m=this.g[X],m||(m=this.g[X]=[],this.h++);const lt=Et(m,v,x,F);return lt>-1?(v=m[lt],T||(v.fa=!1)):(v=new at(v,this.src,X,!!x,F),v.fa=T,m.push(v)),v};function _t(m,v){const T=v.type;if(T in m.g){var x=m.g[T],F=Array.prototype.indexOf.call(x,v,void 0),X;(X=F>=0)&&Array.prototype.splice.call(x,F,1),X&&(dt(v),m.g[T].length==0&&(delete m.g[T],m.h--))}}function Et(m,v,T,x){for(let F=0;F<m.length;++F){const X=m[F];if(!X.da&&X.listener==v&&X.capture==!!T&&X.ha==x)return F}return-1}var jt="closure_lm_"+(Math.random()*1e6|0),Be={};function de(m,v,T,x,F){if(Array.isArray(v)){for(let X=0;X<v.length;X++)de(m,v[X],T,x,F);return null}return T=Il(T),m&&m[wt]?m.J(v,T,h(x)?!!x.capture:!1,F):Xr(m,v,T,!1,x,F)}function Xr(m,v,T,x,F,X){if(!v)throw Error("Invalid event type");const lt=h(F)?!!F.capture:!!F;let Ct=$r(m);if(Ct||(m[jt]=Ct=new ut(m)),T=Ct.add(v,T,x,lt,X),T.proxy)return T;if(x=to(),T.proxy=x,x.src=m,x.listener=T,m.addEventListener)L||(F=lt),F===void 0&&(F=!1),m.addEventListener(v.toString(),x,F);else if(m.attachEvent)m.attachEvent(wi(v.toString()),x);else if(m.addListener&&m.removeListener)m.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return T}function to(){function m(T){return v.call(m.src,m.listener,T)}const v=Rl;return m}function eo(m,v,T,x,F){if(Array.isArray(v))for(var X=0;X<v.length;X++)eo(m,v[X],T,x,F);else x=h(x)?!!x.capture:!!x,T=Il(T),m&&m[wt]?(m=m.i,X=String(v).toString(),X in m.g&&(v=m.g[X],T=Et(v,T,x,F),T>-1&&(dt(v[T]),Array.prototype.splice.call(v,T,1),v.length==0&&(delete m.g[X],m.h--)))):m&&(m=$r(m))&&(v=m.g[v.toString()],m=-1,v&&(m=Et(v,T,x,F)),(T=m>-1?v[m]:null)&&no(T))}function no(m){if(typeof m!="number"&&m&&!m.da){var v=m.src;if(v&&v[wt])_t(v.i,m);else{var T=m.type,x=m.proxy;v.removeEventListener?v.removeEventListener(T,x,m.capture):v.detachEvent?v.detachEvent(wi(T),x):v.addListener&&v.removeListener&&v.removeListener(x),(T=$r(v))?(_t(T,m),T.h==0&&(T.src=null,v[jt]=null)):dt(m)}}}function wi(m){return m in Be?Be[m]:Be[m]="on"+m}function Rl(m,v){if(m.da)m=!0;else{v=new Dt(v,this);const T=m.listener,x=m.ha||m.src;m.fa&&no(m),m=T.call(x,v)}return m}function $r(m){return m=m[jt],m instanceof ut?m:null}var Cl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Il(m){return typeof m=="function"?m:(m[Cl]||(m[Cl]=function(v){return m.handleEvent(v)}),m[Cl])}function xe(){P.call(this),this.i=new ut(this),this.M=this,this.G=null}_(xe,P),xe.prototype[wt]=!0,xe.prototype.removeEventListener=function(m,v,T,x){eo(this,m,v,T,x)};function je(m,v){var T,x=m.G;if(x)for(T=[];x;x=x.G)T.push(x);if(m=m.M,x=v.type||v,typeof v=="string")v=new k(v,m);else if(v instanceof k)v.target=v.target||m;else{var F=v;v=new k(x,m),ct(v,F)}F=!0;let X,lt;if(T)for(lt=T.length-1;lt>=0;lt--)X=v.g=T[lt],F=Bs(X,x,!0,v)&&F;if(X=v.g=m,F=Bs(X,x,!0,v)&&F,F=Bs(X,x,!1,v)&&F,T)for(lt=0;lt<T.length;lt++)X=v.g=T[lt],F=Bs(X,x,!1,v)&&F}xe.prototype.N=function(){if(xe.Z.N.call(this),this.i){var m=this.i;for(const v in m.g){const T=m.g[v];for(let x=0;x<T.length;x++)dt(T[x]);delete m.g[v],m.h--}}this.G=null},xe.prototype.J=function(m,v,T,x){return this.i.add(String(m),v,!1,T,x)},xe.prototype.K=function(m,v,T,x){return this.i.add(String(m),v,!0,T,x)};function Bs(m,v,T,x){if(v=m.i.g[String(v)],!v)return!0;v=v.concat();let F=!0;for(let X=0;X<v.length;++X){const lt=v[X];if(lt&&!lt.da&&lt.capture==T){const Ct=lt.listener,Ee=lt.ha||lt.src;lt.fa&&_t(m.i,lt),F=Ct.call(Ee,x)!==!1&&F}}return F&&!x.defaultPrevented}function rm(m,v){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(m,v||0)}function ju(m){m.g=rm(()=>{m.g=null,m.i&&(m.i=!1,ju(m))},m.l);const v=m.h;m.h=null,m.m.apply(null,v)}class dn extends P{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ju(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jr(m){P.call(this),this.h=m,this.g={}}_(Jr,P);var Ml=[];function Dl(m){bt(m.g,function(v,T){this.g.hasOwnProperty(T)&&no(v)},m),m.g={}}Jr.prototype.N=function(){Jr.Z.N.call(this),Dl(this)},Jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var js=c.JSON.stringify,am=c.JSON.parse,Fu=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function Hu(){}function qu(){}var li={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $e(){k.call(this,"d")}_($e,k);function jn(){k.call(this,"c")}_(jn,k);var be={},Yu=null;function io(){return Yu=Yu||new xe}be.Ia="serverreachability";function Gu(m){k.call(this,be.Ia,m)}_(Gu,k);function Ai(m){const v=io();je(v,new Gu(v))}be.STAT_EVENT="statevent";function Zr(m,v){k.call(this,be.STAT_EVENT,m),this.stat=v}_(Zr,k);function Re(m){const v=io();je(v,new Zr(v,m))}be.Ja="timingevent";function xi(m,v){k.call(this,be.Ja,m),this.size=v}_(xi,k);function Ri(m,v){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},v)}function ci(){this.g=!0}ci.prototype.ua=function(){this.g=!1};function om(m,v,T,x,F,X){m.info(function(){if(m.g)if(X){var lt="",Ct=X.split("&");for(let Wt=0;Wt<Ct.length;Wt++){var Ee=Ct[Wt].split("=");if(Ee.length>1){const me=Ee[0];Ee=Ee[1];const Yn=me.split("_");lt=Yn.length>=2&&Yn[1]=="type"?lt+(me+"="+Ee+"&"):lt+(me+"=redacted&")}}}else lt=null;else lt=X;return"XMLHTTP REQ ("+x+") [attempt "+F+"]: "+v+`
`+T+`
`+lt})}function Wu(m,v,T,x,F,X,lt){m.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+F+"]: "+v+`
`+T+`
`+X+" "+lt})}function Ci(m,v,T,x){m.info(function(){return"XMLHTTP TEXT ("+v+"): "+lm(m,T)+(x?" "+x:"")})}function ta(m,v){m.info(function(){return"TIMEOUT: "+v})}ci.prototype.info=function(){};function lm(m,v){if(!m.g)return v;if(!v)return null;try{const X=JSON.parse(v);if(X){for(m=0;m<X.length;m++)if(Array.isArray(X[m])){var T=X[m];if(!(T.length<2)){var x=T[1];if(Array.isArray(x)&&!(x.length<1)){var F=x[0];if(F!="noop"&&F!="stop"&&F!="close")for(let lt=1;lt<x.length;lt++)x[lt]=""}}}}return js(X)}catch{return v}}var ea={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ol={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},kl;function na(){}_(na,Hu),na.prototype.g=function(){return new XMLHttpRequest},kl=new na;function as(m){return encodeURIComponent(String(m))}function Ku(m){var v=1;m=m.split(":");const T=[];for(;v>0&&m.length;)T.push(m.shift()),v--;return m.length&&T.push(m.join(":")),T}function ui(m,v,T,x){this.j=m,this.i=v,this.l=T,this.S=x||1,this.V=new Jr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hi}function hi(){this.i=null,this.g="",this.h=!1}var Ce={},We={};function Ii(m,v,T){m.M=1,m.A=ia(Me(v)),m.u=T,m.R=!0,so(m,null)}function so(m,v){m.F=Date.now(),Mi(m),m.B=Me(m.A);var T=m.B,x=m.S;Array.isArray(x)||(x=[String(x)]),lo(T.i,"t",x),m.C=0,T=m.j.L,m.h=new hi,m.g=ch(m.j,T?v:null,!m.u),m.P>0&&(m.O=new dn(d(m.Y,m,m.g),m.P)),v=m.V,T=m.g,x=m.ba;var F="readystatechange";Array.isArray(F)||(F&&(Ml[0]=F.toString()),F=Ml);for(let X=0;X<F.length;X++){const lt=de(T,F[X],x||v.handleEvent,!1,v.h||v);if(!lt)break;v.g[lt.key]=lt}v=m.J?z(m.J):{},m.u?(m.v||(m.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,v)):(m.v="GET",m.g.ea(m.B,m.v,null,v)),Ai(),om(m.i,m.v,m.B,m.l,m.S,m.u)}ui.prototype.ba=function(m){m=m.target;const v=this.O;v&&mi(m)==3?v.j():this.Y(m)},ui.prototype.Y=function(m){try{if(m==this.g)t:{const Ct=mi(this.g),Ee=this.g.ya(),Wt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Je(this.g)))){this.K||Ct!=4||Ee==7||(Ee==8||Wt<=0?Ai(3):Ai(2)),Di(this);var v=this.g.ca();this.X=v;var T=cm(this);if(this.o=v==200,Wu(this.i,this.v,this.B,this.l,this.S,Ct,v),this.o){if(this.U&&!this.L){e:{if(this.g){var x,F=this.g;if((x=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(x)){var X=x;break e}}X=null}if(m=X)Ci(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Oi(this,m);else{this.o=!1,this.m=3,Re(12),In(this),Fn(this);break t}}if(this.R){m=!0;let me;for(;!this.K&&this.C<T.length;)if(me=Xu(this,T),me==We){Ct==4&&(this.m=4,Re(14),m=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(me==Ce){this.m=4,Re(15),Ci(this.i,this.l,T,"[Invalid Chunk]"),m=!1;break}else Ci(this.i,this.l,me,null),Oi(this,me);if(Qu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||T.length!=0||this.h.h||(this.m=1,Re(16),m=!1),this.o=this.o&&m,!m)Ci(this.i,this.l,T,"[Invalid Chunked Response]"),In(this),Fn(this);else if(T.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Kl(lt),lt.P=!0,Re(11))}}else Ci(this.i,this.l,T,null),Oi(this,T);Ct==4&&In(this),this.o&&!this.K&&(Ct==4?rh(this.j,this):(this.o=!1,Mi(this)))}else ls(this.g),v==400&&T.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),In(this),Fn(this)}}}catch{}};function cm(m){if(!Qu(m))return m.g.la();const v=Je(m.g);if(v==="")return"";let T="";const x=v.length,F=mi(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return In(m),Fn(m),"";m.h.i=new c.TextDecoder}for(let X=0;X<x;X++)m.h.h=!0,T+=m.h.i.decode(v[X],{stream:!(F&&X==x-1)});return v.length=0,m.h.g+=T,m.C=0,m.h.g}function Qu(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function Xu(m,v){var T=m.C,x=v.indexOf(`
`,T);return x==-1?We:(T=Number(v.substring(T,x)),isNaN(T)?Ce:(x+=1,x+T>v.length?We:(v=v.slice(x,x+T),m.C=x+T,v)))}ui.prototype.cancel=function(){this.K=!0,In(this)};function Mi(m){m.T=Date.now()+m.H,ro(m,m.H)}function ro(m,v){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Ri(d(m.aa,m),v)}function Di(m){m.D&&(c.clearTimeout(m.D),m.D=null)}ui.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(ta(this.i,this.B),this.M!=2&&(Ai(),Re(17)),In(this),this.m=2,Fn(this)):ro(this,this.T-m)};function Fn(m){m.j.I==0||m.K||rh(m.j,m)}function In(m){Di(m);var v=m.O;v&&typeof v.dispose=="function"&&v.dispose(),m.O=null,Dl(m.V),m.g&&(v=m.g,m.g=null,v.abort(),v.dispose())}function Oi(m,v){try{var T=m.j;if(T.I!=0&&(T.g==m||Ni(T.h,m))){if(!m.L&&Ni(T.h,m)&&T.I==3){try{var x=T.Ba.g.parse(v)}catch{x=null}if(Array.isArray(x)&&x.length==3){var F=x;if(F[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<m.F)mo(T),Qs(T);else break t;ua(T),Re(18)}}else T.xa=F[1],0<T.xa-T.K&&F[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Ri(d(T.Va,T),6e3));ki(T.h)<=1&&T.ta&&(T.ta=void 0)}else Bi(T,11)}else if((m.L||T.g==m)&&mo(T),!O(v))for(F=T.Ba.g.parse(v),v=0;v<F.length;v++){let Wt=F[v];const me=Wt[0];if(!(me<=T.K))if(T.K=me,Wt=Wt[1],T.I==2)if(Wt[0]=="c"){T.M=Wt[1],T.ba=Wt[2];const Yn=Wt[3];Yn!=null&&(T.ka=Yn,T.j.info("VER="+T.ka));const ji=Wt[4];ji!=null&&(T.za=ji,T.j.info("SVER="+T.za));const gi=Wt[5];gi!=null&&typeof gi=="number"&&gi>0&&(x=1.5*gi,T.O=x,T.j.info("backChannelRequestTimeoutMs_="+x)),x=T;const pi=m.g;if(pi){const ha=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ha){var X=x.h;X.g||ha.indexOf("spdy")==-1&&ha.indexOf("quic")==-1&&ha.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Vl(X,X.h),X.h=null))}if(x.G){const go=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;go&&(x.wa=go,Xt(x.J,x.G,go))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-m.F,T.j.info("Handshake RTT: "+T.T+"ms")),x=T;var lt=m;if(x.na=lh(x,x.L?x.ba:null,x.W),lt.L){Ll(x.h,lt);var Ct=lt,Ee=x.O;Ee&&(Ct.H=Ee),Ct.D&&(Di(Ct),Mi(Ct)),x.g=lt}else ih(x);T.i.length>0&&Ui(T)}else Wt[0]!="stop"&&Wt[0]!="close"||Bi(T,7);else T.I==3&&(Wt[0]=="stop"||Wt[0]=="close"?Wt[0]=="stop"?Bi(T,7):Gl(T):Wt[0]!="noop"&&T.l&&T.l.qa(Wt),T.A=0)}}Ai(4)}catch{}}var Ie=class{constructor(m,v){this.g=m,this.map=v}};function Nl(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Pl(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ki(m){return m.h?1:m.g?m.g.size:0}function Ni(m,v){return m.h?m.h==v:m.g?m.g.has(v):!1}function Vl(m,v){m.g?m.g.add(v):m.h=v}function Ll(m,v){m.h&&m.h==v?m.h=null:m.g&&m.g.has(v)&&m.g.delete(v)}Nl.prototype.cancel=function(){if(this.i=zl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function zl(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let v=m.i;for(const T of m.g.values())v=v.concat(T.G);return v}return S(m.i)}var $u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ao(m,v){if(m){m=m.split("&");for(let T=0;T<m.length;T++){const x=m[T].indexOf("=");let F,X=null;x>=0?(F=m[T].substring(0,x),X=m[T].substring(x+1)):F=m[T],v(F,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Mn(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;m instanceof Mn?(this.l=m.l,Ke(this,m.j),this.o=m.o,this.g=m.g,Fs(this,m.u),this.h=m.h,Ul(this,eh(m.i)),this.m=m.m):m&&(v=String(m).match($u))?(this.l=!1,Ke(this,v[1]||"",!0),this.o=Pi(v[2]||""),this.g=Pi(v[3]||"",!0),Fs(this,v[4]),this.h=Pi(v[5]||"",!0),Ul(this,v[6]||"",!0),this.m=Pi(v[7]||"")):(this.l=!1,this.i=new qs(null,this.l))}Mn.prototype.toString=function(){const m=[];var v=this.j;v&&m.push(sa(v,oo,!0),":");var T=this.g;return(T||v=="file")&&(m.push("//"),(v=this.o)&&m.push(sa(v,oo,!0),"@"),m.push(as(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&m.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&m.push("/"),m.push(sa(T,T.charAt(0)=="/"?Bl:Ju,!0))),(T=this.i.toString())&&m.push("?",T),(T=this.m)&&m.push("#",sa(T,Zu)),m.join("")},Mn.prototype.resolve=function(m){const v=Me(this);let T=!!m.j;T?Ke(v,m.j):T=!!m.o,T?v.o=m.o:T=!!m.g,T?v.g=m.g:T=m.u!=null;var x=m.h;if(T)Fs(v,m.u);else if(T=!!m.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var F=v.h.lastIndexOf("/");F!=-1&&(x=v.h.slice(0,F+1)+x)}if(F=x,F==".."||F==".")x="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){x=F.lastIndexOf("/",0)==0,F=F.split("/");const X=[];for(let lt=0;lt<F.length;){const Ct=F[lt++];Ct=="."?x&&lt==F.length&&X.push(""):Ct==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),x&&lt==F.length&&X.push("")):(X.push(Ct),x=!0)}x=X.join("/")}else x=F}return T?v.h=x:T=m.i.toString()!=="",T?Ul(v,eh(m.i)):T=!!m.m,T&&(v.m=m.m),v};function Me(m){return new Mn(m)}function Ke(m,v,T){m.j=T?Pi(v,!0):v,m.j&&(m.j=m.j.replace(/:$/,""))}function Fs(m,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);m.u=v}else m.u=null}function Ul(m,v,T){v instanceof qs?(m.i=v,co(m.i,m.l)):(T||(v=sa(v,Hs)),m.i=new qs(v,m.l))}function Xt(m,v,T){m.i.set(v,T)}function ia(m){return Xt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Pi(m,v){return m?v?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function sa(m,v,T){return typeof m=="string"?(m=encodeURI(m).replace(v,pn),T&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function pn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var oo=/[#\/\?@]/g,Ju=/[#\?:]/g,Bl=/[#\?]/g,Hs=/[#\?@]/g,Zu=/#/g;function qs(m,v){this.h=this.g=null,this.i=m||null,this.j=!!v}function yn(m){m.g||(m.g=new Map,m.h=0,m.i&&ao(m.i,function(v,T){m.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}n=qs.prototype,n.add=function(m,v){yn(this),this.i=null,m=Ys(this,m);let T=this.g.get(m);return T||this.g.set(m,T=[]),T.push(v),this.h+=1,this};function th(m,v){yn(m),v=Ys(m,v),m.g.has(v)&&(m.i=null,m.h-=m.g.get(v).length,m.g.delete(v))}function jl(m,v){return yn(m),v=Ys(m,v),m.g.has(v)}n.forEach=function(m,v){yn(this),this.g.forEach(function(T,x){T.forEach(function(F){m.call(v,F,x,this)},this)},this)};function Fl(m,v){yn(m);let T=[];if(typeof v=="string")jl(m,v)&&(T=T.concat(m.g.get(Ys(m,v))));else for(m=Array.from(m.g.values()),v=0;v<m.length;v++)T=T.concat(m[v]);return T}n.set=function(m,v){return yn(this),this.i=null,m=Ys(this,m),jl(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[v]),this.h+=1,this},n.get=function(m,v){return m?(m=Fl(this,m),m.length>0?String(m[0]):v):v};function lo(m,v,T){th(m,v),T.length>0&&(m.i=null,m.g.set(Ys(m,v),S(T)),m.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],v=Array.from(this.g.keys());for(let x=0;x<v.length;x++){var T=v[x];const F=as(T);T=Fl(this,T);for(let X=0;X<T.length;X++){let lt=F;T[X]!==""&&(lt+="="+as(T[X])),m.push(lt)}}return this.i=m.join("&")};function eh(m){const v=new qs;return v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),v}function Ys(m,v){return v=String(v),m.j&&(v=v.toLowerCase()),v}function co(m,v){v&&!m.j&&(yn(m),m.i=null,m.g.forEach(function(T,x){const F=x.toLowerCase();x!=F&&(th(this,x),lo(this,F,T))},m)),m.j=v}function fi(m,v){const T=new ci;if(c.Image){const x=new Image;x.onload=y(Hn,T,"TestLoadImage: loaded",!0,v,x),x.onerror=y(Hn,T,"TestLoadImage: error",!1,v,x),x.onabort=y(Hn,T,"TestLoadImage: abort",!1,v,x),x.ontimeout=y(Hn,T,"TestLoadImage: timeout",!1,v,x),c.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=m}else v(!1)}function Hl(m,v){const T=new ci,x=new AbortController,F=setTimeout(()=>{x.abort(),Hn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(m,{signal:x.signal}).then(X=>{clearTimeout(F),X.ok?Hn(T,"TestPingServer: ok",!0,v):Hn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),Hn(T,"TestPingServer: error",!1,v)})}function Hn(m,v,T,x,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),x(T)}catch{}}function Gs(){this.g=new Fu}function Vi(m){this.i=m.Sb||null,this.h=m.ab||!1}_(Vi,Hu),Vi.prototype.g=function(){return new ra(this.i,this.h)};function ra(m,v){xe.call(this),this.H=m,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(ra,xe),n=ra.prototype,n.open=function(m,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=v,this.readyState=1,di(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(v.body=m),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ws(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;uo(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function uo(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var v=m.value?m.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!m.done}))&&(this.response=this.responseText+=v)}m.done?Ws(this):di(this),this.readyState==3&&uo(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,Ws(this))},n.Na=function(m){this.g&&(this.response=m,Ws(this))},n.ga=function(){this.g&&Ws(this)};function Ws(m){m.readyState=4,m.l=null,m.j=null,m.B=null,di(m)}n.setRequestHeader=function(m,v){this.A.append(m,v)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,m.push(T[0]+": "+T[1]),T=v.next();return m.join(`\r
`)};function di(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function qn(m){let v="";return bt(m,function(T,x){v+=x,v+=":",v+=T,v+=`\r
`}),v}function aa(m,v,T){t:{for(x in T){var x=!1;break t}x=!0}x||(T=qn(T),typeof m=="string"?T!=null&&as(T):Xt(m,v,T))}function ee(m){xe.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(ee,xe);var Li=/^https?$/i,ql=["POST","PUT"];n=ee.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,v,T,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);v=v?v.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():kl.g(),this.g.onreadystatechange=E(d(this.Ca,this));try{this.B=!0,this.g.open(v,String(m),!0),this.B=!1}catch(X){oa(this,X);return}if(m=T||"",T=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var F in x)T.set(F,x[F]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const X of x.keys())T.set(X,x.get(X));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),F=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(ql,v,void 0)>=0)||x||F||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,lt]of T)this.g.setRequestHeader(X,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(X){oa(this,X)}};function oa(m,v){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=v,m.o=5,Yl(m),os(m)}function Yl(m){m.A||(m.A=!0,je(m,"complete"),je(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,je(this,"complete"),je(this,"abort"),os(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),os(this,!0)),ee.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?la(this):this.Xa())},n.Xa=function(){la(this)};function la(m){if(m.h&&typeof o<"u"){if(m.v&&mi(m)==4)setTimeout(m.Ca.bind(m),0);else if(je(m,"readystatechange"),mi(m)==4){m.h=!1;try{const X=m.ca();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var T;if(!(T=v)){var x;if(x=X===0){let lt=String(m.D).match($u)[1]||null;!lt&&c.self&&c.self.location&&(lt=c.self.location.protocol.slice(0,-1)),x=!Li.test(lt?lt.toLowerCase():"")}T=x}if(T)je(m,"complete"),je(m,"success");else{m.o=6;try{var F=mi(m)>2?m.g.statusText:""}catch{F=""}m.l=F+" ["+m.ca()+"]",Yl(m)}}finally{os(m)}}}}function os(m,v){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const T=m.g;m.g=null,v||je(m,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function mi(m){return m.g?m.g.readyState:0}n.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var v=this.g.responseText;return m&&v.indexOf(m)==0&&(v=v.substring(m.length)),am(v)}};function Je(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function ls(m){const v={};m=(m.g&&mi(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<m.length;x++){if(O(m[x]))continue;var T=Ku(m[x]);const F=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=v[F]||[];v[F]=X,X.push(T)}Nt(v,function(x){return x.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zi(m,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[m]||v}function Ks(m){this.za=0,this.i=[],this.j=new ci,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zi("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zi("baseRetryDelayMs",5e3,m),this.Za=zi("retryDelaySeedMs",1e4,m),this.Ta=zi("forwardChannelMaxRetries",2,m),this.va=zi("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Nl(m&&m.concurrentRequestLimit),this.Ba=new Gs,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ks.prototype,n.ka=8,n.I=1,n.connect=function(m,v,T,x){Re(0),this.W=m,this.H=v||{},T&&x!==void 0&&(this.H.OSID=T,this.H.OAID=x),this.F=this.X,this.J=lh(this,null,this.W),Ui(this)};function Gl(m){if(ho(m),m.I==3){var v=m.V++,T=Me(m.J);if(Xt(T,"SID",m.M),Xt(T,"RID",v),Xt(T,"TYPE","terminate"),ca(m,T),v=new ui(m,m.j,v),v.M=2,v.A=ia(Me(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=v.A,T=!0),T||(v.g=ch(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Mi(v)}oh(m)}function Qs(m){m.g&&(Kl(m),m.g.cancel(),m.g=null)}function ho(m){Qs(m),m.v&&(c.clearTimeout(m.v),m.v=null),mo(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function Ui(m){if(!Pl(m.h)&&!m.m){m.m=!0;var v=m.Ea;et||C(),ot||(et(),ot=!0),M.add(v,m),m.D=0}}function fo(m,v){return ki(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=v.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Ri(d(m.Ea,m,v),ah(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const F=new ui(this,this.j,m);let X=this.o;if(this.U&&(X?(X=z(X),ct(X,this.U)):X=this.U),this.u!==null||this.R||(F.J=X,X=null),this.S)t:{for(var v=0,T=0;T<this.i.length;T++){e:{var x=this.i[T];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(v+=x,v>4096){v=T;break t}if(v===4096||T===this.i.length-1){v=T+1;break t}}v=1e3}else v=1e3;v=nh(this,F,v),T=Me(this.J),Xt(T,"RID",m),Xt(T,"CVER",22),this.G&&Xt(T,"X-HTTP-Session-Id",this.G),ca(this,T),X&&(this.R?v="headers="+as(qn(X))+"&"+v:this.u&&aa(T,this.u,X)),Vl(this.h,F),this.Ra&&Xt(T,"TYPE","init"),this.S?(Xt(T,"$req",v),Xt(T,"SID","null"),F.U=!0,Ii(F,T,null)):Ii(F,T,v),this.I=2}}else this.I==3&&(m?Wl(this,m):this.i.length==0||Pl(this.h)||Wl(this))};function Wl(m,v){var T;v?T=v.l:T=m.V++;const x=Me(m.J);Xt(x,"SID",m.M),Xt(x,"RID",T),Xt(x,"AID",m.K),ca(m,x),m.u&&m.o&&aa(x,m.u,m.o),T=new ui(m,m.j,T,m.D+1),m.u===null&&(T.J=m.o),v&&(m.i=v.G.concat(m.i)),v=nh(m,T,1e3),T.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Vl(m.h,T),Ii(T,x,v)}function ca(m,v){m.H&&bt(m.H,function(T,x){Xt(v,x,T)}),m.l&&bt({},function(T,x){Xt(v,x,T)})}function nh(m,v,T){T=Math.min(m.i.length,T);const x=m.l?d(m.l.Ka,m.l,m):null;t:{var F=m.i;let Ct=-1;for(;;){const Ee=["count="+T];Ct==-1?T>0?(Ct=F[0].g,Ee.push("ofs="+Ct)):Ct=0:Ee.push("ofs="+Ct);let Wt=!0;for(let me=0;me<T;me++){var X=F[me].g;const Yn=F[me].map;if(X-=Ct,X<0)Ct=Math.max(0,F[me].g-100),Wt=!1;else try{X="req"+X+"_"||"";try{var lt=Yn instanceof Map?Yn:Object.entries(Yn);for(const[ji,gi]of lt){let pi=gi;h(gi)&&(pi=js(gi)),Ee.push(X+ji+"="+encodeURIComponent(pi))}}catch(ji){throw Ee.push(X+"type="+encodeURIComponent("_badmap")),ji}}catch{x&&x(Yn)}}if(Wt){lt=Ee.join("&");break t}}lt=void 0}return m=m.i.splice(0,T),v.G=m,lt}function ih(m){if(!m.g&&!m.v){m.Y=1;var v=m.Da;et||C(),ot||(et(),ot=!0),M.add(v,m),m.A=0}}function ua(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Ri(d(m.Da,m),ah(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,sh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Ri(d(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),Qs(this),sh(this))};function Kl(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function sh(m){m.g=new ui(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var v=Me(m.na);Xt(v,"RID","rpc"),Xt(v,"SID",m.M),Xt(v,"AID",m.K),Xt(v,"CI",m.F?"0":"1"),!m.F&&m.ia&&Xt(v,"TO",m.ia),Xt(v,"TYPE","xmlhttp"),ca(m,v),m.u&&m.o&&aa(v,m.u,m.o),m.O&&(m.g.H=m.O);var T=m.g;m=m.ba,T.M=1,T.A=ia(Me(v)),T.u=null,T.R=!0,so(T,m)}n.Va=function(){this.C!=null&&(this.C=null,Qs(this),ua(this),Re(19))};function mo(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function rh(m,v){var T=null;if(m.g==v){mo(m),Kl(m),m.g=null;var x=2}else if(Ni(m.h,v))T=v.G,Ll(m.h,v),x=1;else return;if(m.I!=0){if(v.o)if(x==1){T=v.u?v.u.length:0,v=Date.now()-v.F;var F=m.D;x=io(),je(x,new xi(x,T)),Ui(m)}else ih(m);else if(F=v.m,F==3||F==0&&v.X>0||!(x==1&&fo(m,v)||x==2&&ua(m)))switch(T&&T.length>0&&(v=m.h,v.i=v.i.concat(T)),F){case 1:Bi(m,5);break;case 4:Bi(m,10);break;case 3:Bi(m,6);break;default:Bi(m,2)}}}function ah(m,v){let T=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(T*=2),T*v}function Bi(m,v){if(m.j.info("Error code "+v),v==2){var T=d(m.bb,m),x=m.Ua;const F=!x;x=new Mn(x||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ke(x,"https"),ia(x),F?fi(x.toString(),T):Hl(x.toString(),T)}else Re(2);m.I=0,m.l&&m.l.pa(v),oh(m),ho(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function oh(m){if(m.I=0,m.ja=[],m.l){const v=zl(m.h);(v.length!=0||m.i.length!=0)&&(R(m.ja,v),R(m.ja,m.i),m.h.i.length=0,S(m.i),m.i.length=0),m.l.oa()}}function lh(m,v,T){var x=T instanceof Mn?Me(T):new Mn(T);if(x.g!="")v&&(x.g=v+"."+x.g),Fs(x,x.u);else{var F=c.location;x=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;const X=new Mn(null);x&&Ke(X,x),v&&(X.g=v),F&&Fs(X,F),T&&(X.h=T),x=X}return T=m.G,v=m.wa,T&&v&&Xt(x,T,v),Xt(x,"VER",m.ka),ca(m,x),x}function ch(m,v,T){if(v&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=m.Aa&&!m.ma?new ee(new Vi({ab:T})):new ee(m.ma),v.Fa(m.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function uh(){}n=uh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Xs(){}Xs.prototype.g=function(m,v){return new mn(m,v)};function mn(m,v){xe.call(this),this.g=new Ks(v),this.l=m,this.h=v&&v.messageUrlParams||null,m=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(m?m["X-WebChannel-Content-Type"]=v.messageContentType:m={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(m?m["X-WebChannel-Client-Profile"]=v.sa:m={"X-WebChannel-Client-Profile":v.sa}),this.g.U=m,(m=v&&v.Qb)&&!O(m)&&(this.g.u=m),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!O(v)&&(this.g.G=v,m=this.h,m!==null&&v in m&&(m=this.h,v in m&&delete m[v])),this.j=new cs(this)}_(mn,xe),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Gl(this.g)},mn.prototype.o=function(m){var v=this.g;if(typeof m=="string"){var T={};T.__data__=m,m=T}else this.v&&(T={},T.__data__=js(m),m=T);v.i.push(new Ie(v.Ya++,m)),v.I==3&&Ui(v)},mn.prototype.N=function(){this.g.l=null,delete this.j,Gl(this.g),delete this.g,mn.Z.N.call(this)};function hh(m){$e.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var v=m.__sm__;if(v){t:{for(const T in v){m=T;break t}m=void 0}(this.i=m)&&(m=this.i,v=v!==null&&m in v?v[m]:void 0),this.data=v}else this.data=m}_(hh,$e);function fh(){jn.call(this),this.status=1}_(fh,jn);function cs(m){this.g=m}_(cs,uh),cs.prototype.ra=function(){je(this.g,"a")},cs.prototype.qa=function(m){je(this.g,new hh(m))},cs.prototype.pa=function(m){je(this.g,new fh)},cs.prototype.oa=function(){je(this.g,"b")},Xs.prototype.createWebChannel=Xs.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Uw=function(){return new Xs},zw=function(){return io()},Lw=be,Kp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ea.NO_ERROR=0,ea.TIMEOUT=8,ea.HTTP_ERROR=6,Yf=ea,Ol.COMPLETE="complete",Vw=Ol,qu.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",xe.prototype.listen=xe.prototype.J,qc=qu,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,Pw=ee}).apply(typeof vf<"u"?vf:typeof self<"u"?self:typeof window<"u"?window:{});const XE="@firebase/firestore",$E="4.9.3";class wn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");let bl="12.7.0";const qa=new xy("@firebase/firestore");function Ko(){return qa.logLevel}function ft(n,...t){if(qa.logLevel<=Lt.DEBUG){const e=t.map(Ly);qa.debug(`Firestore (${bl}): ${n}`,...e)}}function Ls(n,...t){if(qa.logLevel<=Lt.ERROR){const e=t.map(Ly);qa.error(`Firestore (${bl}): ${n}`,...e)}}function fu(n,...t){if(qa.logLevel<=Lt.WARN){const e=t.map(Ly);qa.warn(`Firestore (${bl}): ${n}`,...e)}}function Ly(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function St(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,Bw(n,i,e)}function Bw(n,t,e){let i=`FIRESTORE (${bl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Ls(i),new Error(i)}function Qt(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||Bw(t,r,i)}function Rt(n,t){return n}const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends Us{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Va{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class T4{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class S4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(wn.UNAUTHENTICATED)))}shutdown(){}}class w4{constructor(t){this.t=t,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Qt(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new Va;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Va,t.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},h=f=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Va)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qt(typeof i.accessToken=="string",31837,{l:i}),new T4(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new wn(t)}}class A4{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class x4{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new A4(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(wn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class JE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R4{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Qt(this.o===void 0,3512);const i=o=>{o.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ft("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const r=o=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new JE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Qt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new JE(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function C4(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class zy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=C4(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function zt(n,t){return n<t?-1:n>t?1:0}function Qp(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return vp(r)===vp(o)?zt(r,o):vp(r)?1:-1}return zt(n.length,t.length)}const I4=55296,M4=57343;function vp(n){const t=n.charCodeAt(0);return t>=I4&&t<=M4}function ol(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}const ZE="__name__";class Qi{constructor(t,e,i){e===void 0?e=0:e>t.length&&St(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&St(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Qi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Qi?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Qi.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return zt(t.length,e.length)}static compareSegments(t,e){const i=Qi.isNumericId(t),r=Qi.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Qi.extractNumericId(t).compare(Qi.extractNumericId(e)):Qp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Nr.fromString(t.substring(4,t.length-2))}}class le extends Qi{construct(t,e,i){return new le(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ht(nt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new le(e)}static emptyPath(){return new le([])}}const D4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Qi{construct(t,e,i){return new rn(t,e,i)}static isValidIdentifier(t){return D4.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ZE}static keyField(){return new rn([ZE])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new ht(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new ht(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ht(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new ht(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new rn(e)}static emptyPath(){return new rn([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(le.fromString(t))}static fromName(t){return new yt(le.fromString(t).popFirst(5))}static empty(){return new yt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return le.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new le(t.slice()))}}function jw(n,t,e){if(!e)throw new ht(nt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function O4(n,t,e,i){if(t===!0&&i===!0)throw new ht(nt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function tT(n){if(!yt.isDocumentKey(n))throw new ht(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function eT(n){if(yt.isDocumentKey(n))throw new ht(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Fw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Vd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":St(12329,{type:typeof n})}function La(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ht(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Vd(n);throw new ht(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Le(n,t){const e={typeString:n};return t&&(e.value=t),e}function Nu(n,t){if(!Fw(n))throw new ht(nt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(r&&typeof c!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new ht(nt.INVALID_ARGUMENT,e);return!0}const nT=-62135596800,iT=1e6;class fe{static now(){return fe.fromMillis(Date.now())}static fromDate(t){return fe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*iT);return new fe(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ht(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ht(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<nT)throw new ht(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iT}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Nu(t,fe._jsonSchema))return new fe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-nT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}fe._jsonSchemaVersion="firestore/timestamp/1.0",fe._jsonSchema={type:Le("string",fe._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new fe(0,0))}static max(){return new At(new fe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const du=-1;function k4(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=At.fromTimestamp(i===1e9?new fe(e+1,0):new fe(e,i));return new zr(r,yt.empty(),t)}function N4(n){return new zr(n.readTime,n.key,du)}class zr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new zr(At.min(),yt.empty(),du)}static max(){return new zr(At.max(),yt.empty(),du)}}function P4(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=yt.comparator(n.documentKey,t.documentKey),e!==0?e:zt(n.largestBatchId,t.largestBatchId))}const V4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function El(n){if(n.code!==nt.FAILED_PRECONDITION||n.message!==V4)throw n;ft("LocalStore","Unexpectedly lost primary lease")}class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new st(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof st?e:st.resolve(e)}catch(e){return st.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):st.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):st.reject(e)}static resolve(t){return new st(((e,i)=>{e(t)}))}static reject(t){return new st(((e,i)=>{i(t)}))}static waitFor(t){return new st(((e,i)=>{let r=0,o=0,c=!1;t.forEach((h=>{++r,h.next((()=>{++o,c&&o===r&&e()}),(f=>i(f)))})),c=!0,o===r&&e()}))}static or(t){let e=st.resolve(!1);for(const i of t)e=e.next((r=>r?st.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,o)=>{i.push(e.call(this,r,o))})),this.waitFor(i)}static mapArray(t,e){return new st(((i,r)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const d=f;e(t[d]).next((y=>{c[d]=y,++h,h===o&&i(c)}),(y=>r(y)))}}))}static doWhile(t,e){return new st(((i,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):i()};o()}))}}function z4(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Tl(n){return n.name==="IndexedDbTransactionError"}class Ld{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ld.ce=-1;const Uy=-1;function zd(n){return n==null}function od(n){return n===0&&1/n==-1/0}function U4(n){return typeof n=="number"&&Number.isInteger(n)&&!od(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Hw="";function B4(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=sT(t)),t=j4(n.get(e),t);return sT(t)}function j4(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case Hw:e+="";break;default:e+=o}}return e}function sT(n){return n+Hw+""}function rT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Kr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function qw(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ye{constructor(t,e){this.comparator=t,this.root=e||sn.EMPTY}insert(t,e){return new ye(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(t){return new ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new bf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new bf(this.root,t,this.comparator,!1)}getReverseIterator(){return new bf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new bf(this.root,t,this.comparator,!0)}}class bf{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class sn{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??sn.RED,this.left=r??sn.EMPTY,this.right=o??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new sn(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return sn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new sn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ye{constructor(t){this.comparator=t,this.data=new ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new aT(this.data.getIterator())}getIteratorFrom(t){return new aT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof Ye)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ye(this.comparator);return e.data=t,e}}class aT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zn{constructor(t){this.fields=t,t.sort(rn.comparator)}static empty(){return new zn([])}unionWith(t){let e=new Ye(rn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new zn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return ol(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class Yw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class an{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Yw("Invalid base64 string: "+o):o}})(t);return new an(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o})(t);return new an(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}an.EMPTY_BYTE_STRING=new an("");const F4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(n){if(Qt(!!n,39018),typeof n=="string"){let t=0;const e=F4.exec(n);if(Qt(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:we(n.seconds),nanos:we(n.nanos)}}function we(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Br(n){return typeof n=="string"?an.fromBase64String(n):an.fromUint8Array(n)}const Gw="server_timestamp",Ww="__type__",Kw="__previous_value__",Qw="__local_write_time__";function By(n){return(n?.mapValue?.fields||{})[Ww]?.stringValue===Gw}function Ud(n){const t=n.mapValue.fields[Kw];return By(t)?Ud(t):t}function mu(n){const t=Ur(n.mapValue.fields[Qw].timestampValue);return new fe(t.seconds,t.nanos)}class H4{constructor(t,e,i,r,o,c,h,f,d,y){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=y}}const ld="(default)";class gu{constructor(t,e){this.projectId=t,this.database=e||ld}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===ld}isEqual(t){return t instanceof gu&&t.projectId===this.projectId&&t.database===this.database}}const Xw="__type__",q4="__max__",Ef={mapValue:{}},$w="__vector__",cd="value";function jr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?By(n)?4:G4(n)?9007199254740991:Y4(n)?10:11:St(28295,{value:n})}function is(n,t){if(n===t)return!0;const e=jr(n);if(e!==jr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return mu(n).isEqual(mu(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Ur(r.timestampValue),h=Ur(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return Br(r.bytesValue).isEqual(Br(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return we(r.geoPointValue.latitude)===we(o.geoPointValue.latitude)&&we(r.geoPointValue.longitude)===we(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return we(r.integerValue)===we(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=we(r.doubleValue),h=we(o.doubleValue);return c===h?od(c)===od(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return ol(n.arrayValue.values||[],t.arrayValue.values||[],is);case 10:case 11:return(function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(rT(c)!==rT(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!is(c[f],h[f])))return!1;return!0})(n,t);default:return St(52216,{left:n})}}function pu(n,t){return(n.values||[]).find((e=>is(e,t)))!==void 0}function ll(n,t){if(n===t)return 0;const e=jr(n),i=jr(t);if(e!==i)return zt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return zt(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=we(o.integerValue||o.doubleValue),f=we(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return oT(n.timestampValue,t.timestampValue);case 4:return oT(mu(n),mu(t));case 5:return Qp(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=Br(o),f=Br(c);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let d=0;d<h.length&&d<f.length;d++){const y=zt(h[d],f[d]);if(y!==0)return y}return zt(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=zt(we(o.latitude),we(c.latitude));return h!==0?h:zt(we(o.longitude),we(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return lT(n.arrayValue,t.arrayValue);case 10:return(function(o,c){const h=o.fields||{},f=c.fields||{},d=h[cd]?.arrayValue,y=f[cd]?.arrayValue,_=zt(d?.values?.length||0,y?.values?.length||0);return _!==0?_:lT(d,y)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===Ef.mapValue&&c===Ef.mapValue)return 0;if(o===Ef.mapValue)return 1;if(c===Ef.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),d=c.fields||{},y=Object.keys(d);f.sort(),y.sort();for(let _=0;_<f.length&&_<y.length;++_){const E=Qp(f[_],y[_]);if(E!==0)return E;const S=ll(h[f[_]],d[y[_]]);if(S!==0)return S}return zt(f.length,y.length)})(n.mapValue,t.mapValue);default:throw St(23264,{he:e})}}function oT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return zt(n,t);const e=Ur(n),i=Ur(t),r=zt(e.seconds,i.seconds);return r!==0?r:zt(e.nanos,i.nanos)}function lT(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=ll(e[r],i[r]);if(o)return o}return zt(e.length,i.length)}function cl(n){return Xp(n)}function Xp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Ur(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Br(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return yt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=Xp(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${Xp(e.fields[c])}`;return r+"}"})(n.mapValue):St(61005,{value:n})}function Gf(n){switch(jr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ud(n);return t?16+Gf(t):16;case 5:return 2*n.stringValue.length;case 6:return Br(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+Gf(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return Kr(i.fields,((o,c)=>{r+=o.length+Gf(c)})),r})(n.mapValue);default:throw St(13486,{value:n})}}function cT(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function $p(n){return!!n&&"integerValue"in n}function jy(n){return!!n&&"arrayValue"in n}function uT(n){return!!n&&"nullValue"in n}function hT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wf(n){return!!n&&"mapValue"in n}function Y4(n){return(n?.mapValue?.fields||{})[Xw]?.stringValue===$w}function tu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Kr(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=tu(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=tu(n.arrayValue.values[e]);return t}return{...n}}function G4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===q4}class xn{constructor(t){this.value=t}static empty(){return new xn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Wf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=tu(e)}setAll(t){let e=rn.emptyPath(),i={},r=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=h.popLast()}c?i[h.lastSegment()]=tu(c):r.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Wf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return is(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Wf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Kr(e,((r,o)=>t[r]=o));for(const r of i)delete t[r]}clone(){return new xn(tu(this.value))}}function Jw(n){const t=[];return Kr(n.fields,((e,i)=>{const r=new rn([e]);if(Wf(i)){const o=Jw(i.mapValue).fields;if(o.length===0)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)})),new zn(t)}class un{constructor(t,e,i,r,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new un(t,0,At.min(),At.min(),At.min(),xn.empty(),0)}static newFoundDocument(t,e,i,r){return new un(t,1,e,At.min(),i,r,0)}static newNoDocument(t,e){return new un(t,2,e,At.min(),At.min(),xn.empty(),0)}static newUnknownDocument(t,e){return new un(t,3,e,At.min(),At.min(),xn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ud{constructor(t,e){this.position=t,this.inclusive=e}}function fT(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(o.field.isKeyField()?i=yt.comparator(yt.fromName(c.referenceValue),e.key):i=ll(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function dT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!is(n.position[e],t.position[e]))return!1;return!0}class yu{constructor(t,e="asc"){this.field=t,this.dir=e}}function W4(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class Zw{}class Ve extends Zw{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new Q4(t,e,i):e==="array-contains"?new J4(t,i):e==="in"?new Z4(t,i):e==="not-in"?new tk(t,i):e==="array-contains-any"?new ek(t,i):new Ve(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new X4(t,i):new $4(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(ll(e,this.value)):e!==null&&jr(this.value)===jr(e)&&this.matchesComparison(ll(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends Zw{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Si(t,e)}matches(t){return tA(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tA(n){return n.op==="and"}function eA(n){return K4(n)&&tA(n)}function K4(n){for(const t of n.filters)if(t instanceof Si)return!1;return!0}function Jp(n){if(n instanceof Ve)return n.field.canonicalString()+n.op.toString()+cl(n.value);if(eA(n))return n.filters.map((t=>Jp(t))).join(",");{const t=n.filters.map((e=>Jp(e))).join(",");return`${n.op}(${t})`}}function nA(n,t){return n instanceof Ve?(function(i,r){return r instanceof Ve&&i.op===r.op&&i.field.isEqual(r.field)&&is(i.value,r.value)})(n,t):n instanceof Si?(function(i,r){return r instanceof Si&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,c,h)=>o&&nA(c,r.filters[h])),!0):!1})(n,t):void St(19439)}function iA(n){return n instanceof Ve?(function(e){return`${e.field.canonicalString()} ${e.op} ${cl(e.value)}`})(n):n instanceof Si?(function(e){return e.op.toString()+" {"+e.getFilters().map(iA).join(" ,")+"}"})(n):"Filter"}class Q4 extends Ve{constructor(t,e,i){super(t,e,i),this.key=yt.fromName(i.referenceValue)}matches(t){const e=yt.comparator(t.key,this.key);return this.matchesComparison(e)}}class X4 extends Ve{constructor(t,e){super(t,"in",e),this.keys=sA("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class $4 extends Ve{constructor(t,e){super(t,"not-in",e),this.keys=sA("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function sA(n,t){return(t.arrayValue?.values||[]).map((e=>yt.fromName(e.referenceValue)))}class J4 extends Ve{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return jy(e)&&pu(e.arrayValue,this.value)}}class Z4 extends Ve{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&pu(this.value.arrayValue,e)}}class tk extends Ve{constructor(t,e){super(t,"not-in",e)}matches(t){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!pu(this.value.arrayValue,e)}}class ek extends Ve{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!jy(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>pu(this.value.arrayValue,i)))}}class nk{constructor(t,e=null,i=[],r=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function mT(n,t=null,e=[],i=[],r=null,o=null,c=null){return new nk(n,t,e,i,r,o,c)}function Fy(n){const t=Rt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>Jp(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),zd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>cl(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>cl(i))).join(",")),t.Te=e}return t.Te}function Hy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!W4(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!nA(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!dT(n.startAt,t.startAt)&&dT(n.endAt,t.endAt)}function Zp(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Sl{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ik(n,t,e,i,r,o,c,h){return new Sl(n,t,e,i,r,o,c,h)}function qy(n){return new Sl(n)}function gT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function rA(n){return n.collectionGroup!==null}function eu(n){const t=Rt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Ye(rn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(h=h.add(d.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new yu(o,i))})),e.has(rn.keyField().canonicalString())||t.Ie.push(new yu(rn.keyField(),i))}return t.Ie}function Zi(n){const t=Rt(n);return t.Ee||(t.Ee=sk(t,eu(n))),t.Ee}function sk(n,t){if(n.limitType==="F")return mT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new yu(r.field,o)}));const e=n.endAt?new ud(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new ud(n.startAt.position,n.startAt.inclusive):null;return mT(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function ty(n,t){const e=n.filters.concat([t]);return new Sl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function ey(n,t,e){return new Sl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Bd(n,t){return Hy(Zi(n),Zi(t))&&n.limitType===t.limitType}function aA(n){return`${Fy(Zi(n))}|lt:${n.limitType}`}function Qo(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>iA(r))).join(", ")}]`),zd(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>cl(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>cl(r))).join(",")),`Target(${i})`})(Zi(n))}; limitType=${n.limitType})`}function jd(n,t){return t.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):yt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,r){for(const o of eu(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(c,h,f){const d=fT(c,h,f);return c.inclusive?d<=0:d<0})(i.startAt,eu(i),r)||i.endAt&&!(function(c,h,f){const d=fT(c,h,f);return c.inclusive?d>=0:d>0})(i.endAt,eu(i),r))})(n,t)}function rk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function oA(n){return(t,e)=>{let i=!1;for(const r of eu(n)){const o=ak(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function ak(n,t,e){const i=n.field.isKeyField()?yt.comparator(t.key,e.key):(function(o,c,h){const f=c.data.field(o),d=h.data.field(o);return f!==null&&d!==null?ll(f,d):St(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return St(19790,{direction:n.dir})}}class Xa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Kr(this.inner,((e,i)=>{for(const[r,o]of i)t(r,o)}))}isEmpty(){return qw(this.inner)}size(){return this.innerSize}}const ok=new ye(yt.comparator);function zs(){return ok}const lA=new ye(yt.comparator);function Yc(...n){let t=lA;for(const e of n)t=t.insert(e.key,e);return t}function cA(n){let t=lA;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function ka(){return nu()}function uA(){return nu()}function nu(){return new Xa((n=>n.toString()),((n,t)=>n.isEqual(t)))}const lk=new ye(yt.comparator),ck=new Ye(yt.comparator);function Ut(...n){let t=ck;for(const e of n)t=t.add(e);return t}const uk=new Ye(zt);function hk(){return uk}function Yy(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:od(t)?"-0":t}}function hA(n){return{integerValue:""+n}}function fk(n,t){return U4(t)?hA(t):Yy(n,t)}class Fd{constructor(){this._=void 0}}function dk(n,t,e){return n instanceof _u?(function(r,o){const c={fields:{[Ww]:{stringValue:Gw},[Qw]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&By(o)&&(o=Ud(o)),o&&(c.fields[Kw]=o),{mapValue:c}})(e,t):n instanceof vu?dA(n,t):n instanceof bu?mA(n,t):(function(r,o){const c=fA(r,o),h=pT(c)+pT(r.Ae);return $p(c)&&$p(r.Ae)?hA(h):Yy(r.serializer,h)})(n,t)}function mk(n,t,e){return n instanceof vu?dA(n,t):n instanceof bu?mA(n,t):e}function fA(n,t){return n instanceof hd?(function(i){return $p(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class _u extends Fd{}class vu extends Fd{constructor(t){super(),this.elements=t}}function dA(n,t){const e=gA(t);for(const i of n.elements)e.some((r=>is(r,i)))||e.push(i);return{arrayValue:{values:e}}}class bu extends Fd{constructor(t){super(),this.elements=t}}function mA(n,t){let e=gA(t);for(const i of n.elements)e=e.filter((r=>!is(r,i)));return{arrayValue:{values:e}}}class hd extends Fd{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function pT(n){return we(n.integerValue||n.doubleValue)}function gA(n){return jy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class gk{constructor(t,e){this.field=t,this.transform=e}}function pk(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof vu&&r instanceof vu||i instanceof bu&&r instanceof bu?ol(i.elements,r.elements,is):i instanceof hd&&r instanceof hd?is(i.Ae,r.Ae):i instanceof _u&&r instanceof _u})(n.transform,t.transform)}class yk{constructor(t,e){this.version=t,this.transformResults=e}}class Ei{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ei}static exists(t){return new Ei(void 0,t)}static updateTime(t){return new Ei(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Kf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Hd{}function pA(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Gy(n.key,Ei.none()):new Pu(n.key,n.data,Ei.none());{const e=n.data,i=xn.empty();let r=new Ye(rn.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new Qr(n.key,i,new zn(r.toArray()),Ei.none())}}function _k(n,t,e){n instanceof Pu?(function(r,o,c){const h=r.value.clone(),f=_T(r.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Qr?(function(r,o,c){if(!Kf(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=_T(r.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(yA(r)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,t,e):(function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function iu(n,t,e,i){return n instanceof Pu?(function(o,c,h,f){if(!Kf(o.precondition,c))return h;const d=o.value.clone(),y=vT(o.fieldTransforms,f,c);return d.setAll(y),c.convertToFoundDocument(c.version,d).setHasLocalMutations(),null})(n,t,e,i):n instanceof Qr?(function(o,c,h,f){if(!Kf(o.precondition,c))return h;const d=vT(o.fieldTransforms,f,c),y=c.data;return y.setAll(yA(o)),y.setAll(d),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(n,t,e,i):(function(o,c,h){return Kf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function vk(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=fA(i.transform,r||null);o!=null&&(e===null&&(e=xn.empty()),e.set(i.field,o))}return e||null}function yT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ol(i,r,((o,c)=>pk(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Pu extends Hd{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Qr extends Hd{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function yA(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function _T(n,t,e){const i=new Map;Qt(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,h=t.data.field(o.field);i.set(o.field,mk(c,h,e[r]))}return i}function vT(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,dk(o,c,t))}return i}class Gy extends Hd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bk extends Hd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ek{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&_k(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=iu(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=iu(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=uA();return this.mutations.forEach((r=>{const o=t.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(r.key)?null:h;const f=pA(c,h);f!==null&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(At.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&ol(this.mutations,t.mutations,((e,i)=>yT(e,i)))&&ol(this.baseMutations,t.baseMutations,((e,i)=>yT(e,i)))}}class Wy{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Qt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return lk})();const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new Wy(t,e,i,r)}}class Tk{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Sk{constructor(t,e){this.count=t,this.unchangedNames=e}}var Pe,Ft;function wk(n){switch(n){case nt.OK:return St(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return St(15467,{code:n})}}function _A(n){if(n===void 0)return Ls("GRPC error has no .code"),nt.UNKNOWN;switch(n){case Pe.OK:return nt.OK;case Pe.CANCELLED:return nt.CANCELLED;case Pe.UNKNOWN:return nt.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return nt.INTERNAL;case Pe.UNAVAILABLE:return nt.UNAVAILABLE;case Pe.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Pe.NOT_FOUND:return nt.NOT_FOUND;case Pe.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Pe.ABORTED:return nt.ABORTED;case Pe.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Pe.DATA_LOSS:return nt.DATA_LOSS;default:return St(39323,{code:n})}}(Ft=Pe||(Pe={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";function Ak(){return new TextEncoder}const xk=new Nr([4294967295,4294967295],0);function bT(n){const t=Ak().encode(n),e=new Nw;return e.update(t),new Uint8Array(e.digest())}function ET(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Nr([e,i],0),new Nr([r,o],0)]}class Ky{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Gc(`Invalid padding: ${e}`);if(i<0)throw new Gc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Gc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Gc(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Nr.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(Nr.fromNumber(i)));return r.compare(xk)===1&&(r=new Nr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=bT(t),[i,r]=ET(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);if(!this.we(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new Ky(o,r,e);return i.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=bT(t),[i,r]=ET(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);this.Se(c)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Gc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qd{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Vu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new qd(At.min(),r,new ye(zt),zs(),Ut())}}class Vu{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Vu(i,e,Ut(),Ut(),Ut())}}class Qf{constructor(t,e,i,r){this.be=t,this.removedTargetIds=e,this.key=i,this.De=r}}class vA{constructor(t,e){this.targetId=t,this.Ce=e}}class bA{constructor(t,e,i=an.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class TT{constructor(){this.ve=0,this.Fe=ST(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),e=Ut(),i=Ut();return this.Fe.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:St(38017,{changeType:o})}})),new Vu(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=ST()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Rk{constructor(t){this.Ge=t,this.ze=new Map,this.je=zs(),this.Je=Tf(),this.He=Tf(),this.Ye=new ye(zt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:St(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(Zp(o))if(i===0){const c=new yt(o.path);this.et(e,c,un.newNoDocument(c,At.min()))}else Qt(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const h=this.ut(t),f=h?this.ct(h,t,c):1;if(f!==0){this.it(e);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,d)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let c,h;try{c=Br(i).toUint8Array()}catch(f){if(f instanceof Yw)return fu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Ky(c,r,o)}catch(f){return fu(f instanceof Gc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&Zp(h.target)){const f=new yt(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,un.newNoDocument(f,t))}o.Be&&(e.set(c,o.ke()),o.qe())}}));let i=Ut();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const r=new qd(t,e,this.Ye,this.je,i);return this.je=zs(),this.Je=Tf(),this.He=Tf(),this.Ye=new ye(zt),r}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.Qe(e,1):r.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new TT,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Ye(zt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Ye(zt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ft("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new TT),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Tf(){return new ye(yt.comparator)}function ST(){return new ye(yt.comparator)}const Ck={asc:"ASCENDING",desc:"DESCENDING"},Ik={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mk={and:"AND",or:"OR"};class Dk{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function ny(n,t){return n.useProto3Json||zd(t)?t:{value:t}}function fd(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function EA(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Ok(n,t){return fd(n,t.toTimestamp())}function ts(n){return Qt(!!n,49232),At.fromTimestamp((function(e){const i=Ur(e);return new fe(i.seconds,i.nanos)})(n))}function Qy(n,t){return iy(n,t).canonicalString()}function iy(n,t){const e=(function(r){return new le(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function TA(n){const t=le.fromString(n);return Qt(RA(t),10190,{key:t.toString()}),t}function sy(n,t){return Qy(n.databaseId,t.path)}function bp(n,t){const e=TA(t);if(e.get(1)!==n.databaseId.projectId)throw new ht(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ht(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new yt(wA(e))}function SA(n,t){return Qy(n.databaseId,t)}function kk(n){const t=TA(n);return t.length===4?le.emptyPath():wA(t)}function ry(n){return new le(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wA(n){return Qt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function wT(n,t,e){return{name:sy(n,t),fields:e.value.mapValue.fields}}function Nk(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:St(39313,{state:d})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(d,y){return d.useProto3Json?(Qt(y===void 0||typeof y=="string",58123),an.fromBase64String(y||"")):(Qt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),an.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(d){const y=d.code===void 0?nt.UNKNOWN:_A(d.code);return new ht(y,d.message||"")})(c);e=new bA(i,r,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=bp(n,i.document.name),o=ts(i.document.updateTime),c=i.document.createTime?ts(i.document.createTime):At.min(),h=new xn({mapValue:{fields:i.document.fields}}),f=un.newFoundDocument(r,o,c,h),d=i.targetIds||[],y=i.removedTargetIds||[];e=new Qf(d,y,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=bp(n,i.document),o=i.readTime?ts(i.readTime):At.min(),c=un.newNoDocument(r,o),h=i.removedTargetIds||[];e=new Qf([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=bp(n,i.document),o=i.removedTargetIds||[];e=new Qf([],o,r,null)}else{if(!("filter"in t))return St(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new Sk(r,o),h=i.targetId;e=new vA(h,c)}}return e}function Pk(n,t){let e;if(t instanceof Pu)e={update:wT(n,t.key,t.value)};else if(t instanceof Gy)e={delete:sy(n,t.key)};else if(t instanceof Qr)e={update:wT(n,t.key,t.data),updateMask:qk(t.fieldMask)};else{if(!(t instanceof bk))return St(16599,{Vt:t.type});e={verify:sy(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,c){const h=c.transform;if(h instanceof _u)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof vu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof bu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof hd)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw St(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:Ok(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:St(27497)})(n,t.precondition)),e}function Vk(n,t){return n&&n.length>0?(Qt(t!==void 0,14353),n.map((e=>(function(r,o){let c=r.updateTime?ts(r.updateTime):ts(o);return c.isEqual(At.min())&&(c=ts(o)),new yk(c,r.transformResults||[])})(e,t)))):[]}function Lk(n,t){return{documents:[SA(n,t.path)]}}function zk(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=SA(n,r);const o=(function(d){if(d.length!==0)return xA(Si.create(d,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(d){if(d.length!==0)return d.map((y=>(function(E){return{field:Xo(E.field),direction:jk(E.dir)}})(y)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=ny(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(t.endAt)),{ft:e,parent:r}}function Uk(n){let t=kk(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Qt(i===1,65062);const y=e.from[0];y.allDescendants?r=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=(function(_){const E=AA(_);return E instanceof Si&&eA(E)?E.getFilters():[E]})(e.where));let c=[];e.orderBy&&(c=(function(_){return _.map((E=>(function(R){return new yu($o(R.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(E)))})(e.orderBy));let h=null;e.limit&&(h=(function(_){let E;return E=typeof _=="object"?_.value:_,zd(E)?null:E})(e.limit));let f=null;e.startAt&&(f=(function(_){const E=!!_.before,S=_.values||[];return new ud(S,E)})(e.startAt));let d=null;return e.endAt&&(d=(function(_){const E=!_.before,S=_.values||[];return new ud(S,E)})(e.endAt)),ik(t,r,c,o,h,"F",f,d)}function Bk(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function AA(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=$o(e.unaryFilter.field);return Ve.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=$o(e.unaryFilter.field);return Ve.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=$o(e.unaryFilter.field);return Ve.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=$o(e.unaryFilter.field);return Ve.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ve.create($o(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Si.create(e.compositeFilter.filters.map((i=>AA(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(e.compositeFilter.op))})(n):St(30097,{filter:n})}function jk(n){return Ck[n]}function Fk(n){return Ik[n]}function Hk(n){return Mk[n]}function Xo(n){return{fieldPath:n.canonicalString()}}function $o(n){return rn.fromServerFormat(n.fieldPath)}function xA(n){return n instanceof Ve?(function(e){if(e.op==="=="){if(hT(e.value))return{unaryFilter:{field:Xo(e.field),op:"IS_NAN"}};if(uT(e.value))return{unaryFilter:{field:Xo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(hT(e.value))return{unaryFilter:{field:Xo(e.field),op:"IS_NOT_NAN"}};if(uT(e.value))return{unaryFilter:{field:Xo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xo(e.field),op:Fk(e.op),value:e.value}}})(n):n instanceof Si?(function(e){const i=e.getFilters().map((r=>xA(r)));return i.length===1?i[0]:{compositeFilter:{op:Hk(e.op),filters:i}}})(n):St(54877,{filter:n})}function qk(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function RA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class xr{constructor(t,e,i,r,o=At.min(),c=At.min(),h=an.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new xr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Yk{constructor(t){this.yt=t}}function Gk(n){const t=Uk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ey(t,t.limit,"L"):t}class Wk{constructor(){this.Cn=new Kk}addToCollectionParentIndex(t,e){return this.Cn.add(e),st.resolve()}getCollectionParents(t,e){return st.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return st.resolve()}deleteFieldIndex(t,e){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,e){return st.resolve()}getDocumentsMatchingTarget(t,e){return st.resolve(null)}getIndexType(t,e){return st.resolve(0)}getFieldIndexes(t,e){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,e){return st.resolve(zr.min())}getMinOffsetFromCollectionGroup(t,e){return st.resolve(zr.min())}updateCollectionGroup(t,e,i){return st.resolve()}updateIndexEntries(t,e){return st.resolve()}}class Kk{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Ye(le.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ye(le.comparator)).toArray()}}const AT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CA=41943040;class An{static withCacheSize(t){return new An(t,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(CA,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class ul{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ul(0)}static cr(){return new ul(-1)}}const xT="LruGarbageCollector",IA=1048576;function RT([n,t],[e,i]){const r=zt(n,e);return r===0?zt(t,i):r}class Qk{constructor(t){this.Ir=t,this.buffer=new Ye(RT),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();RT(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Xk{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ft(xT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Tl(e)?ft(xT,"Ignoring IndexedDB error during garbage collection: ",e):await El(e)}await this.Vr(3e5)}))}}class $k{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return st.resolve(Ld.ce);const i=new Qk(e);return this.mr.forEachTarget(t,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(t,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(AT)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AT):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,r,o,c,h,f,d;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),r=this.params.maximumSequenceNumbersToCollect):r=_,c=Date.now(),this.nthSequenceNumber(t,r)))).next((_=>(i=_,h=Date.now(),this.removeTargets(t,i,e)))).next((_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((_=>(d=Date.now(),Ko()<=Lt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(d-f)+`ms
Total Duration: ${d-y}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:_}))))}}function Jk(n,t){return new $k(n,t)}class Zk{constructor(){this.changes=new Xa((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,un.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?st.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class tN{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class eN{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&iu(i.mutation,r,zn.empty(),fe.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Ut()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Ut()){const r=ka();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((o=>{let c=Yc();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const i=ka();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Ut())))}populateOverlays(t,e,i){const r=[];return i.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,i,r){let o=zs();const c=nu(),h=(function(){return nu()})();return e.forEach(((f,d)=>{const y=i.get(d.key);r.has(d.key)&&(y===void 0||y.mutation instanceof Qr)?o=o.insert(d.key,d):y!==void 0?(c.set(d.key,y.mutation.getFieldMask()),iu(y.mutation,d,y.mutation.getFieldMask(),fe.now())):c.set(d.key,zn.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((d,y)=>c.set(d,y))),e.forEach(((d,y)=>h.set(d,new tN(y,c.get(d)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=nu();let r=new ye(((c,h)=>c-h)),o=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((f=>{const d=e.get(f);if(d===null)return;let y=i.get(f)||zn.empty();y=h.applyToLocalView(d,y),i.set(f,y);const _=(r.get(h.batchId)||Ut()).add(f);r=r.insert(h.batchId,_)}))})).next((()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,y=f.value,_=uA();y.forEach((E=>{if(!o.has(E)){const S=pA(e.get(E),i.get(E));S!==null&&_.set(E,S),o=o.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(t,d,_))}return st.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return(function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):rA(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):st.resolve(ka());let h=du,f=o;return c.next((d=>st.forEach(d,((y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(y)?st.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{f=f.insert(y,E)}))))).next((()=>this.populateOverlays(t,d,o))).next((()=>this.computeViews(t,f,d,Ut()))).next((y=>({batchId:h,changes:cA(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new yt(e)).next((i=>{let r=Yc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let c=Yc();return this.indexManager.getCollectionParents(t,o).next((h=>st.forEach(h,(f=>{const d=(function(_,E){return new Sl(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,i,r).next((y=>{y.forEach(((_,E)=>{c=c.insert(_,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r)))).next((c=>{o.forEach(((f,d)=>{const y=d.getKey();c.get(y)===null&&(c=c.insert(y,un.newInvalidDocument(y)))}));let h=Yc();return c.forEach(((f,d)=>{const y=o.get(f);y!==void 0&&iu(y.mutation,d,zn.empty(),fe.now()),jd(e,d)&&(h=h.insert(f,d))})),h}))}}class nN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return st.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:ts(r.createTime)}})(e)),st.resolve()}getNamedQuery(t,e){return st.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(r){return{name:r.name,query:Gk(r.bundledQuery),readTime:ts(r.readTime)}})(e)),st.resolve()}}class iN{constructor(){this.overlays=new ye(yt.comparator),this.qr=new Map}getOverlay(t,e){return st.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ka();return st.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,o)=>{this.St(t,e,o)})),st.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),st.resolve()}getOverlaysForCollection(t,e,i){const r=ka(),o=e.length+1,c=new yt(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return st.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new ye(((d,y)=>d-y));const c=this.overlays.getIterator();for(;c.hasNext();){const d=c.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let y=o.get(d.largestBatchId);y===null&&(y=ka(),o=o.insert(d.largestBatchId,y)),y.set(d.getKey(),d)}}const h=ka(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,y)=>h.set(d,y))),!(h.size()>=r)););return st.resolve(h)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Tk(e,i));let o=this.qr.get(e);o===void 0&&(o=Ut(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}class sN{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,st.resolve()}}class Xy{constructor(){this.Qr=new Ye(Xe.$r),this.Ur=new Ye(Xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new Xe(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new Xe(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new yt(new le([])),i=new Xe(e,t),r=new Xe(e,t+1),o=[];return this.Ur.forEachInRange([i,r],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new yt(new le([])),i=new Xe(e,t),r=new Xe(e,t+1);let o=Ut();return this.Ur.forEachInRange([i,r],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new Xe(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Xe{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return yt.comparator(t.key,e.key)||zt(t.Yr,e.Yr)}static Kr(t,e){return zt(t.Yr,e.Yr)||yt.comparator(t.key,e.key)}}class rN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Ye(Xe.$r)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Ek(o,e,i,r);this.mutationQueue.push(c);for(const h of r)this.Zr=this.Zr.add(new Xe(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return st.resolve(c)}lookupMutationBatch(t,e){return st.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ei(i),o=r<0?0:r;return st.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?Uy:this.tr-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Xe(e,0),r=new Xe(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],(c=>{const h=this.Xr(c.Yr);o.push(h)})),st.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ye(zt);return e.forEach((r=>{const o=new Xe(r,0),c=new Xe(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{i=i.add(h.Yr)}))})),st.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;yt.isDocumentKey(o)||(o=o.child(""));const c=new Xe(new yt(o),0);let h=new Ye(zt);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(h=h.add(f.Yr)),!0)}),c),st.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((i=>{const r=this.Xr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){Qt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return st.forEach(e.mutations,(r=>{const o=new Xe(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new Xe(e,0),r=this.Zr.firstAfterOrEqual(i);return st.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class aN{constructor(t){this.ri=t,this.docs=(function(){return new ye(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return st.resolve(i?i.document.mutableCopy():un.newInvalidDocument(e))}getEntries(t,e){let i=zs();return e.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():un.newInvalidDocument(r))})),st.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=zs();const c=e.path,h=new yt(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:y}}=f.getNext();if(!c.isPrefixOf(d.path))break;d.path.length>c.length+1||P4(N4(y),i)<=0||(r.has(y.key)||jd(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return st.resolve(o)}getAllFromCollectionGroup(t,e,i,r){St(9500)}ii(t,e){return st.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new oN(this)}getSize(t){return st.resolve(this.size)}}class oN extends Zk{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)})),st.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class lN{constructor(t){this.persistence=t,this.si=new Xa((e=>Fy(e)),Hy),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Xy,this.targetCount=0,this.ai=ul.ur()}forEachTarget(t,e){return this.si.forEach(((i,r)=>e(r))),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),st.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new ul(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,st.resolve()}updateTargetData(t,e){return this.Pr(e),st.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)})),st.waitFor(o).next((()=>r))}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return st.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),st.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((c=>{o.push(r.markPotentiallyOrphaned(t,c))})),st.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),st.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return st.resolve(i)}containsKey(t,e){return st.resolve(this._i.containsKey(e))}}class MA{constructor(t,e){this.ui={},this.overlays={},this.ci=new Ld(0),this.li=!1,this.li=!0,this.hi=new sN,this.referenceDelegate=t(this),this.Pi=new lN(this),this.indexManager=new Wk,this.remoteDocumentCache=(function(r){return new aN(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new Yk(e),this.Ii=new nN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new iN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new rN(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){ft("MemoryPersistence","Starting transaction:",t);const r=new cN(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(t,e){return st.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class cN extends L4{constructor(t){super(),this.currentSequenceNumber=t}}class $y{constructor(t){this.persistence=t,this.Ri=new Xy,this.Vi=null}static mi(t){return new $y(t)}get fi(){if(this.Vi)return this.Vi;throw St(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),st.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),st.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),st.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.fi,(i=>{const r=yt.fromPath(i);return this.gi(t,r).next((o=>{o||e.removeEntry(r,At.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return st.or([()=>st.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class dd{constructor(t,e){this.persistence=t,this.pi=new Xa((i=>B4(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=Jk(this,e)}static mi(t,e){return new dd(t,e)}Ei(){}di(t){return st.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return st.forEach(this.pi,((i,r)=>this.br(t,i,r).next((o=>o?st.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(t,(c=>this.br(t,c,e).next((h=>{h||(i++,o.removeEntry(c,At.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),st.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),st.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),st.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Gf(t.data.value)),e}br(t,e,i){return st.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return st.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Jy{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=r}static As(t,e){let i=Ut(),r=Ut();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Jy(t,e.fromCache,i,r)}}class uN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class hN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return jI()?8:z4(fn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ys(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(t,e,r,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new uN;return this.Ss(t,e,c).next((h=>{if(o.result=h,this.Vs)return this.bs(t,e,c,h.size)}))})).next((()=>o.result))}bs(t,e,i,r){return i.documentReadCount<this.fs?(Ko()<=Lt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",Qo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),st.resolve()):(Ko()<=Lt.DEBUG&&ft("QueryEngine","Query:",Qo(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(Ko()<=Lt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",Qo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Zi(e))):st.resolve())}ys(t,e){if(gT(e))return st.resolve(null);let i=Zi(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=ey(e,null,"F"),i=Zi(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const c=Ut(...o);return this.ps.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,i).next((f=>{const d=this.Ds(e,h);return this.Cs(e,d,c,f.readTime)?this.ys(t,ey(e,null,"F")):this.vs(t,d,e,f)}))))})))))}ws(t,e,i,r){return gT(e)||r.isEqual(At.min())?st.resolve(null):this.ps.getDocuments(t,i).next((o=>{const c=this.Ds(e,o);return this.Cs(e,c,i,r)?st.resolve(null):(Ko()<=Lt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Qo(e)),this.vs(t,c,e,k4(r,du)).next((h=>h)))}))}Ds(t,e){let i=new Ye(oA(t));return e.forEach(((r,o)=>{jd(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(t,e,i){return Ko()<=Lt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",Qo(e)),this.ps.getDocumentsMatchingQuery(t,e,zr.min(),i)}vs(t,e,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const Zy="LocalStore",fN=3e8;class dN{constructor(t,e,i,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new ye(zt),this.xs=new Xa((o=>Fy(o)),Hy),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new eN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function mN(n,t,e,i){return new dN(n,t,e,i)}async function DA(n,t){const e=Rt(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let f=Ut();for(const d of r){c.push(d.batchId);for(const y of d.mutations)f=f.add(y.key)}for(const d of o){h.push(d.batchId);for(const y of d.mutations)f=f.add(y.key)}return e.localDocuments.getDocuments(i,f).next((d=>({Ls:d,removedBatchIds:c,addedBatchIds:h})))}))}))}function gN(n,t){const e=Rt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,d,y){const _=d.batch,E=_.keys();let S=st.resolve();return E.forEach((R=>{S=S.next((()=>y.getEntry(f,R))).next((A=>{const I=d.docVersions.get(R);Qt(I!==null,48541),A.version.compareTo(I)<0&&(_.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),y.addEntry(A)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(f,_)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=Ut();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function OA(n){const t=Rt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function pN(n,t){const e=Rt(n),i=t.snapshotVersion;let r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;const h=[];t.targetChanges.forEach(((y,_)=>{const E=r.get(_);if(!E)return;h.push(e.Pi.removeMatchingKeys(o,y.removedDocuments,_).next((()=>e.Pi.addMatchingKeys(o,y.addedDocuments,_))));let S=E.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(_)!==null?S=S.withResumeToken(an.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,i)),r=r.insert(_,S),(function(A,I,V){return A.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=fN?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(E,S,y)&&h.push(e.Pi.updateTargetData(o,S))}));let f=zs(),d=Ut();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(yN(o,c,t.documentUpdates).next((y=>{f=y.ks,d=y.qs}))),!i.isEqual(At.min())){const y=e.Pi.getLastRemoteSnapshotVersion(o).next((_=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(y)}return st.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(e.Ms=r,o)))}function yN(n,t,e){let i=Ut(),r=Ut();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let c=zs();return e.forEach(((h,f)=>{const d=o.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(At.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):ft(Zy,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)})),{ks:c,qs:r}}))}function _N(n,t){const e=Rt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=Uy),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function vN(n,t){const e=Rt(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.Pi.getTargetData(i,t).next((o=>o?(r=o,st.resolve(r)):e.Pi.allocateTargetId(i).next((c=>(r=new xr(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function ay(n,t,e){const i=Rt(n),r=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Tl(c))throw c;ft(Zy,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function CT(n,t,e){const i=Rt(n);let r=At.min(),o=Ut();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,d,y){const _=Rt(f),E=_.xs.get(y);return E!==void 0?st.resolve(_.Ms.get(E)):_.Pi.getTargetData(d,y)})(i,c,Zi(t)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,e?r:At.min(),e?o:Ut()))).next((h=>(bN(i,rk(t),h),{documents:h,Qs:o})))))}function bN(n,t,e){let i=n.Os.get(t)||At.min();e.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class IT{constructor(){this.activeTargetIds=hk()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class EN{constructor(){this.Mo=new IT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new IT,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class TN{Oo(t){}shutdown(){}}const MT="ConnectivityMonitor";class DT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(MT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ft(MT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Sf=null;function oy(){return Sf===null?Sf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sf++,"0x"+Sf.toString(16)}const Ep="RestConnection",SN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===ld?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,e,i,r,o){const c=oy(),h=this.zo(t,e.toUriEncodedString());ft(Ep,`Sending RPC '${t}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,r,o);const{host:d}=new URL(h),y=yl(d);return this.Jo(t,h,f,i,y).then((_=>(ft(Ep,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw fu(Ep,`RPC '${t}' ${c} failed with error: `,_,"url: ",h,"request:",i),_}))}Ho(t,e,i,r,o,c){return this.Go(t,e,i,r,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,o)=>t[o]=r)),i&&i.headers.forEach(((r,o)=>t[o]=r))}zo(t,e){const i=SN[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}class AN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const ln="WebChannelConnection";class xN extends wN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,o){const c=oy();return new Promise(((h,f)=>{const d=new Pw;d.setWithCredentials(!0),d.listenOnce(Vw.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Yf.NO_ERROR:const _=d.getResponseJson();ft(ln,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),h(_);break;case Yf.TIMEOUT:ft(ln,`RPC '${t}' ${c} timed out`),f(new ht(nt.DEADLINE_EXCEEDED,"Request time out"));break;case Yf.HTTP_ERROR:const E=d.getStatus();if(ft(ln,`RPC '${t}' ${c} failed with status:`,E,"response text:",d.getResponseText()),E>0){let S=d.getResponseJson();Array.isArray(S)&&(S=S[0]);const R=S?.error;if(R&&R.status&&R.message){const A=(function(V){const B=V.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(B)>=0?B:nt.UNKNOWN})(R.status);f(new ht(A,R.message))}else f(new ht(nt.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new ht(nt.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:t,streamId:c,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ft(ln,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(r);ft(ln,`RPC '${t}' ${c} sending request:`,r),d.send(e,"POST",y,i,15)}))}T_(t,e,i){const r=oy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=Uw(),h=zw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const y=o.join("");ft(ln,`Creating RPC '${t}' stream ${r}: ${y}`,f);const _=c.createWebChannel(y,f);this.I_(_);let E=!1,S=!1;const R=new AN({Yo:I=>{S?ft(ln,`Not sending because RPC '${t}' stream ${r} is closed:`,I):(E||(ft(ln,`Opening RPC '${t}' stream ${r} transport.`),_.open(),E=!0),ft(ln,`RPC '${t}' stream ${r} sending:`,I),_.send(I))},Zo:()=>_.close()}),A=(I,V,B)=>{I.listen(V,(W=>{try{B(W)}catch(rt){setTimeout((()=>{throw rt}),0)}}))};return A(_,qc.EventType.OPEN,(()=>{S||(ft(ln,`RPC '${t}' stream ${r} transport opened.`),R.o_())})),A(_,qc.EventType.CLOSE,(()=>{S||(S=!0,ft(ln,`RPC '${t}' stream ${r} transport closed`),R.a_(),this.E_(_))})),A(_,qc.EventType.ERROR,(I=>{S||(S=!0,fu(ln,`RPC '${t}' stream ${r} transport errored. Name:`,I.name,"Message:",I.message),R.a_(new ht(nt.UNAVAILABLE,"The operation could not be completed")))})),A(_,qc.EventType.MESSAGE,(I=>{if(!S){const V=I.data[0];Qt(!!V,16349);const B=V,W=B?.error||B[0]?.error;if(W){ft(ln,`RPC '${t}' stream ${r} received error:`,W);const rt=W.status;let et=(function(C){const D=Pe[C];if(D!==void 0)return _A(D)})(rt),ot=W.message;et===void 0&&(et=nt.INTERNAL,ot="Unknown error status: "+rt+" with message "+W.message),S=!0,R.a_(new ht(et,ot)),_.close()}else ft(ln,`RPC '${t}' stream ${r} received:`,V),R.u_(V)}})),A(h,Lw.STAT_EVENT,(I=>{I.stat===Kp.PROXY?ft(ln,`RPC '${t}' stream ${r} detected buffering proxy`):I.stat===Kp.NOPROXY&&ft(ln,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Tp(){return typeof document<"u"?document:null}function Yd(n){return new Dk(n,!0)}class kA{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&ft("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const OT="PersistentStream";class NA{constructor(t,e,i,r,o,c,h,f){this.Mi=t,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kA(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===nt.RESOURCE_EXHAUSTED?(Ls(e.toString()),Ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===e&&this.G_(i,r)}),(i=>{t((()=>{const r=new ht(nt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ft(OT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(ft(OT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RN extends NA{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=Nk(this.serializer,t),i=(function(o){if(!("targetChange"in o))return At.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?At.min():c.readTime?ts(c.readTime):At.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=ry(this.serializer),e.addTarget=(function(o,c){let h;const f=c.target;if(h=Zp(f)?{documents:Lk(o,f)}:{query:zk(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=EA(o,c.resumeToken);const d=ny(o,c.expectedCount);d!==null&&(h.expectedCount=d)}else if(c.snapshotVersion.compareTo(At.min())>0){h.readTime=fd(o,c.snapshotVersion.toTimestamp());const d=ny(o,c.expectedCount);d!==null&&(h.expectedCount=d)}return h})(this.serializer,t);const i=Bk(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=ry(this.serializer),e.removeTarget=t,this.q_(e)}}class CN extends NA{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=Vk(t.writeResults,t.commitTime),i=ts(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=ry(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>Pk(this.serializer,i)))};this.q_(e)}}class IN{}class MN extends IN{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new ht(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(t,iy(e,i),r,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ht(nt.UNKNOWN,o.toString())}))}Ho(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(t,iy(e,i),r,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(nt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class DN{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ls(e),this.aa=!1):ft("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ya="RemoteStore";class ON{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{$a(this)&&(ft(Ya,"Restarting streams for network reachability change."),await(async function(f){const d=Rt(f);d.Ea.add(4),await Lu(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Gd(d)})(this))}))})),this.Ra=new DN(i,r)}}async function Gd(n){if($a(n))for(const t of n.da)await t(!0)}async function Lu(n){for(const t of n.da)await t(!1)}function PA(n,t){const e=Rt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),i_(e)?n_(e):wl(e).O_()&&e_(e,t))}function t_(n,t){const e=Rt(n),i=wl(e);e.Ia.delete(t),i.O_()&&VA(e,t),e.Ia.size===0&&(i.O_()?i.L_():$a(e)&&e.Ra.set("Unknown"))}function e_(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}wl(n).Y_(t)}function VA(n,t){n.Va.Ue(t),wl(n).Z_(t)}function n_(n){n.Va=new Rk({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),wl(n).start(),n.Ra.ua()}function i_(n){return $a(n)&&!wl(n).x_()&&n.Ia.size>0}function $a(n){return Rt(n).Ea.size===0}function LA(n){n.Va=void 0}async function kN(n){n.Ra.set("Online")}async function NN(n){n.Ia.forEach(((t,e)=>{e_(n,t)}))}async function PN(n,t){LA(n),i_(n)?(n.Ra.ha(t),n_(n)):n.Ra.set("Unknown")}async function VN(n,t,e){if(n.Ra.set("Online"),t instanceof bA&&t.state===2&&t.cause)try{await(async function(r,o){const c=o.cause;for(const h of o.targetIds)r.Ia.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.Ia.delete(h),r.Va.removeTarget(h))})(n,t)}catch(i){ft(Ya,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await md(n,i)}else if(t instanceof Qf?n.Va.Ze(t):t instanceof vA?n.Va.st(t):n.Va.tt(t),!e.isEqual(At.min()))try{const i=await OA(n.localStore);e.compareTo(i)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Ia.get(d);y&&o.Ia.set(d,y.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,d)=>{const y=o.Ia.get(f);if(!y)return;o.Ia.set(f,y.withResumeToken(an.EMPTY_BYTE_STRING,y.snapshotVersion)),VA(o,f);const _=new xr(y.target,f,d,y.sequenceNumber);e_(o,_)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){ft(Ya,"Failed to raise snapshot:",i),await md(n,i)}}async function md(n,t,e){if(!Tl(t))throw t;n.Ea.add(1),await Lu(n),n.Ra.set("Offline"),e||(e=()=>OA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ft(Ya,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Gd(n)}))}function zA(n,t){return t().catch((e=>md(n,e,t)))}async function Wd(n){const t=Rt(n),e=Fr(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Uy;for(;LN(t);)try{const r=await _N(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,zN(t,r)}catch(r){await md(t,r)}UA(t)&&BA(t)}function LN(n){return $a(n)&&n.Ta.length<10}function zN(n,t){n.Ta.push(t);const e=Fr(n);e.O_()&&e.X_&&e.ea(t.mutations)}function UA(n){return $a(n)&&!Fr(n).x_()&&n.Ta.length>0}function BA(n){Fr(n).start()}async function UN(n){Fr(n).ra()}async function BN(n){const t=Fr(n);for(const e of n.Ta)t.ea(e.mutations)}async function jN(n,t,e){const i=n.Ta.shift(),r=Wy.from(i,t,e);await zA(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await Wd(n)}async function FN(n,t){t&&Fr(n).X_&&await(async function(i,r){if((function(c){return wk(c)&&c!==nt.ABORTED})(r.code)){const o=i.Ta.shift();Fr(i).B_(),await zA(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await Wd(i)}})(n,t),UA(n)&&BA(n)}async function kT(n,t){const e=Rt(n);e.asyncQueue.verifyOperationInProgress(),ft(Ya,"RemoteStore received new credentials");const i=$a(e);e.Ea.add(3),await Lu(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Gd(e)}async function HN(n,t){const e=Rt(n);t?(e.Ea.delete(2),await Gd(e)):t||(e.Ea.add(2),await Lu(e),e.Ra.set("Unknown"))}function wl(n){return n.ma||(n.ma=(function(e,i,r){const o=Rt(e);return o.sa(),new RN(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:kN.bind(null,n),t_:NN.bind(null,n),r_:PN.bind(null,n),H_:VN.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),i_(n)?n_(n):n.Ra.set("Unknown")):(await n.ma.stop(),LA(n))}))),n.ma}function Fr(n){return n.fa||(n.fa=(function(e,i,r){const o=Rt(e);return o.sa(),new CN(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:UN.bind(null,n),r_:FN.bind(null,n),ta:BN.bind(null,n),na:jN.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await Wd(n)):(await n.fa.stop(),n.Ta.length>0&&(ft(Ya,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class s_{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Va,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new s_(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function r_(n,t){if(Ls("AsyncQueue",`${t}: ${n}`),Tl(n))return new ht(nt.UNAVAILABLE,`${t}: ${n}`);throw n}class nl{static emptySet(t){return new nl(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||yt.comparator(e.key,i.key):(e,i)=>yt.comparator(e.key,i.key),this.keyedMap=Yc(),this.sortedSet=new ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof nl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new nl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class NT{constructor(){this.ga=new ye(yt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):St(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class hl{constructor(t,e,i,r,o,c,h,f,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new hl(t,e,nl.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Bd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class qN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class YN{constructor(){this.queries=PT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=Rt(e),o=r.queries;r.queries=PT(),o.forEach(((c,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new ht(nt.ABORTED,"Firestore shutting down"))}}function PT(){return new Xa((n=>aA(n)),Bd)}async function GN(n,t){const e=Rt(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.ba()&&t.Da()&&(i=2):(o=new qN,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(c){const h=r_(c,`Initialization of query '${Qo(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&a_(e)}async function WN(n,t){const e=Rt(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const c=o.Sa.indexOf(t);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?r=t.Da()?0:1:!o.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function KN(n,t){const e=Rt(n);let i=!1;for(const r of t){const o=r.query,c=e.queries.get(o);if(c){for(const h of c.Sa)h.Fa(r)&&(i=!0);c.wa=r}}i&&a_(e)}function QN(n,t,e){const i=Rt(n),r=i.queries.get(t);if(r)for(const o of r.Sa)o.onError(e);i.queries.delete(t)}function a_(n){n.Ca.forEach((t=>{t.next()}))}var ly,VT;(VT=ly||(ly={})).Ma="default",VT.Cache="cache";class XN{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new hl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=hl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ly.Cache}}class jA{constructor(t){this.key=t}}class FA{constructor(t){this.key=t}}class $N{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=oA(t),this.tu=new nl(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new NT,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((y,_)=>{const E=r.get(y),S=jd(this.query,_)?_:null,R=!!E&&this.mutatedKeys.has(E.key),A=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let I=!1;E&&S?E.data.isEqual(S.data)?R!==A&&(i.track({type:3,doc:S}),I=!0):this.su(E,S)||(i.track({type:2,doc:S}),I=!0,(f&&this.eu(S,f)>0||d&&this.eu(S,d)<0)&&(h=!0)):!E&&S?(i.track({type:0,doc:S}),I=!0):E&&!S&&(i.track({type:1,doc:E}),I=!0,(f||d)&&(h=!0)),I&&(S?(c=c.add(S),o=A?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Cs:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(S,R){const A=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Rt:I})}};return A(S)-A(R)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(i),r=r??!1;const h=e&&!r?this._u():[],f=this.Xa.size===0&&this.current&&!r?1:0,d=f!==this.Za;return this.Za=f,c.length!==0||d?{snapshot:new hl(this.query,t.tu,o,c,t.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new NT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new FA(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new jA(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=Ut();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return hl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const o_="SyncEngine";class JN{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class ZN{constructor(t){this.key=t,this.hu=!1}}class tP{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Xa((h=>aA(h)),Bd),this.Iu=new Map,this.Eu=new Set,this.du=new ye(yt.comparator),this.Au=new Map,this.Ru=new Xy,this.Vu={},this.mu=new Map,this.fu=ul.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eP(n,t,e=!0){const i=KA(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await HA(i,t,e,!0),r}async function nP(n,t){const e=KA(n);await HA(e,t,!0,!1)}async function HA(n,t,e,i){const r=await vN(n.localStore,Zi(t)),o=r.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await iP(n,t,o,c==="current",r.resumeToken)),n.isPrimaryClient&&e&&PA(n.remoteStore,r),h}async function iP(n,t,e,i,r){n.pu=(_,E,S)=>(async function(A,I,V,B){let W=I.view.ru(V);W.Cs&&(W=await CT(A.localStore,I.query,!1).then((({documents:M})=>I.view.ru(M,W))));const rt=B&&B.targetChanges.get(I.targetId),et=B&&B.targetMismatches.get(I.targetId)!=null,ot=I.view.applyChanges(W,A.isPrimaryClient,rt,et);return zT(A,I.targetId,ot.au),ot.snapshot})(n,_,E,S);const o=await CT(n.localStore,t,!0),c=new $N(t,o.Qs),h=c.ru(o.documents),f=Vu.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),d=c.applyChanges(h,n.isPrimaryClient,f);zT(n,e,d.au);const y=new JN(t,e,c);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),d.snapshot}async function sP(n,t,e){const i=Rt(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((c=>!Bd(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await ay(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&t_(i.remoteStore,r.targetId),cy(i,r.targetId)})).catch(El)):(cy(i,r.targetId),await ay(i.localStore,r.targetId,!0))}async function rP(n,t){const e=Rt(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),t_(e.remoteStore,i.targetId))}async function aP(n,t,e){const i=dP(n);try{const r=await(function(c,h){const f=Rt(c),d=fe.now(),y=h.reduce(((S,R)=>S.add(R.key)),Ut());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let R=zs(),A=Ut();return f.Ns.getEntries(S,y).next((I=>{R=I,R.forEach(((V,B)=>{B.isValidDocument()||(A=A.add(V))}))})).next((()=>f.localDocuments.getOverlayedDocuments(S,R))).next((I=>{_=I;const V=[];for(const B of h){const W=vk(B,_.get(B.key).overlayedDocument);W!=null&&V.push(new Qr(B.key,W,Jw(W.value.mapValue),Ei.exists(!0)))}return f.mutationQueue.addMutationBatch(S,d,V,h)})).next((I=>{E=I;const V=I.applyToLocalDocumentSet(_,A);return f.documentOverlayCache.saveOverlays(S,I.batchId,V)}))})).then((()=>({batchId:E.batchId,changes:cA(_)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(c,h,f){let d=c.Vu[c.currentUser.toKey()];d||(d=new ye(zt)),d=d.insert(h,f),c.Vu[c.currentUser.toKey()]=d})(i,r.batchId,e),await zu(i,r.changes),await Wd(i.remoteStore)}catch(r){const o=r_(r,"Failed to persist write");e.reject(o)}}async function qA(n,t){const e=Rt(n);try{const i=await pN(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const c=e.Au.get(o);c&&(Qt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.hu=!0:r.modifiedDocuments.size>0?Qt(c.hu,14607):r.removedDocuments.size>0&&(Qt(c.hu,42227),c.hu=!1))})),await zu(e,i,t)}catch(i){await El(i)}}function LT(n,t,e){const i=Rt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach(((o,c)=>{const h=c.view.va(t);h.snapshot&&r.push(h.snapshot)})),(function(c,h){const f=Rt(c);f.onlineState=h;let d=!1;f.queries.forEach(((y,_)=>{for(const E of _.Sa)E.va(h)&&(d=!0)})),d&&a_(f)})(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function oP(n,t,e){const i=Rt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let c=new ye(yt.comparator);c=c.insert(o,un.newNoDocument(o,At.min()));const h=Ut().add(o),f=new qd(At.min(),new Map,new ye(zt),c,h);await qA(i,f),i.du=i.du.remove(o),i.Au.delete(t),l_(i)}else await ay(i.localStore,t,!1).then((()=>cy(i,t,e))).catch(El)}async function lP(n,t){const e=Rt(n),i=t.batch.batchId;try{const r=await gN(e.localStore,t);GA(e,i,null),YA(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await zu(e,r)}catch(r){await El(r)}}async function cP(n,t,e){const i=Rt(n);try{const r=await(function(c,h){const f=Rt(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let y;return f.mutationQueue.lookupMutationBatch(d,h).next((_=>(Qt(_!==null,37113),y=_.keys(),f.mutationQueue.removeMutationBatch(d,_)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,y))).next((()=>f.localDocuments.getDocuments(d,y)))}))})(i.localStore,t);GA(i,t,e),YA(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await zu(i,r)}catch(r){await El(r)}}function YA(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function GA(n,t,e){const i=Rt(n);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function cy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||WA(n,i)}))}function WA(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(t_(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),l_(n))}function zT(n,t,e){for(const i of e)i instanceof jA?(n.Ru.addReference(i.key,t),uP(n,i)):i instanceof FA?(ft(o_,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||WA(n,i.key)):St(19791,{wu:i})}function uP(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(ft(o_,"New document in limbo: "+e),n.Eu.add(i),l_(n))}function l_(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new yt(le.fromString(t)),i=n.fu.next();n.Au.set(i,new ZN(e)),n.du=n.du.insert(e,i),PA(n.remoteStore,new xr(Zi(qy(e.path)),i,"TargetPurposeLimboResolution",Ld.ce))}}async function zu(n,t,e){const i=Rt(n),r=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{c.push(i.pu(f,t,e).then((d=>{if((d||e)&&i.isPrimaryClient){const y=d?!d.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(d){r.push(d);const y=Jy.As(f.targetId,d);o.push(y)}})))})),await Promise.all(c),i.Pu.H_(r),await(async function(f,d){const y=Rt(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>st.forEach(d,(E=>st.forEach(E.Es,(S=>y.persistence.referenceDelegate.addReference(_,E.targetId,S))).next((()=>st.forEach(E.ds,(S=>y.persistence.referenceDelegate.removeReference(_,E.targetId,S)))))))))}catch(_){if(!Tl(_))throw _;ft(Zy,"Failed to update sequence numbers: "+_)}for(const _ of d){const E=_.targetId;if(!_.fromCache){const S=y.Ms.get(E),R=S.snapshotVersion,A=S.withLastLimboFreeSnapshotVersion(R);y.Ms=y.Ms.insert(E,A)}}})(i.localStore,o))}async function hP(n,t){const e=Rt(n);if(!e.currentUser.isEqual(t)){ft(o_,"User change. New user:",t.toKey());const i=await DA(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new ht(nt.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await zu(e,i.Ls)}}function fP(n,t){const e=Rt(n),i=e.Au.get(t);if(i&&i.hu)return Ut().add(i.key);{let r=Ut();const o=e.Iu.get(t);if(!o)return r;for(const c of o){const h=e.Tu.get(c);r=r.unionWith(h.view.nu)}return r}}function KA(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=qA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oP.bind(null,t),t.Pu.H_=KN.bind(null,t.eventManager),t.Pu.yu=QN.bind(null,t.eventManager),t}function dP(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lP.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cP.bind(null,t),t}class gd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Yd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return mN(this.persistence,new hN,t.initialUser,this.serializer)}Cu(t){return new MA($y.mi,this.serializer)}Du(t){return new EN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gd.provider={build:()=>new gd};class mP extends gd{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Qt(this.persistence.referenceDelegate instanceof dd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Xk(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new MA((i=>dd.mi(i,e)),this.serializer)}}class uy{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>LT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=hP.bind(null,this.syncEngine),await HN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new YN})()}createDatastore(t){const e=Yd(t.databaseInfo.databaseId),i=(function(o){return new xN(o)})(t.databaseInfo);return(function(o,c,h,f){return new MN(o,c,h,f)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,o,c,h){return new ON(i,r,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>LT(this.syncEngine,e,0)),(function(){return DT.v()?new DT:new TN})())}createSyncEngine(t,e){return(function(r,o,c,h,f,d,y){const _=new tP(r,o,c,h,f,d);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=Rt(e);ft(Ya,"RemoteStore shutting down."),i.Ea.add(5),await Lu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}uy.provider={build:()=>new uy};class gP{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ls("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Hr="FirestoreClient";class pP{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=wn.UNAUTHENTICATED,this.clientId=zy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{ft(Hr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ft(Hr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Va;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=r_(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Sp(n,t){n.asyncQueue.verifyOperationInProgress(),ft(Hr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await DA(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function UT(n,t){n.asyncQueue.verifyOperationInProgress();const e=await yP(n);ft(Hr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>kT(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>kT(t.remoteStore,r))),n._onlineComponents=t}async function yP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ft(Hr,"Using user provided OfflineComponentProvider");try{await Sp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===nt.FAILED_PRECONDITION||r.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;fu("Error using user provided cache. Falling back to memory cache: "+e),await Sp(n,new gd)}}else ft(Hr,"Using default OfflineComponentProvider"),await Sp(n,new mP(void 0));return n._offlineComponents}async function QA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ft(Hr,"Using user provided OnlineComponentProvider"),await UT(n,n._uninitializedComponentsProvider._online)):(ft(Hr,"Using default OnlineComponentProvider"),await UT(n,new uy))),n._onlineComponents}function _P(n){return QA(n).then((t=>t.syncEngine))}async function BT(n){const t=await QA(n),e=t.eventManager;return e.onListen=eP.bind(null,t.syncEngine),e.onUnlisten=sP.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=nP.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=rP.bind(null,t.syncEngine),e}function XA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const jT=new Map;const vP="firestore.googleapis.com",FT=!0;class HT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vP,this.ssl=FT}else this.host=t.host,this.ssl=t.ssl??FT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=CA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<IA)throw new ht(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}O4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XA(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ht(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ht(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ht(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class c_{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new S4;switch(i.type){case"firstParty":return new x4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ht(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=jT.get(e);i&&(ft("ComponentProvider","Removing Datastore"),jT.delete(e),i.terminate())})(this),Promise.resolve()}}class Ja{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ja(this.firestore,t,this._query)}}class ze{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ze(this.firestore,t,this._key)}toJSON(){return{type:ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(Nu(e,ze._jsonSchema))return new ze(t,i||null,new yt(le.fromString(e.referencePath)))}}ze._jsonSchemaVersion="firestore/documentReference/1.0",ze._jsonSchema={type:Le("string",ze._jsonSchemaVersion),referencePath:Le("string")};class Pr extends Ja{constructor(t,e,i){super(t,e,qy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ze(this.firestore,null,new yt(t))}withConverter(t){return new Pr(this.firestore,t,this._path)}}function qT(n,t,...e){if(n=Ge(n),jw("collection","path",t),n instanceof c_){const i=le.fromString(t,...e);return eT(i),new Pr(n,null,i)}{if(!(n instanceof ze||n instanceof Pr))throw new ht(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(le.fromString(t,...e));return eT(i),new Pr(n.firestore,null,i)}}function hy(n,t,...e){if(n=Ge(n),arguments.length===1&&(t=zy.newId()),jw("doc","path",t),n instanceof c_){const i=le.fromString(t,...e);return tT(i),new ze(n,null,new yt(i))}{if(!(n instanceof ze||n instanceof Pr))throw new ht(nt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(le.fromString(t,...e));return tT(i),new ze(n.firestore,n instanceof Pr?n.converter:null,new yt(i))}}const YT="AsyncQueue";class GT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kA(this,"async_queue_retry"),this._c=()=>{const i=Tp();i&&ft(YT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Tp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Tp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Va;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Tl(t))throw t;ft(YT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Ls("INTERNAL UNHANDLED ERROR: ",WT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=s_.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&St(47125,{Pc:WT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function WT(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function KT(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1})(n,["next","error","complete"])}class fl extends c_{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new GT,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new GT(t),this._firestoreClient=void 0,await t}}}function bP(n,t,e){e||(e=ld);const i=Cy(n,"firestore");if(i.isInitialized(e)){const r=i.getImmediate({identifier:e}),o=i.getOptions(e);if(Ba(o,t))return r;throw new ht(nt.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new ht(nt.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<IA)throw new ht(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&yl(t.host)&&GS(t.host),i.initialize({options:t,instanceIdentifier:e})}function $A(n){if(n._terminated)throw new ht(nt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||EP(n),n._firestoreClient}function EP(n){const t=n._freezeSettings(),e=(function(r,o,c,h){return new H4(r,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,XA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new pP(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}class ni{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ni(an.fromBase64String(t))}catch(e){throw new ht(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ni(an.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Nu(t,ni._jsonSchema))return ni.fromBase64String(t.bytes)}}ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:Le("string",ni._jsonSchemaVersion),bytes:Le("string")};class Kd{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ht(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Qd{constructor(t){this._methodName=t}}class es{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ht(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ht(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:es._jsonSchemaVersion}}static fromJSON(t){if(Nu(t,es._jsonSchema))return new es(t.latitude,t.longitude)}}es._jsonSchemaVersion="firestore/geoPoint/1.0",es._jsonSchema={type:Le("string",es._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};class ns{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ns._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Nu(t,ns._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new ns(t.vectorValues);throw new ht(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ns._jsonSchemaVersion="firestore/vectorValue/1.0",ns._jsonSchema={type:Le("string",ns._jsonSchemaVersion),vectorValues:Le("object")};const TP=/^__.*__$/;class SP{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Qr(t,this.data,this.fieldMask,e,this.fieldTransforms):new Pu(t,this.data,e,this.fieldTransforms)}}class JA{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Qr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function ZA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ac:n})}}class u_{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new u_({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return pd(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(ZA(this.Ac)&&TP.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class wP{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Yd(t)}Cc(t,e,i,r=!1){return new u_({Ac:t,methodName:e,Dc:i,path:rn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function h_(n){const t=n._freezeSettings(),e=Yd(n._databaseId);return new wP(n._databaseId,!!t.ignoreUndefinedProperties,e)}function AP(n,t,e,i,r,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,t,e,r);d_("Data must be an object, but it was:",c,i);const h=t2(i,c);let f,d;if(o.merge)f=new zn(c.fieldMask),d=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const E=fy(t,_,e);if(!c.contains(E))throw new ht(nt.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);n2(y,E)||y.push(E)}f=new zn(y),d=c.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,d=c.fieldTransforms;return new SP(new xn(h),f,d)}class Xd extends Qd{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Xd}}class f_ extends Qd{_toFieldTransform(t){return new gk(t.path,new _u)}isEqual(t){return t instanceof f_}}function xP(n,t,e,i){const r=n.Cc(1,t,e);d_("Data must be an object, but it was:",r,i);const o=[],c=xn.empty();Kr(i,((f,d)=>{const y=m_(t,f,e);d=Ge(d);const _=r.yc(y);if(d instanceof Xd)o.push(y);else{const E=Uu(d,_);E!=null&&(o.push(y),c.set(y,E))}}));const h=new zn(o);return new JA(c,h,r.fieldTransforms)}function RP(n,t,e,i,r,o){const c=n.Cc(1,t,e),h=[fy(t,i,e)],f=[r];if(o.length%2!=0)throw new ht(nt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)h.push(fy(t,o[E])),f.push(o[E+1]);const d=[],y=xn.empty();for(let E=h.length-1;E>=0;--E)if(!n2(d,h[E])){const S=h[E];let R=f[E];R=Ge(R);const A=c.yc(S);if(R instanceof Xd)d.push(S);else{const I=Uu(R,A);I!=null&&(d.push(S),y.set(S,I))}}const _=new zn(d);return new JA(y,_,c.fieldTransforms)}function CP(n,t,e,i=!1){return Uu(e,n.Cc(i?4:3,t))}function Uu(n,t){if(e2(n=Ge(n)))return d_("Unsupported field value:",t,n),t2(n,t);if(n instanceof Qd)return(function(i,r){if(!ZA(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,r){const o=[];let c=0;for(const h of i){let f=Uu(h,r.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,t)}return(function(i,r){if((i=Ge(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return fk(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=fe.fromDate(i);return{timestampValue:fd(r.serializer,o)}}if(i instanceof fe){const o=new fe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:fd(r.serializer,o)}}if(i instanceof es)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ni)return{bytesValue:EA(r.serializer,i._byteString)};if(i instanceof ze){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Qy(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof ns)return(function(c,h){return{mapValue:{fields:{[Xw]:{stringValue:$w},[cd]:{arrayValue:{values:c.toArray().map((d=>{if(typeof d!="number")throw h.Sc("VectorValues must only contain numeric values.");return Yy(h.serializer,d)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${Vd(i)}`)})(n,t)}function t2(n,t){const e={};return qw(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Kr(n,((i,r)=>{const o=Uu(r,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function e2(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof fe||n instanceof es||n instanceof ni||n instanceof ze||n instanceof Qd||n instanceof ns)}function d_(n,t,e){if(!e2(e)||!Fw(e)){const i=Vd(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function fy(n,t,e){if((t=Ge(t))instanceof Kd)return t._internalPath;if(typeof t=="string")return m_(n,t);throw pd("Field path arguments must be of type string or ",n,!1,void 0,e)}const IP=new RegExp("[~\\*/\\[\\]]");function m_(n,t,e){if(t.search(IP)>=0)throw pd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Kd(...t.split("."))._internalPath}catch{throw pd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function pd(n,t,e,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new ht(nt.INVALID_ARGUMENT,h+n+f)}function n2(n,t){return n.some((e=>e.isEqual(t)))}class i2{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new MP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field($d("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class MP extends i2{data(){return super.data()}}function $d(n,t){return typeof t=="string"?m_(n,t):t instanceof Kd?t._internalPath:t._delegate._internalPath}function DP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ht(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class g_{}class s2 extends g_{}function OP(n,t,...e){let i=[];t instanceof g_&&i.push(t),i=i.concat(e),(function(o){const c=o.filter((f=>f instanceof p_)).length,h=o.filter((f=>f instanceof Jd)).length;if(c>1||c>0&&h>0)throw new ht(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class Jd extends s2{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Jd(t,e,i)}_apply(t){const e=this._parse(t);return r2(t._query,e),new Ja(t.firestore,t.converter,ty(t._query,e))}_parse(t){const e=h_(t.firestore);return(function(o,c,h,f,d,y,_){let E;if(d.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ht(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){XT(_,y);const R=[];for(const A of _)R.push(QT(f,o,A));E={arrayValue:{values:R}}}else E=QT(f,o,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||XT(_,y),E=CP(h,c,_,y==="in"||y==="not-in");return Ve.create(d,y,E)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function kP(n,t,e){const i=t,r=$d("where",n);return Jd._create(r,i,e)}class p_ extends g_{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new p_(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:Si.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(r,o){let c=r;const h=o.getFlattenedFilters();for(const f of h)r2(c,f),c=ty(c,f)})(t._query,e),new Ja(t.firestore,t.converter,ty(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class y_ extends s2{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new y_(t,e)}_apply(t){const e=(function(r,o,c){if(r.startAt!==null)throw new ht(nt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ht(nt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yu(o,c)})(t._query,this._field,this._direction);return new Ja(t.firestore,t.converter,(function(r,o){const c=r.explicitOrderBy.concat([o]);return new Sl(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(t._query,e))}}function NP(n,t="asc"){const e=t,i=$d("orderBy",n);return y_._create(i,e)}function QT(n,t,e){if(typeof(e=Ge(e))=="string"){if(e==="")throw new ht(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rA(t)&&e.indexOf("/")!==-1)throw new ht(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(le.fromString(e));if(!yt.isDocumentKey(i))throw new ht(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return cT(n,new yt(i))}if(e instanceof ze)return cT(n,e._key);throw new ht(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vd(e)}.`)}function XT(n,t){if(!Array.isArray(n)||n.length===0)throw new ht(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function r2(n,t){const e=(function(r,o){for(const c of r)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ht(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class PP{convertValue(t,e="none"){switch(jr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return we(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Br(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Kr(t,((r,o)=>{i[r]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[cd].arrayValue?.values?.map((i=>we(i.doubleValue)));return new ns(e)}convertGeoPoint(t){return new es(we(t.latitude),we(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Ud(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(mu(t));default:return null}}convertTimestamp(t){const e=Ur(t);return new fe(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=le.fromString(t);Qt(RA(i),9688,{name:t});const r=new gu(i.get(1),i.get(3)),o=new yt(i.popFirst(5));return r.isEqual(e)||Ls(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function VP(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class Wc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class za extends i2{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Xf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field($d("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=za._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}za._jsonSchemaVersion="firestore/documentSnapshot/1.0",za._jsonSchema={type:Le("string",za._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};class Xf extends za{data(t={}){return super.data(t)}}class il{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Wc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new Xf(this._firestore,this._userDataWriter,i.key,i,new Wc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ht(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((h=>{const f=new Xf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Wc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new Xf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Wc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,y=-1;return h.type!==0&&(d=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:LP(h.type),doc:f,oldIndex:d,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=il._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=zy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function LP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:n})}}il._jsonSchemaVersion="firestore/querySnapshot/1.0",il._jsonSchema={type:Le("string",il._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};class a2 extends PP{constructor(t){super(),this.firestore=t}convertBytes(t){return new ni(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ze(this.firestore,null,e)}}function zP(n,t,e,...i){n=La(n,ze);const r=La(n.firestore,fl),o=h_(r);let c;return c=typeof(t=Ge(t))=="string"||t instanceof Kd?RP(o,"updateDoc",n._key,t,e,i):xP(o,"updateDoc",n._key,t),__(r,[c.toMutation(n._key,Ei.exists(!0))])}function UP(n){return __(La(n.firestore,fl),[new Gy(n._key,Ei.none())])}function BP(n,t){const e=La(n.firestore,fl),i=hy(n),r=VP(n.converter,t);return __(e,[AP(h_(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Ei.exists(!1))]).then((()=>i))}function jP(n,...t){n=Ge(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||KT(t[i])||(e=t[i++]);const r={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(KT(t[i])){const f=t[i];t[i]=f.next?.bind(f),t[i+1]=f.error?.bind(f),t[i+2]=f.complete?.bind(f)}let o,c,h;if(n instanceof ze)c=La(n.firestore,fl),h=qy(n._key.path),o={next:f=>{t[i]&&t[i](FP(c,n,f))},error:t[i+1],complete:t[i+2]};else{const f=La(n,Ja);c=La(f.firestore,fl),h=f._query;const d=new a2(c);o={next:y=>{t[i]&&t[i](new il(c,d,f,y))},error:t[i+1],complete:t[i+2]},DP(n._query)}return(function(d,y,_,E){const S=new gP(E),R=new XN(y,S,_);return d.asyncQueue.enqueueAndForget((async()=>GN(await BT(d),R))),()=>{S.Nu(),d.asyncQueue.enqueueAndForget((async()=>WN(await BT(d),R)))}})($A(c),h,r,o)}function __(n,t){return(function(i,r){const o=new Va;return i.asyncQueue.enqueueAndForget((async()=>aP(await _P(i),r,o))),o.promise})($A(n),t)}function FP(n,t,e){const i=e.docs.get(t._key),r=new a2(n);return new za(n,r,t._key,i,new Wc(e.hasPendingWrites,e.fromCache),t.converter)}function $T(){return new f_("serverTimestamp")}(function(t,e=!0){(function(r){bl=r})(_l),al(new ja("firestore",((i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new fl(new w4(i.getProvider("auth-internal")),new R4(c,i.getProvider("app-check-internal")),(function(d,y){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ht(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(d.options.projectId,y)})(c,r),c);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),kr(XE,$E,t),kr(XE,$E,"esm2020")})();const HP={apiKey:"AIzaSyCTyX-O56qZ3ImQnuo6RvP2SFB3U5WYz6E",authDomain:"expense-track-c543f.firebaseapp.com",projectId:"expense-track-c543f",storageBucket:"expense-track-c543f.firebasestorage.app",messagingSenderId:"639110160440",appId:"1:639110160440:web:4487511611c9e7a88046cd"},o2=QM().length===0?QS(HP):XS(),wf=bP(o2,{experimentalForceLongPolling:!0,useFetchStreams:!1}),Ar=b4(o2),l2=G.createContext();function Zd(){return G.useContext(l2)}function qP({children:n}){const[t,e]=G.useState(null),[i,r]=G.useState(!0);function o(d,y){return rO(Ar,d,y)}function c(d,y){return aO(Ar,d,y)}function h(){return cO(Ar)}G.useEffect(()=>{if(!Ar){r(!1);return}return Sw(Ar,y=>{e(y),r(!1)})},[]);const f={currentUser:t,signup:o,login:c,logout:h};return H.jsx(l2.Provider,{value:f,children:!i&&n})}var c2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},JT=Pa.createContext&&Pa.createContext(c2),YP=["attr","size","title"];function GP(n,t){if(n==null)return{};var e=WP(n,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function WP(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function yd(){return yd=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},yd.apply(this,arguments)}function ZT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function _d(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?ZT(Object(e),!0).forEach(function(i){KP(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ZT(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function KP(n,t,e){return t=QP(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function QP(n){var t=XP(n,"string");return typeof t=="symbol"?t:t+""}function XP(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function u2(n){return n&&n.map((t,e)=>Pa.createElement(t.tag,_d({key:e},t.attr),u2(t.child)))}function Bn(n){return t=>Pa.createElement($P,yd({attr:_d({},n.attr)},t),u2(n.child))}function $P(n){var t=e=>{var{attr:i,size:r,title:o}=n,c=GP(n,YP),h=r||e.size||"1em",f;return e.className&&(f=e.className),n.className&&(f=(f?f+" ":"")+n.className),Pa.createElement("svg",yd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,c,{className:f,style:_d(_d({color:n.color||e.color},e.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Pa.createElement("title",null,o),n.children)};return JT!==void 0?Pa.createElement(JT.Consumer,null,e=>t(e)):t(c2)}function JP(n){return Bn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(n)}function ZP(n){return Bn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(n)}function t3(n){return Bn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function e3(n){return Bn({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"},child:[]}]})(n)}function n3(n){return Bn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function i3(n){return Bn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function s3(n){return Bn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(n)}function r3(n){return Bn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function a3(n){return Bn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function o3(n){return Bn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(n)}function l3(n){return Bn({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function c3(n){return Bn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function h2(n){return Bn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(n)}function u3(){const{currentUser:n,logout:t}=Zd(),e=Md(),[i,r]=G.useState(!1);async function o(){try{await t(),e("/login")}catch(c){console.error("Failed to log out",c)}}return H.jsxs("nav",{style:{position:"sticky",top:0,zIndex:100,background:"rgba(255,255,255,0.85)",backdropFilter:"blur(12px)",boxShadow:"0 10px 30px rgba(0,0,0,0.06)"},children:[H.jsxs("div",{className:"container navbar-inner",children:[H.jsxs($c,{to:"/",className:"brand",children:[H.jsx(h2,{}),H.jsx("span",{children:"Expensify"})]}),n&&H.jsxs(H.Fragment,{children:[H.jsx("button",{className:"menu-toggle",onClick:()=>r(!i),children:i?H.jsx(l3,{}):H.jsx(t3,{})}),H.jsxs("div",{className:`nav-links ${i?"open":""}`,children:[H.jsxs($c,{to:"/",className:"nav-btn",children:[H.jsx(e3,{})," Dashboard"]}),H.jsx($c,{to:"/expenses",className:"nav-btn",children:" Expenses"}),H.jsxs("button",{onClick:o,className:"nav-btn logout",children:[H.jsx(o3,{})," Logout"]})]})]})]}),H.jsx("style",{children:`
        .navbar-inner {
          max-width: 1200px;
          margin: 0 auto;
          padding: 1rem;
          display: flex;
          align-items: center;
          justify-content: space-between;
        }

        .brand {
          display: flex;
          align-items: center;
          gap: 0.6rem;
          font-size: 1.6rem;
          font-weight: 800;
          color: var(--color-primary);
          text-decoration: none;
          letter-spacing: 0.5px;
        }

        .nav-links {
          display: flex;
          gap: 0.5rem;
          align-items: center;
        }

        .nav-btn {
          display: flex;
          align-items: center;
          gap: 0.4rem;
          padding: 0.6rem 1rem;
          border-radius: 10px;
          text-decoration: none;
          background: transparent;
          border: none;
          cursor: pointer;
          font-size: 0.9rem;
          font-weight: 500;
          color: #333;
          transition: all 0.25s ease;
        }

        .nav-btn:hover {
          background: rgba(0, 123, 255, 0.08);
          color: var(--color-primary);
          transform: translateY(-1px);
        }

        .logout:hover {
          background: rgba(220, 53, 69, 0.1);
          color: #dc3545;
        }

        .menu-toggle {
          display: none;
          background: none;
          border: none;
          font-size: 1.4rem;
          cursor: pointer;
        }

        /* Mobile */
        @media (max-width: 768px) {
          .menu-toggle {
            display: block;
          }

          .nav-links {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            flex-direction: column;
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            padding: 1rem;
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
            transform: translateY(-10px);
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
          }

          .nav-links.open {
            transform: translateY(0);
            opacity: 1;
            pointer-events: auto;
          }

          .nav-btn {
            width: 100%;
            justify-content: flex-start;
          }
        }
      `})]})}function t1({children:n}){return H.jsxs("div",{className:"layout",style:{minHeight:"100vh",display:"flex",flexDirection:"column",background:`
          radial-gradient(at 20% 20%, #c7d2fe 0px, transparent 50%),
          radial-gradient(at 80% 0%, #bae6fd 0px, transparent 50%),
          radial-gradient(at 0% 50%, #ddd6fe 0px, transparent 50%),
          radial-gradient(at 80% 50%, #bbf7d0 0px, transparent 50%),
          radial-gradient(at 0% 100%, #fef3c7 0px, transparent 50%),
          radial-gradient(at 80% 100%, #fecaca 0px, transparent 50%)
        `},children:[H.jsx(u3,{}),H.jsx("main",{className:"container",style:{flex:1,padding:"2.5rem 1rem",maxWidth:"1200px",margin:"0 auto",width:"100%"},children:n}),H.jsxs("footer",{style:{textAlign:"center",padding:"1.5rem",color:"var(--text-muted)",fontSize:"0.85rem",borderTop:"1px solid rgba(0,0,0,0.05)",background:"rgba(255,255,255,0.7)",backdropFilter:"blur(8px)"},children:[" ",new Date().getFullYear()," ",H.jsx("strong",{children:"Expensify"}),"  Track your money smartly "]})]})}function h3(){const n=G.useRef(),t=G.useRef(),{login:e,signup:i}=Zd(),[r,o]=G.useState(""),[c,h]=G.useState(!1),[f,d]=G.useState(!0),y=Md();async function _(E){E.preventDefault();try{o(""),h(!0),f?await e(n.current.value,t.current.value):await i(n.current.value,t.current.value),y("/")}catch{o(`Failed to ${f?"log in":"create an account"}`)}h(!1)}return H.jsxs("div",{className:"auth-wrapper",children:[H.jsxs("div",{className:"auth-card fade-in",children:[H.jsx("h1",{children:f?"Welcome Back ":"Create Your Account "}),H.jsx("p",{className:"subtitle",children:f?"Log in to continue managing your expenses":"Sign up to start tracking your spending smartly"}),r&&H.jsx("div",{className:"auth-error",children:r}),H.jsxs("form",{onSubmit:_,children:[H.jsxs("div",{className:"input-group",children:[H.jsx("label",{children:"Email"}),H.jsxs("div",{className:"input-icon",children:[H.jsx(i3,{}),H.jsx("input",{type:"email",ref:n,required:!0,placeholder:"you@example.com"})]})]}),H.jsxs("div",{className:"input-group",children:[H.jsx("label",{children:"Password"}),H.jsxs("div",{className:"input-icon",children:[H.jsx(s3,{}),H.jsx("input",{type:"password",ref:t,required:!0,placeholder:""})]})]}),H.jsx("button",{disabled:c,className:"btn btn-primary w-full",children:c?"Please wait":f?"Log In":"Sign Up"})]}),H.jsxs("div",{className:"auth-switch",children:[f?"Don't have an account?":"Already have an account?",H.jsx("button",{onClick:()=>d(!f),children:f?"Sign Up":"Log In"})]})]}),H.jsx("style",{children:`
        .auth-wrapper {
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          background: linear-gradient(135deg, #6366F1, #22C55E);
          padding: 1rem;
        }

        .auth-card {
          width: 100%;
          max-width: 420px;
          background: rgba(255,255,255,0.85);
          backdrop-filter: blur(14px);
          border-radius: 20px;
          padding: 2.2rem;
          box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .auth-card h1 {
          text-align: center;
          font-size: 1.8rem;
          font-weight: 700;
          margin-bottom: 0.3rem;
          color: #111827;
        }

        .subtitle {
          text-align: center;
          font-size: 0.9rem;
          color: #6b7280;
          margin-bottom: 1.8rem;
        }

        .auth-error {
          background: #fee2e2;
          color: #b91c1c;
          padding: 0.8rem;
          border-radius: 10px;
          font-size: 0.85rem;
          margin-bottom: 1rem;
          text-align: center;
        }

        .input-group {
          margin-bottom: 1.2rem;
        }

        .input-group label {
          font-size: 0.85rem;
          font-weight: 600;
          margin-bottom: 0.4rem;
          display: block;
        }

        .input-icon {
          display: flex;
          align-items: center;
          gap: 0.6rem;
          background: #f9fafb;
          padding: 0.7rem 0.8rem;
          border-radius: 10px;
          border: 1px solid #e5e7eb;
        }

        .input-icon input {
          border: none;
          outline: none;
          background: transparent;
          width: 100%;
          font-size: 0.95rem;
        }

        .btn {
          margin-top: 0.6rem;
          padding: 0.75rem;
          border-radius: 12px;
          font-weight: 600;
        }

        .auth-switch {
          margin-top: 1.5rem;
          text-align: center;
          font-size: 0.9rem;
          color: #6b7280;
        }

        .auth-switch button {
          background: none;
          border: none;
          margin-left: 6px;
          color: #4f46e5;
          font-weight: 600;
          cursor: pointer;
          text-decoration: underline;
        }

        .fade-in {
          animation: fade 0.4s ease-in;
        }

        @keyframes fade {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `})]})}function f2(){const[n,t]=G.useState([]),[e,i]=G.useState(!0);return G.useEffect(()=>{let h=null;const f=Sw(Ar,d=>{if(!d){t([]),i(!1);return}const y=OP(qT(wf,"expenses"),kP("uid","==",d.uid),NP("date","desc"));h=jP(y,_=>{const E=_.docs.map(S=>({id:S.id,...S.data(),date:S.data().date?.toDate?.()||null}));t(E),i(!1)},_=>{console.error("Firestore listener error:",_)})});return()=>{h&&h(),f()}},[]),{expenses:n,loading:e,addExpense:async h=>{Ar.currentUser&&await BP(qT(wf,"expenses"),{...h,uid:Ar.currentUser.uid,date:h.date?new Date(h.date):$T()})},deleteExpense:async h=>{await UP(hy(wf,"expenses",h))},updateExpense:async(h,f)=>{await zP(hy(wf,"expenses",h),{...f,date:f.date?new Date(f.date):$T()})}}}function Bu(n){return n+.5|0}const Rr=(n,t,e)=>Math.max(Math.min(n,e),t);function Kc(n){return Rr(Bu(n*2.55),0,255)}function Vr(n){return Rr(Bu(n*255),0,255)}function Cs(n){return Rr(Bu(n/2.55)/100,0,1)}function e1(n){return Rr(Bu(n*100),0,100)}const ti={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},dy=[..."0123456789ABCDEF"],f3=n=>dy[n&15],d3=n=>dy[(n&240)>>4]+dy[n&15],Af=n=>(n&240)>>4===(n&15),m3=n=>Af(n.r)&&Af(n.g)&&Af(n.b)&&Af(n.a);function g3(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&ti[n[1]]*17,g:255&ti[n[2]]*17,b:255&ti[n[3]]*17,a:t===5?ti[n[4]]*17:255}:(t===7||t===9)&&(e={r:ti[n[1]]<<4|ti[n[2]],g:ti[n[3]]<<4|ti[n[4]],b:ti[n[5]]<<4|ti[n[6]],a:t===9?ti[n[7]]<<4|ti[n[8]]:255})),e}const p3=(n,t)=>n<255?t(n):"";function y3(n){var t=m3(n)?f3:d3;return n?"#"+t(n.r)+t(n.g)+t(n.b)+p3(n.a,t):void 0}const _3=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function d2(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function v3(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function b3(n,t,e){const i=d2(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function E3(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function v_(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),h=(o+c)/2;let f,d,y;return o!==c&&(y=o-c,d=h>.5?y/(2-o-c):y/(o+c),f=E3(e,i,r,y,o),f=f*60+.5),[f|0,d||0,h]}function b_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Vr)}function E_(n,t,e){return b_(d2,n,t,e)}function T3(n,t,e){return b_(b3,n,t,e)}function S3(n,t,e){return b_(v3,n,t,e)}function m2(n){return(n%360+360)%360}function w3(n){const t=_3.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Kc(+t[5]):Vr(+t[5]));const r=m2(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=T3(r,o,c):t[1]==="hsv"?i=S3(r,o,c):i=E_(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function A3(n,t){var e=v_(n);e[0]=m2(e[0]+t),e=E_(e),n.r=e[0],n.g=e[1],n.b=e[2]}function x3(n){if(!n)return;const t=v_(n),e=t[0],i=e1(t[1]),r=e1(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Cs(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const n1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},i1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function R3(){const n={},t=Object.keys(i1),e=Object.keys(n1);let i,r,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,n1[o]);o=parseInt(i1[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let xf;function C3(n){xf||(xf=R3(),xf.transparent=[0,0,0,0]);const t=xf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const I3=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function M3(n){const t=I3.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?Kc(c):Rr(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?Kc(i):Rr(i,0,255)),r=255&(t[4]?Kc(r):Rr(r,0,255)),o=255&(t[6]?Kc(o):Rr(o,0,255)),{r:i,g:r,b:o,a:e}}}function D3(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Cs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const wp=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Yo=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function O3(n,t,e){const i=Yo(Cs(n.r)),r=Yo(Cs(n.g)),o=Yo(Cs(n.b));return{r:Vr(wp(i+e*(Yo(Cs(t.r))-i))),g:Vr(wp(r+e*(Yo(Cs(t.g))-r))),b:Vr(wp(o+e*(Yo(Cs(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Rf(n,t,e){if(n){let i=v_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=E_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function g2(n,t){return n&&Object.assign(t||{},n)}function s1(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Vr(n[3]))):(t=g2(n,{r:0,g:0,b:0,a:1}),t.a=Vr(t.a)),t}function k3(n){return n.charAt(0)==="r"?M3(n):w3(n)}class Eu{constructor(t){if(t instanceof Eu)return t;const e=typeof t;let i;e==="object"?i=s1(t):e==="string"&&(i=g3(t)||C3(t)||k3(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=g2(this._rgb);return t&&(t.a=Cs(t.a)),t}set rgb(t){this._rgb=s1(t)}rgbString(){return this._valid?D3(this._rgb):void 0}hexString(){return this._valid?y3(this._rgb):void 0}hslString(){return this._valid?x3(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=i.a-r.a,d=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-d,i.r=255&d*i.r+o*r.r+.5,i.g=255&d*i.g+o*r.g+.5,i.b=255&d*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=O3(this._rgb,t._rgb,e)),this}clone(){return new Eu(this.rgb)}alpha(t){return this._rgb.a=Vr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Bu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Rf(this._rgb,2,t),this}darken(t){return Rf(this._rgb,2,-t),this}saturate(t){return Rf(this._rgb,1,t),this}desaturate(t){return Rf(this._rgb,1,-t),this}rotate(t){return A3(this._rgb,t),this}}function As(){}const N3=(()=>{let n=0;return()=>n++})();function oe(n){return n==null}function He(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function qt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ri(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Gi(n,t){return ri(n)?n:t}function Ht(n,t){return typeof n>"u"?t:n}const P3=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,p2=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function he(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function te(n,t,e,i){let r,o,c;if(He(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(qt(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function vd(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function bd(n){if(He(n))return n.map(bd);if(qt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=bd(n[e[r]]);return t}return n}function y2(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function V3(n,t,e,i){if(!y2(n))return;const r=t[n],o=e[n];qt(r)&&qt(o)?Tu(r,o,i):t[n]=bd(o)}function Tu(n,t,e){const i=He(t)?t:[t],r=i.length;if(!qt(n))return n;e=e||{};const o=e.merger||V3;let c;for(let h=0;h<r;++h){if(c=i[h],!qt(c))continue;const f=Object.keys(c);for(let d=0,y=f.length;d<y;++d)o(f[d],n,c,e)}return n}function su(n,t){return Tu(n,t,{merger:L3})}function L3(n,t,e){if(!y2(n))return;const i=t[n],r=e[n];qt(i)&&qt(r)?su(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=bd(r))}const r1={"":n=>n,x:n=>n.x,y:n=>n.y};function z3(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function U3(n){const t=z3(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Ga(n,t){return(r1[t]||(r1[t]=U3(t)))(n)}function T_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Su=n=>typeof n<"u",qr=n=>typeof n=="function",a1=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function B3(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ae=Math.PI,Ue=2*ae,Ed=Number.POSITIVE_INFINITY,j3=ae/180,qe=ae/2,Ra=ae/4,o1=ae*2/3,_2=Math.log10,Lr=Math.sign;function $f(n,t,e){return Math.abs(n-t)<e}function l1(n){const t=Math.round(n);n=$f(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(_2(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function F3(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function H3(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Td(n){return!H3(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function q3(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function Y3(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ds(n){return n*(ae/180)}function G3(n){return n*(180/ae)}function c1(n){if(!ri(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function v2(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*ae&&(o+=Ue),{angle:o,distance:r}}function W3(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Xi(n){return(n%Ue+Ue)%Ue}function Sd(n,t,e,i){const r=Xi(n),o=Xi(t),c=Xi(e),h=Xi(o-r),f=Xi(c-r),d=Xi(r-o),y=Xi(r-c);return r===o||r===c||i&&o===c||h>f&&d<y}function Cn(n,t,e){return Math.max(t,Math.min(e,n))}function K3(n){return Cn(n,-32768,32767)}function Na(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function S_(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const my=(n,t,e,i)=>S_(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),Q3=(n,t,e)=>S_(n,e,i=>n[i][t]>=e);function X3(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const b2=["push","pop","shift","splice","unshift"];function $3(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),b2.forEach(e=>{const i="_onData"+T_(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function u1(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(b2.forEach(o=>{delete n[o]}),delete n._chartjs)}function E2(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const T2=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function S2(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,T2.call(window,()=>{i=!1,n.apply(t,e)}))}}function J3(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const w_=n=>n==="start"?"left":n==="end"?"right":"center",cn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,Z3=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,Cf=n=>n===0||n===1,h1=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Ue/e)),f1=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Ue/e)+1,ru={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*qe)+1,easeOutSine:n=>Math.sin(n*qe),easeInOutSine:n=>-.5*(Math.cos(ae*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Cf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Cf(n)?n:h1(n,.075,.3),easeOutElastic:n=>Cf(n)?n:f1(n,.075,.3),easeInOutElastic(n){return Cf(n)?n:n<.5?.5*h1(n*2,.1125,.45):.5+.5*f1(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-ru.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?ru.easeInBounce(n*2)*.5:ru.easeOutBounce(n*2-1)*.5+.5};function w2(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function d1(n){return w2(n)?n:new Eu(n)}function Ap(n){return w2(n)?n:new Eu(n).saturate(.5).darken(.1).hexString()}const t6=["x","y","borderWidth","radius","tension"],e6=["color","borderColor","backgroundColor"];function n6(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:e6},numbers:{type:"number",properties:t6}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function i6(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const m1=new Map;function s6(n,t){t=t||{};const e=n+JSON.stringify(t);let i=m1.get(e);return i||(i=new Intl.NumberFormat(n,t),m1.set(e,i)),i}function A_(n,t,e){return s6(t,e).format(n)}const r6={values(n){return He(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),o=a6(n,e)}const c=_2(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),A_(n,i,f)}};function a6(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var A2={formatters:r6};function o6(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:A2.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Wa=Object.create(null),gy=Object.create(null);function au(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function xp(n,t,e){return typeof t=="string"?Tu(au(n,t),e):Tu(au(n,""),t)}class l6{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Ap(r.backgroundColor),this.hoverBorderColor=(i,r)=>Ap(r.borderColor),this.hoverColor=(i,r)=>Ap(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return xp(this,t,e)}get(t){return au(this,t)}describe(t,e){return xp(gy,t,e)}override(t,e){return xp(Wa,t,e)}route(t,e,i,r){const o=au(this,t),c=au(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],d=c[r];return qt(f)?Object.assign({},d,f):Ht(f,d)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var Ae=new l6({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[n6,i6,o6]);function c6(n){return!n||oe(n.size)||oe(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function g1(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function Ca(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function p1(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function y1(n,t,e,i){x2(n,t,e,i,null)}function x2(n,t,e,i,r){let o,c,h,f,d,y,_,E;const S=t.pointStyle,R=t.rotation,A=t.radius;let I=(R||0)*j3;if(S&&typeof S=="object"&&(o=S.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(I),n.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),n.restore();return}if(!(isNaN(A)||A<=0)){switch(n.beginPath(),S){default:r?n.ellipse(e,i,r/2,A,0,0,Ue):n.arc(e,i,A,0,Ue),n.closePath();break;case"triangle":y=r?r/2:A,n.moveTo(e+Math.sin(I)*y,i-Math.cos(I)*A),I+=o1,n.lineTo(e+Math.sin(I)*y,i-Math.cos(I)*A),I+=o1,n.lineTo(e+Math.sin(I)*y,i-Math.cos(I)*A),n.closePath();break;case"rectRounded":d=A*.516,f=A-d,c=Math.cos(I+Ra)*f,_=Math.cos(I+Ra)*(r?r/2-d:f),h=Math.sin(I+Ra)*f,E=Math.sin(I+Ra)*(r?r/2-d:f),n.arc(e-_,i-h,d,I-ae,I-qe),n.arc(e+E,i-c,d,I-qe,I),n.arc(e+_,i+h,d,I,I+qe),n.arc(e-E,i+c,d,I+qe,I+ae),n.closePath();break;case"rect":if(!R){f=Math.SQRT1_2*A,y=r?r/2:f,n.rect(e-y,i-f,2*y,2*f);break}I+=Ra;case"rectRot":_=Math.cos(I)*(r?r/2:A),c=Math.cos(I)*A,h=Math.sin(I)*A,E=Math.sin(I)*(r?r/2:A),n.moveTo(e-_,i-h),n.lineTo(e+E,i-c),n.lineTo(e+_,i+h),n.lineTo(e-E,i+c),n.closePath();break;case"crossRot":I+=Ra;case"cross":_=Math.cos(I)*(r?r/2:A),c=Math.cos(I)*A,h=Math.sin(I)*A,E=Math.sin(I)*(r?r/2:A),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c);break;case"star":_=Math.cos(I)*(r?r/2:A),c=Math.cos(I)*A,h=Math.sin(I)*A,E=Math.sin(I)*(r?r/2:A),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c),I+=Ra,_=Math.cos(I)*(r?r/2:A),c=Math.cos(I)*A,h=Math.sin(I)*A,E=Math.sin(I)*(r?r/2:A),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c);break;case"line":c=r?r/2:Math.cos(I)*A,h=Math.sin(I)*A,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(I)*(r?r/2:A),i+Math.sin(I)*A);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function R2(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function x_(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function R_(n){n.restore()}function u6(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),oe(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function h6(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,d=e+o.actualBoundingBoxDescent,y=r.strikethrough?(f+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,y),n.lineTo(h,y),n.stroke()}}function f6(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function wu(n,t,e,i,r,o={}){const c=He(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,d;for(n.save(),n.font=r.string,u6(n,o),f=0;f<c.length;++f)d=c[f],o.backdrop&&f6(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),oe(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(d,e,i,o.maxWidth)),n.fillText(d,e,i,o.maxWidth),h6(n,e,i,d,o),i+=Number(r.lineHeight);n.restore()}function wd(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*ae,ae,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,ae,qe,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,qe,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-qe,!0),n.lineTo(e+c.topLeft,i)}const d6=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,m6=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function g6(n,t){const e=(""+n).match(d6);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const p6=n=>+n||0;function C_(n,t){const e={},i=qt(t),r=i?Object.keys(t):t,o=qt(n)?i?c=>Ht(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=p6(o(c));return e}function C2(n){return C_(n,{top:"y",right:"x",bottom:"y",left:"x"})}function sl(n){return C_(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ai(n){const t=C2(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function hn(n,t){n=n||{},t=t||Ae.font;let e=Ht(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Ht(n.style,t.style);i&&!(""+i).match(m6)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Ht(n.family,t.family),lineHeight:g6(Ht(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Ht(n.weight,t.weight),string:""};return r.string=c6(r),r}function If(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function y6(n,t,e){const{min:i,max:r}=n,o=p2(t,(r-i)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function Al(n,t){return Object.assign(Object.create(n),t)}function I_(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=O2("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>I_([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return M2(h,f,()=>A6(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return v1(h).includes(f)},ownKeys(h){return v1(h)},set(h,f,d){const y=h._storage||(h._storage=r());return h[f]=y[f]=d,delete h._keys,!0}})}function dl(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:I2(n,i),setContext:o=>dl(n,o,e,i),override:o=>dl(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return M2(o,c,()=>v6(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function I2(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:qr(e)?e:()=>e,isIndexable:qr(i)?i:()=>i}}const _6=(n,t)=>n?n+T_(t):t,M_=(n,t)=>qt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function M2(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function v6(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let h=i[t];return qr(h)&&c.isScriptable(t)&&(h=b6(t,h,n,e)),He(h)&&h.length&&(h=E6(t,h,n,c.isIndexable)),M_(t,h)&&(h=dl(h,r,o&&o[t],c)),h}function b6(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,c||i);return h.delete(n),M_(n,f)&&(f=D_(r._scopes,r,n,f)),f}function E6(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(qt(t[0])){const f=t,d=r._scopes.filter(y=>y!==f);t=[];for(const y of f){const _=D_(d,r,n,y);t.push(dl(_,o,c&&c[n],h))}}return t}function D2(n,t,e){return qr(n)?n(t,e):n}const T6=(n,t)=>n===!0?t:typeof n=="string"?Ga(t,n):void 0;function S6(n,t,e,i,r){for(const o of t){const c=T6(e,o);if(c){n.add(c);const h=D2(c._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function D_(n,t,e,i){const r=t._rootScopes,o=D2(t._fallback,e,i),c=[...n,...r],h=new Set;h.add(i);let f=_1(h,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=_1(h,c,o,f,i),f===null)?!1:I_(Array.from(h),[""],r,o,()=>w6(t,e,i))}function _1(n,t,e,i,r){for(;e;)e=S6(n,t,e,i,r);return e}function w6(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return He(r)&&qt(e)?e:r||{}}function A6(n,t,e,i){let r;for(const o of t)if(r=O2(_6(o,n),e),typeof r<"u")return M_(n,r)?D_(e,i,n,r):r}function O2(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function v1(n){let t=n._keys;return t||(t=n._keys=x6(n._scopes)),t}function x6(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function O_(){return typeof window<"u"&&typeof document<"u"}function k_(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ad(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const tm=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function R6(n,t){return tm(n).getPropertyValue(t)}const C6=["top","right","bottom","left"];function Ua(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=C6[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const I6=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function M6(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,h,f;if(I6(r,o,n.target))h=r,f=o;else{const d=t.getBoundingClientRect();h=i.clientX-d.left,f=i.clientY-d.top,c=!0}return{x:h,y:f,box:c}}function Da(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=tm(e),o=r.boxSizing==="border-box",c=Ua(r,"padding"),h=Ua(r,"border","width"),{x:f,y:d,box:y}=M6(n,e),_=c.left+(y&&h.left),E=c.top+(y&&h.top);let{width:S,height:R}=t;return o&&(S-=c.width+h.width,R-=c.height+h.height),{x:Math.round((f-_)/S*e.width/i),y:Math.round((d-E)/R*e.height/i)}}function D6(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&k_(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=tm(o),f=Ua(h,"border","width"),d=Ua(h,"padding");t=c.width-d.width-f.width,e=c.height-d.height-f.height,i=Ad(h.maxWidth,o,"clientWidth"),r=Ad(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Ed,maxHeight:r||Ed}}const Cr=n=>Math.round(n*10)/10;function O6(n,t,e,i){const r=tm(n),o=Ua(r,"margin"),c=Ad(r.maxWidth,n,"clientWidth")||Ed,h=Ad(r.maxHeight,n,"clientHeight")||Ed,f=D6(n,t,e);let{width:d,height:y}=f;if(r.boxSizing==="content-box"){const E=Ua(r,"border","width"),S=Ua(r,"padding");d-=S.width+E.width,y-=S.height+E.height}return d=Math.max(0,d-o.width),y=Math.max(0,i?d/i:y-o.height),d=Cr(Math.min(d,c,f.maxWidth)),y=Cr(Math.min(y,h,f.maxHeight)),d&&!y&&(y=Cr(d/2)),(t!==void 0||e!==void 0)&&i&&f.height&&y>f.height&&(y=f.height,d=Cr(Math.floor(y*i))),{width:d,height:y}}function b1(n,t,e){const i=t||1,r=Cr(n.height*i),o=Cr(n.width*i);n.height=Cr(n.height),n.width=Cr(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const k6=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};O_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function E1(n,t){const e=R6(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const N6=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},P6=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function rl(n,t,e){return n?N6(t,e):P6()}function k2(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function N2(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Mf(n,t,e){return n.options.clip?n[e]:t[e]}function V6(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Mf(e,t,"left"),right:Mf(e,t,"right"),top:Mf(i,t,"top"),bottom:Mf(i,t,"bottom")}:t}function L6(n,t){const e=t._clip;if(e.disabled)return!1;const i=V6(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}class z6{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=T2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var xs=new z6;const T1="transparent",U6={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=d1(n||T1),r=i.valid&&d1(t||T1);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class B6{constructor(t,e,i,r){const o=e[i];r=If([t.to,r,o,t.from]);const c=If([t.from,o,r]);this._active=!0,this._fn=t.fn||U6[t.type||typeof c],this._easing=ru[t.easing]||ru.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=If([t.to,e,r,t.from]),this._from=If([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class P2{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!qt(t))return;const e=Object.keys(Ae.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!qt(o))return;const c={};for(const h of e)c[h]=o[h];(He(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,r=F6(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&j6(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const d=c[f];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(t,e));continue}const y=e[d];let _=o[d];const E=i.get(d);if(_)if(E&&_.active()){_.update(E,y,h);continue}else _.cancel();if(!E||!E.duration){t[d]=y;continue}o[d]=_=new B6(E,t,d,y),r.push(_)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return xs.add(this._chart,i),!0}}function j6(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function F6(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function S1(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function H6(n,t,e){if(e===!1)return!1;const i=S1(n,e),r=S1(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function q6(n){let t,e,i,r;return qt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function V2(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function w1(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,h,f,d;if(t===null)return;let y=!1;for(c=0,h=r.length;c<h;++c){if(f=+r[c],f===e){if(y=!0,i.all)continue;break}d=n.values[f],ri(d)&&(o||t===0||Lr(t)===Lr(d))&&(t+=d)}return!y&&!i.all?0:t}function Y6(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,d,y;for(f=0,d=c.length;f<d;++f)y=c[f],h[f]={[r]:y,[o]:n[y]};return h}function Rp(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function G6(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function W6(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function K6(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function A1(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function x1(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,d=c.axis,y=G6(o,c,i),_=t.length;let E;for(let S=0;S<_;++S){const R=t[S],{[f]:A,[d]:I}=R,V=R._stacks||(R._stacks={});E=V[d]=K6(r,y,A),E[h]=I,E._top=A1(E,c,!0,i.type),E._bottom=A1(E,c,!1,i.type);const B=E._visualValues||(E._visualValues={});B[h]=I}}function Cp(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function Q6(n,t){return Al(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function X6(n,t,e){return Al(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Nc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Ip=n=>n==="reset"||n==="none",R1=(n,t)=>t?n:Object.assign({},n),$6=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:V2(e,!0),values:null};class N_{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Rp(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Nc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(_,E,S,R)=>_==="x"?E:_==="r"?R:S,o=e.xAxisID=Ht(i.xAxisID,Cp(t,"x")),c=e.yAxisID=Ht(i.yAxisID,Cp(t,"y")),h=e.rAxisID=Ht(i.rAxisID,Cp(t,"r")),f=e.indexAxis,d=e.iAxisID=r(f,o,c,h),y=e.vAxisID=r(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&u1(this._data,this),t._stacked&&Nc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(qt(e)){const r=this._cachedMeta;this._data=Y6(e,r)}else if(i!==e){if(i){u1(i,this);const r=this._cachedMeta;Nc(r),r._parsed=[]}e&&Object.isExtensible(e)&&$3(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=Rp(e.vScale,e),e.stack!==i.stack&&(r=!0,Nc(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(x1(this,e._parsed),e._stacked=Rp(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=t===0&&e===r.length?!0:i._sorted,d=t>0&&i._parsed[t-1],y,_,E;if(this._parsing===!1)i._parsed=r,i._sorted=!0,E=r;else{He(r[t])?E=this.parseArrayData(i,r,t,e):qt(r[t])?E=this.parseObjectData(i,r,t,e):E=this.parsePrimitiveData(i,r,t,e);const S=()=>_[h]===null||d&&_[h]<d[h];for(y=0;y<e;++y)i._parsed[y+t]=_=E[y],f&&(S()&&(f=!1),d=_);i._sorted=f}c&&x1(this,E)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,d=o.getLabels(),y=o===c,_=new Array(r);let E,S,R;for(E=0,S=r;E<S;++E)R=E+i,_[E]={[h]:y||o.parse(d[R],R),[f]:c.parse(e[R],R)};return _}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,h=new Array(r);let f,d,y,_;for(f=0,d=r;f<d;++f)y=f+i,_=e[y],h[f]={x:o.parse(_[0],y),y:c.parse(_[1],y)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,d=new Array(r);let y,_,E,S;for(y=0,_=r;y<_;++y)E=y+i,S=e[E],d[y]={x:o.parse(Ga(S,h),E),y:c.parse(Ga(S,f),E)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:V2(r,!0),values:e._stacks[t.axis]._visualValues};return w1(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,c=w1(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,h=this._getOtherScale(t),f=$6(e,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:_}=W6(h);let E,S;function R(){S=r[E];const A=S[h.axis];return!ri(S[t.axis])||y>A||_<A}for(E=0;E<c&&!(!R()&&(this.updateRangeFromParsed(d,t,S,f),o));++E);if(o){for(E=c-1;E>=0;--E)if(!R()){this.updateRangeFromParsed(d,t,S,f);break}}return d}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],ri(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=q6(Ht(this.options.clip,H6(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||r.length-h,d=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(t,o,h,f),y=h;y<h+f;++y){const _=r[y];_.hidden||(_.active&&d?c.push(_):_.draw(t,o))}for(y=0;y<c.length;++y)c[y].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=X6(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=Q6(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&Su(i);if(h)return R1(h,f);const d=this.chart.config,y=d.datasetElementScopeKeys(this._type,t),_=r?[`${t}Hover`,"hover",t,""]:[t,""],E=d.getOptionScopes(this.getDataset(),y),S=Object.keys(Ae.elements[t]),R=()=>this.getContext(i,r,e),A=d.resolveNamedOptions(E,S,R,_);return A.$shared&&(A.$shared=f,o[c]=Object.freeze(R1(A,f))),A}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(r.options.animation!==!1){const y=this.chart.config,_=y.datasetAnimationScopeKeys(this._type,e),E=y.getOptionScopes(this.getDataset(),_);f=y.createResolver(E,this.getContext(t,i,e))}const d=new P2(r,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Ip(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){Ip(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Ip(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,d]of this._syncList)this[h](f,d);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let h;const f=d=>{for(d.length+=e,h=d.length-1;h>=c;h--)d[h]=d[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Nc(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function J6(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=E2(i.sort((r,o)=>r-o))}return n._cache.$bar}function Z6(n){const t=n.iScale,e=J6(t,n.type);let i=t._length,r,o,c,h;const f=()=>{c===32767||c===-32768||(Su(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(r=0,o=e.length;r<o;++r)c=t.getPixelForValue(e[r]),f();for(h=void 0,r=0,o=t.ticks.length;r<o;++r)c=t.getPixelForTick(r),f();return i}function tV(n,t,e,i){const r=e.barThickness;let o,c;return oe(r)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function eV(n,t,e,i){const r=t.pixels,o=r[n];let c=n>0?r[n-1]:null,h=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const d=o-(o-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/i,ratio:e.barPercentage,start:d}}function nV(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(r,o),h=Math.max(r,o);let f=c,d=h;Math.abs(c)>Math.abs(h)&&(f=h,d=c),t[e.axis]=d,t._custom={barStart:f,barEnd:d,start:r,end:o,min:c,max:h}}function L2(n,t,e,i){return He(n)?nV(n,t,e,i):t[e.axis]=e.parse(n,i),t}function C1(n,t,e,i){const r=n.iScale,o=n.vScale,c=r.getLabels(),h=r===o,f=[];let d,y,_,E;for(d=e,y=e+i;d<y;++d)E=t[d],_={},_[r.axis]=h||r.parse(c[d],d),f.push(L2(E,_,o,d));return f}function Mp(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function iV(n,t,e){return n!==0?Lr(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function sV(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function rV(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:d,bottom:y}=sV(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=d:(e._bottom||0)===i?r=y:(o[I1(y,c,h,f)]=!0,r=d)),o[I1(r,c,h,f)]=!0,n.borderSkipped=o}function I1(n,t,e,i){return i?(n=aV(n,t,e),n=M1(n,e,t)):n=M1(n,t,e),n}function aV(n,t,e){return n===t?e:n===e?t:n}function M1(n,t,e){return n==="start"?t:n==="end"?e:n}function oV(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class lV extends N_{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return C1(t,e,i,r)}parseArrayData(t,e,i,r){return C1(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,d=o.axis==="x"?h:f,y=c.axis==="x"?h:f,_=[];let E,S,R,A;for(E=i,S=i+r;E<S;++E)A=e[E],R={},R[o.axis]=o.parse(Ga(A,d),E),_.push(L2(Ga(A,y),R,c,E));return _}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),c=o._custom,h=Mp(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),d=h.isHorizontal(),y=this._getRuler(),{sharedOptions:_,includeOptions:E}=this._getSharedOptions(e,r);for(let S=e;S<e+i;S++){const R=this.getParsed(S),A=o||oe(R[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(S),I=this._calculateBarIndexPixels(S,y),V=(R._stacks||{})[h.axis],B={horizontal:d,base:A.base,enableBorderRadius:!V||Mp(R._custom)||c===V._top||c===V._bottom,x:d?A.head:I.center,y:d?I.center:A.head,height:d?I.size:Math.abs(A.size),width:d?Math.abs(A.size):I.size};E&&(B.options=_||this.resolveDataElementOptions(S,t[S].active?"active":r));const W=B.options||t[S].options;rV(B,W,V,c),oV(B,W,y.ratio),this.updateElement(t[S],S,B,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(y=>y.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),f=h&&h[i.axis],d=y=>{const _=y._parsed.find(S=>S[i.axis]===f),E=_&&_[y.vScale.axis];if(oe(E)||isNaN(E))return!0};for(const y of r)if(!(e!==void 0&&d(y))&&((o===!1||c.indexOf(y.stack)===-1||o===void 0&&y.stack===void 0)&&c.push(y.stack),y.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Ht(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,c;for(o=0,c=e.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||Z6(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,h=o||0,f=this.getParsed(t),d=f._custom,y=Mp(d);let _=f[e.axis],E=0,S=i?this.applyStack(e,f,i):_,R,A;S!==_&&(E=S-_,S=_),y&&(_=d.barStart,S=d.barEnd-d.barStart,_!==0&&Lr(_)!==Lr(d.barEnd)&&(E=0),E+=_);const I=!oe(o)&&!y?o:E;let V=e.getPixelForValue(I);if(this.chart.getDataVisibility(t)?R=e.getPixelForValue(E+S):R=V,A=R-V,Math.abs(A)<c){A=iV(A,e,h)*c,_===h&&(V-=A/2);const B=e.getPixelForDecimal(0),W=e.getPixelForDecimal(1),rt=Math.min(B,W),et=Math.max(B,W);V=Math.max(Math.min(V,et),rt),R=V+A,i&&!y&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(R)-e.getValueForPixel(V))}if(V===e.getPixelForValue(h)){const B=Lr(A)*e.getLineWidthForValue(h)/2;V+=B,A-=B}return{size:A,base:V,head:R,center:R+A/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,c=Ht(r.maxBarThickness,1/0);let h,f;const d=this._getAxisCount();if(e.grouped){const y=o?this._getStackCount(t):e.stackCount,_=r.barThickness==="flex"?eV(t,e,r,y*d):tV(t,e,r,y*d),E=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,S=this._getAxis().indexOf(Ht(E,this.getFirstScaleIdForIndexAxis())),R=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+S;h=_.start+_.chunk*R+_.chunk/2,f=Math.min(c,_.chunk*_.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(c,e.min*e.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function cV(n,t,e){let i=1,r=1,o=0,c=0;if(t<Ue){const h=n,f=h+t,d=Math.cos(h),y=Math.sin(h),_=Math.cos(f),E=Math.sin(f),S=(W,rt,et)=>Sd(W,h,f,!0)?1:Math.max(rt,rt*e,et,et*e),R=(W,rt,et)=>Sd(W,h,f,!0)?-1:Math.min(rt,rt*e,et,et*e),A=S(0,d,_),I=S(qe,y,E),V=R(ae,d,_),B=R(ae+qe,y,E);i=(A-V)/2,r=(I-B)/2,o=-(A+V)/2,c=-(I+B)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:c}}class uV extends N_{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data,{labels:{pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=t.legend.options;return e.labels.length&&e.datasets.length?e.labels.map((f,d)=>{const _=t.getDatasetMeta(0).controller.getStyle(d);return{text:f,fillStyle:_.backgroundColor,fontColor:o,hidden:!t.getDataVisibility(d),lineDash:_.borderDash,lineDashOffset:_.borderDashOffset,lineJoin:_.borderJoinStyle,lineWidth:_.borderWidth,strokeStyle:_.borderColor,textAlign:r,pointStyle:i,borderRadius:c&&(h||_.borderRadius),index:d}}):[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=f=>+i[f];if(qt(i[t])){const{key:f="value"}=this._parsing;o=d=>+Ga(i[d],f)}let c,h;for(c=t,h=t+e;c<h;++c)r._parsed[c]=o(c)}}_getRotation(){return Ds(this.options.rotation-90)}_getCircumference(){return Ds(this.options.circumference)}_getRotationExtents(){let t=Ue,e=-Ue;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),c=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-c)/2,0),f=Math.min(P3(this.options.cutout,h),1),d=this._getRingWeight(this.index),{circumference:y,rotation:_}=this._getRotationExtents(),{ratioX:E,ratioY:S,offsetX:R,offsetY:A}=cV(_,y,f),I=(i.width-c)/E,V=(i.height-c)/S,B=Math.max(Math.min(I,V)/2,0),W=p2(this.options.radius,B),rt=Math.max(W*f,0),et=(W-rt)/this._getVisibleDatasetWeightTotal();this.offsetX=R*W,this.offsetY=A*W,r.total=this.calculateTotal(),this.outerRadius=W-et*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-et*d,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/Ue)}updateElements(t,e,i,r){const o=r==="reset",c=this.chart,h=c.chartArea,d=c.options.animation,y=(h.left+h.right)/2,_=(h.top+h.bottom)/2,E=o&&d.animateScale,S=E?0:this.innerRadius,R=E?0:this.outerRadius,{sharedOptions:A,includeOptions:I}=this._getSharedOptions(e,r);let V=this._getRotation(),B;for(B=0;B<e;++B)V+=this._circumference(B,o);for(B=e;B<e+i;++B){const W=this._circumference(B,o),rt=t[B],et={x:y+this.offsetX,y:_+this.offsetY,startAngle:V,endAngle:V+W,circumference:W,outerRadius:R,innerRadius:S};I&&(et.options=A||this.resolveDataElementOptions(B,rt.active?"active":r)),V+=W,this.updateElement(rt,B,et,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Ue*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=A_(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,c,h,f;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){c=i.getDatasetMeta(r),t=c.data,h=c.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)f=h.resolveDataElementOptions(r),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Ht(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}function Ia(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class P_{static override(t){Object.assign(P_.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Ia()}parse(){return Ia()}format(){return Ia()}add(){return Ia()}diff(){return Ia()}startOf(){return Ia()}endOf(){return Ia()}}var hV={_date:P_};function fV(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const d=h._reversePixels?Q3:my;if(i){if(r._sharedOptions){const y=o[0],_=typeof y.getRange=="function"&&y.getRange(t);if(_){const E=d(o,t,e-_),S=d(o,t,e+_);return{lo:E.lo,hi:S.hi}}}}else{const y=d(o,t,e);if(f){const{vScale:_}=r._cachedMeta,{_parsed:E}=n,S=E.slice(0,y.lo+1).reverse().findIndex(A=>!oe(A[_.axis]));y.lo-=Math.max(0,S);const R=E.slice(y.hi).findIndex(A=>!oe(A[_.axis]));y.hi+=Math.max(0,R)}return y}}return{lo:0,hi:o.length-1}}function em(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:d,data:y}=o[h],{lo:_,hi:E}=fV(o[h],t,c,r);for(let S=_;S<=E;++S){const R=y[S];R.skip||i(R,d,S)}}}function dV(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Dp(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||em(n,e,t,function(h,f,d){!r&&!R2(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:d})},!0),o}function mV(n,t,e,i){let r=[];function o(c,h,f){const{startAngle:d,endAngle:y}=c.getProps(["startAngle","endAngle"],i),{angle:_}=v2(c,{x:t.x,y:t.y});Sd(_,d,y)&&r.push({element:c,datasetIndex:h,index:f})}return em(n,e,t,o),r}function gV(n,t,e,i,r,o){let c=[];const h=dV(e);let f=Number.POSITIVE_INFINITY;function d(y,_,E){const S=y.inRange(t.x,t.y,r);if(i&&!S)return;const R=y.getCenterPoint(r);if(!(!!o||n.isPointInArea(R))&&!S)return;const I=h(t,R);I<f?(c=[{element:y,datasetIndex:_,index:E}],f=I):I===f&&c.push({element:y,datasetIndex:_,index:E})}return em(n,e,t,d),c}function Op(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?mV(n,t,e,r):gV(n,t,e,i,r,o)}function D1(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return em(n,e,t,(f,d,y)=>{f[c]&&f[c](t[e],r)&&(o.push({element:f,datasetIndex:d,index:y}),h=h||f.inRange(t.x,t.y,r))}),i&&!h?[]:o}var pV={modes:{index(n,t,e,i){const r=Da(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?Dp(n,r,o,i,c):Op(n,r,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const y=h[0].index,_=d.data[y];_&&!_.skip&&f.push({element:_,datasetIndex:d.index,index:y})}),f):[]},dataset(n,t,e,i){const r=Da(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?Dp(n,r,o,i,c):Op(n,r,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,d=n.getDatasetMeta(f).data;h=[];for(let y=0;y<d.length;++y)h.push({element:d[y],datasetIndex:f,index:y})}return h},point(n,t,e,i){const r=Da(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Dp(n,r,o,i,c)},nearest(n,t,e,i){const r=Da(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Op(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=Da(t,n);return D1(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=Da(t,n);return D1(n,r,"y",e.intersect,i)}}};const z2=["left","top","right","bottom"];function Pc(n,t){return n.filter(e=>e.pos===t)}function O1(n,t){return n.filter(e=>z2.indexOf(e.pos)===-1&&e.box.axis===t)}function Vc(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function yV(n){const t=[];let e,i,r,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return t}function _V(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!z2.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function vV(n,t){const e=_V(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,d=e[h.stack],y=d&&h.stackWeight/d.weight;h.horizontal?(h.width=y?y*i:f&&t.availableWidth,h.height=r):(h.width=i,h.height=y?y*r:f&&t.availableHeight)}return e}function bV(n){const t=yV(n),e=Vc(t.filter(d=>d.box.fullSize),!0),i=Vc(Pc(t,"left"),!0),r=Vc(Pc(t,"right")),o=Vc(Pc(t,"top"),!0),c=Vc(Pc(t,"bottom")),h=O1(t,"x"),f=O1(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(c).concat(h),chartArea:Pc(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(c).concat(h)}}function k1(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function U2(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function EV(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!qt(r)){e.size&&(n[r]-=e.size);const _=i[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?o.height:o.width),e.size=_.size/_.count,n[r]+=e.size}o.getPadding&&U2(c,o.getPadding());const h=Math.max(0,t.outerWidth-k1(c,n,"left","right")),f=Math.max(0,t.outerHeight-k1(c,n,"top","bottom")),d=h!==n.w,y=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:d,other:y}:{same:y,other:d}}function TV(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function SV(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function Qc(n,t,e,i){const r=[];let o,c,h,f,d,y;for(o=0,c=n.length,d=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,SV(h.horizontal,t));const{same:_,other:E}=EV(t,e,h,i);d|=_&&r.length,y=y||E,f.fullSize||r.push(h)}return d&&Qc(r,t,e,i)||y}function Df(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function N1(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const h of n){const f=h.box,d=i[h.stack]||{placed:0,weight:1},y=h.stackWeight/d.weight||1;if(h.horizontal){const _=t.w*y,E=d.size||f.height;Su(d.start)&&(c=d.start),f.fullSize?Df(f,r.left,c,e.outerWidth-r.right-r.left,E):Df(f,t.left+d.placed,c,_,E),d.start=c,d.placed+=_,c=f.bottom}else{const _=t.h*y,E=d.size||f.width;Su(d.start)&&(o=d.start),f.fullSize?Df(f,o,r.top,E,e.outerHeight-r.bottom-r.top):Df(f,o,t.top+d.placed,E,_),d.start=o,d.placed+=_,o=f.right}}t.x=o,t.y=c}var ii={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=ai(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),h=bV(n.boxes),f=h.vertical,d=h.horizontal;te(n.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const y=f.reduce((A,I)=>I.box.options&&I.box.options.display===!1?A:A+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/y,hBoxMaxHeight:c/2}),E=Object.assign({},r);U2(E,ai(i));const S=Object.assign({maxPadding:E,w:o,h:c,x:r.left,y:r.top},r),R=vV(f.concat(d),_);Qc(h.fullSize,S,_,R),Qc(f,S,_,R),Qc(d,S,_,R)&&Qc(f,S,_,R),TV(S),N1(h.leftAndTop,S,_,R),S.x+=S.w,S.y+=S.h,N1(h.rightAndBottom,S,_,R),n.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},te(h.chartArea,A=>{const I=A.box;Object.assign(I,n.chartArea),I.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class B2{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class wV extends B2{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Jf="$chartjs",AV={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},P1=n=>n===null||n==="";function xV(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Jf]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",P1(r)){const o=E1(n,"width");o!==void 0&&(n.width=o)}if(P1(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=E1(n,"height");o!==void 0&&(n.height=o)}return n}const j2=k6?{passive:!0}:!1;function RV(n,t,e){n&&n.addEventListener(t,e,j2)}function CV(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,j2)}function IV(n,t){const e=AV[n.type]||n.type,{x:i,y:r}=Da(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function xd(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function MV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||xd(h.addedNodes,i),c=c&&!xd(h.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function DV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||xd(h.removedNodes,i),c=c&&!xd(h.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Au=new Map;let V1=0;function F2(){const n=window.devicePixelRatio;n!==V1&&(V1=n,Au.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function OV(n,t){Au.size||window.addEventListener("resize",F2),Au.set(n,t)}function kV(n){Au.delete(n),Au.size||window.removeEventListener("resize",F2)}function NV(n,t,e){const i=n.canvas,r=i&&k_(i);if(!r)return;const o=S2((h,f)=>{const d=r.clientWidth;e(h,f),d<r.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],d=f.contentRect.width,y=f.contentRect.height;d===0&&y===0||o(d,y)});return c.observe(r),OV(n,o),c}function kp(n,t,e){e&&e.disconnect(),t==="resize"&&kV(n)}function PV(n,t,e){const i=n.canvas,r=S2(o=>{n.ctx!==null&&e(IV(o,n))},n);return RV(i,t,r),r}class VV extends B2{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(xV(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Jf])return!1;const i=e[Jf].initial;["height","width"].forEach(o=>{const c=i[o];oe(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[Jf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:MV,detach:DV,resize:NV}[e]||PV;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:kp,detach:kp,resize:kp}[e]||CV)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return O6(t,e,i,r)}isAttached(t){const e=t&&k_(t);return!!(e&&e.isConnected)}}function LV(n){return!O_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?wV:VV}class Za{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Td(this.x)&&Td(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function zV(n,t){const e=n.options.ticks,i=UV(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?jV(t):[],c=o.length,h=o[0],f=o[c-1],d=[];if(c>r)return FV(t,d,o,c/r),d;const y=BV(o,t,r);if(c>0){let _,E;const S=c>1?Math.round((f-h)/(c-1)):null;for(Of(t,d,y,oe(S)?0:h-S,h),_=0,E=c-1;_<E;_++)Of(t,d,y,o[_],o[_+1]);return Of(t,d,y,f,oe(S)?t.length:f+S),d}return Of(t,d,y),d}function UV(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function BV(n,t,e){const i=HV(n),r=t.length/e;if(!i)return Math.max(r,1);const o=F3(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>r)return f}return Math.max(r,1)}function jV(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function FV(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function Of(n,t,e,i,r){const o=Ht(i,0),c=Math.min(Ht(r,n.length),n.length);let h=0,f,d,y;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),y=o;y<0;)h++,y=Math.round(o+h*e);for(d=Math.max(o,0);d<c;d++)d===y&&(t.push(n[d]),h++,y=Math.round(o+h*e))}function HV(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const qV=n=>n==="left"?"right":n==="right"?"left":n,L1=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,z1=(n,t)=>Math.min(t||n,n);function U1(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function YV(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(r),d;if(!(e&&(i===1?d=Math.max(f-o,c-f):t===0?d=(n.getPixelForTick(1)-f)/2:d=(f-n.getPixelForTick(r-1))/2,f+=r<t?d:-d,f<o-h||f>c+h)))return f}function GV(n,t){te(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function Lc(n){return n.drawTicks?n.tickLength:0}function B1(n,t){if(!n.display)return 0;const e=hn(n.font,t),i=ai(n.padding);return(He(n.text)?n.text.length:1)*e.lineHeight+i.height}function WV(n,t){return Al(n,{scale:t,type:"scale"})}function KV(n,t,e){return Al(n,{tick:e,index:t,type:"tick"})}function QV(n,t,e){let i=w_(n);return(e&&t!=="right"||!e&&t==="right")&&(i=qV(i)),i}function XV(n,t,e,i){const{top:r,left:o,bottom:c,right:h,chart:f}=n,{chartArea:d,scales:y}=f;let _=0,E,S,R;const A=c-r,I=h-o;if(n.isHorizontal()){if(S=cn(i,o,h),qt(e)){const V=Object.keys(e)[0],B=e[V];R=y[V].getPixelForValue(B)+A-t}else e==="center"?R=(d.bottom+d.top)/2+A-t:R=L1(n,e,t);E=h-o}else{if(qt(e)){const V=Object.keys(e)[0],B=e[V];S=y[V].getPixelForValue(B)-I+t}else e==="center"?S=(d.left+d.right)/2-I+t:S=L1(n,e,t);R=cn(i,c,r),_=e==="left"?-qe:qe}return{titleX:S,titleY:R,maxWidth:E,rotation:_}}class xl extends Za{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Gi(t,Number.POSITIVE_INFINITY),e=Gi(e,Number.NEGATIVE_INFINITY),i=Gi(i,Number.POSITIVE_INFINITY),r=Gi(r,Number.NEGATIVE_INFINITY),{min:Gi(t,i),max:Gi(e,r),minDefined:ri(t),maxDefined:ri(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,d=h.length;f<d;++f)c=h[f].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Gi(e,Gi(i,e)),max:Gi(i,Gi(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){he(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=y6(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?U1(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=zV(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){he(this.options.afterUpdate,[this])}beforeSetDimensions(){he(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){he(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),he(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){he(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=he(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){he(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){he(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=z1(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,h,f,d;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const y=this._getLabelSizes(),_=y.widest.width,E=y.highest.height,S=Cn(this.chart.width-_,0,this.maxWidth);h=t.offset?this.maxWidth/i:S/(i-1),_+6>h&&(h=S/(i-(t.offset?.5:1)),f=this.maxHeight-Lc(t.grid)-e.padding-B1(t.title,this.chart.options.font),d=Math.sqrt(_*_+E*E),c=G3(Math.min(Math.asin(Cn((y.highest.height+6)/h,-1,1)),Math.asin(Cn(f/d,-1,1))-Math.asin(Cn(E/d,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){he(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){he(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=B1(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=Lc(o)+f):(t.height=this.maxHeight,t.width=Lc(o)+f),i.display&&this.ticks.length){const{first:d,last:y,widest:_,highest:E}=this._getLabelSizes(),S=i.padding*2,R=Ds(this.labelRotation),A=Math.cos(R),I=Math.sin(R);if(h){const V=i.mirror?0:I*_.width+A*E.height;t.height=Math.min(this.maxHeight,t.height+V+S)}else{const V=i.mirror?0:A*_.width+I*E.height;t.width=Math.min(this.maxWidth,t.width+V+S)}this._calculatePadding(d,y,I,A)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,d=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let E=0,S=0;f?d?(E=r*t.width,S=i*e.height):(E=i*t.height,S=r*e.width):o==="start"?S=e.width:o==="end"?E=t.width:o!=="inner"&&(E=t.width/2,S=e.width/2),this.paddingLeft=Math.max((E-y+c)*this.width/(this.width-y),0),this.paddingRight=Math.max((S-_+c)*this.width/(this.width-_),0)}else{let y=e.height/2,_=t.height/2;o==="start"?(y=0,_=t.height):o==="end"&&(y=e.height,_=0),this.paddingTop=y+c,this.paddingBottom=_+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){he(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)oe(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=U1(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/z1(e,i));let d=0,y=0,_,E,S,R,A,I,V,B,W,rt,et;for(_=0;_<e;_+=f){if(R=t[_].label,A=this._resolveTickFontOptions(_),r.font=I=A.string,V=o[I]=o[I]||{data:{},gc:[]},B=A.lineHeight,W=rt=0,!oe(R)&&!He(R))W=g1(r,V.data,V.gc,W,R),rt=B;else if(He(R))for(E=0,S=R.length;E<S;++E)et=R[E],!oe(et)&&!He(et)&&(W=g1(r,V.data,V.gc,W,et),rt+=B);c.push(W),h.push(rt),d=Math.max(W,d),y=Math.max(rt,y)}GV(o,e);const ot=c.indexOf(d),M=h.indexOf(y),C=D=>({width:c[D]||0,height:h[D]||0});return{first:C(0),last:C(e-1),widest:C(ot),highest:C(M),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return K3(this._alignToPixels?Ca(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=KV(this.getContext(),t,i))}return this.$context||(this.$context=WV(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ds(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*r?h/i:f/r:f*r<h*i?f/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,f=o.offset,d=this.isHorizontal(),_=this.ticks.length+(f?1:0),E=Lc(o),S=[],R=h.setContext(this.getContext()),A=R.display?R.width:0,I=A/2,V=function(Q){return Ca(i,Q,A)};let B,W,rt,et,ot,M,C,D,P,k,L,O;if(c==="top")B=V(this.bottom),M=this.bottom-E,D=B-I,k=V(t.top)+I,O=t.bottom;else if(c==="bottom")B=V(this.top),k=t.top,O=V(t.bottom)-I,M=B+I,D=this.top+E;else if(c==="left")B=V(this.right),ot=this.right-E,C=B-I,P=V(t.left)+I,L=t.right;else if(c==="right")B=V(this.left),P=t.left,L=V(t.right)-I,ot=B+I,C=this.left+E;else if(e==="x"){if(c==="center")B=V((t.top+t.bottom)/2+.5);else if(qt(c)){const Q=Object.keys(c)[0],at=c[Q];B=V(this.chart.scales[Q].getPixelForValue(at))}k=t.top,O=t.bottom,M=B+I,D=M+E}else if(e==="y"){if(c==="center")B=V((t.left+t.right)/2);else if(qt(c)){const Q=Object.keys(c)[0],at=c[Q];B=V(this.chart.scales[Q].getPixelForValue(at))}ot=B-I,C=ot-E,P=t.left,L=t.right}const Dt=Ht(r.ticks.maxTicksLimit,_),wt=Math.max(1,Math.ceil(_/Dt));for(W=0;W<_;W+=wt){const Q=this.getContext(W),at=o.setContext(Q),dt=h.setContext(Q),bt=at.lineWidth,Nt=at.color,z=dt.dash||[],Z=dt.dashOffset,ct=at.tickWidth,ut=at.tickColor,_t=at.tickBorderDash||[],Et=at.tickBorderDashOffset;rt=YV(this,W,f),rt!==void 0&&(et=Ca(i,rt,bt),d?ot=C=P=L=et:M=D=k=O=et,S.push({tx1:ot,ty1:M,tx2:C,ty2:D,x1:P,y1:k,x2:L,y2:O,width:bt,color:Nt,borderDash:z,borderDashOffset:Z,tickWidth:ct,tickColor:ut,tickBorderDash:_t,tickBorderDashOffset:Et}))}return this._ticksLength=_,this._borderValue=B,S}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:d,padding:y,mirror:_}=o,E=Lc(i.grid),S=E+y,R=_?-y:S,A=-Ds(this.labelRotation),I=[];let V,B,W,rt,et,ot,M,C,D,P,k,L,O="middle";if(r==="top")ot=this.bottom-R,M=this._getXAxisLabelAlignment();else if(r==="bottom")ot=this.top+R,M=this._getXAxisLabelAlignment();else if(r==="left"){const wt=this._getYAxisLabelAlignment(E);M=wt.textAlign,et=wt.x}else if(r==="right"){const wt=this._getYAxisLabelAlignment(E);M=wt.textAlign,et=wt.x}else if(e==="x"){if(r==="center")ot=(t.top+t.bottom)/2+S;else if(qt(r)){const wt=Object.keys(r)[0],Q=r[wt];ot=this.chart.scales[wt].getPixelForValue(Q)+S}M=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")et=(t.left+t.right)/2-S;else if(qt(r)){const wt=Object.keys(r)[0],Q=r[wt];et=this.chart.scales[wt].getPixelForValue(Q)}M=this._getYAxisLabelAlignment(E).textAlign}e==="y"&&(f==="start"?O="top":f==="end"&&(O="bottom"));const Dt=this._getLabelSizes();for(V=0,B=h.length;V<B;++V){W=h[V],rt=W.label;const wt=o.setContext(this.getContext(V));C=this.getPixelForTick(V)+o.labelOffset,D=this._resolveTickFontOptions(V),P=D.lineHeight,k=He(rt)?rt.length:1;const Q=k/2,at=wt.color,dt=wt.textStrokeColor,bt=wt.textStrokeWidth;let Nt=M;c?(et=C,M==="inner"&&(V===B-1?Nt=this.options.reverse?"left":"right":V===0?Nt=this.options.reverse?"right":"left":Nt="center"),r==="top"?d==="near"||A!==0?L=-k*P+P/2:d==="center"?L=-Dt.highest.height/2-Q*P+P:L=-Dt.highest.height+P/2:d==="near"||A!==0?L=P/2:d==="center"?L=Dt.highest.height/2-Q*P:L=Dt.highest.height-k*P,_&&(L*=-1),A!==0&&!wt.showLabelBackdrop&&(et+=P/2*Math.sin(A))):(ot=C,L=(1-k)*P/2);let z;if(wt.showLabelBackdrop){const Z=ai(wt.backdropPadding),ct=Dt.heights[V],ut=Dt.widths[V];let _t=L-Z.top,Et=0-Z.left;switch(O){case"middle":_t-=ct/2;break;case"bottom":_t-=ct;break}switch(M){case"center":Et-=ut/2;break;case"right":Et-=ut;break;case"inner":V===B-1?Et-=ut:V>0&&(Et-=ut/2);break}z={left:Et,top:_t,width:ut+Z.width,height:ct+Z.height,color:wt.backdropColor}}I.push({label:rt,font:D,textOffset:L,options:{rotation:A,color:at,strokeColor:dt,strokeWidth:bt,textAlign:Nt,textBaseline:O,translation:[et,ot],backdrop:z}})}return I}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ds(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let d,y;return e==="left"?r?(y=this.right+o,i==="near"?d="left":i==="center"?(d="center",y+=f/2):(d="right",y+=f)):(y=this.right-h,i==="near"?d="right":i==="center"?(d="center",y-=f/2):(d="left",y=this.left)):e==="right"?r?(y=this.left+o,i==="near"?d="right":i==="center"?(d="center",y-=f/2):(d="left",y-=f)):(y=this.left+h,i==="near"?d="left":i==="center"?(d="center",y+=f/2):(d="right",y=this.right)):d="right",{textAlign:d,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,d,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const f=r[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let d,y,_,E;this.isHorizontal()?(d=Ca(t,this.left,c)-c/2,y=Ca(t,this.right,h)+h/2,_=E=f):(_=Ca(t,this.top,c)-c/2,E=Ca(t,this.bottom,h)+h/2,d=y=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(d,_),e.lineTo(y,E),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&x_(i,r);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,d=c.label,y=c.textOffset;wu(i,d,0,y,f,h)}r&&R_(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=hn(i.font),c=ai(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||qt(e)?(f+=c.bottom,He(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:d,titleY:y,maxWidth:_,rotation:E}=XV(this,f,e,h);wu(t,i.text,0,0,o,{color:i.color,maxWidth:_,rotation:E,textAlign:QV(h,e,r),textBaseline:"middle",translation:[d,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Ht(t.grid&&t.grid.z,-1),r=Ht(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==xl.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return hn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class kf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;ZV(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,$V(t,c,i),this.override&&Ae.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Ae[r]&&(delete Ae[r][i],this.override&&delete Wa[i])}}function $V(n,t,e){const i=Tu(Object.create(null),[e?Ae.get(e):{},Ae.get(t),n.defaults]);Ae.set(t,i),n.defaultRoutes&&JV(t,n.defaultRoutes),n.descriptors&&Ae.describe(t,n.descriptors)}function JV(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");Ae.route(o,r,f,h)})}function ZV(n){return"id"in n&&"defaults"in n}class tL{constructor(){this.controllers=new kf(N_,"datasets",!0),this.elements=new kf(Za,"elements"),this.plugins=new kf(Object,"plugins"),this.scales=new kf(xl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):te(r,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const r=T_(t);he(i["before"+r],[],i),e[t](i),he(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Ki=new tL;class eL{constructor(){this._init=void 0}notify(t,e,i,r){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,h=c[i],f=[e,r,o.options];if(he(h,f,c)===!1&&r.cancelable)return!1}return!0}invalidate(){oe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Ht(i.options&&i.options.plugins,{}),o=nL(i);return r===!1&&!e?[]:sL(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function nL(n){const t={},e=[],i=Object.keys(Ki.plugins.items);for(let o=0;o<i.length;o++)e.push(Ki.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function iL(n,t){return!t&&n===!1?null:n===!0?{}:n}function sL(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const h of t){const f=h.id,d=iL(i[f],r);d!==null&&o.push({plugin:h,options:rL(n.config,{plugin:h,local:e[f]},d,c)})}return o}function rL(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function py(n,t){const e=Ae.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function aL(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function oL(n,t){return n===t?"_index_":"_value_"}function j1(n){if(n==="x"||n==="y"||n==="r")return n}function lL(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function yy(n,...t){if(j1(n))return n;for(const e of t){const i=e.axis||lL(e.position)||n.length>1&&j1(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function F1(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function cL(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return F1(n,"x",e[0])||F1(n,"y",e[0])}return{}}function uL(n,t){const e=Wa[n.type]||{scales:{}},i=t.scales||{},r=py(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!qt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=yy(c,h,cL(c,n),Ae.scales[h.type]),d=oL(f,r),y=e.scales||{};o[c]=su(Object.create(null),[{axis:f},h,y[f],y[d]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||py(h,t),y=(Wa[h]||{}).scales||{};Object.keys(y).forEach(_=>{const E=aL(_,f),S=c[E+"AxisID"]||E;o[S]=o[S]||Object.create(null),su(o[S],[{axis:E},i[S],y[_]])})}),Object.keys(o).forEach(c=>{const h=o[c];su(h,[Ae.scales[h.type],Ae.scale])}),o}function H2(n){const t=n.options||(n.options={});t.plugins=Ht(t.plugins,{}),t.scales=uL(n,t)}function q2(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function hL(n){return n=n||{},n.data=q2(n.data),H2(n),n}const H1=new Map,Y2=new Set;function Nf(n,t){let e=H1.get(n);return e||(e=t(),H1.set(n,e),Y2.add(e)),e}const zc=(n,t,e)=>{const i=Ga(t,e);i!==void 0&&n.add(i)};class fL{constructor(t){this._config=hL(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=q2(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),H2(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Nf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Nf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Nf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Nf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const f=new Set;e.forEach(y=>{t&&(f.add(t),y.forEach(_=>zc(f,t,_))),y.forEach(_=>zc(f,r,_)),y.forEach(_=>zc(f,Wa[o]||{},_)),y.forEach(_=>zc(f,Ae,_)),y.forEach(_=>zc(f,gy,_))});const d=Array.from(f);return d.length===0&&d.push(Object.create(null)),Y2.has(e)&&c.set(e,d),d}chartOptionScopes(){const{options:t,type:e}=this;return[t,Wa[e]||{},Ae.datasets[e]||{},{type:e},Ae,gy]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=q1(this._resolverCache,t,r);let f=c;if(mL(c,e)){o.$shared=!1,i=qr(i)?i():i;const d=this.createResolver(t,i,h);f=dl(c,i,d)}for(const d of e)o[d]=f[d];return o}createResolver(t,e,i=[""],r){const{resolver:o}=q1(this._resolverCache,t,i);return qt(e)?dl(o,e,void 0,r):o}}function q1(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:I_(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const dL=n=>qt(n)&&Object.getOwnPropertyNames(n).some(t=>qr(n[t]));function mL(n,t){const{isScriptable:e,isIndexable:i}=I2(n);for(const r of t){const o=e(r),c=i(r),h=(c||o)&&n[r];if(o&&(qr(h)||dL(h))||c&&He(h))return!0}return!1}var gL="4.5.1";const pL=["top","bottom","left","right","chartArea"];function Y1(n,t){return n==="top"||n==="bottom"||pL.indexOf(n)===-1&&t==="x"}function G1(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function W1(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),he(e&&e.onComplete,[n],t)}function yL(n){const t=n.chart,e=t.options.animation;he(e&&e.onProgress,[n],t)}function G2(n){return O_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Zf={},K1=n=>{const t=G2(n);return Object.values(Zf).filter(e=>e.canvas===t).pop()};function _L(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function vL(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let nm=class{static defaults=Ae;static instances=Zf;static overrides=Wa;static registry=Ki;static version=gL;static getChart=K1;static register(...t){Ki.add(...t),Q1()}static unregister(...t){Ki.remove(...t),Q1()}constructor(t,e){const i=this.config=new fL(e),r=G2(t),o=K1(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||LV(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),f=h&&h.canvas,d=f&&f.height,y=f&&f.width;if(this.id=N3(),this.ctx=h,this.canvas=f,this.width=y,this.height=d,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new eL,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=J3(_=>this.update(_),c.resizeDelay||0),this._dataChanges=[],Zf[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}xs.listen(this,"complete",W1),xs.listen(this,"progress",yL),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return oe(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ki}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():b1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return p1(this.canvas,this.ctx),this}stop(){return xs.stop(this),this}resize(t,e){xs.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,b1(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),he(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};te(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=yy(c,h),d=f==="r",y=f==="x";return{options:h,dposition:d?"chartArea":y?"bottom":"left",dtype:d?"radialLinear":y?"category":"linear"}}))),te(o,c=>{const h=c.options,f=h.id,d=yy(f,h),y=Ht(h.type,c.dtype);(h.position===void 0||Y1(h.position,d)!==Y1(c.dposition))&&(h.position=c.dposition),r[f]=!0;let _=null;if(f in i&&i[f].type===y)_=i[f];else{const E=Ki.getScale(y);_=new E({id:f,type:y,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(h,t)}),te(r,(c,h)=>{c||delete i[h]}),te(i,c=>{ii.configure(this,c,c.options),ii.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(G1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||py(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=Ki.getController(h),{datasetElementType:d,dataElementType:y}=Ae.datasets[h];Object.assign(f,{dataElementType:Ki.getElement(y),datasetElementType:d&&Ki.getElement(d)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){te(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let d=0,y=this.data.datasets.length;d<y;d++){const{controller:_}=this.getDatasetMeta(d),E=!r&&o.indexOf(_)===-1;_.buildOrUpdateElements(E),c=Math.max(+_.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||te(o,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(G1("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){te(this.scales,t=>{ii.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!a1(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;_L(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!a1(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ii.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],te(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,qr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(xs.has(this)?this.attached&&!xs.running(this)&&xs.start(this):(this.draw(),W1({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=L6(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&x_(e,r),t.controller.draw(),r&&R_(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return R2(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=pV.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Al(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);Su(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),xs.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),p1(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Zf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};te(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,d)=>{e.addEventListener(this,f,d),t[f]=d},r=(f,d)=>{t[f]&&(e.removeEventListener(this,f,d),delete t[f])},o=(f,d)=>{this.canvas&&this.resize(f,d)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){te(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},te(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const d=c&&this.getDatasetMeta(c.datasetIndex).controller;d&&d[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!vd(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,d)=>f.filter(y=>!d.some(_=>y.datasetIndex===_.datasetIndex&&y.index===_.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,h=this._getActiveElements(t,r,i,c),f=B3(t),d=vL(t,this._lastEvent,i,f);i&&(this._lastEvent=null,he(o.onHover,[t,h,this],this),f&&he(o.onClick,[t,h,this],this));const y=!vd(h,r);return(y||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=d,y}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function Q1(){return te(nm.instances,n=>n._plugins.invalidate())}function bL(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:c,innerRadius:h,options:f}=t,{borderWidth:d,borderJoinStyle:y}=f,_=Math.min(d/c,Xi(i-e));if(n.beginPath(),n.arc(r,o,c-d/2,i+_/2,e-_/2),h>0){const E=Math.min(d/h,Xi(i-e));n.arc(r,o,h+d/2,e-E/2,i+E/2,!0)}else{const E=Math.min(d/2,c*Xi(i-e));if(y==="round")n.arc(r,o,E,e-ae/2,i+ae/2,!0);else if(y==="bevel"){const S=2*E*E,R=-S*Math.cos(e+ae/2)+r,A=-S*Math.sin(e+ae/2)+o,I=S*Math.cos(i+ae/2)+r,V=S*Math.sin(i+ae/2)+o;n.lineTo(R,A),n.lineTo(I,V)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function EL(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:c,outerRadius:h,innerRadius:f}=t;let d=r/h;n.beginPath(),n.arc(o,c,h,i-d,e+d),f>r?(d=r/f,n.arc(o,c,f,e+d,i-d,!0)):n.arc(o,c,r,e+qe,i-qe),n.closePath(),n.clip()}function TL(n){return C_(n,["outerStart","outerEnd","innerStart","innerEnd"])}function SL(n,t,e,i){const r=TL(n.options.borderRadius),o=(e-t)/2,c=Math.min(o,i*t/2),h=f=>{const d=(e-Math.min(o,f))*i/2;return Cn(f,0,Math.min(o,d))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:Cn(r.innerStart,0,c),innerEnd:Cn(r.innerEnd,0,c)}}function Go(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Rd(n,t,e,i,r,o){const{x:c,y:h,startAngle:f,pixelMargin:d,innerRadius:y}=t,_=Math.max(t.outerRadius+i+e-d,0),E=y>0?y+i+e+d:0;let S=0;const R=r-f;if(i){const wt=y>0?y-i:0,Q=_>0?_-i:0,at=(wt+Q)/2,dt=at!==0?R*at/(at+i):R;S=(R-dt)/2}const A=Math.max(.001,R*_-e/ae)/_,I=(R-A)/2,V=f+I+S,B=r-I-S,{outerStart:W,outerEnd:rt,innerStart:et,innerEnd:ot}=SL(t,E,_,B-V),M=_-W,C=_-rt,D=V+W/M,P=B-rt/C,k=E+et,L=E+ot,O=V+et/k,Dt=B-ot/L;if(n.beginPath(),o){const wt=(D+P)/2;if(n.arc(c,h,_,D,wt),n.arc(c,h,_,wt,P),rt>0){const bt=Go(C,P,c,h);n.arc(bt.x,bt.y,rt,P,B+qe)}const Q=Go(L,B,c,h);if(n.lineTo(Q.x,Q.y),ot>0){const bt=Go(L,Dt,c,h);n.arc(bt.x,bt.y,ot,B+qe,Dt+Math.PI)}const at=(B-ot/E+(V+et/E))/2;if(n.arc(c,h,E,B-ot/E,at,!0),n.arc(c,h,E,at,V+et/E,!0),et>0){const bt=Go(k,O,c,h);n.arc(bt.x,bt.y,et,O+Math.PI,V-qe)}const dt=Go(M,V,c,h);if(n.lineTo(dt.x,dt.y),W>0){const bt=Go(M,D,c,h);n.arc(bt.x,bt.y,W,V-qe,D)}}else{n.moveTo(c,h);const wt=Math.cos(D)*_+c,Q=Math.sin(D)*_+h;n.lineTo(wt,Q);const at=Math.cos(P)*_+c,dt=Math.sin(P)*_+h;n.lineTo(at,dt)}n.closePath()}function wL(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h}=t;let f=t.endAngle;if(o){Rd(n,t,e,i,f,r);for(let d=0;d<o;++d)n.fill();isNaN(h)||(f=c+(h%Ue||Ue))}return Rd(n,t,e,i,f,r),n.fill(),f}function AL(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h,options:f}=t,{borderWidth:d,borderJoinStyle:y,borderDash:_,borderDashOffset:E,borderRadius:S}=f,R=f.borderAlign==="inner";if(!d)return;n.setLineDash(_||[]),n.lineDashOffset=E,R?(n.lineWidth=d*2,n.lineJoin=y||"round"):(n.lineWidth=d,n.lineJoin=y||"bevel");let A=t.endAngle;if(o){Rd(n,t,e,i,A,r);for(let I=0;I<o;++I)n.stroke();isNaN(h)||(A=c+(h%Ue||Ue))}R&&EL(n,t,A),f.selfJoin&&A-c>=ae&&S===0&&y!=="miter"&&bL(n,t,A),o||(Rd(n,t,e,i,A,r),n.stroke())}class xL extends Za{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:c}=v2(r,{x:t,y:e}),{startAngle:h,endAngle:f,innerRadius:d,outerRadius:y,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),E=(this.options.spacing+this.options.borderWidth)/2,S=Ht(_,f-h),R=Sd(o,h,f)&&h!==f,A=S>=Ue||R,I=Na(c,d+E,y+E);return A&&I}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:d}=this.options,y=(r+o)/2,_=(c+h+d+f)/2;return{x:e+Math.cos(y)*_,y:i+Math.sin(y)*_}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,c=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>Ue?Math.floor(i/Ue):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*r,Math.sin(h)*r);const f=1-Math.sin(Math.min(ae,i||0)),d=r*f;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,wL(t,this,d,o,c),AL(t,this,d,o,c),t.restore()}}function W2(n,t){const{x:e,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,f,d,y,_;return n.horizontal?(_=c/2,h=Math.min(e,r),f=Math.max(e,r),d=i-_,y=i+_):(_=o/2,h=e-_,f=e+_,d=Math.min(i,r),y=Math.max(i,r)),{left:h,top:d,right:f,bottom:y}}function Ir(n,t,e,i){return n?0:Cn(t,e,i)}function RL(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=C2(i);return{t:Ir(r.top,o.top,0,e),r:Ir(r.right,o.right,0,t),b:Ir(r.bottom,o.bottom,0,e),l:Ir(r.left,o.left,0,t)}}function CL(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=sl(r),c=Math.min(t,e),h=n.borderSkipped,f=i||qt(r);return{topLeft:Ir(!f||h.top||h.left,o.topLeft,0,c),topRight:Ir(!f||h.top||h.right,o.topRight,0,c),bottomLeft:Ir(!f||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:Ir(!f||h.bottom||h.right,o.bottomRight,0,c)}}function IL(n){const t=W2(n),e=t.right-t.left,i=t.bottom-t.top,r=RL(n,e/2,i/2),o=CL(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Np(n,t,e,i){const r=t===null,o=e===null,h=n&&!(r&&o)&&W2(n,i);return h&&(r||Na(t,h.left,h.right))&&(o||Na(e,h.top,h.bottom))}function ML(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function DL(n,t){n.rect(t.x,t.y,t.w,t.h)}function Pp(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class OL extends Za{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=IL(this),h=ML(c.radius)?wd:DL;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,Pp(c,e,o)),t.clip(),h(t,Pp(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,Pp(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return Np(this,t,e,i)}inXRange(t,e){return Np(this,t,null,e)}inYRange(t,e){return Np(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const X1=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},kL=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class $1 extends Za{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=he(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=hn(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=X1(i,o);let d,y;e.font=r.string,this.isHorizontal()?(d=this.maxWidth,y=this._fitRows(c,o,h,f)+10):(y=this.maxHeight,d=this._fitCols(c,r,h,f)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],d=this.lineWidths=[0],y=r+h;let _=t;o.textAlign="left",o.textBaseline="middle";let E=-1,S=-y;return this.legendItems.forEach((R,A)=>{const I=i+e/2+o.measureText(R.text).width;(A===0||d[d.length-1]+I+2*h>c)&&(_+=y,d[d.length-(A>0?0:1)]=0,S+=y,E++),f[A]={left:0,top:S,row:E,width:I,height:r},d[d.length-1]+=I+h}),_}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],d=this.columnSizes=[],y=c-t;let _=h,E=0,S=0,R=0,A=0;return this.legendItems.forEach((I,V)=>{const{itemWidth:B,itemHeight:W}=NL(i,e,o,I,r);V>0&&S+W+2*h>y&&(_+=E+h,d.push({width:E,height:S}),R+=E+h,A++,E=S=0),f[V]={left:R,top:S,col:A,width:B,height:W},E=Math.max(E,B),S+=W+h}),_+=E,d.push({width:E,height:S}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=rl(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=cn(i,this.left+r,this.right-this.lineWidths[h]);for(const d of e)h!==d.row&&(h=d.row,f=cn(i,this.left+r,this.right-this.lineWidths[h])),d.top+=this.top+t+r,d.left=c.leftForLtr(c.x(f),d.width),f+=d.width+r}else{let h=0,f=cn(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const d of e)d.col!==h&&(h=d.col,f=cn(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),d.top=f,d.left+=this.left+r,d.left=c.leftForLtr(c.x(d.left),d.width),f+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;x_(t,this),this._draw(),R_(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,h=Ae.color,f=rl(t.rtl,this.left,this.width),d=hn(c.font),{padding:y}=c,_=d.size,E=_/2;let S;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:R,boxHeight:A,itemHeight:I}=X1(c,_),V=function(ot,M,C){if(isNaN(R)||R<=0||isNaN(A)||A<0)return;r.save();const D=Ht(C.lineWidth,1);if(r.fillStyle=Ht(C.fillStyle,h),r.lineCap=Ht(C.lineCap,"butt"),r.lineDashOffset=Ht(C.lineDashOffset,0),r.lineJoin=Ht(C.lineJoin,"miter"),r.lineWidth=D,r.strokeStyle=Ht(C.strokeStyle,h),r.setLineDash(Ht(C.lineDash,[])),c.usePointStyle){const P={radius:A*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:D},k=f.xPlus(ot,R/2),L=M+E;x2(r,P,k,L,c.pointStyleWidth&&R)}else{const P=M+Math.max((_-A)/2,0),k=f.leftForLtr(ot,R),L=sl(C.borderRadius);r.beginPath(),Object.values(L).some(O=>O!==0)?wd(r,{x:k,y:P,w:R,h:A,radius:L}):r.rect(k,P,R,A),r.fill(),D!==0&&r.stroke()}r.restore()},B=function(ot,M,C){wu(r,C.text,ot,M+I/2,d,{strikethrough:C.hidden,textAlign:f.textAlign(C.textAlign)})},W=this.isHorizontal(),rt=this._computeTitleHeight();W?S={x:cn(o,this.left+y,this.right-i[0]),y:this.top+y+rt,line:0}:S={x:this.left+y,y:cn(o,this.top+rt+y,this.bottom-e[0].height),line:0},k2(this.ctx,t.textDirection);const et=I+y;this.legendItems.forEach((ot,M)=>{r.strokeStyle=ot.fontColor,r.fillStyle=ot.fontColor;const C=r.measureText(ot.text).width,D=f.textAlign(ot.textAlign||(ot.textAlign=c.textAlign)),P=R+E+C;let k=S.x,L=S.y;f.setWidth(this.width),W?M>0&&k+P+y>this.right&&(L=S.y+=et,S.line++,k=S.x=cn(o,this.left+y,this.right-i[S.line])):M>0&&L+et>this.bottom&&(k=S.x=k+e[S.line].width+y,S.line++,L=S.y=cn(o,this.top+rt+y,this.bottom-e[S.line].height));const O=f.x(k);if(V(O,L,ot),k=Z3(D,k+R+E,W?k+P:this.right,t.rtl),B(f.x(k),L,ot),W)S.x+=P+y;else if(typeof ot.text!="string"){const Dt=d.lineHeight;S.y+=K2(ot,Dt)+y}else S.y+=et}),N2(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=hn(e.font),r=ai(e.padding);if(!e.display)return;const o=rl(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=i.size/2,d=r.top+f;let y,_=this.left,E=this.width;if(this.isHorizontal())E=Math.max(...this.lineWidths),y=this.top+d,_=cn(t.align,_,this.right-E);else{const R=this.columnSizes.reduce((A,I)=>Math.max(A,I.height),0);y=d+cn(t.align,this.top,this.bottom-R-t.labels.padding-this._computeTitleHeight())}const S=cn(h,_,_+E);c.textAlign=o.textAlign(w_(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,wu(c,e.text,S,y,i)}_computeTitleHeight(){const t=this.options.title,e=hn(t.font),i=ai(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(Na(t,this.left,this.right)&&Na(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Na(t,r.left,r.left+r.width)&&Na(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!LL(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=kL(r,i);r&&!o&&he(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&he(e.onHover,[t,i,this],this)}else i&&he(e.onClick,[t,i,this],this)}}function NL(n,t,e,i,r){const o=PL(i,n,t,e),c=VL(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function PL(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function VL(n,t,e){let i=n;return typeof t.text!="string"&&(i=K2(t,e)),i}function K2(n,t){const e=n.text?n.text.length:0;return t*e}function LL(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var zL={id:"legend",_element:$1,start(n,t,e){const i=n.legend=new $1({ctx:n.ctx,options:e,chart:n});ii.configure(n,i,e),ii.addBox(n,i)},stop(n){ii.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;ii.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const d=f.controller.getStyle(e?0:void 0),y=ai(d.borderWidth);return{text:t[f.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:c&&(h||d.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Q2 extends Za{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=He(i.text)?i.text.length:1;this._padding=ai(i.padding);const o=r*hn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:c}=this,h=c.align;let f=0,d,y,_;return this.isHorizontal()?(y=cn(h,i,o),_=e+t,d=o-i):(c.position==="left"?(y=i+t,_=cn(h,r,e),f=ae*-.5):(y=o-t,_=cn(h,e,r),f=ae*.5),d=r-e),{titleX:y,titleY:_,maxWidth:d,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=hn(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:d}=this._drawArgs(o);wu(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:d,textAlign:w_(e.align),textBaseline:"middle",translation:[c,h]})}}function UL(n,t){const e=new Q2({ctx:n.ctx,options:t,chart:n});ii.configure(n,e,t),ii.addBox(n,e),n.titleBlock=e}var BL={id:"title",_element:Q2,start(n,t,e){UL(n,e)},stop(n){const t=n.titleBlock;ii.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;ii.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Xc={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const d=f.getCenterPoint(),y=W3(t,d);y<r&&(r=y,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Wi(n,t){return t&&(He(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Rs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function jL(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function J1(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=t,f=hn(t.bodyFont),d=hn(t.titleFont),y=hn(t.footerFont),_=o.length,E=r.length,S=i.length,R=ai(t.padding);let A=R.height,I=0,V=i.reduce((rt,et)=>rt+et.before.length+et.lines.length+et.after.length,0);if(V+=n.beforeBody.length+n.afterBody.length,_&&(A+=_*d.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),V){const rt=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;A+=S*rt+(V-S)*f.lineHeight+(V-1)*t.bodySpacing}E&&(A+=t.footerMarginTop+E*y.lineHeight+(E-1)*t.footerSpacing);let B=0;const W=function(rt){I=Math.max(I,e.measureText(rt).width+B)};return e.save(),e.font=d.string,te(n.title,W),e.font=f.string,te(n.beforeBody.concat(n.afterBody),W),B=t.displayColors?c+2+t.boxPadding:0,te(i,rt=>{te(rt.before,W),te(rt.lines,W),te(rt.after,W)}),B=0,e.font=y.string,te(n.footer,W),e.restore(),I+=R.width,{width:I,height:A}}function FL(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function HL(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function qL(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:h,right:f}}=n;let d="center";return i==="center"?d=r<=(h+f)/2?"left":"right":r<=o/2?d="left":r>=c-o/2&&(d="right"),HL(d,n,t,e)&&(d="center"),d}function Z1(n,t,e){const i=e.yAlign||t.yAlign||FL(n,e);return{xAlign:e.xAlign||t.xAlign||qL(n,t,e,i),yAlign:i}}function YL(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function GL(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function tS(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,d=r+o,{topLeft:y,topRight:_,bottomLeft:E,bottomRight:S}=sl(c);let R=YL(t,h);const A=GL(t,f,d);return f==="center"?h==="left"?R+=d:h==="right"&&(R-=d):h==="left"?R-=Math.max(y,E)+r:h==="right"&&(R+=Math.max(_,S)+r),{x:Cn(R,0,i.width-t.width),y:Cn(A,0,i.height-t.height)}}function Pf(n,t,e){const i=ai(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function eS(n){return Wi([],Rs(n))}function WL(n,t,e){return Al(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function nS(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const X2={beforeTitle:As,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:As,beforeBody:As,beforeLabel:As,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return oe(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:As,afterBody:As,beforeFooter:As,footer:As,afterFooter:As};function Sn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?X2[t].call(e,i):r}class iS extends Za{static positioners=Xc;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new P2(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=WL(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Sn(i,"beforeTitle",this,t),o=Sn(i,"title",this,t),c=Sn(i,"afterTitle",this,t);let h=[];return h=Wi(h,Rs(r)),h=Wi(h,Rs(o)),h=Wi(h,Rs(c)),h}getBeforeBody(t,e){return eS(Sn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return te(t,o=>{const c={before:[],lines:[],after:[]},h=nS(i,o);Wi(c.before,Rs(Sn(h,"beforeLabel",this,o))),Wi(c.lines,Sn(h,"label",this,o)),Wi(c.after,Rs(Sn(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return eS(Sn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Sn(i,"beforeFooter",this,t),o=Sn(i,"footer",this,t),c=Sn(i,"afterFooter",this,t);let h=[];return h=Wi(h,Rs(r)),h=Wi(h,Rs(o)),h=Wi(h,Rs(c)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],f,d;for(f=0,d=e.length;f<d;++f)h.push(jL(this.chart,e[f]));return t.filter&&(h=h.filter((y,_,E)=>t.filter(y,_,E,i))),t.itemSort&&(h=h.sort((y,_)=>t.itemSort(y,_,i))),te(h,y=>{const _=nS(t.callbacks,y);r.push(Sn(_,"labelColor",this,y)),o.push(Sn(_,"labelPointStyle",this,y)),c.push(Sn(_,"labelTextColor",this,y))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Xc[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=J1(this,i),d=Object.assign({},h,f),y=Z1(this.chart,i,d),_=tS(i,d,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:_.x,y:_.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:d,bottomLeft:y,bottomRight:_}=sl(h),{x:E,y:S}=t,{width:R,height:A}=e;let I,V,B,W,rt,et;return o==="center"?(rt=S+A/2,r==="left"?(I=E,V=I-c,W=rt+c,et=rt-c):(I=E+R,V=I+c,W=rt-c,et=rt+c),B=I):(r==="left"?V=E+Math.max(f,y)+c:r==="right"?V=E+R-Math.max(d,_)-c:V=this.caretX,o==="top"?(W=S,rt=W-c,I=V-c,B=V+c):(W=S+A,rt=W+c,I=V+c,B=V-c),et=W),{x1:I,x2:V,x3:B,y1:W,y2:rt,y3:et}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,h,f;if(o){const d=rl(i.rtl,this.x,this.width);for(t.x=Pf(this,i.titleAlign,i),e.textAlign=d.textAlign(i.titleAlign),e.textBaseline="middle",c=hn(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(r[f],d.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:d}=o,y=hn(o.bodyFont),_=Pf(this,"left",o),E=r.x(_),S=f<y.lineHeight?(y.lineHeight-f)/2:0,R=e.y+S;if(o.usePointStyle){const A={radius:Math.min(d,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},I=r.leftForLtr(E,d)+d/2,V=R+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,y1(t,A,I,V),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,y1(t,A,I,V)}else{t.lineWidth=qt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const A=r.leftForLtr(E,d),I=r.leftForLtr(r.xPlus(E,1),d-2),V=sl(c.borderRadius);Object.values(V).some(B=>B!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,wd(t,{x:A,y:R,w:d,h:f,radius:V}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),wd(t,{x:I,y:R+1,w:d-2,h:f-2,radius:V}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(A,R,d,f),t.strokeRect(A,R,d,f),t.fillStyle=c.backgroundColor,t.fillRect(I,R+1,d-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:d,boxPadding:y}=i,_=hn(i.bodyFont);let E=_.lineHeight,S=0;const R=rl(i.rtl,this.x,this.width),A=function(C){e.fillText(C,R.x(t.x+S),t.y+E/2),t.y+=E+o},I=R.textAlign(c);let V,B,W,rt,et,ot,M;for(e.textAlign=c,e.textBaseline="middle",e.font=_.string,t.x=Pf(this,I,i),e.fillStyle=i.bodyColor,te(this.beforeBody,A),S=h&&I!=="right"?c==="center"?d/2+y:d+2+y:0,rt=0,ot=r.length;rt<ot;++rt){for(V=r[rt],B=this.labelTextColors[rt],e.fillStyle=B,te(V.before,A),W=V.lines,h&&W.length&&(this._drawColorBox(e,t,rt,R,i),E=Math.max(_.lineHeight,f)),et=0,M=W.length;et<M;++et)A(W[et]),E=_.lineHeight;te(V.after,A)}S=0,E=_.lineHeight,te(this.afterBody,A),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,h;if(o){const f=rl(i.rtl,this.x,this.width);for(t.x=Pf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=hn(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(r[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:d,height:y}=i,{topLeft:_,topRight:E,bottomLeft:S,bottomRight:R}=sl(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+_,f),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+d-E,f),e.quadraticCurveTo(h+d,f,h+d,f+E),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+d,f+y-R),e.quadraticCurveTo(h+d,f+y,h+d-R,f+y),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+S,f+y),e.quadraticCurveTo(h,f+y,h,f+y-S),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,f+_),e.quadraticCurveTo(h,f,h+_,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=Xc[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=J1(this,t),f=Object.assign({},c,this._size),d=Z1(e,t,f),y=tS(t,f,d,e);(r._to!==y.x||o._to!==y.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=ai(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),k2(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),N2(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:f})=>{const d=this.chart.getDatasetMeta(h);if(!d)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:d.data[f],index:f}}),o=!vd(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),f=e||!vd(c,o)||h;return f&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=Xc[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}var KL={id:"tooltip",_element:iS,positioners:Xc,afterInit(n,t,e){e&&(n.tooltip=new iS({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:X2},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const QL=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function XL(n,t,e,i){const r=n.indexOf(t);if(r===-1)return QL(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const $L=(n,t)=>n===null?null:Cn(Math.round(n),0,t);function sS(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class JL extends xl{static id="category";static defaults={ticks:{callback:sS}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(oe(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:XL(i,t,Ht(e,t),this._addedLabels),$L(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return sS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function ZL(n,t){const e=[],{bounds:r,step:o,min:c,max:h,precision:f,count:d,maxTicks:y,maxDigits:_,includeBounds:E}=n,S=o||1,R=y-1,{min:A,max:I}=t,V=!oe(c),B=!oe(h),W=!oe(d),rt=(I-A)/(_+1);let et=l1((I-A)/R/S)*S,ot,M,C,D;if(et<1e-14&&!V&&!B)return[{value:A},{value:I}];D=Math.ceil(I/et)-Math.floor(A/et),D>R&&(et=l1(D*et/R/S)*S),oe(f)||(ot=Math.pow(10,f),et=Math.ceil(et*ot)/ot),r==="ticks"?(M=Math.floor(A/et)*et,C=Math.ceil(I/et)*et):(M=A,C=I),V&&B&&o&&q3((h-c)/o,et/1e3)?(D=Math.round(Math.min((h-c)/et,y)),et=(h-c)/D,M=c,C=h):W?(M=V?c:M,C=B?h:C,D=d-1,et=(C-M)/D):(D=(C-M)/et,$f(D,Math.round(D),et/1e3)?D=Math.round(D):D=Math.ceil(D));const P=Math.max(c1(et),c1(M));ot=Math.pow(10,oe(f)?P:f),M=Math.round(M*ot)/ot,C=Math.round(C*ot)/ot;let k=0;for(V&&(E&&M!==c?(e.push({value:c}),M<c&&k++,$f(Math.round((M+k*et)*ot)/ot,c,rS(c,rt,n))&&k++):M<c&&k++);k<D;++k){const L=Math.round((M+k*et)*ot)/ot;if(B&&L>h)break;e.push({value:L})}return B&&E&&C!==h?e.length&&$f(e[e.length-1].value,h,rS(h,rt,n))?e[e.length-1].value=h:e.push({value:h}):(!B||C===h)&&e.push({value:C}),e}function rS(n,t,{horizontal:e,minRotation:i}){const r=Ds(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class t5 extends xl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return oe(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=f=>r=e?r:f,h=f=>o=i?o:f;if(t){const f=Lr(r),d=Lr(o);f<0&&d<0?h(0):f>0&&d>0&&c(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=ZL(r,o);return t.bounds==="ticks"&&Y3(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return A_(t,this.chart.options.locale,this.options.ticks.format)}}class e5 extends t5{static id="linear";static defaults={ticks:{callback:A2.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ri(t)?t:0,this.max=ri(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Ds(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const im={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Rn=Object.keys(im);function aS(n,t){return n-t}function oS(n,t){if(oe(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),ri(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(Td(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function lS(n,t,e,i){const r=Rn.length;for(let o=Rn.indexOf(n);o<r-1;++o){const c=im[Rn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return Rn[o]}return Rn[r-1]}function n5(n,t,e,i,r){for(let o=Rn.length-1;o>=Rn.indexOf(e);o--){const c=Rn[o];if(im[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return Rn[e?Rn.indexOf(e):0]}function i5(n){for(let t=Rn.indexOf(n)+1,e=Rn.length;t<e;++t)if(im[Rn[t]].common)return Rn[t]}function cS(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=S_(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function s5(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+r.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function uS(n,t,e){const i=[],r={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],r[h]=c,i.push({value:h,major:!1});return o===0||!e?i:s5(n,i,r,e)}class hS extends xl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new hV._date(t.adapters.date);r.init(e),su(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:oS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(d){!c&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!h&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=ri(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=ri(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=X3(r,o,c);return this._unit=e.unit||(i.autoSkip?lS(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):n5(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:i5(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),uS(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=Cn(e,0,c),i=Cn(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||lS(o.minUnit,e,i,this._getLabelCapacity(e)),h=Ht(r.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,d=Td(f)||f===!0,y={};let _=e,E,S;if(d&&(_=+t.startOf(_,"isoWeek",f)),_=+t.startOf(_,d?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const R=r.ticks.source==="data"&&this.getDataTimestamps();for(E=_,S=0;E<i;E=+t.add(E,h,c),S++)cS(y,E,R);return(E===i||r.bounds==="ticks"||S===1)&&cS(y,E,R),Object.keys(y).sort(aS).map(A=>+A)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return he(c,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,d=this._majorUnit,y=f&&h[f],_=d&&h[d],E=i[e],S=d&&_&&E&&E.major;return this._adapter.format(t,r||(S?_:y))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Ds(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,uS(this,[t],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(oS(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return E2(t.sort(aS))}}function Vf(n,t,e){let i=0,r=n.length-1,o,c,h,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=my(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=my(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[r]);const d=c-o;return d?h+(f-h)*(t-o)/d:h}class A9 extends hS{static id="timeseries";static defaults=hS.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Vf(e,this.min),this._tableRange=Vf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,h,f,d,y;for(c=0,h=t.length;c<h;++c)d=t[c],d>=e&&d<=i&&r.push(d);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)y=r[c+1],f=r[c-1],d=r[c],Math.round((y+f)/2)!==d&&o.push({time:d,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Vf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Vf(this._table,i*this._tableRange+this._minPos,!0)}}const $2="label";function fS(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function r5(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function J2(n,t){n.labels=t}function Z2(n,t,e=$2){const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function a5(n,t=$2){const e={labels:[],datasets:[]};return J2(e,n.labels),Z2(e,n.datasets,t),e}function o5(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:d=[],fallbackContent:y,updateMode:_,...E}=n,S=G.useRef(null),R=G.useRef(null),A=()=>{S.current&&(R.current=new nm(S.current,{type:c,data:a5(h,o),options:f&&{...f},plugins:d}),fS(t,R.current))},I=()=>{fS(t,null),R.current&&(R.current.destroy(),R.current=null)};return G.useEffect(()=>{!r&&R.current&&f&&r5(R.current,f)},[r,f]),G.useEffect(()=>{!r&&R.current&&J2(R.current.config.data,h.labels)},[r,h.labels]),G.useEffect(()=>{!r&&R.current&&h.datasets&&Z2(R.current.config.data,h.datasets,o)},[r,h.datasets]),G.useEffect(()=>{R.current&&(r?(I(),setTimeout(A)):R.current.update(_))},[r,f,h.labels,h.datasets,_]),G.useEffect(()=>{R.current&&(I(),setTimeout(A))},[c]),G.useEffect(()=>(A(),()=>I()),[]),H.jsx("canvas",{ref:S,role:"img",height:e,width:i,...E,children:y})}const l5=G.forwardRef(o5);function tx(n,t){return nm.register(t),G.forwardRef((e,i)=>H.jsx(l5,{...e,ref:i,type:n}))}const c5=tx("bar",lV),u5=tx("doughnut",uV),ex=6048e5,h5=864e5,dS=Symbol.for("constructDateFrom");function ss(n,t){return typeof n=="function"?n(t):n&&typeof n=="object"&&dS in n?n[dS](t):n instanceof Date?new n.constructor(t):new Date(t)}function oi(n,t){return ss(t||n,n)}function f5(n,t,e){const i=oi(n,e?.in);if(isNaN(t))return ss(n,NaN);if(!t)return i;const r=i.getDate(),o=ss(n,i.getTime());o.setMonth(i.getMonth()+t+1,0);const c=o.getDate();return r>=c?o:(i.setFullYear(o.getFullYear(),o.getMonth(),r),i)}let d5={};function sm(){return d5}function Ka(n,t){const e=sm(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,r=oi(n,t?.in),o=r.getDay(),c=(o<i?7:0)+o-i;return r.setDate(r.getDate()-c),r.setHours(0,0,0,0),r}function Cd(n,t){return Ka(n,{...t,weekStartsOn:1})}function nx(n,t){const e=oi(n,t?.in),i=e.getFullYear(),r=ss(e,0);r.setFullYear(i+1,0,4),r.setHours(0,0,0,0);const o=Cd(r),c=ss(e,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const h=Cd(c);return e.getTime()>=o.getTime()?i+1:e.getTime()>=h.getTime()?i:i-1}function mS(n){const t=oi(n),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+n-+e}function V_(n,...t){const e=ss.bind(null,t.find(i=>typeof i=="object"));return t.map(e)}function gS(n,t){const e=oi(n,t?.in);return e.setHours(0,0,0,0),e}function m5(n,t,e){const[i,r]=V_(e?.in,n,t),o=gS(i),c=gS(r),h=+o-mS(o),f=+c-mS(c);return Math.round((h-f)/h5)}function g5(n,t){const e=nx(n,t),i=ss(n,0);return i.setFullYear(e,0,4),i.setHours(0,0,0,0),Cd(i)}function p5(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function y5(n){return!(!p5(n)&&typeof n!="number"||isNaN(+oi(n)))}function _5(n,t){const e=oi(n,t?.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}const v5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},b5=(n,t,e)=>{let i;const r=v5[n];return typeof r=="string"?i=r:t===1?i=r.one:i=r.other.replace("{{count}}",t.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+i:i+" ago":i};function Vp(n){return(t={})=>{const e=t.width?String(t.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}const E5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},T5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},S5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},w5={date:Vp({formats:E5,defaultWidth:"full"}),time:Vp({formats:T5,defaultWidth:"full"}),dateTime:Vp({formats:S5,defaultWidth:"full"})},A5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},x5=(n,t,e,i)=>A5[n];function Uc(n){return(t,e)=>{const i=e?.context?String(e.context):"standalone";let r;if(i==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,h=e?.width?String(e.width):c;r=n.formattingValues[h]||n.formattingValues[c]}else{const c=n.defaultWidth,h=e?.width?String(e.width):n.defaultWidth;r=n.values[h]||n.values[c]}const o=n.argumentCallback?n.argumentCallback(t):t;return r[o]}}const R5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},C5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},I5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},M5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},D5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},O5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},k5=(n,t)=>{const e=Number(n),i=e%100;if(i>20||i<10)switch(i%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},N5={ordinalNumber:k5,era:Uc({values:R5,defaultWidth:"wide"}),quarter:Uc({values:C5,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Uc({values:I5,defaultWidth:"wide"}),day:Uc({values:M5,defaultWidth:"wide"}),dayPeriod:Uc({values:D5,defaultWidth:"wide",formattingValues:O5,defaultFormattingWidth:"wide"})};function Bc(n){return(t,e={})=>{const i=e.width,r=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],o=t.match(r);if(!o)return null;const c=o[0],h=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(h)?V5(h,_=>_.test(c)):P5(h,_=>_.test(c));let d;d=n.valueCallback?n.valueCallback(f):f,d=e.valueCallback?e.valueCallback(d):d;const y=t.slice(c.length);return{value:d,rest:y}}}function P5(n,t){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&t(n[e]))return e}function V5(n,t){for(let e=0;e<n.length;e++)if(t(n[e]))return e}function L5(n){return(t,e={})=>{const i=t.match(n.matchPattern);if(!i)return null;const r=i[0],o=t.match(n.parsePattern);if(!o)return null;let c=n.valueCallback?n.valueCallback(o[0]):o[0];c=e.valueCallback?e.valueCallback(c):c;const h=t.slice(r.length);return{value:c,rest:h}}}const z5=/^(\d+)(th|st|nd|rd)?/i,U5=/\d+/i,B5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},j5={any:[/^b/i,/^(a|c)/i]},F5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},H5={any:[/1/i,/2/i,/3/i,/4/i]},q5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Y5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},G5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},W5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},K5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Q5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},X5={ordinalNumber:L5({matchPattern:z5,parsePattern:U5,valueCallback:n=>parseInt(n,10)}),era:Bc({matchPatterns:B5,defaultMatchWidth:"wide",parsePatterns:j5,defaultParseWidth:"any"}),quarter:Bc({matchPatterns:F5,defaultMatchWidth:"wide",parsePatterns:H5,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Bc({matchPatterns:q5,defaultMatchWidth:"wide",parsePatterns:Y5,defaultParseWidth:"any"}),day:Bc({matchPatterns:G5,defaultMatchWidth:"wide",parsePatterns:W5,defaultParseWidth:"any"}),dayPeriod:Bc({matchPatterns:K5,defaultMatchWidth:"any",parsePatterns:Q5,defaultParseWidth:"any"})},$5={code:"en-US",formatDistance:b5,formatLong:w5,formatRelative:x5,localize:N5,match:X5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function J5(n,t){const e=oi(n,t?.in);return m5(e,_5(e))+1}function Z5(n,t){const e=oi(n,t?.in),i=+Cd(e)-+g5(e);return Math.round(i/ex)+1}function ix(n,t){const e=oi(n,t?.in),i=e.getFullYear(),r=sm(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,c=ss(t?.in||n,0);c.setFullYear(i+1,0,o),c.setHours(0,0,0,0);const h=Ka(c,t),f=ss(t?.in||n,0);f.setFullYear(i,0,o),f.setHours(0,0,0,0);const d=Ka(f,t);return+e>=+h?i+1:+e>=+d?i:i-1}function t9(n,t){const e=sm(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,r=ix(n,t),o=ss(t?.in||n,0);return o.setFullYear(r,0,i),o.setHours(0,0,0,0),Ka(o,t)}function e9(n,t){const e=oi(n,t?.in),i=+Ka(e,t)-+t9(e,t);return Math.round(i/ex)+1}function Zt(n,t){const e=n<0?"-":"",i=Math.abs(n).toString().padStart(t,"0");return e+i}const br={y(n,t){const e=n.getFullYear(),i=e>0?e:1-e;return Zt(t==="yy"?i%100:i,t.length)},M(n,t){const e=n.getMonth();return t==="M"?String(e+1):Zt(e+1,2)},d(n,t){return Zt(n.getDate(),t.length)},a(n,t){const e=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];default:return e==="am"?"a.m.":"p.m."}},h(n,t){return Zt(n.getHours()%12||12,t.length)},H(n,t){return Zt(n.getHours(),t.length)},m(n,t){return Zt(n.getMinutes(),t.length)},s(n,t){return Zt(n.getSeconds(),t.length)},S(n,t){const e=t.length,i=n.getMilliseconds(),r=Math.trunc(i*Math.pow(10,e-3));return Zt(r,t.length)}},Wo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pS={G:function(n,t,e){const i=n.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(i,{width:"abbreviated"});case"GGGGG":return e.era(i,{width:"narrow"});default:return e.era(i,{width:"wide"})}},y:function(n,t,e){if(t==="yo"){const i=n.getFullYear(),r=i>0?i:1-i;return e.ordinalNumber(r,{unit:"year"})}return br.y(n,t)},Y:function(n,t,e,i){const r=ix(n,i),o=r>0?r:1-r;if(t==="YY"){const c=o%100;return Zt(c,2)}return t==="Yo"?e.ordinalNumber(o,{unit:"year"}):Zt(o,t.length)},R:function(n,t){const e=nx(n);return Zt(e,t.length)},u:function(n,t){const e=n.getFullYear();return Zt(e,t.length)},Q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Zt(i,2);case"Qo":return e.ordinalNumber(i,{unit:"quarter"});case"QQQ":return e.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(i,{width:"narrow",context:"formatting"});default:return e.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Zt(i,2);case"qo":return e.ordinalNumber(i,{unit:"quarter"});case"qqq":return e.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(i,{width:"narrow",context:"standalone"});default:return e.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,t,e){const i=n.getMonth();switch(t){case"M":case"MM":return br.M(n,t);case"Mo":return e.ordinalNumber(i+1,{unit:"month"});case"MMM":return e.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(i,{width:"narrow",context:"formatting"});default:return e.month(i,{width:"wide",context:"formatting"})}},L:function(n,t,e){const i=n.getMonth();switch(t){case"L":return String(i+1);case"LL":return Zt(i+1,2);case"Lo":return e.ordinalNumber(i+1,{unit:"month"});case"LLL":return e.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(i,{width:"narrow",context:"standalone"});default:return e.month(i,{width:"wide",context:"standalone"})}},w:function(n,t,e,i){const r=e9(n,i);return t==="wo"?e.ordinalNumber(r,{unit:"week"}):Zt(r,t.length)},I:function(n,t,e){const i=Z5(n);return t==="Io"?e.ordinalNumber(i,{unit:"week"}):Zt(i,t.length)},d:function(n,t,e){return t==="do"?e.ordinalNumber(n.getDate(),{unit:"date"}):br.d(n,t)},D:function(n,t,e){const i=J5(n);return t==="Do"?e.ordinalNumber(i,{unit:"dayOfYear"}):Zt(i,t.length)},E:function(n,t,e){const i=n.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(i,{width:"short",context:"formatting"});default:return e.day(i,{width:"wide",context:"formatting"})}},e:function(n,t,e,i){const r=n.getDay(),o=(r-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Zt(o,2);case"eo":return e.ordinalNumber(o,{unit:"day"});case"eee":return e.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(r,{width:"short",context:"formatting"});default:return e.day(r,{width:"wide",context:"formatting"})}},c:function(n,t,e,i){const r=n.getDay(),o=(r-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Zt(o,t.length);case"co":return e.ordinalNumber(o,{unit:"day"});case"ccc":return e.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(r,{width:"narrow",context:"standalone"});case"cccccc":return e.day(r,{width:"short",context:"standalone"});default:return e.day(r,{width:"wide",context:"standalone"})}},i:function(n,t,e){const i=n.getDay(),r=i===0?7:i;switch(t){case"i":return String(r);case"ii":return Zt(r,t.length);case"io":return e.ordinalNumber(r,{unit:"day"});case"iii":return e.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(i,{width:"short",context:"formatting"});default:return e.day(i,{width:"wide",context:"formatting"})}},a:function(n,t,e){const r=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(r,{width:"narrow",context:"formatting"});default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(n,t,e){const i=n.getHours();let r;switch(i===12?r=Wo.noon:i===0?r=Wo.midnight:r=i/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(r,{width:"narrow",context:"formatting"});default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(n,t,e){const i=n.getHours();let r;switch(i>=17?r=Wo.evening:i>=12?r=Wo.afternoon:i>=4?r=Wo.morning:r=Wo.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(r,{width:"narrow",context:"formatting"});default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(n,t,e){if(t==="ho"){let i=n.getHours()%12;return i===0&&(i=12),e.ordinalNumber(i,{unit:"hour"})}return br.h(n,t)},H:function(n,t,e){return t==="Ho"?e.ordinalNumber(n.getHours(),{unit:"hour"}):br.H(n,t)},K:function(n,t,e){const i=n.getHours()%12;return t==="Ko"?e.ordinalNumber(i,{unit:"hour"}):Zt(i,t.length)},k:function(n,t,e){let i=n.getHours();return i===0&&(i=24),t==="ko"?e.ordinalNumber(i,{unit:"hour"}):Zt(i,t.length)},m:function(n,t,e){return t==="mo"?e.ordinalNumber(n.getMinutes(),{unit:"minute"}):br.m(n,t)},s:function(n,t,e){return t==="so"?e.ordinalNumber(n.getSeconds(),{unit:"second"}):br.s(n,t)},S:function(n,t){return br.S(n,t)},X:function(n,t,e){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return _S(i);case"XXXX":case"XX":return Oa(i);default:return Oa(i,":")}},x:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"x":return _S(i);case"xxxx":case"xx":return Oa(i);default:return Oa(i,":")}},O:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+yS(i,":");default:return"GMT"+Oa(i,":")}},z:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+yS(i,":");default:return"GMT"+Oa(i,":")}},t:function(n,t,e){const i=Math.trunc(+n/1e3);return Zt(i,t.length)},T:function(n,t,e){return Zt(+n,t.length)}};function yS(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),r=Math.trunc(i/60),o=i%60;return o===0?e+String(r):e+String(r)+t+Zt(o,2)}function _S(n,t){return n%60===0?(n>0?"-":"+")+Zt(Math.abs(n)/60,2):Oa(n,t)}function Oa(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),r=Zt(Math.trunc(i/60),2),o=Zt(i%60,2);return e+r+t+o}const vS=(n,t)=>{switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},sx=(n,t)=>{switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},n9=(n,t)=>{const e=n.match(/(P+)(p+)?/)||[],i=e[1],r=e[2];if(!r)return vS(n,t);let o;switch(i){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",vS(i,t)).replace("{{time}}",sx(r,t))},i9={p:sx,P:n9},s9=/^D+$/,r9=/^Y+$/,a9=["D","DD","YY","YYYY"];function o9(n){return s9.test(n)}function l9(n){return r9.test(n)}function c9(n,t,e){const i=u9(n,t,e);if(console.warn(i),a9.includes(n))throw new RangeError(i)}function u9(n,t,e){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${t}\`) for formatting ${i} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const h9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,f9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,d9=/^'([^]*?)'?$/,m9=/''/g,g9=/[a-zA-Z]/;function Mr(n,t,e){const i=sm(),r=i.locale??$5,o=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,h=oi(n,e?.in);if(!y5(h))throw new RangeError("Invalid time value");let f=t.match(f9).map(y=>{const _=y[0];if(_==="p"||_==="P"){const E=i9[_];return E(y,r.formatLong)}return y}).join("").match(h9).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const _=y[0];if(_==="'")return{isToken:!1,value:p9(y)};if(pS[_])return{isToken:!0,value:y};if(_.match(g9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:y}});r.localize.preprocessor&&(f=r.localize.preprocessor(h,f));const d={firstWeekContainsDate:o,weekStartsOn:c,locale:r};return f.map(y=>{if(!y.isToken)return y.value;const _=y.value;(l9(_)||o9(_))&&c9(_,t,String(n));const E=pS[_[0]];return E(h,_,r.localize,d)}).join("")}function p9(n){const t=n.match(d9);return t?t[1].replace(m9,"'"):n}function y9(n,t,e){const[i,r]=V_(e?.in,n,t);return+Ka(i,e)==+Ka(r,e)}function jc(n,t,e){const[i,r]=V_(e?.in,n,t);return i.getFullYear()===r.getFullYear()&&i.getMonth()===r.getMonth()}function Lf(n,t,e){return f5(n,-t,e)}nm.register(xL,KL,zL,JL,e5,OL,BL);function _9(){const{expenses:n,loading:t}=f2(),e=G.useMemo(()=>{const d=new Date,y=Lf(d,1),_=n.reduce((A,I)=>A+(parseFloat(I.amount)||0),0),E=n.filter(A=>jc(A.date,d)).reduce((A,I)=>A+parseFloat(I.amount),0),S=n.filter(A=>y9(A.date,d)).reduce((A,I)=>A+parseFloat(I.amount),0),R=n.filter(A=>jc(A.date,y)).reduce((A,I)=>A+parseFloat(I.amount),0);return{total:_,thisMonth:E,thisWeek:S,prevMonth:R}},[n]),i=G.useMemo(()=>{const d={};return n.forEach(y=>{const _=y.category||"Other";d[_]=(d[_]||0)+parseFloat(y.amount)}),{labels:Object.keys(d),datasets:[{data:Object.values(d),backgroundColor:["#6366F1","#22C55E","#F59E0B","#EF4444","#06B6D4","#A855F7"]}]}},[n]),r=G.useMemo(()=>{const d={};for(let y=5;y>=0;y--){const _=Lf(new Date,y);d[Mr(_,"MMM")]=0}return n.forEach(y=>{const _=Mr(y.date,"MMM");d[_]!==void 0&&(d[_]+=parseFloat(y.amount))}),{labels:Object.keys(d),datasets:[{label:"Monthly Spending",data:Object.values(d),backgroundColor:"rgba(99,102,241,0.6)",borderRadius:8}]}},[n]),o=G.useMemo(()=>{const d=new Date,y=Lf(d,1),_={},E={};return n.forEach(S=>{const R=parseFloat(S.amount)||0,A=S.category||"Other";jc(S.date,d)&&(_[A]=(_[A]||0)+R),jc(S.date,y)&&(E[A]=(E[A]||0)+R)}),Object.keys(_).map(S=>({category:S,change:(_[S]||0)-(E[S]||0)})).sort((S,R)=>R.change-S.change)},[n]),c=G.useMemo(()=>{if(!n.length)return 0;const d=new Set(n.map(y=>Mr(y.date,"yyyy-MM-dd")));return e.total/d.size},[n,e.total]),h=G.useMemo(()=>{let d=0,y=0;for(let _=1;_<=3;_++){const E=Lf(new Date,_),S=n.filter(R=>jc(R.date,E)).reduce((R,A)=>R+parseFloat(A.amount),0);S>0&&(d+=S,y++)}return y?d/y:0},[n]),f=e.prevMonth>0?(e.thisMonth-e.prevMonth)/e.prevMonth*100:0;return t?H.jsx("div",{className:"dashboard-loader",children:"Loading dashboard"}):H.jsxs("div",{className:"dashboard fade-in",children:[H.jsxs("header",{className:"dashboard-header",children:[H.jsx("h1",{children:"Dashboard Overview"}),H.jsx("span",{children:Mr(new Date,"MMMM d, yyyy")})]}),f>20&&H.jsxs("div",{className:"alert-card",children:[" You are spending ",H.jsxs("strong",{children:[f.toFixed(1),"%"]})," more than last month"]}),H.jsxs("section",{className:"stats-grid",children:[H.jsxs("div",{className:"stat-card highlight",children:[H.jsx(h2,{}),H.jsxs("div",{children:[H.jsx("p",{children:"Total Spending"}),H.jsxs("h2",{children:["",e.total.toLocaleString()]}),H.jsx("span",{children:"Lifetime"})]})]}),H.jsxs("div",{className:"stat-card",children:[H.jsxs("div",{children:[H.jsx("p",{children:"This Month"}),H.jsxs("h2",{children:["",e.thisMonth.toLocaleString()]})]}),H.jsxs("span",{className:`trend ${e.thisMonth>e.prevMonth?"up":"down"}`,children:[e.thisMonth>e.prevMonth?H.jsx(ZP,{}):H.jsx(JP,{})," vs last month"]})]}),H.jsxs("div",{className:"stat-card",children:[H.jsxs("div",{children:[H.jsx("p",{children:"Avg / Day"}),H.jsxs("h2",{children:["",c.toFixed(0)]})]}),H.jsx("span",{className:"muted",children:"Spending habit"})]}),H.jsxs("div",{className:"stat-card highlight",children:[H.jsxs("div",{children:[H.jsx("p",{children:"Predicted Next Month"}),H.jsxs("h2",{children:["",h.toFixed(0)]})]}),H.jsx("span",{children:"Forecast"})]})]}),H.jsxs("section",{className:"charts-grid",children:[H.jsxs("div",{className:"chart-card",children:[H.jsx("h3",{children:"Spending by Category"}),H.jsx("div",{className:"chart-box",children:i.labels.length?H.jsx(u5,{data:i}):H.jsx("p",{className:"empty",children:"No data available"})})]}),H.jsxs("div",{className:"chart-card",children:[H.jsx("h3",{children:"Monthly Trend"}),H.jsx("div",{className:"chart-box",children:H.jsx(c5,{data:r})})]}),H.jsxs("div",{className:"chart-card",children:[H.jsx("h3",{children:"Top Category Growth"}),o.slice(0,3).map(d=>H.jsxs("div",{className:"growth-row",children:[H.jsx("span",{children:d.category}),H.jsxs("span",{className:d.change>=0?"up":"down",children:[d.change>=0?"+":"-","",Math.abs(d.change).toFixed(0)]})]},d.category))]})]}),H.jsx("style",{children:`
        .dashboard-header {
          display: flex;
          justify-content: space-between;
          margin-bottom: 1.5rem;
        }
        .stats-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
          gap: 1.2rem;
          margin-bottom: 2rem;
        }
        .stat-card {
          padding: 1.4rem;
          border-radius: 16px;
          background: rgba(255,255,255,0.8);
          backdrop-filter: blur(10px);
          display: flex;
          justify-content: space-between;
          align-items: center;
        }
        .stat-card.highlight {
          background: linear-gradient(135deg, #6366F1, #4F46E5);
          color: #fff;
        }
        .charts-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
          gap: 1.5rem;
        }
        .chart-card {
          background: white;
          border-radius: 16px;
          padding: 1.5rem;
        }
        .chart-box {
          height: 280px;
        }
        .growth-row {
          display: flex;
          justify-content: space-between;
          margin-top: 0.6rem;
        }
        .up { color: #16a34a; }
        .down { color: #dc2626; }
        .alert-card {
          background: #fff7ed;
          border-left: 5px solid #f97316;
          padding: 1rem;
          margin-bottom: 1.2rem;
          border-radius: 12px;
        }
        .fade-in {
          animation: fade 0.4s ease-in;
        }
        @keyframes fade {
          from { opacity: 0; transform: translateY(8px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `})]})}const v9=["Food","Travel","Rent","Utilities","Entertainment","Health","Other"];function b9(){const{expenses:n,addExpense:t,deleteExpense:e,updateExpense:i}=f2(),[r,o]=G.useState(!1),[c,h]=G.useState(null),[f,d]=G.useState(""),[y,_]=G.useState({title:"",amount:"",category:"Food",date:Mr(new Date,"yyyy-MM-dd")}),E=n.filter(A=>A.title.toLowerCase().includes(f.toLowerCase())||A.category.toLowerCase().includes(f.toLowerCase())),S=(A=null)=>{A?(h(A.id),_({title:A.title,amount:A.amount,category:A.category,date:Mr(A.date,"yyyy-MM-dd")})):(h(null),_({title:"",amount:"",category:"Food",date:Mr(new Date,"yyyy-MM-dd")})),o(!0)},R=async A=>{A.preventDefault();const I={title:y.title,amount:parseFloat(y.amount),category:y.category,date:new Date(y.date)};c?await i(c,I):await t(I),o(!1)};return H.jsxs("div",{className:"fade-in",children:[H.jsxs("header",{className:"expenses-header",children:[H.jsx("h1",{children:"Expenses"}),H.jsxs("button",{className:"btn btn-primary",onClick:()=>S(),children:[H.jsx(r3,{})," Add Expense"]})]}),H.jsxs("div",{className:"card search-card",children:[H.jsx(a3,{}),H.jsx("input",{placeholder:"Search by title or category",value:f,onChange:A=>d(A.target.value)})]}),H.jsx("div",{className:"card table-card",children:H.jsxs("table",{children:[H.jsx("thead",{children:H.jsxs("tr",{children:[H.jsx("th",{children:"Date"}),H.jsx("th",{children:"Title"}),H.jsx("th",{children:"Category"}),H.jsx("th",{className:"amount",children:"Amount"}),H.jsx("th",{className:"actions",children:"Actions"})]})}),H.jsxs("tbody",{children:[E.map(A=>H.jsxs("tr",{children:[H.jsx("td",{children:Mr(A.date,"MMM d, yyyy")}),H.jsx("td",{className:"title",children:A.title}),H.jsx("td",{children:H.jsx("span",{className:`badge ${A.category.toLowerCase()}`,children:A.category})}),H.jsxs("td",{className:"amount",children:["",parseFloat(A.amount).toFixed(2)]}),H.jsxs("td",{className:"actions",children:[H.jsx("button",{onClick:()=>S(A),className:"icon-btn edit",children:H.jsx(n3,{})}),H.jsx("button",{onClick:()=>window.confirm("Delete this expense?")&&e(A.id),className:"icon-btn delete",children:H.jsx(c3,{})})]})]},A.id)),E.length===0&&H.jsx("tr",{children:H.jsx("td",{colSpan:"5",className:"empty",children:"No expenses found"})})]})]})}),r&&H.jsx("div",{className:"modal-overlay",children:H.jsxs("div",{className:"modal-card",children:[H.jsx("h2",{children:c?"Edit Expense":"Add Expense"}),H.jsxs("form",{onSubmit:R,children:[H.jsxs("div",{className:"input-group",children:[H.jsx("label",{children:"Title"}),H.jsx("input",{required:!0,value:y.title,onChange:A=>_({...y,title:A.target.value})})]}),H.jsxs("div",{className:"row",children:[H.jsxs("div",{className:"input-group",children:[H.jsx("label",{children:"Amount"}),H.jsx("input",{type:"number",step:"0.01",required:!0,value:y.amount,onChange:A=>_({...y,amount:A.target.value})})]}),H.jsxs("div",{className:"input-group",children:[H.jsx("label",{children:"Date"}),H.jsx("input",{type:"date",required:!0,value:y.date,onChange:A=>_({...y,date:A.target.value})})]})]}),H.jsxs("div",{className:"input-group",children:[H.jsx("label",{children:"Category"}),H.jsx("select",{value:y.category,onChange:A=>_({...y,category:A.target.value}),children:v9.map(A=>H.jsx("option",{children:A},A))})]}),H.jsxs("div",{className:"modal-actions",children:[H.jsx("button",{type:"button",className:"btn ghost",onClick:()=>o(!1),children:"Cancel"}),H.jsxs("button",{className:"btn btn-primary",children:[c?"Update":"Add"," Expense"]})]})]})]})}),H.jsx("style",{children:`
        .expenses-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 1.5rem;
        }

        .search-card {
          display: flex;
          align-items: center;
          gap: 0.75rem;
          padding: 1rem;
          margin-bottom: 1.5rem;
        }

        .search-card input {
          border: none;
          outline: none;
          width: 100%;
          font-size: 0.95rem;
        }

        .table-card {
          overflow-x: auto;
        }

        table {
          width: 100%;
          border-collapse: collapse;
          min-width: 700px;
        }

        thead {
          background: #f9fafb;
        }

        th, td {
          padding: 0.9rem;
          text-align: left;
        }

        tbody tr:hover {
          background: #f9fafb;
        }

        .title {
          font-weight: 500;
        }

        .amount {
          font-weight: 600;
        }

        .actions {
          text-align: right;
        }

        .icon-btn {
          background: none;
          border: none;
          cursor: pointer;
          padding: 6px;
          margin-left: 6px;
          border-radius: 6px;
        }

        .icon-btn.edit:hover {
          background: rgba(99,102,241,0.15);
        }

        .icon-btn.delete:hover {
          background: rgba(239,68,68,0.15);
          color: #ef4444;
        }

        .badge {
          padding: 4px 10px;
          border-radius: 999px;
          font-size: 0.8rem;
          background: rgba(99,102,241,0.12);
          color: #4f46e5;
        }

        .empty {
          text-align: center;
          padding: 2rem;
          color: var(--text-muted);
        }

        .modal-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0,0,0,0.5);
          backdrop-filter: blur(4px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
        }

        .modal-card {
          background: white;
          padding: 2rem;
          border-radius: 18px;
          width: 100%;
          max-width: 520px;
          animation: pop .3s ease;
        }

        .row {
          display: flex;
          gap: 1rem;
        }

        .modal-actions {
          display: flex;
          justify-content: flex-end;
          gap: 1rem;
          margin-top: 1.5rem;
        }

        .ghost {
          background: #f3f4f6;
        }

        @keyframes pop {
          from { opacity: 0; transform: scale(.95); }
          to { opacity: 1; transform: scale(1); }
        }
      `})]})}function bS({children:n}){const{currentUser:t}=Zd();return t?n:H.jsx(PS,{to:"/login"})}function E9({children:n}){const{currentUser:t}=Zd();return t?H.jsx(PS,{to:"/"}):n}function T9(){return H.jsx(fI,{children:H.jsx(qP,{children:H.jsxs(FC,{children:[H.jsx(zf,{path:"/login",element:H.jsx(E9,{children:H.jsx(h3,{})})}),H.jsx(zf,{path:"/",element:H.jsx(bS,{children:H.jsx(t1,{children:H.jsx(_9,{})})})}),H.jsx(zf,{path:"/expenses",element:H.jsx(bS,{children:H.jsx(t1,{children:H.jsx(b9,{})})})})]})})})}YR.createRoot(document.getElementById("root")).render(H.jsx(T9,{}));
