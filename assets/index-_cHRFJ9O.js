(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function DS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ap={exports:{}},Oc={};var cE;function QR(){if(cE)return Oc;cE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return Oc.Fragment=t,Oc.jsx=e,Oc.jsxs=e,Oc}var uE;function XR(){return uE||(uE=1,ap.exports=QR()),ap.exports}var O=XR(),op={exports:{}},xt={};var hE;function $R(){if(hE)return xt;hE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function S(j){return j===null||typeof j!="object"?null:(j=E&&j[E]||j["@@iterator"],typeof j=="function"?j:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,C={};function N(j,tt,ct){this.props=j,this.context=tt,this.refs=C,this.updater=ct||x}N.prototype.isReactComponent={},N.prototype.setState=function(j,tt){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,tt,"setState")},N.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function z(){}z.prototype=N.prototype;function H(j,tt,ct){this.props=j,this.context=tt,this.refs=C,this.updater=ct||x}var rt=H.prototype=new z;rt.constructor=H,w(rt,N.prototype),rt.isPureReactComponent=!0;var Z=Array.isArray;function at(){}var D={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function M(j,tt,ct){var ut=ct.ref;return{$$typeof:n,type:j,key:tt,ref:ut!==void 0?ut:null,props:ct}}function P(j,tt){return M(j.type,tt,j.props)}function V(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function U(j){var tt={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ct){return tt[ct]})}var k=/\/+/g;function Dt(j,tt){return typeof j=="object"&&j!==null&&j.key!=null?U(""+j.key):tt.toString(36)}function wt(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(at,at):(j.status="pending",j.then(function(tt){j.status==="pending"&&(j.status="fulfilled",j.value=tt)},function(tt){j.status==="pending"&&(j.status="rejected",j.reason=tt)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Q(j,tt,ct,ut,_t){var Et=typeof j;(Et==="undefined"||Et==="boolean")&&(j=null);var Bt=!1;if(j===null)Bt=!0;else switch(Et){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(j.$$typeof){case n:case t:Bt=!0;break;case y:return Bt=j._init,Q(Bt(j._payload),tt,ct,ut,_t)}}if(Bt)return _t=_t(j),Bt=ut===""?"."+Dt(j,0):ut,Z(_t)?(ct="",Bt!=null&&(ct=Bt.replace(k,"$&/")+"/"),Q(_t,tt,ct,"",function($r){return $r})):_t!=null&&(V(_t)&&(_t=P(_t,ct+(_t.key==null||j&&j.key===_t.key?"":(""+_t.key).replace(k,"$&/")+"/")+Bt)),tt.push(_t)),1;Bt=0;var je=ut===""?".":ut+":";if(Z(j))for(var de=0;de<j.length;de++)ut=j[de],Et=je+Dt(ut,de),Bt+=Q(ut,tt,ct,Et,_t);else if(de=S(j),typeof de=="function")for(j=de.call(j),de=0;!(ut=j.next()).done;)ut=ut.value,Et=je+Dt(ut,de++),Bt+=Q(ut,tt,ct,Et,_t);else if(Et==="object"){if(typeof j.then=="function")return Q(wt(j),tt,ct,ut,_t);throw tt=String(j),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function ot(j,tt,ct){if(j==null)return j;var ut=[],_t=0;return Q(j,ut,"","",function(Et){return tt.call(ct,Et,_t++)}),ut}function dt(j){if(j._status===-1){var tt=j._result;tt=tt(),tt.then(function(ct){(j._status===0||j._status===-1)&&(j._status=1,j._result=ct)},function(ct){(j._status===0||j._status===-1)&&(j._status=2,j._result=ct)}),j._status===-1&&(j._status=0,j._result=tt)}if(j._status===1)return j._result.default;throw j._result}var bt=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},kt={map:ot,forEach:function(j,tt,ct){ot(j,function(){tt.apply(this,arguments)},ct)},count:function(j){var tt=0;return ot(j,function(){tt++}),tt},toArray:function(j){return ot(j,function(tt){return tt})||[]},only:function(j){if(!V(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return xt.Activity=_,xt.Children=kt,xt.Component=N,xt.Fragment=e,xt.Profiler=r,xt.PureComponent=H,xt.StrictMode=i,xt.Suspense=f,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,xt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return D.H.useMemoCache(j)}},xt.cache=function(j){return function(){return j.apply(null,arguments)}},xt.cacheSignal=function(){return null},xt.cloneElement=function(j,tt,ct){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ut=w({},j.props),_t=j.key;if(tt!=null)for(Et in tt.key!==void 0&&(_t=""+tt.key),tt)!I.call(tt,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&tt.ref===void 0||(ut[Et]=tt[Et]);var Et=arguments.length-2;if(Et===1)ut.children=ct;else if(1<Et){for(var Bt=Array(Et),je=0;je<Et;je++)Bt[je]=arguments[je+2];ut.children=Bt}return M(j.type,_t,ut)},xt.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},xt.createElement=function(j,tt,ct){var ut,_t={},Et=null;if(tt!=null)for(ut in tt.key!==void 0&&(Et=""+tt.key),tt)I.call(tt,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(_t[ut]=tt[ut]);var Bt=arguments.length-2;if(Bt===1)_t.children=ct;else if(1<Bt){for(var je=Array(Bt),de=0;de<Bt;de++)je[de]=arguments[de+2];_t.children=je}if(j&&j.defaultProps)for(ut in Bt=j.defaultProps,Bt)_t[ut]===void 0&&(_t[ut]=Bt[ut]);return M(j,Et,_t)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(j){return{$$typeof:h,render:j}},xt.isValidElement=V,xt.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:dt}},xt.memo=function(j,tt){return{$$typeof:m,type:j,compare:tt===void 0?null:tt}},xt.startTransition=function(j){var tt=D.T,ct={};D.T=ct;try{var ut=j(),_t=D.S;_t!==null&&_t(ct,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(at,bt)}catch(Et){bt(Et)}finally{tt!==null&&ct.types!==null&&(tt.types=ct.types),D.T=tt}},xt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},xt.use=function(j){return D.H.use(j)},xt.useActionState=function(j,tt,ct){return D.H.useActionState(j,tt,ct)},xt.useCallback=function(j,tt){return D.H.useCallback(j,tt)},xt.useContext=function(j){return D.H.useContext(j)},xt.useDebugValue=function(){},xt.useDeferredValue=function(j,tt){return D.H.useDeferredValue(j,tt)},xt.useEffect=function(j,tt){return D.H.useEffect(j,tt)},xt.useEffectEvent=function(j){return D.H.useEffectEvent(j)},xt.useId=function(){return D.H.useId()},xt.useImperativeHandle=function(j,tt,ct){return D.H.useImperativeHandle(j,tt,ct)},xt.useInsertionEffect=function(j,tt){return D.H.useInsertionEffect(j,tt)},xt.useLayoutEffect=function(j,tt){return D.H.useLayoutEffect(j,tt)},xt.useMemo=function(j,tt){return D.H.useMemo(j,tt)},xt.useOptimistic=function(j,tt){return D.H.useOptimistic(j,tt)},xt.useReducer=function(j,tt,ct){return D.H.useReducer(j,tt,ct)},xt.useRef=function(j){return D.H.useRef(j)},xt.useState=function(j){return D.H.useState(j)},xt.useSyncExternalStore=function(j,tt,ct){return D.H.useSyncExternalStore(j,tt,ct)},xt.useTransition=function(){return D.H.useTransition()},xt.version="19.2.3",xt}var fE;function Sy(){return fE||(fE=1,op.exports=$R()),op.exports}var q=Sy();const Dr=DS(q);var lp={exports:{}},Nc={},cp={exports:{}},up={};var dE;function JR(){return dE||(dE=1,(function(n){function t(Q,ot){var dt=Q.length;Q.push(ot);t:for(;0<dt;){var bt=dt-1>>>1,kt=Q[bt];if(0<r(kt,ot))Q[bt]=ot,Q[dt]=kt,dt=bt;else break t}}function e(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var ot=Q[0],dt=Q.pop();if(dt!==ot){Q[0]=dt;t:for(var bt=0,kt=Q.length,j=kt>>>1;bt<j;){var tt=2*(bt+1)-1,ct=Q[tt],ut=tt+1,_t=Q[ut];if(0>r(ct,dt))ut<kt&&0>r(_t,ct)?(Q[bt]=_t,Q[ut]=dt,bt=ut):(Q[bt]=ct,Q[tt]=dt,bt=tt);else if(ut<kt&&0>r(_t,dt))Q[bt]=_t,Q[ut]=dt,bt=ut;else break t}}return ot}function r(Q,ot){var dt=Q.sortIndex-ot.sortIndex;return dt!==0?dt:Q.id-ot.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],m=[],y=1,_=null,E=3,S=!1,x=!1,w=!1,C=!1,N=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function rt(Q){for(var ot=e(m);ot!==null;){if(ot.callback===null)i(m);else if(ot.startTime<=Q)i(m),ot.sortIndex=ot.expirationTime,t(f,ot);else break;ot=e(m)}}function Z(Q){if(w=!1,rt(Q),!x)if(e(f)!==null)x=!0,at||(at=!0,U());else{var ot=e(m);ot!==null&&wt(Z,ot.startTime-Q)}}var at=!1,D=-1,I=5,M=-1;function P(){return C?!0:!(n.unstable_now()-M<I)}function V(){if(C=!1,at){var Q=n.unstable_now();M=Q;var ot=!0;try{t:{x=!1,w&&(w=!1,z(D),D=-1),S=!0;var dt=E;try{e:{for(rt(Q),_=e(f);_!==null&&!(_.expirationTime>Q&&P());){var bt=_.callback;if(typeof bt=="function"){_.callback=null,E=_.priorityLevel;var kt=bt(_.expirationTime<=Q);if(Q=n.unstable_now(),typeof kt=="function"){_.callback=kt,rt(Q),ot=!0;break e}_===e(f)&&i(f),rt(Q)}else i(f);_=e(f)}if(_!==null)ot=!0;else{var j=e(m);j!==null&&wt(Z,j.startTime-Q),ot=!1}}break t}finally{_=null,E=dt,S=!1}ot=void 0}}finally{ot?U():at=!1}}}var U;if(typeof H=="function")U=function(){H(V)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Dt=k.port2;k.port1.onmessage=V,U=function(){Dt.postMessage(null)}}else U=function(){N(V,0)};function wt(Q,ot){D=N(function(){Q(n.unstable_now())},ot)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(Q){switch(E){case 1:case 2:case 3:var ot=3;break;default:ot=E}var dt=E;E=ot;try{return Q()}finally{E=dt}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(Q,ot){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var dt=E;E=Q;try{return ot()}finally{E=dt}},n.unstable_scheduleCallback=function(Q,ot,dt){var bt=n.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?bt+dt:bt):dt=bt,Q){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=dt+kt,Q={id:y++,callback:ot,priorityLevel:Q,startTime:dt,expirationTime:kt,sortIndex:-1},dt>bt?(Q.sortIndex=dt,t(m,Q),e(f)===null&&Q===e(m)&&(w?(z(D),D=-1):w=!0,wt(Z,dt-bt))):(Q.sortIndex=kt,t(f,Q),x||S||(x=!0,at||(at=!0,U()))),Q},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(Q){var ot=E;return function(){var dt=E;E=ot;try{return Q.apply(this,arguments)}finally{E=dt}}}})(up)),up}var mE;function ZR(){return mE||(mE=1,cp.exports=JR()),cp.exports}var hp={exports:{}},on={};var gE;function tC(){if(gE)return on;gE=1;var n=Sy();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:f,containerInfo:m,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,on.createPortal=function(f,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(f,m,null,y)},on.flushSync=function(f){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=m,i.p=y,i.d.f()}},on.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(f,m))},on.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},on.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:S}):y==="script"&&i.d.X(f,{crossOrigin:_,integrity:E,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},on.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(f)},on.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin);i.d.L(f,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},on.preloadModule=function(f,m){if(typeof f=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(f)},on.requestFormReset=function(f){i.d.r(f)},on.unstable_batchedUpdates=function(f,m){return f(m)},on.useFormState=function(f,m,y){return c.H.useFormState(f,m,y)},on.useFormStatus=function(){return c.H.useHostTransitionStatus()},on.version="19.2.3",on}var pE;function eC(){if(pE)return hp.exports;pE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),hp.exports=tC(),hp.exports}var yE;function nC(){if(yE)return Nc;yE=1;var n=ZR(),t=Sy(),e=eC();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(i(188))}function m(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var g=l.return;if(g===null)break;var p=g.alternate;if(p===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===l)return f(g),s;if(p===u)return f(g),a;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=g,u=p;else{for(var b=!1,A=g.child;A;){if(A===l){b=!0,l=g,u=p;break}if(A===u){b=!0,u=g,l=p;break}A=A.sibling}if(!b){for(A=p.child;A;){if(A===l){b=!0,l=p,u=g;break}if(A===u){b=!0,u=p,l=g;break}A=A.sibling}if(!b)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function y(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=y(s),a!==null)return a;s=s.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),H=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var k=Symbol.for("react.client.reference");function Dt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===k?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case N:return"Profiler";case C:return"StrictMode";case Z:return"Suspense";case at:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case x:return"Portal";case H:return s.displayName||"Context";case z:return(s._context.displayName||"Context")+".Consumer";case rt:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return a=s.displayName||null,a!==null?a:Dt(s.type)||"Memo";case I:a=s._payload,s=s._init;try{return Dt(s(a))}catch{}}return null}var wt=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},bt=[],kt=-1;function j(s){return{current:s}}function tt(s){0>kt||(s.current=bt[kt],bt[kt]=null,kt--)}function ct(s,a){kt++,bt[kt]=s.current,s.current=a}var ut=j(null),_t=j(null),Et=j(null),Bt=j(null);function je(s,a){switch(ct(Et,a),ct(_t,s),ct(ut,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?Ob(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=Ob(a),s=Nb(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}tt(ut),ct(ut,s)}function de(){tt(ut),tt(_t),tt(Et)}function $r(s){s.memoizedState!==null&&ct(Bt,s);var a=ut.current,l=Nb(a,s.type);a!==l&&(ct(_t,s),ct(ut,l))}function Za(s){_t.current===s&&(tt(ut),tt(_t)),Bt.current===s&&(tt(Bt),Cc._currentValue=dt)}var to,eo;function xi(s){if(to===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);to=a&&a[1]||"",eo=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+to+s+eo}var Cl=!1;function Jr(s,a){if(!s||Cl)return"";Cl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch($){var K=$}Reflect.construct(s,[],nt)}else{try{nt.call()}catch($){K=$}s.call(nt.prototype)}}else{try{throw Error()}catch($){K=$}(nt=s())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch($){if($&&K&&typeof $.stack=="string")return[$.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],A=p[1];if(b&&A){var L=b.split(`
`),W=A.split(`
`);for(g=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;g<W.length&&!W[g].includes("DetermineComponentFrameRoot");)g++;if(u===L.length||g===W.length)for(u=L.length-1,g=W.length-1;1<=u&&0<=g&&L[u]!==W[g];)g--;for(;1<=u&&0<=g;u--,g--)if(L[u]!==W[g]){if(u!==1||g!==1)do if(u--,g--,0>g||L[u]!==W[g]){var J=`
`+L[u].replace(" at new "," at ");return s.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",s.displayName)),J}while(1<=u&&0<=g);break}}}finally{Cl=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?xi(l):""}function Il(s,a){switch(s.tag){case 26:case 27:case 5:return xi(s.type);case 16:return xi("Lazy");case 13:return s.child!==a&&a!==null?xi("Suspense Fallback"):xi("Suspense");case 19:return xi("SuspenseList");case 0:case 15:return Jr(s.type,!1);case 11:return Jr(s.type.render,!1);case 1:return Jr(s.type,!0);case 31:return xi("Activity");default:return""}}function Ml(s){try{var a="",l=null;do a+=Il(s,l),l=s,s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var xe=Object.prototype.hasOwnProperty,Be=n.unstable_scheduleCallback,Bs=n.unstable_cancelCallback,lm=n.unstable_shouldYield,qu=n.unstable_requestPaint,mn=n.unstable_now,Zr=n.unstable_getCurrentPriorityLevel,Dl=n.unstable_ImmediatePriority,Ol=n.unstable_UserBlockingPriority,Fs=n.unstable_NormalPriority,cm=n.unstable_LowPriority,Gu=n.unstable_IdlePriority,Yu=n.log,Wu=n.unstable_setDisableYieldValue,ci=null,$e=null;function Fn(s){if(typeof Yu=="function"&&Wu(s),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(ci,s)}catch{}}var be=Math.clz32?Math.clz32:Qu,Ku=Math.log,no=Math.LN2;function Qu(s){return s>>>=0,s===0?32:31-(Ku(s)/no|0)|0}var Ri=256,ta=262144,Re=4194304;function Ci(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ii(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var g=0,p=s.suspendedLanes,b=s.pingedLanes;s=s.warmLanes;var A=u&134217727;return A!==0?(u=A&~p,u!==0?g=Ci(u):(b&=A,b!==0?g=Ci(b):l||(l=A&~s,l!==0&&(g=Ci(l))))):(A=u&~p,A!==0?g=Ci(A):b!==0?g=Ci(b):l||(l=u&~s,l!==0&&(g=Ci(l)))),g===0?0:a!==0&&a!==g&&(a&p)===0&&(p=g&-g,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:g}function ui(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function um(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xu(){var s=Re;return Re<<=1,(Re&62914560)===0&&(Re=4194304),s}function Mi(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function ea(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function hm(s,a,l,u,g,p){var b=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var A=s.entanglements,L=s.expirationTimes,W=s.hiddenUpdates;for(l=b&~l;0<l;){var J=31-be(l),nt=1<<J;A[J]=0,L[J]=-1;var K=W[J];if(K!==null)for(W[J]=null,J=0;J<K.length;J++){var $=K[J];$!==null&&($.lane&=-536870913)}l&=~nt}u!==0&&na(s,u,0),p!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=p&~(b&~a))}function na(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-be(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function Nl(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-be(l),g=1<<u;g&a|s[u]&a&&(s[u]|=a),l&=~g}}function kl(s,a){var l=a&-a;return l=(l&42)!==0?1:ia(l),(l&(s.suspendedLanes|a))!==0?0:l}function ia(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function os(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function $u(){var s=ot.p;return s!==0?s:(s=window.event,s===void 0?32:nE(s.type))}function hi(s,a){var l=ot.p;try{return ot.p=s,a()}finally{ot.p=l}}var fi=Math.random().toString(36).slice(2),Ce="__reactFiber$"+fi,We="__reactProps$"+fi,Di="__reactContainer$"+fi,io="__reactEvents$"+fi,fm="__reactListeners$"+fi,Ju="__reactHandles$"+fi,Zu="__reactResources$"+fi,Oi="__reactMarker$"+fi;function so(s){delete s[Ce],delete s[We],delete s[io],delete s[fm],delete s[Ju]}function Ni(s){var a=s[Ce];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Di]||l[Ce]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=jb(s);s!==null;){if(l=s[Ce])return l;s=jb(s)}return a}s=l,l=s.parentNode}return null}function Hn(s){if(s=s[Ce]||s[Di]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function Mn(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function ki(s){var a=s[Zu];return a||(a=s[Zu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ie(s){s[Oi]=!0}var Pl=new Set,Vl={};function Pi(s,a){Vi(s,a),Vi(s+"Capture",a)}function Vi(s,a){for(Vl[s]=a,s=0;s<a.length;s++)Pl.add(a[s])}var Ll=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zl={},Ul={};function th(s){return xe.call(Ul,s)?!0:xe.call(zl,s)?!1:Ll.test(s)?Ul[s]=!0:(zl[s]=!0,!1)}function ro(s,a,l){if(th(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Dn(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Me(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}function Ke(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Hs(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function jl(s,a,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,p=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(b){l=""+b,p.call(this,b)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Xt(s){if(!s._valueTracker){var a=Hs(s)?"checked":"value";s._valueTracker=jl(s,a,""+s[a])}}function sa(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=Hs(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function Li(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ra=/[\n"\\]/g;function yn(s){return s.replace(ra,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ao(s,a,l,u,g,p,b,A){s.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?s.type=b:s.removeAttribute("type"),a!=null?b==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Ke(a)):s.value!==""+Ke(a)&&(s.value=""+Ke(a)):b!=="submit"&&b!=="reset"||s.removeAttribute("value"),a!=null?Bl(s,b,Ke(a)):l!=null?Bl(s,b,Ke(l)):u!=null&&s.removeAttribute("value"),g==null&&p!=null&&(s.defaultChecked=!!p),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.name=""+Ke(A):s.removeAttribute("name")}function eh(s,a,l,u,g,p,b,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){Xt(s);return}l=l!=null?""+Ke(l):"",a=a!=null?""+Ke(a):l,A||a===s.value||(s.value=a),s.defaultValue=a}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=A?s.checked:!!u,s.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.name=b),Xt(s)}function Bl(s,a,l){a==="number"&&Li(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function qs(s,a,l,u){if(s=s.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=a.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&u&&(s[l].defaultSelected=!0)}else{for(l=""+Ke(l),a=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,u&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function nh(s,a,l){if(a!=null&&(a=""+Ke(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Ke(l):""}function Gs(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(wt(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=Ke(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),Xt(s)}function _n(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var ih=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fl(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||ih.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Hl(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var g in a)u=a[g],a.hasOwnProperty(g)&&l[g]!==u&&Fl(s,g,u)}else for(var p in a)a.hasOwnProperty(p)&&Fl(s,p,a[p])}function oo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lo(s){return Ys.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function di(){}var ql=null;function qn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ws=null,zi=null;function aa(s){var a=Hn(s);if(a&&(s=a.stateNode)){var l=s[We]||null;t:switch(s=a.stateNode,a.type){case"input":if(ao(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+yn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var g=u[We]||null;if(!g)throw Error(i(90));ao(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&sa(u)}break t;case"textarea":nh(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&qs(s,!!l.multiple,a,!1)}}}var co=!1;function Ks(s,a,l){if(co)return s(a,l);co=!0;try{var u=s(a);return u}finally{if(co=!1,(Ws!==null||zi!==null)&&($h(),Ws&&(a=Ws,s=zi,zi=Ws=null,aa(a),s)))for(a=0;a<s.length;a++)aa(s[a])}}function mi(s,a){var l=s.stateNode;if(l===null)return null;var u=l[We]||null;if(u===null)return null;l=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oa=!1;if(Gn)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){oa=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{oa=!1}var Ui=null,Gl=null,la=null;function Yl(){if(la)return la;var s,a=Gl,l=a.length,u,g="value"in Ui?Ui.value:Ui.textContent,p=g.length;for(s=0;s<l&&a[s]===g[s];s++);var b=l-s;for(u=1;u<=b&&a[l-u]===g[p-u];u++);return la=g.slice(s,1<u?1-u:void 0)}function ca(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function ls(){return!0}function gi(){return!1}function Je(s){function a(l,u,g,p,b){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(l=s[A],this[A]=l?l(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ls:gi,this.isPropagationStopped=gi,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),a}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=Je(cs),Qs=_({},cs,{view:0,detail:0}),Wl=Je(Qs),Xs,uo,Bi,ho=_({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$s,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Bi&&(Bi&&s.type==="mousemove"?(Xs=s.screenX-Bi.screenX,uo=s.screenY-Bi.screenY):uo=Xs=0,Bi=s),Xs)},movementY:function(s){return"movementY"in s?s.movementY:uo}}),Kl=Je(ho),ua=_({},ho,{dataTransfer:0}),rh=Je(ua),ah=_({},Qs,{relatedTarget:0}),ha=Je(ah),Ql=_({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),oh=Je(Ql),fo=_({},cs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),lh=Je(fo),ch=_({},cs,{data:0}),Fi=Je(ch),uh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=fh[s])?!!a[s]:!1}function $s(){return dh}var gn=_({},Qs,{key:function(s){if(s.key){var a=uh[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ca(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?hh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$s,charCode:function(s){return s.type==="keypress"?ca(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ca(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),mh=Je(gn),gh=_({},ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),us=Je(gh),d=_({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$s}),v=Je(d),T=_({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Je(T),G=_({},ho,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Je(G),lt=_({},cs,{newState:0,oldState:0}),Ct=Je(lt),Ee=[9,13,27,32],Wt=Gn&&"CompositionEvent"in window,me=null;Gn&&"documentMode"in document&&(me=document.documentMode);var Yn=Gn&&"TextEvent"in window&&!me,Hi=Gn&&(!Wt||me&&8<me&&11>=me),pi=" ",yi=!1;function fa(s,a){switch(s){case"keyup":return Ee.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var go=!1;function vx(s,a){switch(s){case"compositionend":return mo(a);case"keypress":return a.which!==32?null:(yi=!0,pi);case"textInput":return s=a.data,s===pi&&yi?null:s;default:return null}}function bx(s,a){if(go)return s==="compositionend"||!Wt&&fa(s,a)?(s=Yl(),la=Gl=Ui=null,go=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Hi&&a.locale!=="ko"?null:a.data;default:return null}}var Ex={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Ex[s.type]:a==="textarea"}function q_(s,a,l,u){Ws?zi?zi.push(u):zi=[u]:Ws=u,a=rf(a,"onChange"),0<a.length&&(l=new ji("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var Xl=null,$l=null;function Tx(s){xb(s,0)}function ph(s){var a=Mn(s);if(sa(a))return s}function G_(s,a){if(s==="change")return a}var Y_=!1;if(Gn){var dm;if(Gn){var mm="oninput"in document;if(!mm){var W_=document.createElement("div");W_.setAttribute("oninput","return;"),mm=typeof W_.oninput=="function"}dm=mm}else dm=!1;Y_=dm&&(!document.documentMode||9<document.documentMode)}function K_(){Xl&&(Xl.detachEvent("onpropertychange",Q_),$l=Xl=null)}function Q_(s){if(s.propertyName==="value"&&ph($l)){var a=[];q_(a,$l,s,qn(s)),Ks(Tx,a)}}function Sx(s,a,l){s==="focusin"?(K_(),Xl=a,$l=l,Xl.attachEvent("onpropertychange",Q_)):s==="focusout"&&K_()}function wx(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ph($l)}function Ax(s,a){if(s==="click")return ph(a)}function xx(s,a){if(s==="input"||s==="change")return ph(a)}function Rx(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var On=typeof Object.is=="function"?Object.is:Rx;function Jl(s,a){if(On(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!xe.call(a,g)||!On(s[g],a[g]))return!1}return!0}function X_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function $_(s,a){var l=X_(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=X_(l)}}function J_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?J_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Z_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Li(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Li(s.document)}return a}function gm(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var Cx=Gn&&"documentMode"in document&&11>=document.documentMode,po=null,pm=null,Zl=null,ym=!1;function tv(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ym||po==null||po!==Li(u)||(u=po,"selectionStart"in u&&gm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Zl&&Jl(Zl,u)||(Zl=u,u=rf(pm,"onSelect"),0<u.length&&(a=new ji("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=po)))}function da(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var yo={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},_m={},ev={};Gn&&(ev=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function ma(s){if(_m[s])return _m[s];if(!yo[s])return s;var a=yo[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in ev)return _m[s]=a[l];return s}var nv=ma("animationend"),iv=ma("animationiteration"),sv=ma("animationstart"),Ix=ma("transitionrun"),Mx=ma("transitionstart"),Dx=ma("transitioncancel"),rv=ma("transitionend"),av=new Map,vm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vm.push("scrollEnd");function _i(s,a){av.set(s,a),Pi(a,[s])}var yh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Wn=[],_o=0,bm=0;function _h(){for(var s=_o,a=bm=_o=0;a<s;){var l=Wn[a];Wn[a++]=null;var u=Wn[a];Wn[a++]=null;var g=Wn[a];Wn[a++]=null;var p=Wn[a];if(Wn[a++]=null,u!==null&&g!==null){var b=u.pending;b===null?g.next=g:(g.next=b.next,b.next=g),u.pending=g}p!==0&&ov(l,g,p)}}function vh(s,a,l,u){Wn[_o++]=s,Wn[_o++]=a,Wn[_o++]=l,Wn[_o++]=u,bm|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Em(s,a,l,u){return vh(s,a,l,u),bh(s)}function ga(s,a){return vh(s,null,null,a),bh(s)}function ov(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var g=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(g=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,g&&a!==null&&(g=31-be(l),s=p.hiddenUpdates,u=s[g],u===null?s[g]=[a]:u.push(a),a.lane=l|536870912),p):null}function bh(s){if(50<Ec)throw Ec=0,Mg=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var vo={};function Ox(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(s,a,l,u){return new Ox(s,a,l,u)}function Tm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function hs(s,a){var l=s.alternate;return l===null?(l=Nn(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function lv(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Eh(s,a,l,u,g,p){var b=0;if(u=s,typeof s=="function")Tm(s)&&(b=1);else if(typeof s=="string")b=LR(s,l,ut.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case M:return s=Nn(31,l,a,g),s.elementType=M,s.lanes=p,s;case w:return pa(l.children,g,p,a);case C:b=8,g|=24;break;case N:return s=Nn(12,l,a,g|2),s.elementType=N,s.lanes=p,s;case Z:return s=Nn(13,l,a,g),s.elementType=Z,s.lanes=p,s;case at:return s=Nn(19,l,a,g),s.elementType=at,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case H:b=10;break t;case z:b=9;break t;case rt:b=11;break t;case D:b=14;break t;case I:b=16,u=null;break t}b=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=Nn(b,l,a,g),a.elementType=s,a.type=u,a.lanes=p,a}function pa(s,a,l,u){return s=Nn(7,s,u,a),s.lanes=l,s}function Sm(s,a,l){return s=Nn(6,s,null,a),s.lanes=l,s}function cv(s){var a=Nn(18,null,null,0);return a.stateNode=s,a}function wm(s,a,l){return a=Nn(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var uv=new WeakMap;function Kn(s,a){if(typeof s=="object"&&s!==null){var l=uv.get(s);return l!==void 0?l:(a={value:s,source:a,stack:Ml(a)},uv.set(s,a),a)}return{value:s,source:a,stack:Ml(a)}}var bo=[],Eo=0,Th=null,tc=0,Qn=[],Xn=0,Js=null,qi=1,Gi="";function fs(s,a){bo[Eo++]=tc,bo[Eo++]=Th,Th=s,tc=a}function hv(s,a,l){Qn[Xn++]=qi,Qn[Xn++]=Gi,Qn[Xn++]=Js,Js=s;var u=qi;s=Gi;var g=32-be(u)-1;u&=~(1<<g),l+=1;var p=32-be(a)+g;if(30<p){var b=g-g%5;p=(u&(1<<b)-1).toString(32),u>>=b,g-=b,qi=1<<32-be(a)+g|l<<g|u,Gi=p+s}else qi=1<<p|l<<g|u,Gi=s}function Am(s){s.return!==null&&(fs(s,1),hv(s,1,0))}function xm(s){for(;s===Th;)Th=bo[--Eo],bo[Eo]=null,tc=bo[--Eo],bo[Eo]=null;for(;s===Js;)Js=Qn[--Xn],Qn[Xn]=null,Gi=Qn[--Xn],Qn[Xn]=null,qi=Qn[--Xn],Qn[Xn]=null}function fv(s,a){Qn[Xn++]=qi,Qn[Xn++]=Gi,Qn[Xn++]=Js,qi=a.id,Gi=a.overflow,Js=s}var Ze=null,ce=null,jt=!1,Zs=null,$n=!1,Rm=Error(i(519));function tr(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ec(Kn(a,s)),Rm}function dv(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[Ce]=s,a[We]=u,l){case"dialog":Nt("cancel",a),Nt("close",a);break;case"iframe":case"object":case"embed":Nt("load",a);break;case"video":case"audio":for(l=0;l<Sc.length;l++)Nt(Sc[l],a);break;case"source":Nt("error",a);break;case"img":case"image":case"link":Nt("error",a),Nt("load",a);break;case"details":Nt("toggle",a);break;case"input":Nt("invalid",a),eh(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Nt("invalid",a);break;case"textarea":Nt("invalid",a),Gs(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||Mb(a.textContent,l)?(u.popover!=null&&(Nt("beforetoggle",a),Nt("toggle",a)),u.onScroll!=null&&Nt("scroll",a),u.onScrollEnd!=null&&Nt("scrollend",a),u.onClick!=null&&(a.onclick=di),a=!0):a=!1,a||tr(s,!0)}function mv(s){for(Ze=s.return;Ze;)switch(Ze.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Ze=Ze.return}}function To(s){if(s!==Ze)return!1;if(!jt)return mv(s),jt=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Gg(s.type,s.memoizedProps)),l=!l),l&&ce&&tr(s),mv(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ce=Ub(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ce=Ub(s)}else a===27?(a=ce,mr(s.type)?(s=Xg,Xg=null,ce=s):ce=a):ce=Ze?Zn(s.stateNode.nextSibling):null;return!0}function ya(){ce=Ze=null,jt=!1}function Cm(){var s=Zs;return s!==null&&(Tn===null?Tn=s:Tn.push.apply(Tn,s),Zs=null),s}function ec(s){Zs===null?Zs=[s]:Zs.push(s)}var Im=j(null),_a=null,ds=null;function er(s,a,l){ct(Im,a._currentValue),a._currentValue=l}function ms(s){s._currentValue=Im.current,tt(Im)}function Mm(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function Dm(s,a,l,u){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var p=g.dependencies;if(p!==null){var b=g.child;p=p.firstContext;t:for(;p!==null;){var A=p;p=g;for(var L=0;L<a.length;L++)if(A.context===a[L]){p.lanes|=l,A=p.alternate,A!==null&&(A.lanes|=l),Mm(p.return,l,s),u||(b=null);break t}p=A.next}}else if(g.tag===18){if(b=g.return,b===null)throw Error(i(341));b.lanes|=l,p=b.alternate,p!==null&&(p.lanes|=l),Mm(b,l,s),b=null}else b=g.child;if(b!==null)b.return=g;else for(b=g;b!==null;){if(b===s){b=null;break}if(g=b.sibling,g!==null){g.return=b.return,b=g;break}b=b.return}g=b}}function So(s,a,l,u){s=null;for(var g=a,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var b=g.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var A=g.type;On(g.pendingProps.value,b.value)||(s!==null?s.push(A):s=[A])}}else if(g===Bt.current){if(b=g.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(Cc):s=[Cc])}g=g.return}s!==null&&Dm(a,s,l,u),a.flags|=262144}function Sh(s){for(s=s.firstContext;s!==null;){if(!On(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function va(s){_a=s,ds=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function tn(s){return gv(_a,s)}function wh(s,a){return _a===null&&va(s),gv(s,a)}function gv(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ds===null){if(s===null)throw Error(i(308));ds=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else ds=ds.next=a;return l}var Nx=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},kx=n.unstable_scheduleCallback,Px=n.unstable_NormalPriority,De={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Om(){return{controller:new Nx,data:new Map,refCount:0}}function nc(s){s.refCount--,s.refCount===0&&kx(Px,function(){s.controller.abort()})}var ic=null,Nm=0,wo=0,Ao=null;function Vx(s,a){if(ic===null){var l=ic=[];Nm=0,wo=Vg(),Ao={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Nm++,a.then(pv,pv),a}function pv(){if(--Nm===0&&ic!==null){Ao!==null&&(Ao.status="fulfilled");var s=ic;ic=null,wo=0,Ao=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function Lx(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var yv=Q.S;Q.S=function(s,a){tb=mn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Vx(s,a),yv!==null&&yv(s,a)};var ba=j(null);function km(){var s=ba.current;return s!==null?s:re.pooledCache}function Ah(s,a){a===null?ct(ba,ba.current):ct(ba,a.pool)}function _v(){var s=km();return s===null?null:{parent:De._currentValue,pool:s}}var xo=Error(i(460)),Pm=Error(i(474)),xh=Error(i(542)),Rh={then:function(){}};function vv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function bv(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(di,di),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Tv(s),s;default:if(typeof a.status=="string")a.then(di,di);else{if(s=re,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=u}},function(u){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Tv(s),s}throw Ta=a,xo}}function Ea(s){try{var a=s._init;return a(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ta=l,xo):l}}var Ta=null;function Ev(){if(Ta===null)throw Error(i(459));var s=Ta;return Ta=null,s}function Tv(s){if(s===xo||s===xh)throw Error(i(483))}var Ro=null,sc=0;function Ch(s){var a=sc;return sc+=1,Ro===null&&(Ro=[]),bv(Ro,s,a)}function rc(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Ih(s,a){throw a.$$typeof===E?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Sv(s){function a(F,B){if(s){var Y=F.deletions;Y===null?(F.deletions=[B],F.flags|=16):Y.push(B)}}function l(F,B){if(!s)return null;for(;B!==null;)a(F,B),B=B.sibling;return null}function u(F){for(var B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function g(F,B){return F=hs(F,B),F.index=0,F.sibling=null,F}function p(F,B,Y){return F.index=Y,s?(Y=F.alternate,Y!==null?(Y=Y.index,Y<B?(F.flags|=67108866,B):Y):(F.flags|=67108866,B)):(F.flags|=1048576,B)}function b(F){return s&&F.alternate===null&&(F.flags|=67108866),F}function A(F,B,Y,et){return B===null||B.tag!==6?(B=Sm(Y,F.mode,et),B.return=F,B):(B=g(B,Y),B.return=F,B)}function L(F,B,Y,et){var pt=Y.type;return pt===w?J(F,B,Y.props.children,et,Y.key):B!==null&&(B.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===I&&Ea(pt)===B.type)?(B=g(B,Y.props),rc(B,Y),B.return=F,B):(B=Eh(Y.type,Y.key,Y.props,null,F.mode,et),rc(B,Y),B.return=F,B)}function W(F,B,Y,et){return B===null||B.tag!==4||B.stateNode.containerInfo!==Y.containerInfo||B.stateNode.implementation!==Y.implementation?(B=wm(Y,F.mode,et),B.return=F,B):(B=g(B,Y.children||[]),B.return=F,B)}function J(F,B,Y,et,pt){return B===null||B.tag!==7?(B=pa(Y,F.mode,et,pt),B.return=F,B):(B=g(B,Y),B.return=F,B)}function nt(F,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Sm(""+B,F.mode,Y),B.return=F,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return Y=Eh(B.type,B.key,B.props,null,F.mode,Y),rc(Y,B),Y.return=F,Y;case x:return B=wm(B,F.mode,Y),B.return=F,B;case I:return B=Ea(B),nt(F,B,Y)}if(wt(B)||U(B))return B=pa(B,F.mode,Y,null),B.return=F,B;if(typeof B.then=="function")return nt(F,Ch(B),Y);if(B.$$typeof===H)return nt(F,wh(F,B),Y);Ih(F,B)}return null}function K(F,B,Y,et){var pt=B!==null?B.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return pt!==null?null:A(F,B,""+Y,et);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return Y.key===pt?L(F,B,Y,et):null;case x:return Y.key===pt?W(F,B,Y,et):null;case I:return Y=Ea(Y),K(F,B,Y,et)}if(wt(Y)||U(Y))return pt!==null?null:J(F,B,Y,et,null);if(typeof Y.then=="function")return K(F,B,Ch(Y),et);if(Y.$$typeof===H)return K(F,B,wh(F,Y),et);Ih(F,Y)}return null}function $(F,B,Y,et,pt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return F=F.get(Y)||null,A(B,F,""+et,pt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case S:return F=F.get(et.key===null?Y:et.key)||null,L(B,F,et,pt);case x:return F=F.get(et.key===null?Y:et.key)||null,W(B,F,et,pt);case I:return et=Ea(et),$(F,B,Y,et,pt)}if(wt(et)||U(et))return F=F.get(Y)||null,J(B,F,et,pt,null);if(typeof et.then=="function")return $(F,B,Y,Ch(et),pt);if(et.$$typeof===H)return $(F,B,Y,wh(B,et),pt);Ih(B,et)}return null}function mt(F,B,Y,et){for(var pt=null,Gt=null,gt=B,Mt=B=0,Vt=null;gt!==null&&Mt<Y.length;Mt++){gt.index>Mt?(Vt=gt,gt=null):Vt=gt.sibling;var Yt=K(F,gt,Y[Mt],et);if(Yt===null){gt===null&&(gt=Vt);break}s&&gt&&Yt.alternate===null&&a(F,gt),B=p(Yt,B,Mt),Gt===null?pt=Yt:Gt.sibling=Yt,Gt=Yt,gt=Vt}if(Mt===Y.length)return l(F,gt),jt&&fs(F,Mt),pt;if(gt===null){for(;Mt<Y.length;Mt++)gt=nt(F,Y[Mt],et),gt!==null&&(B=p(gt,B,Mt),Gt===null?pt=gt:Gt.sibling=gt,Gt=gt);return jt&&fs(F,Mt),pt}for(gt=u(gt);Mt<Y.length;Mt++)Vt=$(gt,F,Mt,Y[Mt],et),Vt!==null&&(s&&Vt.alternate!==null&&gt.delete(Vt.key===null?Mt:Vt.key),B=p(Vt,B,Mt),Gt===null?pt=Vt:Gt.sibling=Vt,Gt=Vt);return s&&gt.forEach(function(vr){return a(F,vr)}),jt&&fs(F,Mt),pt}function vt(F,B,Y,et){if(Y==null)throw Error(i(151));for(var pt=null,Gt=null,gt=B,Mt=B=0,Vt=null,Yt=Y.next();gt!==null&&!Yt.done;Mt++,Yt=Y.next()){gt.index>Mt?(Vt=gt,gt=null):Vt=gt.sibling;var vr=K(F,gt,Yt.value,et);if(vr===null){gt===null&&(gt=Vt);break}s&&gt&&vr.alternate===null&&a(F,gt),B=p(vr,B,Mt),Gt===null?pt=vr:Gt.sibling=vr,Gt=vr,gt=Vt}if(Yt.done)return l(F,gt),jt&&fs(F,Mt),pt;if(gt===null){for(;!Yt.done;Mt++,Yt=Y.next())Yt=nt(F,Yt.value,et),Yt!==null&&(B=p(Yt,B,Mt),Gt===null?pt=Yt:Gt.sibling=Yt,Gt=Yt);return jt&&fs(F,Mt),pt}for(gt=u(gt);!Yt.done;Mt++,Yt=Y.next())Yt=$(gt,F,Mt,Yt.value,et),Yt!==null&&(s&&Yt.alternate!==null&&gt.delete(Yt.key===null?Mt:Yt.key),B=p(Yt,B,Mt),Gt===null?pt=Yt:Gt.sibling=Yt,Gt=Yt);return s&&gt.forEach(function(KR){return a(F,KR)}),jt&&fs(F,Mt),pt}function se(F,B,Y,et){if(typeof Y=="object"&&Y!==null&&Y.type===w&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:t:{for(var pt=Y.key;B!==null;){if(B.key===pt){if(pt=Y.type,pt===w){if(B.tag===7){l(F,B.sibling),et=g(B,Y.props.children),et.return=F,F=et;break t}}else if(B.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===I&&Ea(pt)===B.type){l(F,B.sibling),et=g(B,Y.props),rc(et,Y),et.return=F,F=et;break t}l(F,B);break}else a(F,B);B=B.sibling}Y.type===w?(et=pa(Y.props.children,F.mode,et,Y.key),et.return=F,F=et):(et=Eh(Y.type,Y.key,Y.props,null,F.mode,et),rc(et,Y),et.return=F,F=et)}return b(F);case x:t:{for(pt=Y.key;B!==null;){if(B.key===pt)if(B.tag===4&&B.stateNode.containerInfo===Y.containerInfo&&B.stateNode.implementation===Y.implementation){l(F,B.sibling),et=g(B,Y.children||[]),et.return=F,F=et;break t}else{l(F,B);break}else a(F,B);B=B.sibling}et=wm(Y,F.mode,et),et.return=F,F=et}return b(F);case I:return Y=Ea(Y),se(F,B,Y,et)}if(wt(Y))return mt(F,B,Y,et);if(U(Y)){if(pt=U(Y),typeof pt!="function")throw Error(i(150));return Y=pt.call(Y),vt(F,B,Y,et)}if(typeof Y.then=="function")return se(F,B,Ch(Y),et);if(Y.$$typeof===H)return se(F,B,wh(F,Y),et);Ih(F,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,B!==null&&B.tag===6?(l(F,B.sibling),et=g(B,Y),et.return=F,F=et):(l(F,B),et=Sm(Y,F.mode,et),et.return=F,F=et),b(F)):l(F,B)}return function(F,B,Y,et){try{sc=0;var pt=se(F,B,Y,et);return Ro=null,pt}catch(gt){if(gt===xo||gt===xh)throw gt;var Gt=Nn(29,gt,null,F.mode);return Gt.lanes=et,Gt.return=F,Gt}}}var Sa=Sv(!0),wv=Sv(!1),nr=!1;function Vm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lm(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ir(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function sr(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var g=u.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),u.pending=a,a=bh(s),ov(s,null,l),a}return vh(s,u,a,l),bh(s)}function ac(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Nl(s,l)}}function zm(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?g=p=b:p=p.next=b,l=l.next}while(l!==null);p===null?g=p=a:p=p.next=a}else g=p=a;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var Um=!1;function oc(){if(Um){var s=Ao;if(s!==null)throw s}}function lc(s,a,l,u){Um=!1;var g=s.updateQueue;nr=!1;var p=g.firstBaseUpdate,b=g.lastBaseUpdate,A=g.shared.pending;if(A!==null){g.shared.pending=null;var L=A,W=L.next;L.next=null,b===null?p=W:b.next=W,b=L;var J=s.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==b&&(A===null?J.firstBaseUpdate=W:A.next=W,J.lastBaseUpdate=L))}if(p!==null){var nt=g.baseState;b=0,J=W=L=null,A=p;do{var K=A.lane&-536870913,$=K!==A.lane;if($?(Pt&K)===K:(u&K)===K){K!==0&&K===wo&&(Um=!0),J!==null&&(J=J.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var mt=s,vt=A;K=a;var se=l;switch(vt.tag){case 1:if(mt=vt.payload,typeof mt=="function"){nt=mt.call(se,nt,K);break t}nt=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=vt.payload,K=typeof mt=="function"?mt.call(se,nt,K):mt,K==null)break t;nt=_({},nt,K);break t;case 2:nr=!0}}K=A.callback,K!==null&&(s.flags|=64,$&&(s.flags|=8192),$=g.callbacks,$===null?g.callbacks=[K]:$.push(K))}else $={lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(W=J=$,L=nt):J=J.next=$,b|=K;if(A=A.next,A===null){if(A=g.shared.pending,A===null)break;$=A,A=$.next,$.next=null,g.lastBaseUpdate=$,g.shared.pending=null}}while(!0);J===null&&(L=nt),g.baseState=L,g.firstBaseUpdate=W,g.lastBaseUpdate=J,p===null&&(g.shared.lanes=0),cr|=b,s.lanes=b,s.memoizedState=nt}}function Av(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function xv(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Av(l[s],a)}var Co=j(null),Mh=j(0);function Rv(s,a){s=Ss,ct(Mh,s),ct(Co,a),Ss=s|a.baseLanes}function jm(){ct(Mh,Ss),ct(Co,Co.current)}function Bm(){Ss=Mh.current,tt(Co),tt(Mh)}var kn=j(null),Jn=null;function rr(s){var a=s.alternate;ct(Te,Te.current&1),ct(kn,s),Jn===null&&(a===null||Co.current!==null||a.memoizedState!==null)&&(Jn=s)}function Fm(s){ct(Te,Te.current),ct(kn,s),Jn===null&&(Jn=s)}function Cv(s){s.tag===22?(ct(Te,Te.current),ct(kn,s),Jn===null&&(Jn=s)):ar()}function ar(){ct(Te,Te.current),ct(kn,kn.current)}function Pn(s){tt(kn),Jn===s&&(Jn=null),tt(Te)}var Te=j(0);function Dh(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Kg(l)||Qg(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var gs=0,It=null,ne=null,Oe=null,Oh=!1,Io=!1,wa=!1,Nh=0,cc=0,Mo=null,zx=0;function _e(){throw Error(i(321))}function Hm(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!On(s[l],a[l]))return!1;return!0}function qm(s,a,l,u,g,p){return gs=p,It=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Q.H=s===null||s.memoizedState===null?h0:rg,wa=!1,p=l(u,g),wa=!1,Io&&(p=Mv(a,l,u,g)),Iv(s),p}function Iv(s){Q.H=fc;var a=ne!==null&&ne.next!==null;if(gs=0,Oe=ne=It=null,Oh=!1,cc=0,Mo=null,a)throw Error(i(300));s===null||Ne||(s=s.dependencies,s!==null&&Sh(s)&&(Ne=!0))}function Mv(s,a,l,u){It=s;var g=0;do{if(Io&&(Mo=null),cc=0,Io=!1,25<=g)throw Error(i(301));if(g+=1,Oe=ne=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Q.H=f0,p=a(l,u)}while(Io);return p}function Ux(){var s=Q.H,a=s.useState()[0];return a=typeof a.then=="function"?uc(a):a,s=s.useState()[0],(ne!==null?ne.memoizedState:null)!==s&&(It.flags|=1024),a}function Gm(){var s=Nh!==0;return Nh=0,s}function Ym(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function Wm(s){if(Oh){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Oh=!1}gs=0,Oe=ne=It=null,Io=!1,cc=Nh=0,Mo=null}function pn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?It.memoizedState=Oe=s:Oe=Oe.next=s,Oe}function Se(){if(ne===null){var s=It.alternate;s=s!==null?s.memoizedState:null}else s=ne.next;var a=Oe===null?It.memoizedState:Oe.next;if(a!==null)Oe=a,ne=s;else{if(s===null)throw It.alternate===null?Error(i(467)):Error(i(310));ne=s,s={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},Oe===null?It.memoizedState=Oe=s:Oe=Oe.next=s}return Oe}function kh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uc(s){var a=cc;return cc+=1,Mo===null&&(Mo=[]),s=bv(Mo,s,a),a=It,(Oe===null?a.memoizedState:Oe.next)===null&&(a=a.alternate,Q.H=a===null||a.memoizedState===null?h0:rg),s}function Ph(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return uc(s);if(s.$$typeof===H)return tn(s)}throw Error(i(438,String(s)))}function Km(s){var a=null,l=It.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=It.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=kh(),It.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=P;return a.index++,l}function ps(s,a){return typeof a=="function"?a(s):a}function Vh(s){var a=Se();return Qm(a,ne,s)}function Qm(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var g=s.baseQueue,p=u.pending;if(p!==null){if(g!==null){var b=g.next;g.next=p.next,p.next=b}a.baseQueue=g=p,u.pending=null}if(p=s.baseState,g===null)s.memoizedState=p;else{a=g.next;var A=b=null,L=null,W=a,J=!1;do{var nt=W.lane&-536870913;if(nt!==W.lane?(Pt&nt)===nt:(gs&nt)===nt){var K=W.revertLane;if(K===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),nt===wo&&(J=!0);else if((gs&K)===K){W=W.next,K===wo&&(J=!0);continue}else nt={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(A=L=nt,b=p):L=L.next=nt,It.lanes|=K,cr|=K;nt=W.action,wa&&l(p,nt),p=W.hasEagerState?W.eagerState:l(p,nt)}else K={lane:nt,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(A=L=K,b=p):L=L.next=K,It.lanes|=nt,cr|=nt;W=W.next}while(W!==null&&W!==a);if(L===null?b=p:L.next=A,!On(p,s.memoizedState)&&(Ne=!0,J&&(l=Ao,l!==null)))throw l;s.memoizedState=p,s.baseState=b,s.baseQueue=L,u.lastRenderedState=p}return g===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Xm(s){var a=Se(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,g=l.pending,p=a.memoizedState;if(g!==null){l.pending=null;var b=g=g.next;do p=s(p,b.action),b=b.next;while(b!==g);On(p,a.memoizedState)||(Ne=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,u]}function Dv(s,a,l){var u=It,g=Se(),p=jt;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=a();var b=!On((ne||g).memoizedState,l);if(b&&(g.memoizedState=l,Ne=!0),g=g.queue,Zm(kv.bind(null,u,g,s),[s]),g.getSnapshot!==a||b||Oe!==null&&Oe.memoizedState.tag&1){if(u.flags|=2048,Do(9,{destroy:void 0},Nv.bind(null,u,g,l,a),null),re===null)throw Error(i(349));p||(gs&127)!==0||Ov(u,a,l)}return l}function Ov(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=It.updateQueue,a===null?(a=kh(),It.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function Nv(s,a,l,u){a.value=l,a.getSnapshot=u,Pv(a)&&Vv(s)}function kv(s,a,l){return l(function(){Pv(a)&&Vv(s)})}function Pv(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!On(s,l)}catch{return!0}}function Vv(s){var a=ga(s,2);a!==null&&Sn(a,s,2)}function $m(s){var a=pn();if(typeof s=="function"){var l=s;if(s=l(),wa){Fn(!0);try{l()}finally{Fn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:s},a}function Lv(s,a,l,u){return s.baseState=l,Qm(s,ne,typeof u=="function"?u:ps)}function jx(s,a,l,u,g){if(Uh(s))throw Error(i(485));if(s=a.action,s!==null){var p={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};Q.T!==null?l(!0):p.isTransition=!1,u(p),l=a.pending,l===null?(p.next=a.pending=p,zv(a,p)):(p.next=l.next,a.pending=l.next=p)}}function zv(s,a){var l=a.action,u=a.payload,g=s.state;if(a.isTransition){var p=Q.T,b={};Q.T=b;try{var A=l(g,u),L=Q.S;L!==null&&L(b,A),Uv(s,a,A)}catch(W){Jm(s,a,W)}finally{p!==null&&b.types!==null&&(p.types=b.types),Q.T=p}}else try{p=l(g,u),Uv(s,a,p)}catch(W){Jm(s,a,W)}}function Uv(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){jv(s,a,u)},function(u){return Jm(s,a,u)}):jv(s,a,l)}function jv(s,a,l){a.status="fulfilled",a.value=l,Bv(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,zv(s,l)))}function Jm(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,Bv(a),a=a.next;while(a!==u)}s.action=null}function Bv(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function Fv(s,a){return a}function Hv(s,a){if(jt){var l=re.formState;if(l!==null){t:{var u=It;if(jt){if(ce){e:{for(var g=ce,p=$n;g.nodeType!==8;){if(!p){g=null;break e}if(g=Zn(g.nextSibling),g===null){g=null;break e}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){ce=Zn(g.nextSibling),u=g.data==="F!";break t}}tr(u)}u=!1}u&&(a=l[0])}}return l=pn(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fv,lastRenderedState:a},l.queue=u,l=l0.bind(null,It,u),u.dispatch=l,u=$m(!1),p=sg.bind(null,It,!1,u.queue),u=pn(),g={state:a,dispatch:null,action:s,pending:null},u.queue=g,l=jx.bind(null,It,g,p,l),g.dispatch=l,u.memoizedState=s,[a,l,!1]}function qv(s){var a=Se();return Gv(a,ne,s)}function Gv(s,a,l){if(a=Qm(s,a,Fv)[0],s=Vh(ps)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=uc(a)}catch(b){throw b===xo?xh:b}else u=a;a=Se();var g=a.queue,p=g.dispatch;return l!==a.memoizedState&&(It.flags|=2048,Do(9,{destroy:void 0},Bx.bind(null,g,l),null)),[u,p,s]}function Bx(s,a){s.action=a}function Yv(s){var a=Se(),l=ne;if(l!==null)return Gv(a,l,s);Se(),a=a.memoizedState,l=Se();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function Do(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=It.updateQueue,a===null&&(a=kh(),It.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function Wv(){return Se().memoizedState}function Lh(s,a,l,u){var g=pn();It.flags|=s,g.memoizedState=Do(1|a,{destroy:void 0},l,u===void 0?null:u)}function zh(s,a,l,u){var g=Se();u=u===void 0?null:u;var p=g.memoizedState.inst;ne!==null&&u!==null&&Hm(u,ne.memoizedState.deps)?g.memoizedState=Do(a,p,l,u):(It.flags|=s,g.memoizedState=Do(1|a,p,l,u))}function Kv(s,a){Lh(8390656,8,s,a)}function Zm(s,a){zh(2048,8,s,a)}function Fx(s){It.flags|=4;var a=It.updateQueue;if(a===null)a=kh(),It.updateQueue=a,a.events=[s];else{var l=a.events;l===null?a.events=[s]:l.push(s)}}function Qv(s){var a=Se().memoizedState;return Fx({ref:a,nextImpl:s}),function(){if((Kt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function Xv(s,a){return zh(4,2,s,a)}function $v(s,a){return zh(4,4,s,a)}function Jv(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Zv(s,a,l){l=l!=null?l.concat([s]):null,zh(4,4,Jv.bind(null,a,s),l)}function tg(){}function t0(s,a){var l=Se();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&Hm(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function e0(s,a){var l=Se();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&Hm(a,u[1]))return u[0];if(u=s(),wa){Fn(!0);try{s()}finally{Fn(!1)}}return l.memoizedState=[u,a],u}function eg(s,a,l){return l===void 0||(gs&1073741824)!==0&&(Pt&261930)===0?s.memoizedState=a:(s.memoizedState=l,s=nb(),It.lanes|=s,cr|=s,l)}function n0(s,a,l,u){return On(l,a)?l:Co.current!==null?(s=eg(s,l,u),On(s,a)||(Ne=!0),s):(gs&42)===0||(gs&1073741824)!==0&&(Pt&261930)===0?(Ne=!0,s.memoizedState=l):(s=nb(),It.lanes|=s,cr|=s,a)}function i0(s,a,l,u,g){var p=ot.p;ot.p=p!==0&&8>p?p:8;var b=Q.T,A={};Q.T=A,sg(s,!1,a,l);try{var L=g(),W=Q.S;if(W!==null&&W(A,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var J=Lx(L,u);hc(s,a,J,zn(s))}else hc(s,a,u,zn(s))}catch(nt){hc(s,a,{then:function(){},status:"rejected",reason:nt},zn())}finally{ot.p=p,b!==null&&A.types!==null&&(b.types=A.types),Q.T=b}}function Hx(){}function ng(s,a,l,u){if(s.tag!==5)throw Error(i(476));var g=s0(s).queue;i0(s,g,a,dt,l===null?Hx:function(){return r0(s),l(u)})}function s0(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:dt},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function r0(s){var a=s0(s);a.next===null&&(a=s.alternate.memoizedState),hc(s,a.next.queue,{},zn())}function ig(){return tn(Cc)}function a0(){return Se().memoizedState}function o0(){return Se().memoizedState}function qx(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=zn();s=ir(l);var u=sr(a,s,l);u!==null&&(Sn(u,a,l),ac(u,a,l)),a={cache:Om()},s.payload=a;return}a=a.return}}function Gx(s,a,l){var u=zn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Uh(s)?c0(a,l):(l=Em(s,a,l,u),l!==null&&(Sn(l,s,u),u0(l,a,u)))}function l0(s,a,l){var u=zn();hc(s,a,l,u)}function hc(s,a,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Uh(s))c0(a,g);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var b=a.lastRenderedState,A=p(b,l);if(g.hasEagerState=!0,g.eagerState=A,On(A,b))return vh(s,a,g,0),re===null&&_h(),!1}catch{}if(l=Em(s,a,g,u),l!==null)return Sn(l,s,u),u0(l,a,u),!0}return!1}function sg(s,a,l,u){if(u={lane:2,revertLane:Vg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Uh(s)){if(a)throw Error(i(479))}else a=Em(s,l,u,2),a!==null&&Sn(a,s,2)}function Uh(s){var a=s.alternate;return s===It||a!==null&&a===It}function c0(s,a){Io=Oh=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function u0(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Nl(s,l)}}var fc={readContext:tn,use:Ph,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e};fc.useEffectEvent=_e;var h0={readContext:tn,use:Ph,useCallback:function(s,a){return pn().memoizedState=[s,a===void 0?null:a],s},useContext:tn,useEffect:Kv,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Lh(4194308,4,Jv.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Lh(4194308,4,s,a)},useInsertionEffect:function(s,a){Lh(4,2,s,a)},useMemo:function(s,a){var l=pn();a=a===void 0?null:a;var u=s();if(wa){Fn(!0);try{s()}finally{Fn(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=pn();if(l!==void 0){var g=l(a);if(wa){Fn(!0);try{l(a)}finally{Fn(!1)}}}else g=a;return u.memoizedState=u.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},u.queue=s,s=s.dispatch=Gx.bind(null,It,s),[u.memoizedState,s]},useRef:function(s){var a=pn();return s={current:s},a.memoizedState=s},useState:function(s){s=$m(s);var a=s.queue,l=l0.bind(null,It,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:tg,useDeferredValue:function(s,a){var l=pn();return eg(l,s,a)},useTransition:function(){var s=$m(!1);return s=i0.bind(null,It,s.queue,!0,!1),pn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=It,g=pn();if(jt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),re===null)throw Error(i(349));(Pt&127)!==0||Ov(u,a,l)}g.memoizedState=l;var p={value:l,getSnapshot:a};return g.queue=p,Kv(kv.bind(null,u,p,s),[s]),u.flags|=2048,Do(9,{destroy:void 0},Nv.bind(null,u,p,l,a),null),l},useId:function(){var s=pn(),a=re.identifierPrefix;if(jt){var l=Gi,u=qi;l=(u&~(1<<32-be(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Nh++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=zx++,a="_"+a+"r_"+l.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:ig,useFormState:Hv,useActionState:Hv,useOptimistic:function(s){var a=pn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=sg.bind(null,It,!0,l),l.dispatch=a,[s,a]},useMemoCache:Km,useCacheRefresh:function(){return pn().memoizedState=qx.bind(null,It)},useEffectEvent:function(s){var a=pn(),l={impl:s};return a.memoizedState=l,function(){if((Kt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},rg={readContext:tn,use:Ph,useCallback:t0,useContext:tn,useEffect:Zm,useImperativeHandle:Zv,useInsertionEffect:Xv,useLayoutEffect:$v,useMemo:e0,useReducer:Vh,useRef:Wv,useState:function(){return Vh(ps)},useDebugValue:tg,useDeferredValue:function(s,a){var l=Se();return n0(l,ne.memoizedState,s,a)},useTransition:function(){var s=Vh(ps)[0],a=Se().memoizedState;return[typeof s=="boolean"?s:uc(s),a]},useSyncExternalStore:Dv,useId:a0,useHostTransitionStatus:ig,useFormState:qv,useActionState:qv,useOptimistic:function(s,a){var l=Se();return Lv(l,ne,s,a)},useMemoCache:Km,useCacheRefresh:o0};rg.useEffectEvent=Qv;var f0={readContext:tn,use:Ph,useCallback:t0,useContext:tn,useEffect:Zm,useImperativeHandle:Zv,useInsertionEffect:Xv,useLayoutEffect:$v,useMemo:e0,useReducer:Xm,useRef:Wv,useState:function(){return Xm(ps)},useDebugValue:tg,useDeferredValue:function(s,a){var l=Se();return ne===null?eg(l,s,a):n0(l,ne.memoizedState,s,a)},useTransition:function(){var s=Xm(ps)[0],a=Se().memoizedState;return[typeof s=="boolean"?s:uc(s),a]},useSyncExternalStore:Dv,useId:a0,useHostTransitionStatus:ig,useFormState:Yv,useActionState:Yv,useOptimistic:function(s,a){var l=Se();return ne!==null?Lv(l,ne,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Km,useCacheRefresh:o0};f0.useEffectEvent=Qv;function ag(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:_({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var og={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=zn(),g=ir(u);g.payload=a,l!=null&&(g.callback=l),a=sr(s,g,u),a!==null&&(Sn(a,s,u),ac(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=zn(),g=ir(u);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=sr(s,g,u),a!==null&&(Sn(a,s,u),ac(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=zn(),u=ir(l);u.tag=2,a!=null&&(u.callback=a),a=sr(s,u,l),a!==null&&(Sn(a,s,l),ac(a,s,l))}};function d0(s,a,l,u,g,p,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,b):a.prototype&&a.prototype.isPureReactComponent?!Jl(l,u)||!Jl(g,p):!0}function m0(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&og.enqueueReplaceState(a,a.state,null)}function Aa(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=_({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}function g0(s){yh(s)}function p0(s){console.error(s)}function y0(s){yh(s)}function jh(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function _0(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function lg(s,a,l){return l=ir(l),l.tag=3,l.payload={element:null},l.callback=function(){jh(s,a)},l}function v0(s){return s=ir(s),s.tag=3,s}function b0(s,a,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var p=u.value;s.payload=function(){return g(p)},s.callback=function(){_0(a,l,u)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(s.callback=function(){_0(a,l,u),typeof g!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function Yx(s,a,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&So(a,l,g,!0),l=kn.current,l!==null){switch(l.tag){case 31:case 13:return Jn===null?Jh():l.alternate===null&&ve===0&&(ve=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===Rh?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Ng(s,u,g)),!1;case 22:return l.flags|=65536,u===Rh?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Ng(s,u,g)),!1}throw Error(i(435,l.tag))}return Ng(s,u,g),Jh(),!1}if(jt)return a=kn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,u!==Rm&&(s=Error(i(422),{cause:u}),ec(Kn(s,l)))):(u!==Rm&&(a=Error(i(423),{cause:u}),ec(Kn(a,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,u=Kn(u,l),g=lg(s.stateNode,u,g),zm(s,g),ve!==4&&(ve=2)),!1;var p=Error(i(520),{cause:u});if(p=Kn(p,l),bc===null?bc=[p]:bc.push(p),ve!==4&&(ve=2),a===null)return!0;u=Kn(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=lg(l.stateNode,u,s),zm(l,s),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ur===null||!ur.has(p))))return l.flags|=65536,g&=-g,l.lanes|=g,g=v0(g),b0(g,s,l,u),zm(l,g),!1}l=l.return}while(l!==null);return!1}var cg=Error(i(461)),Ne=!1;function en(s,a,l,u){a.child=s===null?wv(a,null,l,u):Sa(a,s.child,l,u)}function E0(s,a,l,u,g){l=l.render;var p=a.ref;if("ref"in u){var b={};for(var A in u)A!=="ref"&&(b[A]=u[A])}else b=u;return va(a),u=qm(s,a,l,b,p,g),A=Gm(),s!==null&&!Ne?(Ym(s,a,g),ys(s,a,g)):(jt&&A&&Am(a),a.flags|=1,en(s,a,u,g),a.child)}function T0(s,a,l,u,g){if(s===null){var p=l.type;return typeof p=="function"&&!Tm(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,S0(s,a,p,u,g)):(s=Eh(l.type,null,u,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(p=s.child,!yg(s,g)){var b=p.memoizedProps;if(l=l.compare,l=l!==null?l:Jl,l(b,u)&&s.ref===a.ref)return ys(s,a,g)}return a.flags|=1,s=hs(p,u),s.ref=a.ref,s.return=a,a.child=s}function S0(s,a,l,u,g){if(s!==null){var p=s.memoizedProps;if(Jl(p,u)&&s.ref===a.ref)if(Ne=!1,a.pendingProps=u=p,yg(s,g))(s.flags&131072)!==0&&(Ne=!0);else return a.lanes=s.lanes,ys(s,a,g)}return ug(s,a,l,u,g)}function w0(s,a,l,u){var g=u.children,p=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,s!==null){for(u=a.child=s.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~p}else u=0,a.child=null;return A0(s,a,p,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Ah(a,p!==null?p.cachePool:null),p!==null?Rv(a,p):jm(),Cv(a);else return u=a.lanes=536870912,A0(s,a,p!==null?p.baseLanes|l:l,l,u)}else p!==null?(Ah(a,p.cachePool),Rv(a,p),ar(),a.memoizedState=null):(s!==null&&Ah(a,null),jm(),ar());return en(s,a,g,l),a.child}function dc(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function A0(s,a,l,u,g){var p=km();return p=p===null?null:{parent:De._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},s!==null&&Ah(a,null),jm(),Cv(a),s!==null&&So(s,a,u,!0),a.childLanes=g,null}function Bh(s,a){return a=Hh({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function x0(s,a,l){return Sa(a,s.child,null,l),s=Bh(a,a.pendingProps),s.flags|=2,Pn(a),a.memoizedState=null,s}function Wx(s,a,l){var u=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(jt){if(u.mode==="hidden")return s=Bh(a,u),a.lanes=536870912,dc(null,s);if(Fm(a),(s=ce)?(s=zb(s,$n),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Js!==null?{id:qi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},l=cv(s),l.return=a,a.child=l,Ze=a,ce=null)):s=null,s===null)throw tr(a);return a.lanes=536870912,null}return Bh(a,u)}var p=s.memoizedState;if(p!==null){var b=p.dehydrated;if(Fm(a),g)if(a.flags&256)a.flags&=-257,a=x0(s,a,l);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(Ne||So(s,a,l,!1),g=(l&s.childLanes)!==0,Ne||g){if(u=re,u!==null&&(b=kl(u,l),b!==0&&b!==p.retryLane))throw p.retryLane=b,ga(s,b),Sn(u,s,b),cg;Jh(),a=x0(s,a,l)}else s=p.treeContext,ce=Zn(b.nextSibling),Ze=a,jt=!0,Zs=null,$n=!1,s!==null&&fv(a,s),a=Bh(a,u),a.flags|=4096;return a}return s=hs(s.child,{mode:u.mode,children:u.children}),s.ref=a.ref,a.child=s,s.return=a,s}function Fh(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function ug(s,a,l,u,g){return va(a),l=qm(s,a,l,u,void 0,g),u=Gm(),s!==null&&!Ne?(Ym(s,a,g),ys(s,a,g)):(jt&&u&&Am(a),a.flags|=1,en(s,a,l,g),a.child)}function R0(s,a,l,u,g,p){return va(a),a.updateQueue=null,l=Mv(a,u,l,g),Iv(s),u=Gm(),s!==null&&!Ne?(Ym(s,a,p),ys(s,a,p)):(jt&&u&&Am(a),a.flags|=1,en(s,a,l,p),a.child)}function C0(s,a,l,u,g){if(va(a),a.stateNode===null){var p=vo,b=l.contextType;typeof b=="object"&&b!==null&&(p=tn(b)),p=new l(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=og,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},Vm(a),b=l.contextType,p.context=typeof b=="object"&&b!==null?tn(b):vo,p.state=a.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(ag(a,l,b,u),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&og.enqueueReplaceState(p,p.state,null),lc(a,u,p,g),oc(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){p=a.stateNode;var A=a.memoizedProps,L=Aa(l,A);p.props=L;var W=p.context,J=l.contextType;b=vo,typeof J=="object"&&J!==null&&(b=tn(J));var nt=l.getDerivedStateFromProps;J=typeof nt=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=a.pendingProps!==A,J||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||W!==b)&&m0(a,p,u,b),nr=!1;var K=a.memoizedState;p.state=K,lc(a,u,p,g),oc(),W=a.memoizedState,A||K!==W||nr?(typeof nt=="function"&&(ag(a,l,nt,u),W=a.memoizedState),(L=nr||d0(a,l,L,u,K,W,b))?(J||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=W),p.props=u,p.state=W,p.context=b,u=L):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,Lm(s,a),b=a.memoizedProps,J=Aa(l,b),p.props=J,nt=a.pendingProps,K=p.context,W=l.contextType,L=vo,typeof W=="object"&&W!==null&&(L=tn(W)),A=l.getDerivedStateFromProps,(W=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==nt||K!==L)&&m0(a,p,u,L),nr=!1,K=a.memoizedState,p.state=K,lc(a,u,p,g),oc();var $=a.memoizedState;b!==nt||K!==$||nr||s!==null&&s.dependencies!==null&&Sh(s.dependencies)?(typeof A=="function"&&(ag(a,l,A,u),$=a.memoizedState),(J=nr||d0(a,l,J,u,K,$,L)||s!==null&&s.dependencies!==null&&Sh(s.dependencies))?(W||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,$,L),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,$,L)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&K===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&K===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=$),p.props=u,p.state=$,p.context=L,u=J):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&K===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&K===s.memoizedState||(a.flags|=1024),u=!1)}return p=u,Fh(s,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,s!==null&&u?(a.child=Sa(a,s.child,null,g),a.child=Sa(a,null,l,g)):en(s,a,l,g),a.memoizedState=p.state,s=a.child):s=ys(s,a,g),s}function I0(s,a,l,u){return ya(),a.flags|=256,en(s,a,l,u),a.child}var hg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fg(s){return{baseLanes:s,cachePool:_v()}}function dg(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Ln),s}function M0(s,a,l){var u=a.pendingProps,g=!1,p=(a.flags&128)!==0,b;if((b=p)||(b=s!==null&&s.memoizedState===null?!1:(Te.current&2)!==0),b&&(g=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,s===null){if(jt){if(g?rr(a):ar(),(s=ce)?(s=zb(s,$n),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Js!==null?{id:qi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},l=cv(s),l.return=a,a.child=l,Ze=a,ce=null)):s=null,s===null)throw tr(a);return Qg(s)?a.lanes=32:a.lanes=536870912,null}var A=u.children;return u=u.fallback,g?(ar(),g=a.mode,A=Hh({mode:"hidden",children:A},g),u=pa(u,g,l,null),A.return=a,u.return=a,A.sibling=u,a.child=A,u=a.child,u.memoizedState=fg(l),u.childLanes=dg(s,b,l),a.memoizedState=hg,dc(null,u)):(rr(a),mg(a,A))}var L=s.memoizedState;if(L!==null&&(A=L.dehydrated,A!==null)){if(p)a.flags&256?(rr(a),a.flags&=-257,a=gg(s,a,l)):a.memoizedState!==null?(ar(),a.child=s.child,a.flags|=128,a=null):(ar(),A=u.fallback,g=a.mode,u=Hh({mode:"visible",children:u.children},g),A=pa(A,g,l,null),A.flags|=2,u.return=a,A.return=a,u.sibling=A,a.child=u,Sa(a,s.child,null,l),u=a.child,u.memoizedState=fg(l),u.childLanes=dg(s,b,l),a.memoizedState=hg,a=dc(null,u));else if(rr(a),Qg(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var W=b.dgst;b=W,u=Error(i(419)),u.stack="",u.digest=b,ec({value:u,source:null,stack:null}),a=gg(s,a,l)}else if(Ne||So(s,a,l,!1),b=(l&s.childLanes)!==0,Ne||b){if(b=re,b!==null&&(u=kl(b,l),u!==0&&u!==L.retryLane))throw L.retryLane=u,ga(s,u),Sn(b,s,u),cg;Kg(A)||Jh(),a=gg(s,a,l)}else Kg(A)?(a.flags|=192,a.child=s.child,a=null):(s=L.treeContext,ce=Zn(A.nextSibling),Ze=a,jt=!0,Zs=null,$n=!1,s!==null&&fv(a,s),a=mg(a,u.children),a.flags|=4096);return a}return g?(ar(),A=u.fallback,g=a.mode,L=s.child,W=L.sibling,u=hs(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&65011712,W!==null?A=hs(W,A):(A=pa(A,g,l,null),A.flags|=2),A.return=a,u.return=a,u.sibling=A,a.child=u,dc(null,u),u=a.child,A=s.child.memoizedState,A===null?A=fg(l):(g=A.cachePool,g!==null?(L=De._currentValue,g=g.parent!==L?{parent:L,pool:L}:g):g=_v(),A={baseLanes:A.baseLanes|l,cachePool:g}),u.memoizedState=A,u.childLanes=dg(s,b,l),a.memoizedState=hg,dc(s.child,u)):(rr(a),l=s.child,s=l.sibling,l=hs(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(b=a.deletions,b===null?(a.deletions=[s],a.flags|=16):b.push(s)),a.child=l,a.memoizedState=null,l)}function mg(s,a){return a=Hh({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Hh(s,a){return s=Nn(22,s,null,a),s.lanes=0,s}function gg(s,a,l){return Sa(a,s.child,null,l),s=mg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function D0(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),Mm(s.return,a,l)}function pg(s,a,l,u,g,p){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:p}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=l,b.tailMode=g,b.treeForkCount=p)}function O0(s,a,l){var u=a.pendingProps,g=u.revealOrder,p=u.tail;u=u.children;var b=Te.current,A=(b&2)!==0;if(A?(b=b&1|2,a.flags|=128):b&=1,ct(Te,b),en(s,a,u,l),u=jt?tc:0,!A&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&D0(s,l,a);else if(s.tag===19)D0(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(l=a.child,g=null;l!==null;)s=l.alternate,s!==null&&Dh(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),pg(a,!1,g,l,p,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Dh(s)===null){a.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}pg(a,!0,l,null,p,u);break;case"together":pg(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function ys(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),cr|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(So(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=hs(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=hs(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function yg(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Sh(s)))}function Kx(s,a,l){switch(a.tag){case 3:je(a,a.stateNode.containerInfo),er(a,De,s.memoizedState.cache),ya();break;case 27:case 5:$r(a);break;case 4:je(a,a.stateNode.containerInfo);break;case 10:er(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Fm(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(rr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?M0(s,a,l):(rr(a),s=ys(s,a,l),s!==null?s.sibling:null);rr(a);break;case 19:var g=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(So(s,a,l,!1),u=(l&a.childLanes)!==0),g){if(u)return O0(s,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ct(Te,Te.current),u)break;return null;case 22:return a.lanes=0,w0(s,a,l,a.pendingProps);case 24:er(a,De,s.memoizedState.cache)}return ys(s,a,l)}function N0(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)Ne=!0;else{if(!yg(s,l)&&(a.flags&128)===0)return Ne=!1,Kx(s,a,l);Ne=(s.flags&131072)!==0}else Ne=!1,jt&&(a.flags&1048576)!==0&&hv(a,tc,a.index);switch(a.lanes=0,a.tag){case 16:t:{var u=a.pendingProps;if(s=Ea(a.elementType),a.type=s,typeof s=="function")Tm(s)?(u=Aa(s,u),a.tag=1,a=C0(null,a,s,u,l)):(a.tag=0,a=ug(null,a,s,u,l));else{if(s!=null){var g=s.$$typeof;if(g===rt){a.tag=11,a=E0(null,a,s,u,l);break t}else if(g===D){a.tag=14,a=T0(null,a,s,u,l);break t}}throw a=Dt(s)||s,Error(i(306,a,""))}}return a;case 0:return ug(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,g=Aa(u,a.pendingProps),C0(s,a,u,g,l);case 3:t:{if(je(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var p=a.memoizedState;g=p.element,Lm(s,a),lc(a,u,null,l);var b=a.memoizedState;if(u=b.cache,er(a,De,u),u!==p.cache&&Dm(a,[De],l,!0),oc(),u=b.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=I0(s,a,u,l);break t}else if(u!==g){g=Kn(Error(i(424)),a),ec(g),a=I0(s,a,u,l);break t}else for(s=a.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,ce=Zn(s.firstChild),Ze=a,jt=!0,Zs=null,$n=!0,l=wv(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ya(),u===g){a=ys(s,a,l);break t}en(s,a,u,l)}a=a.child}return a;case 26:return Fh(s,a),s===null?(l=qb(a.type,null,a.pendingProps,null))?a.memoizedState=l:jt||(l=a.type,s=a.pendingProps,u=af(Et.current).createElement(l),u[Ce]=a,u[We]=s,nn(u,l,s),Ie(u),a.stateNode=u):a.memoizedState=qb(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return $r(a),s===null&&jt&&(u=a.stateNode=Bb(a.type,a.pendingProps,Et.current),Ze=a,$n=!0,g=ce,mr(a.type)?(Xg=g,ce=Zn(u.firstChild)):ce=g),en(s,a,a.pendingProps.children,l),Fh(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&jt&&((g=u=ce)&&(u=wR(u,a.type,a.pendingProps,$n),u!==null?(a.stateNode=u,Ze=a,ce=Zn(u.firstChild),$n=!1,g=!0):g=!1),g||tr(a)),$r(a),g=a.type,p=a.pendingProps,b=s!==null?s.memoizedProps:null,u=p.children,Gg(g,p)?u=null:b!==null&&Gg(g,b)&&(a.flags|=32),a.memoizedState!==null&&(g=qm(s,a,Ux,null,null,l),Cc._currentValue=g),Fh(s,a),en(s,a,u,l),a.child;case 6:return s===null&&jt&&((s=l=ce)&&(l=AR(l,a.pendingProps,$n),l!==null?(a.stateNode=l,Ze=a,ce=null,s=!0):s=!1),s||tr(a)),null;case 13:return M0(s,a,l);case 4:return je(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=Sa(a,null,u,l):en(s,a,u,l),a.child;case 11:return E0(s,a,a.type,a.pendingProps,l);case 7:return en(s,a,a.pendingProps,l),a.child;case 8:return en(s,a,a.pendingProps.children,l),a.child;case 12:return en(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,er(a,a.type,u.value),en(s,a,u.children,l),a.child;case 9:return g=a.type._context,u=a.pendingProps.children,va(a),g=tn(g),u=u(g),a.flags|=1,en(s,a,u,l),a.child;case 14:return T0(s,a,a.type,a.pendingProps,l);case 15:return S0(s,a,a.type,a.pendingProps,l);case 19:return O0(s,a,l);case 31:return Wx(s,a,l);case 22:return w0(s,a,l,a.pendingProps);case 24:return va(a),u=tn(De),s===null?(g=km(),g===null&&(g=re,p=Om(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=l),g=p),a.memoizedState={parent:u,cache:g},Vm(a),er(a,De,g)):((s.lanes&l)!==0&&(Lm(s,a),lc(a,null,null,l),oc()),g=s.memoizedState,p=a.memoizedState,g.parent!==u?(g={parent:u,cache:u},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),er(a,De,u)):(u=p.cache,er(a,De,u),u!==g.cache&&Dm(a,[De],l,!0))),en(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function _s(s){s.flags|=4}function _g(s,a,l,u,g){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(ab())s.flags|=8192;else throw Ta=Rh,Pm}else s.flags&=-16777217}function k0(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Qb(a))if(ab())s.flags|=8192;else throw Ta=Rh,Pm}function qh(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Xu():536870912,s.lanes|=a,Po|=a)}function mc(s,a){if(!jt)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function ue(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function Qx(s,a,l){var u=a.pendingProps;switch(xm(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(a),null;case 1:return ue(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),ms(De),de(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(To(a)?_s(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Cm())),ue(a),null;case 26:var g=a.type,p=a.memoizedState;return s===null?(_s(a),p!==null?(ue(a),k0(a,p)):(ue(a),_g(a,g,null,u,l))):p?p!==s.memoizedState?(_s(a),ue(a),k0(a,p)):(ue(a),a.flags&=-16777217):(s=s.memoizedProps,s!==u&&_s(a),ue(a),_g(a,g,s,u,l)),null;case 27:if(Za(a),l=Et.current,g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&_s(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return ue(a),null}s=ut.current,To(a)?dv(a):(s=Bb(g,u,l),a.stateNode=s,_s(a))}return ue(a),null;case 5:if(Za(a),g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&_s(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return ue(a),null}if(p=ut.current,To(a))dv(a);else{var b=af(Et.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?b.createElement(g,{is:u.is}):b.createElement(g)}}p[Ce]=a,p[We]=u;t:for(b=a.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===a)break t;for(;b.sibling===null;){if(b.return===null||b.return===a)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}a.stateNode=p;t:switch(nn(p,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&_s(a)}}return ue(a),_g(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,l),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&_s(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=Et.current,To(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,g=Ze,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}s[Ce]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Mb(s.nodeValue,l)),s||tr(a,!0)}else s=af(s).createTextNode(u),s[Ce]=a,a.stateNode=s}return ue(a),null;case 31:if(l=a.memoizedState,s===null||s.memoizedState!==null){if(u=To(a),l!==null){if(s===null){if(!u)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Ce]=a}else ya(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ue(a),s=!1}else l=Cm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return a.flags&256?(Pn(a),a):(Pn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return ue(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=To(a),u!==null&&u.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Ce]=a}else ya(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ue(a),g=!1}else g=Cm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Pn(a),a):(Pn(a),null)}return Pn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=a.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==g&&(u.flags|=2048)),l!==s&&l&&(a.child.flags|=8192),qh(a,a.updateQueue),ue(a),null);case 4:return de(),s===null&&jg(a.stateNode.containerInfo),ue(a),null;case 10:return ms(a.type),ue(a),null;case 19:if(tt(Te),u=a.memoizedState,u===null)return ue(a),null;if(g=(a.flags&128)!==0,p=u.rendering,p===null)if(g)mc(u,!1);else{if(ve!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(p=Dh(s),p!==null){for(a.flags|=128,mc(u,!1),s=p.updateQueue,a.updateQueue=s,qh(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)lv(l,s),l=l.sibling;return ct(Te,Te.current&1|2),jt&&fs(a,u.treeForkCount),a.child}s=s.sibling}u.tail!==null&&mn()>Qh&&(a.flags|=128,g=!0,mc(u,!1),a.lanes=4194304)}else{if(!g)if(s=Dh(p),s!==null){if(a.flags|=128,g=!0,s=s.updateQueue,a.updateQueue=s,qh(a,s),mc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!jt)return ue(a),null}else 2*mn()-u.renderingStartTime>Qh&&l!==536870912&&(a.flags|=128,g=!0,mc(u,!1),a.lanes=4194304);u.isBackwards?(p.sibling=a.child,a.child=p):(s=u.last,s!==null?s.sibling=p:a.child=p,u.last=p)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=mn(),s.sibling=null,l=Te.current,ct(Te,g?l&1|2:l&1),jt&&fs(a,u.treeForkCount),s):(ue(a),null);case 22:case 23:return Pn(a),Bm(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(ue(a),a.subtreeFlags&6&&(a.flags|=8192)):ue(a),l=a.updateQueue,l!==null&&qh(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&tt(ba),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ms(De),ue(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function Xx(s,a){switch(xm(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ms(De),de(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Za(a),null;case 31:if(a.memoizedState!==null){if(Pn(a),a.alternate===null)throw Error(i(340));ya()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(Pn(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));ya()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return tt(Te),null;case 4:return de(),null;case 10:return ms(a.type),null;case 22:case 23:return Pn(a),Bm(),s!==null&&tt(ba),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return ms(De),null;case 25:return null;default:return null}}function P0(s,a){switch(xm(a),a.tag){case 3:ms(De),de();break;case 26:case 27:case 5:Za(a);break;case 4:de();break;case 31:a.memoizedState!==null&&Pn(a);break;case 13:Pn(a);break;case 19:tt(Te);break;case 10:ms(a.type);break;case 22:case 23:Pn(a),Bm(),s!==null&&tt(ba);break;case 24:ms(De)}}function gc(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&s)===s){u=void 0;var p=l.create,b=l.inst;u=p(),b.destroy=u}l=l.next}while(l!==g)}}catch(A){Jt(a,a.return,A)}}function or(s,a,l){try{var u=a.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var p=g.next;u=p;do{if((u.tag&s)===s){var b=u.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,g=a;var L=l,W=A;try{W()}catch(J){Jt(g,L,J)}}}u=u.next}while(u!==p)}}catch(J){Jt(a,a.return,J)}}function V0(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{xv(a,l)}catch(u){Jt(s,s.return,u)}}}function L0(s,a,l){l.props=Aa(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){Jt(s,a,u)}}function pc(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(g){Jt(s,a,g)}}function Yi(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Jt(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Jt(s,a,g)}else l.current=null}function z0(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Jt(s,s.return,g)}}function vg(s,a,l){try{var u=s.stateNode;_R(u,s.type,l,a),u[We]=a}catch(g){Jt(s,s.return,g)}}function U0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&mr(s.type)||s.tag===4}function bg(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||U0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&mr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Eg(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=di));else if(u!==4&&(u===27&&mr(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(Eg(s,a,l),s=s.sibling;s!==null;)Eg(s,a,l),s=s.sibling}function Gh(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&mr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Gh(s,a,l),s=s.sibling;s!==null;)Gh(s,a,l),s=s.sibling}function j0(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);nn(a,u,l),a[Ce]=s,a[We]=l}catch(p){Jt(s,s.return,p)}}var vs=!1,ke=!1,Tg=!1,B0=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function $x(s,a){if(s=s.containerInfo,Hg=df,s=Z_(s),gm(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var b=0,A=-1,L=-1,W=0,J=0,nt=s,K=null;e:for(;;){for(var $;nt!==l||g!==0&&nt.nodeType!==3||(A=b+g),nt!==p||u!==0&&nt.nodeType!==3||(L=b+u),nt.nodeType===3&&(b+=nt.nodeValue.length),($=nt.firstChild)!==null;)K=nt,nt=$;for(;;){if(nt===s)break e;if(K===l&&++W===g&&(A=b),K===p&&++J===u&&(L=b),($=nt.nextSibling)!==null)break;nt=K,K=nt.parentNode}nt=$}l=A===-1||L===-1?null:{start:A,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(qg={focusedElem:s,selectionRange:l},df=!1,Qe=a;Qe!==null;)if(a=Qe,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Qe=s;else for(;Qe!==null;){switch(a=Qe,p=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)g=s[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=a,g=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var mt=Aa(l.type,g);s=u.getSnapshotBeforeUpdate(mt,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(vt){Jt(l,l.return,vt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)Wg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Wg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Qe=s;break}Qe=a.return}}function F0(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Es(s,l),u&4&&gc(5,l);break;case 1:if(Es(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(b){Jt(l,l.return,b)}else{var g=Aa(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(b){Jt(l,l.return,b)}}u&64&&V0(l),u&512&&pc(l,l.return);break;case 3:if(Es(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{xv(s,a)}catch(b){Jt(l,l.return,b)}}break;case 27:a===null&&u&4&&j0(l);case 26:case 5:Es(s,l),a===null&&u&4&&z0(l),u&512&&pc(l,l.return);break;case 12:Es(s,l);break;case 31:Es(s,l),u&4&&G0(s,l);break;case 13:Es(s,l),u&4&&Y0(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=aR.bind(null,l),xR(s,l))));break;case 22:if(u=l.memoizedState!==null||vs,!u){a=a!==null&&a.memoizedState!==null||ke,g=vs;var p=ke;vs=u,(ke=a)&&!p?Ts(s,l,(l.subtreeFlags&8772)!==0):Es(s,l),vs=g,ke=p}break;case 30:break;default:Es(s,l)}}function H0(s){var a=s.alternate;a!==null&&(s.alternate=null,H0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&so(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ge=null,vn=!1;function bs(s,a,l){for(l=l.child;l!==null;)q0(s,a,l),l=l.sibling}function q0(s,a,l){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(ci,l)}catch{}switch(l.tag){case 26:ke||Yi(l,a),bs(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ke||Yi(l,a);var u=ge,g=vn;mr(l.type)&&(ge=l.stateNode,vn=!1),bs(s,a,l),Ac(l.stateNode),ge=u,vn=g;break;case 5:ke||Yi(l,a);case 6:if(u=ge,g=vn,ge=null,bs(s,a,l),ge=u,vn=g,ge!==null)if(vn)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(l.stateNode)}catch(p){Jt(l,a,p)}else try{ge.removeChild(l.stateNode)}catch(p){Jt(l,a,p)}break;case 18:ge!==null&&(vn?(s=ge,Vb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Ho(s)):Vb(ge,l.stateNode));break;case 4:u=ge,g=vn,ge=l.stateNode.containerInfo,vn=!0,bs(s,a,l),ge=u,vn=g;break;case 0:case 11:case 14:case 15:or(2,l,a),ke||or(4,l,a),bs(s,a,l);break;case 1:ke||(Yi(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&L0(l,a,u)),bs(s,a,l);break;case 21:bs(s,a,l);break;case 22:ke=(u=ke)||l.memoizedState!==null,bs(s,a,l),ke=u;break;default:bs(s,a,l)}}function G0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Ho(s)}catch(l){Jt(a,a.return,l)}}}function Y0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ho(s)}catch(l){Jt(a,a.return,l)}}function Jx(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new B0),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new B0),a;default:throw Error(i(435,s.tag))}}function Yh(s,a){var l=Jx(s);a.forEach(function(u){if(!l.has(u)){l.add(u);var g=oR.bind(null,s,u);u.then(g,g)}})}function bn(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],p=s,b=a,A=b;t:for(;A!==null;){switch(A.tag){case 27:if(mr(A.type)){ge=A.stateNode,vn=!1;break t}break;case 5:ge=A.stateNode,vn=!1;break t;case 3:case 4:ge=A.stateNode.containerInfo,vn=!0;break t}A=A.return}if(ge===null)throw Error(i(160));q0(p,b,g),ge=null,vn=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)W0(a,s),a=a.sibling}var vi=null;function W0(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:bn(a,s),En(s),u&4&&(or(3,s,s.return),gc(3,s),or(5,s,s.return));break;case 1:bn(a,s),En(s),u&512&&(ke||l===null||Yi(l,l.return)),u&64&&vs&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=vi;if(bn(a,s),En(s),u&512&&(ke||l===null||Yi(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":p=g.getElementsByTagName("title")[0],(!p||p[Oi]||p[Ce]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(u),g.head.insertBefore(p,g.querySelector("head > title"))),nn(p,u,l),p[Ce]=s,Ie(p),u=p;break t;case"link":var b=Wb("link","href",g).get(u+(l.href||""));if(b){for(var A=0;A<b.length;A++)if(p=b[A],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(A,1);break e}}p=g.createElement(u),nn(p,u,l),g.head.appendChild(p);break;case"meta":if(b=Wb("meta","content",g).get(u+(l.content||""))){for(A=0;A<b.length;A++)if(p=b[A],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(A,1);break e}}p=g.createElement(u),nn(p,u,l),g.head.appendChild(p);break;default:throw Error(i(468,u))}p[Ce]=s,Ie(p),u=p}s.stateNode=u}else Kb(g,s.type,s.stateNode);else s.stateNode=Yb(g,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?Kb(g,s.type,s.stateNode):Yb(g,u,s.memoizedProps)):u===null&&s.stateNode!==null&&vg(s,s.memoizedProps,l.memoizedProps)}break;case 27:bn(a,s),En(s),u&512&&(ke||l===null||Yi(l,l.return)),l!==null&&u&4&&vg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(bn(a,s),En(s),u&512&&(ke||l===null||Yi(l,l.return)),s.flags&32){g=s.stateNode;try{_n(g,"")}catch(mt){Jt(s,s.return,mt)}}u&4&&s.stateNode!=null&&(g=s.memoizedProps,vg(s,g,l!==null?l.memoizedProps:g)),u&1024&&(Tg=!0);break;case 6:if(bn(a,s),En(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(mt){Jt(s,s.return,mt)}}break;case 3:if(cf=null,g=vi,vi=of(a.containerInfo),bn(a,s),vi=g,En(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Ho(a.containerInfo)}catch(mt){Jt(s,s.return,mt)}Tg&&(Tg=!1,K0(s));break;case 4:u=vi,vi=of(s.stateNode.containerInfo),bn(a,s),En(s),vi=u;break;case 12:bn(a,s),En(s);break;case 31:bn(a,s),En(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Yh(s,u)));break;case 13:bn(a,s),En(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Kh=mn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Yh(s,u)));break;case 22:g=s.memoizedState!==null;var L=l!==null&&l.memoizedState!==null,W=vs,J=ke;if(vs=W||g,ke=J||L,bn(a,s),ke=J,vs=W,En(s),u&8192)t:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||L||vs||ke||xa(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){L=l=a;try{if(p=L.stateNode,g)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=L.stateNode;var nt=L.memoizedProps.style,K=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;A.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(mt){Jt(L,L.return,mt)}}}else if(a.tag===6){if(l===null){L=a;try{L.stateNode.nodeValue=g?"":L.memoizedProps}catch(mt){Jt(L,L.return,mt)}}}else if(a.tag===18){if(l===null){L=a;try{var $=L.stateNode;g?Lb($,!0):Lb(L.stateNode,!1)}catch(mt){Jt(L,L.return,mt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Yh(s,l))));break;case 19:bn(a,s),En(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Yh(s,u)));break;case 30:break;case 21:break;default:bn(a,s),En(s)}}function En(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(U0(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,p=bg(s);Gh(s,p,g);break;case 5:var b=l.stateNode;l.flags&32&&(_n(b,""),l.flags&=-33);var A=bg(s);Gh(s,A,b);break;case 3:case 4:var L=l.stateNode.containerInfo,W=bg(s);Eg(s,W,L);break;default:throw Error(i(161))}}catch(J){Jt(s,s.return,J)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function K0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;K0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Es(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)F0(s,a.alternate,a),a=a.sibling}function xa(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:or(4,a,a.return),xa(a);break;case 1:Yi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&L0(a,a.return,l),xa(a);break;case 27:Ac(a.stateNode);case 26:case 5:Yi(a,a.return),xa(a);break;case 22:a.memoizedState===null&&xa(a);break;case 30:xa(a);break;default:xa(a)}s=s.sibling}}function Ts(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,g=s,p=a,b=p.flags;switch(p.tag){case 0:case 11:case 15:Ts(g,p,l),gc(4,p);break;case 1:if(Ts(g,p,l),u=p,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(W){Jt(u,u.return,W)}if(u=p,g=u.updateQueue,g!==null){var A=u.stateNode;try{var L=g.shared.hiddenCallbacks;if(L!==null)for(g.shared.hiddenCallbacks=null,g=0;g<L.length;g++)Av(L[g],A)}catch(W){Jt(u,u.return,W)}}l&&b&64&&V0(p),pc(p,p.return);break;case 27:j0(p);case 26:case 5:Ts(g,p,l),l&&u===null&&b&4&&z0(p),pc(p,p.return);break;case 12:Ts(g,p,l);break;case 31:Ts(g,p,l),l&&b&4&&G0(g,p);break;case 13:Ts(g,p,l),l&&b&4&&Y0(g,p);break;case 22:p.memoizedState===null&&Ts(g,p,l),pc(p,p.return);break;case 30:break;default:Ts(g,p,l)}a=a.sibling}}function Sg(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&nc(l))}function wg(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&nc(s))}function bi(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Q0(s,a,l,u),a=a.sibling}function Q0(s,a,l,u){var g=a.flags;switch(a.tag){case 0:case 11:case 15:bi(s,a,l,u),g&2048&&gc(9,a);break;case 1:bi(s,a,l,u);break;case 3:bi(s,a,l,u),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&nc(s)));break;case 12:if(g&2048){bi(s,a,l,u),s=a.stateNode;try{var p=a.memoizedProps,b=p.id,A=p.onPostCommit;typeof A=="function"&&A(b,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(L){Jt(a,a.return,L)}}else bi(s,a,l,u);break;case 31:bi(s,a,l,u);break;case 13:bi(s,a,l,u);break;case 23:break;case 22:p=a.stateNode,b=a.alternate,a.memoizedState!==null?p._visibility&2?bi(s,a,l,u):yc(s,a):p._visibility&2?bi(s,a,l,u):(p._visibility|=2,Oo(s,a,l,u,(a.subtreeFlags&10256)!==0||!1)),g&2048&&Sg(b,a);break;case 24:bi(s,a,l,u),g&2048&&wg(a.alternate,a);break;default:bi(s,a,l,u)}}function Oo(s,a,l,u,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=s,b=a,A=l,L=u,W=b.flags;switch(b.tag){case 0:case 11:case 15:Oo(p,b,A,L,g),gc(8,b);break;case 23:break;case 22:var J=b.stateNode;b.memoizedState!==null?J._visibility&2?Oo(p,b,A,L,g):yc(p,b):(J._visibility|=2,Oo(p,b,A,L,g)),g&&W&2048&&Sg(b.alternate,b);break;case 24:Oo(p,b,A,L,g),g&&W&2048&&wg(b.alternate,b);break;default:Oo(p,b,A,L,g)}a=a.sibling}}function yc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,g=u.flags;switch(u.tag){case 22:yc(l,u),g&2048&&Sg(u.alternate,u);break;case 24:yc(l,u),g&2048&&wg(u.alternate,u);break;default:yc(l,u)}a=a.sibling}}var _c=8192;function No(s,a,l){if(s.subtreeFlags&_c)for(s=s.child;s!==null;)X0(s,a,l),s=s.sibling}function X0(s,a,l){switch(s.tag){case 26:No(s,a,l),s.flags&_c&&s.memoizedState!==null&&zR(l,vi,s.memoizedState,s.memoizedProps);break;case 5:No(s,a,l);break;case 3:case 4:var u=vi;vi=of(s.stateNode.containerInfo),No(s,a,l),vi=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=_c,_c=16777216,No(s,a,l),_c=u):No(s,a,l));break;default:No(s,a,l)}}function $0(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function vc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Qe=u,Z0(u,s)}$0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)J0(s),s=s.sibling}function J0(s){switch(s.tag){case 0:case 11:case 15:vc(s),s.flags&2048&&or(9,s,s.return);break;case 3:vc(s);break;case 12:vc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Wh(s)):vc(s);break;default:vc(s)}}function Wh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Qe=u,Z0(u,s)}$0(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:or(8,a,a.return),Wh(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Wh(a));break;default:Wh(a)}s=s.sibling}}function Z0(s,a){for(;Qe!==null;){var l=Qe;switch(l.tag){case 0:case 11:case 15:or(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:nc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Qe=u;else t:for(l=s;Qe!==null;){u=Qe;var g=u.sibling,p=u.return;if(H0(u),u===l){Qe=null;break t}if(g!==null){g.return=p,Qe=g;break t}Qe=p}}}var Zx={getCacheForType:function(s){var a=tn(De),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l},cacheSignal:function(){return tn(De).controller.signal}},tR=typeof WeakMap=="function"?WeakMap:Map,Kt=0,re=null,Ot=null,Pt=0,$t=0,Vn=null,lr=!1,ko=!1,Ag=!1,Ss=0,ve=0,cr=0,Ra=0,xg=0,Ln=0,Po=0,bc=null,Tn=null,Rg=!1,Kh=0,tb=0,Qh=1/0,Xh=null,ur=null,Fe=0,hr=null,Vo=null,ws=0,Cg=0,Ig=null,eb=null,Ec=0,Mg=null;function zn(){return(Kt&2)!==0&&Pt!==0?Pt&-Pt:Q.T!==null?Vg():$u()}function nb(){if(Ln===0)if((Pt&536870912)===0||jt){var s=ta;ta<<=1,(ta&3932160)===0&&(ta=262144),Ln=s}else Ln=536870912;return s=kn.current,s!==null&&(s.flags|=32),Ln}function Sn(s,a,l){(s===re&&($t===2||$t===9)||s.cancelPendingCommit!==null)&&(Lo(s,0),fr(s,Pt,Ln,!1)),ea(s,l),((Kt&2)===0||s!==re)&&(s===re&&((Kt&2)===0&&(Ra|=l),ve===4&&fr(s,Pt,Ln,!1)),Wi(s))}function ib(s,a,l){if((Kt&6)!==0)throw Error(i(327));var u=!l&&(a&127)===0&&(a&s.expiredLanes)===0||ui(s,a),g=u?iR(s,a):Og(s,a,!0),p=u;do{if(g===0){ko&&!u&&fr(s,a,0,!1);break}else{if(l=s.current.alternate,p&&!eR(l)){g=Og(s,a,!1),p=!1;continue}if(g===2){if(p=a,s.errorRecoveryDisabledLanes&p)var b=0;else b=s.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;t:{var A=s;g=bc;var L=A.current.memoizedState.isDehydrated;if(L&&(Lo(A,b).flags|=256),b=Og(A,b,!1),b!==2){if(Ag&&!L){A.errorRecoveryDisabledLanes|=p,Ra|=p,g=4;break t}p=Tn,Tn=g,p!==null&&(Tn===null?Tn=p:Tn.push.apply(Tn,p))}g=b}if(p=!1,g!==2)continue}}if(g===1){Lo(s,0),fr(s,a,0,!0);break}t:{switch(u=s,p=g,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:fr(u,a,Ln,!lr);break t;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=Kh+300-mn(),10<g)){if(fr(u,a,Ln,!lr),Ii(u,0,!0)!==0)break t;ws=a,u.timeoutHandle=kb(sb.bind(null,u,l,Tn,Xh,Rg,a,Ln,Ra,Po,lr,p,"Throttled",-0,0),g);break t}sb(u,l,Tn,Xh,Rg,a,Ln,Ra,Po,lr,p,null,-0,0)}}break}while(!0);Wi(s)}function sb(s,a,l,u,g,p,b,A,L,W,J,nt,K,$){if(s.timeoutHandle=-1,nt=a.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:di},X0(a,p,nt);var mt=(p&62914560)===p?Kh-mn():(p&4194048)===p?tb-mn():0;if(mt=UR(nt,mt),mt!==null){ws=p,s.cancelPendingCommit=mt(fb.bind(null,s,a,p,l,u,g,b,A,L,J,nt,null,K,$)),fr(s,p,b,!W);return}}fb(s,a,p,l,u,g,b,A,L)}function eR(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],p=g.getSnapshot;g=g.value;try{if(!On(p(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function fr(s,a,l,u){a&=~xg,a&=~Ra,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var g=a;0<g;){var p=31-be(g),b=1<<p;u[p]=-1,g&=~b}l!==0&&na(s,l,a)}function $h(){return(Kt&6)===0?(Tc(0),!1):!0}function Dg(){if(Ot!==null){if($t===0)var s=Ot.return;else s=Ot,ds=_a=null,Wm(s),Ro=null,sc=0,s=Ot;for(;s!==null;)P0(s.alternate,s),s=s.return;Ot=null}}function Lo(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,ER(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),ws=0,Dg(),re=s,Ot=l=hs(s.current,null),Pt=a,$t=0,Vn=null,lr=!1,ko=ui(s,a),Ag=!1,Po=Ln=xg=Ra=cr=ve=0,Tn=bc=null,Rg=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var g=31-be(u),p=1<<g;a|=s[g],u&=~p}return Ss=a,_h(),l}function rb(s,a){It=null,Q.H=fc,a===xo||a===xh?(a=Ev(),$t=3):a===Pm?(a=Ev(),$t=4):$t=a===cg?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Vn=a,Ot===null&&(ve=1,jh(s,Kn(a,s.current)))}function ab(){var s=kn.current;return s===null?!0:(Pt&4194048)===Pt?Jn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?s===Jn:!1}function ob(){var s=Q.H;return Q.H=fc,s===null?fc:s}function lb(){var s=Q.A;return Q.A=Zx,s}function Jh(){ve=4,lr||(Pt&4194048)!==Pt&&kn.current!==null||(ko=!0),(cr&134217727)===0&&(Ra&134217727)===0||re===null||fr(re,Pt,Ln,!1)}function Og(s,a,l){var u=Kt;Kt|=2;var g=ob(),p=lb();(re!==s||Pt!==a)&&(Xh=null,Lo(s,a)),a=!1;var b=ve;t:do try{if($t!==0&&Ot!==null){var A=Ot,L=Vn;switch($t){case 8:Dg(),b=6;break t;case 3:case 2:case 9:case 6:kn.current===null&&(a=!0);var W=$t;if($t=0,Vn=null,zo(s,A,L,W),l&&ko){b=0;break t}break;default:W=$t,$t=0,Vn=null,zo(s,A,L,W)}}nR(),b=ve;break}catch(J){rb(s,J)}while(!0);return a&&s.shellSuspendCounter++,ds=_a=null,Kt=u,Q.H=g,Q.A=p,Ot===null&&(re=null,Pt=0,_h()),b}function nR(){for(;Ot!==null;)cb(Ot)}function iR(s,a){var l=Kt;Kt|=2;var u=ob(),g=lb();re!==s||Pt!==a?(Xh=null,Qh=mn()+500,Lo(s,a)):ko=ui(s,a);t:do try{if($t!==0&&Ot!==null){a=Ot;var p=Vn;e:switch($t){case 1:$t=0,Vn=null,zo(s,a,p,1);break;case 2:case 9:if(vv(p)){$t=0,Vn=null,ub(a);break}a=function(){$t!==2&&$t!==9||re!==s||($t=7),Wi(s)},p.then(a,a);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:vv(p)?($t=0,Vn=null,ub(a)):($t=0,Vn=null,zo(s,a,p,7));break;case 5:var b=null;switch(Ot.tag){case 26:b=Ot.memoizedState;case 5:case 27:var A=Ot;if(b?Qb(b):A.stateNode.complete){$t=0,Vn=null;var L=A.sibling;if(L!==null)Ot=L;else{var W=A.return;W!==null?(Ot=W,Zh(W)):Ot=null}break e}}$t=0,Vn=null,zo(s,a,p,5);break;case 6:$t=0,Vn=null,zo(s,a,p,6);break;case 8:Dg(),ve=6;break t;default:throw Error(i(462))}}sR();break}catch(J){rb(s,J)}while(!0);return ds=_a=null,Q.H=u,Q.A=g,Kt=l,Ot!==null?0:(re=null,Pt=0,_h(),ve)}function sR(){for(;Ot!==null&&!lm();)cb(Ot)}function cb(s){var a=N0(s.alternate,s,Ss);s.memoizedProps=s.pendingProps,a===null?Zh(s):Ot=a}function ub(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=R0(l,a,a.pendingProps,a.type,void 0,Pt);break;case 11:a=R0(l,a,a.pendingProps,a.type.render,a.ref,Pt);break;case 5:Wm(a);default:P0(l,a),a=Ot=lv(a,Ss),a=N0(l,a,Ss)}s.memoizedProps=s.pendingProps,a===null?Zh(s):Ot=a}function zo(s,a,l,u){ds=_a=null,Wm(a),Ro=null,sc=0;var g=a.return;try{if(Yx(s,g,a,l,Pt)){ve=1,jh(s,Kn(l,s.current)),Ot=null;return}}catch(p){if(g!==null)throw Ot=g,p;ve=1,jh(s,Kn(l,s.current)),Ot=null;return}a.flags&32768?(jt||u===1?s=!0:ko||(Pt&536870912)!==0?s=!1:(lr=s=!0,(u===2||u===9||u===3||u===6)&&(u=kn.current,u!==null&&u.tag===13&&(u.flags|=16384))),hb(a,s)):Zh(a)}function Zh(s){var a=s;do{if((a.flags&32768)!==0){hb(a,lr);return}s=a.return;var l=Qx(a.alternate,a,Ss);if(l!==null){Ot=l;return}if(a=a.sibling,a!==null){Ot=a;return}Ot=a=s}while(a!==null);ve===0&&(ve=5)}function hb(s,a){do{var l=Xx(s.alternate,s);if(l!==null){l.flags&=32767,Ot=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Ot=s;return}Ot=s=l}while(s!==null);ve=6,Ot=null}function fb(s,a,l,u,g,p,b,A,L){s.cancelPendingCommit=null;do tf();while(Fe!==0);if((Kt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=bm,hm(s,l,p,b,A,L),s===re&&(Ot=re=null,Pt=0),Vo=a,hr=s,ws=l,Cg=p,Ig=g,eb=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,lR(Fs,function(){return yb(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,g=ot.p,ot.p=2,b=Kt,Kt|=4;try{$x(s,a,l)}finally{Kt=b,ot.p=g,Q.T=u}}Fe=1,db(),mb(),gb()}}function db(){if(Fe===1){Fe=0;var s=hr,a=Vo,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null;var u=ot.p;ot.p=2;var g=Kt;Kt|=4;try{W0(a,s);var p=qg,b=Z_(s.containerInfo),A=p.focusedElem,L=p.selectionRange;if(b!==A&&A&&A.ownerDocument&&J_(A.ownerDocument.documentElement,A)){if(L!==null&&gm(A)){var W=L.start,J=L.end;if(J===void 0&&(J=W),"selectionStart"in A)A.selectionStart=W,A.selectionEnd=Math.min(J,A.value.length);else{var nt=A.ownerDocument||document,K=nt&&nt.defaultView||window;if(K.getSelection){var $=K.getSelection(),mt=A.textContent.length,vt=Math.min(L.start,mt),se=L.end===void 0?vt:Math.min(L.end,mt);!$.extend&&vt>se&&(b=se,se=vt,vt=b);var F=$_(A,vt),B=$_(A,se);if(F&&B&&($.rangeCount!==1||$.anchorNode!==F.node||$.anchorOffset!==F.offset||$.focusNode!==B.node||$.focusOffset!==B.offset)){var Y=nt.createRange();Y.setStart(F.node,F.offset),$.removeAllRanges(),vt>se?($.addRange(Y),$.extend(B.node,B.offset)):(Y.setEnd(B.node,B.offset),$.addRange(Y))}}}}for(nt=[],$=A;$=$.parentNode;)$.nodeType===1&&nt.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<nt.length;A++){var et=nt[A];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}df=!!Hg,qg=Hg=null}finally{Kt=g,ot.p=u,Q.T=l}}s.current=a,Fe=2}}function mb(){if(Fe===2){Fe=0;var s=hr,a=Vo,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=Q.T,Q.T=null;var u=ot.p;ot.p=2;var g=Kt;Kt|=4;try{F0(s,a.alternate,a)}finally{Kt=g,ot.p=u,Q.T=l}}Fe=3}}function gb(){if(Fe===4||Fe===3){Fe=0,qu();var s=hr,a=Vo,l=ws,u=eb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Fe=5:(Fe=0,Vo=hr=null,pb(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(ur=null),os(l),a=a.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(ci,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=Q.T,g=ot.p,ot.p=2,Q.T=null;try{for(var p=s.onRecoverableError,b=0;b<u.length;b++){var A=u[b];p(A.value,{componentStack:A.stack})}}finally{Q.T=a,ot.p=g}}(ws&3)!==0&&tf(),Wi(s),g=s.pendingLanes,(l&261930)!==0&&(g&42)!==0?s===Mg?Ec++:(Ec=0,Mg=s):Ec=0,Tc(0)}}function pb(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,nc(a)))}function tf(){return db(),mb(),gb(),yb()}function yb(){if(Fe!==5)return!1;var s=hr,a=Cg;Cg=0;var l=os(ws),u=Q.T,g=ot.p;try{ot.p=32>l?32:l,Q.T=null,l=Ig,Ig=null;var p=hr,b=ws;if(Fe=0,Vo=hr=null,ws=0,(Kt&6)!==0)throw Error(i(331));var A=Kt;if(Kt|=4,J0(p.current),Q0(p,p.current,b,l),Kt=A,Tc(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(ci,p)}catch{}return!0}finally{ot.p=g,Q.T=u,pb(s,a)}}function _b(s,a,l){a=Kn(l,a),a=lg(s.stateNode,a,2),s=sr(s,a,2),s!==null&&(ea(s,2),Wi(s))}function Jt(s,a,l){if(s.tag===3)_b(s,s,l);else for(;a!==null;){if(a.tag===3){_b(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ur===null||!ur.has(u))){s=Kn(l,s),l=v0(2),u=sr(a,l,2),u!==null&&(b0(l,u,a,s),ea(u,2),Wi(u));break}}a=a.return}}function Ng(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new tR;var g=new Set;u.set(a,g)}else g=u.get(a),g===void 0&&(g=new Set,u.set(a,g));g.has(l)||(Ag=!0,g.add(l),s=rR.bind(null,s,a,l),a.then(s,s))}function rR(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,re===s&&(Pt&l)===l&&(ve===4||ve===3&&(Pt&62914560)===Pt&&300>mn()-Kh?(Kt&2)===0&&Lo(s,0):xg|=l,Po===Pt&&(Po=0)),Wi(s)}function vb(s,a){a===0&&(a=Xu()),s=ga(s,a),s!==null&&(ea(s,a),Wi(s))}function aR(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),vb(s,l)}function oR(s,a){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),vb(s,l)}function lR(s,a){return Be(s,a)}var ef=null,Uo=null,kg=!1,nf=!1,Pg=!1,dr=0;function Wi(s){s!==Uo&&s.next===null&&(Uo===null?ef=Uo=s:Uo=Uo.next=s),nf=!0,kg||(kg=!0,uR())}function Tc(s,a){if(!Pg&&nf){Pg=!0;do for(var l=!1,u=ef;u!==null;){if(s!==0){var g=u.pendingLanes;if(g===0)var p=0;else{var b=u.suspendedLanes,A=u.pingedLanes;p=(1<<31-be(42|s)+1)-1,p&=g&~(b&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,Sb(u,p))}else p=Pt,p=Ii(u,u===re?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ui(u,p)||(l=!0,Sb(u,p));u=u.next}while(l);Pg=!1}}function cR(){bb()}function bb(){nf=kg=!1;var s=0;dr!==0&&bR()&&(s=dr);for(var a=mn(),l=null,u=ef;u!==null;){var g=u.next,p=Eb(u,a);p===0?(u.next=null,l===null?ef=g:l.next=g,g===null&&(Uo=l)):(l=u,(s!==0||(p&3)!==0)&&(nf=!0)),u=g}Fe!==0&&Fe!==5||Tc(s),dr!==0&&(dr=0)}function Eb(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,g=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var b=31-be(p),A=1<<b,L=g[b];L===-1?((A&l)===0||(A&u)!==0)&&(g[b]=um(A,a)):L<=a&&(s.expiredLanes|=A),p&=~A}if(a=re,l=Pt,l=Ii(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&($t===2||$t===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Bs(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||ui(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&Bs(u),os(l)){case 2:case 8:l=Ol;break;case 32:l=Fs;break;case 268435456:l=Gu;break;default:l=Fs}return u=Tb.bind(null,s),l=Be(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&Bs(u),s.callbackPriority=2,s.callbackNode=null,2}function Tb(s,a){if(Fe!==0&&Fe!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(tf()&&s.callbackNode!==l)return null;var u=Pt;return u=Ii(s,s===re?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(ib(s,u,a),Eb(s,mn()),s.callbackNode!=null&&s.callbackNode===l?Tb.bind(null,s):null)}function Sb(s,a){if(tf())return null;ib(s,a,!0)}function uR(){TR(function(){(Kt&6)!==0?Be(Dl,cR):bb()})}function Vg(){if(dr===0){var s=wo;s===0&&(s=Ri,Ri<<=1,(Ri&261888)===0&&(Ri=256)),dr=s}return dr}function wb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:lo(""+s)}function Ab(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function hR(s,a,l,u,g){if(a==="submit"&&l&&l.stateNode===g){var p=wb((g[We]||null).action),b=u.submitter;b&&(a=(a=b[We]||null)?wb(a.formAction):b.getAttribute("formAction"),a!==null&&(p=a,b=null));var A=new ji("action","action",null,u,g);s.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(dr!==0){var L=b?Ab(g,b):new FormData(g);ng(l,{pending:!0,data:L,method:g.method,action:p},null,L)}}else typeof p=="function"&&(A.preventDefault(),L=b?Ab(g,b):new FormData(g),ng(l,{pending:!0,data:L,method:g.method,action:p},p,L))},currentTarget:g}]})}}for(var Lg=0;Lg<vm.length;Lg++){var zg=vm[Lg],fR=zg.toLowerCase(),dR=zg[0].toUpperCase()+zg.slice(1);_i(fR,"on"+dR)}_i(nv,"onAnimationEnd"),_i(iv,"onAnimationIteration"),_i(sv,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(Ix,"onTransitionRun"),_i(Mx,"onTransitionStart"),_i(Dx,"onTransitionCancel"),_i(rv,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sc));function xb(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],g=u.event;u=u.listeners;t:{var p=void 0;if(a)for(var b=u.length-1;0<=b;b--){var A=u[b],L=A.instance,W=A.currentTarget;if(A=A.listener,L!==p&&g.isPropagationStopped())break t;p=A,g.currentTarget=W;try{p(g)}catch(J){yh(J)}g.currentTarget=null,p=L}else for(b=0;b<u.length;b++){if(A=u[b],L=A.instance,W=A.currentTarget,A=A.listener,L!==p&&g.isPropagationStopped())break t;p=A,g.currentTarget=W;try{p(g)}catch(J){yh(J)}g.currentTarget=null,p=L}}}}function Nt(s,a){var l=a[io];l===void 0&&(l=a[io]=new Set);var u=s+"__bubble";l.has(u)||(Rb(a,s,2,!1),l.add(u))}function Ug(s,a,l){var u=0;a&&(u|=4),Rb(l,s,u,a)}var sf="_reactListening"+Math.random().toString(36).slice(2);function jg(s){if(!s[sf]){s[sf]=!0,Pl.forEach(function(l){l!=="selectionchange"&&(mR.has(l)||Ug(l,!1,s),Ug(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[sf]||(a[sf]=!0,Ug("selectionchange",!1,a))}}function Rb(s,a,l,u){switch(nE(a)){case 2:var g=FR;break;case 8:g=HR;break;default:g=ep}l=g.bind(null,a,l,s),g=void 0,!oa||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),u?g!==void 0?s.addEventListener(a,l,{capture:!0,passive:g}):s.addEventListener(a,l,!0):g!==void 0?s.addEventListener(a,l,{passive:g}):s.addEventListener(a,l,!1)}function Bg(s,a,l,u,g){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var A=u.stateNode.containerInfo;if(A===g)break;if(b===4)for(b=u.return;b!==null;){var L=b.tag;if((L===3||L===4)&&b.stateNode.containerInfo===g)return;b=b.return}for(;A!==null;){if(b=Ni(A),b===null)return;if(L=b.tag,L===5||L===6||L===26||L===27){u=p=b;continue t}A=A.parentNode}}u=u.return}Ks(function(){var W=p,J=qn(l),nt=[];t:{var K=av.get(s);if(K!==void 0){var $=ji,mt=s;switch(s){case"keypress":if(ca(l)===0)break t;case"keydown":case"keyup":$=mh;break;case"focusin":mt="focus",$=ha;break;case"focusout":mt="blur",$=ha;break;case"beforeblur":case"afterblur":$=ha;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Kl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=v;break;case nv:case iv:case sv:$=oh;break;case rv:$=R;break;case"scroll":case"scrollend":$=Wl;break;case"wheel":$=X;break;case"copy":case"cut":case"paste":$=lh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=us;break;case"toggle":case"beforetoggle":$=Ct}var vt=(a&4)!==0,se=!vt&&(s==="scroll"||s==="scrollend"),F=vt?K!==null?K+"Capture":null:K;vt=[];for(var B=W,Y;B!==null;){var et=B;if(Y=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||Y===null||F===null||(et=mi(B,F),et!=null&&vt.push(wc(B,et,Y))),se)break;B=B.return}0<vt.length&&(K=new $(K,mt,null,l,J),nt.push({event:K,listeners:vt}))}}if((a&7)===0){t:{if(K=s==="mouseover"||s==="pointerover",$=s==="mouseout"||s==="pointerout",K&&l!==ql&&(mt=l.relatedTarget||l.fromElement)&&(Ni(mt)||mt[Di]))break t;if(($||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,$?(mt=l.relatedTarget||l.toElement,$=W,mt=mt?Ni(mt):null,mt!==null&&(se=o(mt),vt=mt.tag,mt!==se||vt!==5&&vt!==27&&vt!==6)&&(mt=null)):($=null,mt=W),$!==mt)){if(vt=Kl,et="onMouseLeave",F="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(vt=us,et="onPointerLeave",F="onPointerEnter",B="pointer"),se=$==null?K:Mn($),Y=mt==null?K:Mn(mt),K=new vt(et,B+"leave",$,l,J),K.target=se,K.relatedTarget=Y,et=null,Ni(J)===W&&(vt=new vt(F,B+"enter",mt,l,J),vt.target=Y,vt.relatedTarget=se,et=vt),se=et,$&&mt)e:{for(vt=gR,F=$,B=mt,Y=0,et=F;et;et=vt(et))Y++;et=0;for(var pt=B;pt;pt=vt(pt))et++;for(;0<Y-et;)F=vt(F),Y--;for(;0<et-Y;)B=vt(B),et--;for(;Y--;){if(F===B||B!==null&&F===B.alternate){vt=F;break e}F=vt(F),B=vt(B)}vt=null}else vt=null;$!==null&&Cb(nt,K,$,vt,!1),mt!==null&&se!==null&&Cb(nt,se,mt,vt,!0)}}t:{if(K=W?Mn(W):window,$=K.nodeName&&K.nodeName.toLowerCase(),$==="select"||$==="input"&&K.type==="file")var Gt=G_;else if(H_(K))if(Y_)Gt=xx;else{Gt=wx;var gt=Sx}else $=K.nodeName,!$||$.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?W&&oo(W.elementType)&&(Gt=G_):Gt=Ax;if(Gt&&(Gt=Gt(s,W))){q_(nt,Gt,l,J);break t}gt&&gt(s,K,W),s==="focusout"&&W&&K.type==="number"&&W.memoizedProps.value!=null&&Bl(K,"number",K.value)}switch(gt=W?Mn(W):window,s){case"focusin":(H_(gt)||gt.contentEditable==="true")&&(po=gt,pm=W,Zl=null);break;case"focusout":Zl=pm=po=null;break;case"mousedown":ym=!0;break;case"contextmenu":case"mouseup":case"dragend":ym=!1,tv(nt,l,J);break;case"selectionchange":if(Cx)break;case"keydown":case"keyup":tv(nt,l,J)}var Mt;if(Wt)t:{switch(s){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else go?fa(s,l)&&(Vt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Vt="onCompositionStart");Vt&&(Hi&&l.locale!=="ko"&&(go||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&go&&(Mt=Yl()):(Ui=J,Gl="value"in Ui?Ui.value:Ui.textContent,go=!0)),gt=rf(W,Vt),0<gt.length&&(Vt=new Fi(Vt,s,null,l,J),nt.push({event:Vt,listeners:gt}),Mt?Vt.data=Mt:(Mt=mo(l),Mt!==null&&(Vt.data=Mt)))),(Mt=Yn?vx(s,l):bx(s,l))&&(Vt=rf(W,"onBeforeInput"),0<Vt.length&&(gt=new Fi("onBeforeInput","beforeinput",null,l,J),nt.push({event:gt,listeners:Vt}),gt.data=Mt)),hR(nt,s,W,l,J)}xb(nt,a)})}function wc(s,a,l){return{instance:s,listener:a,currentTarget:l}}function rf(s,a){for(var l=a+"Capture",u=[];s!==null;){var g=s,p=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=mi(s,l),g!=null&&u.unshift(wc(s,g,p)),g=mi(s,a),g!=null&&u.push(wc(s,g,p))),s.tag===3)return u;s=s.return}return[]}function gR(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Cb(s,a,l,u,g){for(var p=a._reactName,b=[];l!==null&&l!==u;){var A=l,L=A.alternate,W=A.stateNode;if(A=A.tag,L!==null&&L===u)break;A!==5&&A!==26&&A!==27||W===null||(L=W,g?(W=mi(l,p),W!=null&&b.unshift(wc(l,W,L))):g||(W=mi(l,p),W!=null&&b.push(wc(l,W,L)))),l=l.return}b.length!==0&&s.push({event:a,listeners:b})}var pR=/\r\n?/g,yR=/\u0000|\uFFFD/g;function Ib(s){return(typeof s=="string"?s:""+s).replace(pR,`
`).replace(yR,"")}function Mb(s,a){return a=Ib(a),Ib(s)===a}function ie(s,a,l,u,g,p){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||_n(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&_n(s,""+u);break;case"className":Dn(s,"class",u);break;case"tabIndex":Dn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(s,l,u);break;case"style":Hl(s,u,p);break;case"data":if(a!=="object"){Dn(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=lo(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&ie(s,a,"name",g.name,g,null),ie(s,a,"formEncType",g.formEncType,g,null),ie(s,a,"formMethod",g.formMethod,g,null),ie(s,a,"formTarget",g.formTarget,g,null)):(ie(s,a,"encType",g.encType,g,null),ie(s,a,"method",g.method,g,null),ie(s,a,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=lo(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=di);break;case"onScroll":u!=null&&Nt("scroll",s);break;case"onScrollEnd":u!=null&&Nt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=lo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":Nt("beforetoggle",s),Nt("toggle",s),ro(s,"popover",u);break;case"xlinkActuate":Me(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Me(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Me(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Me(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Me(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Me(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Me(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Me(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Me(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ro(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=sh.get(l)||l,ro(s,l,u))}}function Fg(s,a,l,u,g,p){switch(l){case"style":Hl(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?_n(s,u):(typeof u=="number"||typeof u=="bigint")&&_n(s,""+u);break;case"onScroll":u!=null&&Nt("scroll",s);break;case"onScrollEnd":u!=null&&Nt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=di);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vl.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),p=s[We]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(a,p,g),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,g);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):ro(s,l,u)}}}function nn(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",s),Nt("load",s);var u=!1,g=!1,p;for(p in l)if(l.hasOwnProperty(p)){var b=l[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ie(s,a,p,b,l,null)}}g&&ie(s,a,"srcSet",l.srcSet,l,null),u&&ie(s,a,"src",l.src,l,null);return;case"input":Nt("invalid",s);var A=p=b=g=null,L=null,W=null;for(u in l)if(l.hasOwnProperty(u)){var J=l[u];if(J!=null)switch(u){case"name":g=J;break;case"type":b=J;break;case"checked":L=J;break;case"defaultChecked":W=J;break;case"value":p=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:ie(s,a,u,J,l,null)}}eh(s,p,A,L,W,b,g,!1);return;case"select":Nt("invalid",s),u=b=p=null;for(g in l)if(l.hasOwnProperty(g)&&(A=l[g],A!=null))switch(g){case"value":p=A;break;case"defaultValue":b=A;break;case"multiple":u=A;default:ie(s,a,g,A,l,null)}a=p,l=b,s.multiple=!!u,a!=null?qs(s,!!u,a,!1):l!=null&&qs(s,!!u,l,!0);return;case"textarea":Nt("invalid",s),p=g=u=null;for(b in l)if(l.hasOwnProperty(b)&&(A=l[b],A!=null))switch(b){case"value":u=A;break;case"defaultValue":g=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:ie(s,a,b,A,l,null)}Gs(s,u,g,p);return;case"option":for(L in l)l.hasOwnProperty(L)&&(u=l[L],u!=null)&&(L==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":ie(s,a,L,u,l,null));return;case"dialog":Nt("beforetoggle",s),Nt("toggle",s),Nt("cancel",s),Nt("close",s);break;case"iframe":case"object":Nt("load",s);break;case"video":case"audio":for(u=0;u<Sc.length;u++)Nt(Sc[u],s);break;case"image":Nt("error",s),Nt("load",s);break;case"details":Nt("toggle",s);break;case"embed":case"source":case"link":Nt("error",s),Nt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in l)if(l.hasOwnProperty(W)&&(u=l[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ie(s,a,W,u,l,null)}return;default:if(oo(a)){for(J in l)l.hasOwnProperty(J)&&(u=l[J],u!==void 0&&Fg(s,a,J,u,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(u=l[A],u!=null&&ie(s,a,A,u,l,null))}function _R(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,b=null,A=null,L=null,W=null,J=null;for($ in l){var nt=l[$];if(l.hasOwnProperty($)&&nt!=null)switch($){case"checked":break;case"value":break;case"defaultValue":L=nt;default:u.hasOwnProperty($)||ie(s,a,$,null,u,nt)}}for(var K in u){var $=u[K];if(nt=l[K],u.hasOwnProperty(K)&&($!=null||nt!=null))switch(K){case"type":p=$;break;case"name":g=$;break;case"checked":W=$;break;case"defaultChecked":J=$;break;case"value":b=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,a));break;default:$!==nt&&ie(s,a,K,$,u,nt)}}ao(s,b,A,L,W,J,p,g);return;case"select":$=b=A=K=null;for(p in l)if(L=l[p],l.hasOwnProperty(p)&&L!=null)switch(p){case"value":break;case"multiple":$=L;default:u.hasOwnProperty(p)||ie(s,a,p,null,u,L)}for(g in u)if(p=u[g],L=l[g],u.hasOwnProperty(g)&&(p!=null||L!=null))switch(g){case"value":K=p;break;case"defaultValue":A=p;break;case"multiple":b=p;default:p!==L&&ie(s,a,g,p,u,L)}a=A,l=b,u=$,K!=null?qs(s,!!l,K,!1):!!u!=!!l&&(a!=null?qs(s,!!l,a,!0):qs(s,!!l,l?[]:"",!1));return;case"textarea":$=K=null;for(A in l)if(g=l[A],l.hasOwnProperty(A)&&g!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ie(s,a,A,null,u,g)}for(b in u)if(g=u[b],p=l[b],u.hasOwnProperty(b)&&(g!=null||p!=null))switch(b){case"value":K=g;break;case"defaultValue":$=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==p&&ie(s,a,b,g,u,p)}nh(s,K,$);return;case"option":for(var mt in l)K=l[mt],l.hasOwnProperty(mt)&&K!=null&&!u.hasOwnProperty(mt)&&(mt==="selected"?s.selected=!1:ie(s,a,mt,null,u,K));for(L in u)K=u[L],$=l[L],u.hasOwnProperty(L)&&K!==$&&(K!=null||$!=null)&&(L==="selected"?s.selected=K&&typeof K!="function"&&typeof K!="symbol":ie(s,a,L,K,u,$));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in l)K=l[vt],l.hasOwnProperty(vt)&&K!=null&&!u.hasOwnProperty(vt)&&ie(s,a,vt,null,u,K);for(W in u)if(K=u[W],$=l[W],u.hasOwnProperty(W)&&K!==$&&(K!=null||$!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,a));break;default:ie(s,a,W,K,u,$)}return;default:if(oo(a)){for(var se in l)K=l[se],l.hasOwnProperty(se)&&K!==void 0&&!u.hasOwnProperty(se)&&Fg(s,a,se,void 0,u,K);for(J in u)K=u[J],$=l[J],!u.hasOwnProperty(J)||K===$||K===void 0&&$===void 0||Fg(s,a,J,K,u,$);return}}for(var F in l)K=l[F],l.hasOwnProperty(F)&&K!=null&&!u.hasOwnProperty(F)&&ie(s,a,F,null,u,K);for(nt in u)K=u[nt],$=l[nt],!u.hasOwnProperty(nt)||K===$||K==null&&$==null||ie(s,a,nt,K,u,$)}function Db(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],p=g.transferSize,b=g.initiatorType,A=g.duration;if(p&&A&&Db(b)){for(b=0,A=g.responseEnd,u+=1;u<l.length;u++){var L=l[u],W=L.startTime;if(W>A)break;var J=L.transferSize,nt=L.initiatorType;J&&Db(nt)&&(L=L.responseEnd,b+=J*(L<A?1:(A-W)/(L-W)))}if(--u,a+=8*(p+b)/(g.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Hg=null,qg=null;function af(s){return s.nodeType===9?s:s.ownerDocument}function Ob(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nb(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Gg(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Yg=null;function bR(){var s=window.event;return s&&s.type==="popstate"?s===Yg?!1:(Yg=s,!0):(Yg=null,!1)}var kb=typeof setTimeout=="function"?setTimeout:void 0,ER=typeof clearTimeout=="function"?clearTimeout:void 0,Pb=typeof Promise=="function"?Promise:void 0,TR=typeof queueMicrotask=="function"?queueMicrotask:typeof Pb<"u"?function(s){return Pb.resolve(null).then(s).catch(SR)}:kb;function SR(s){setTimeout(function(){throw s})}function mr(s){return s==="head"}function Vb(s,a){var l=a,u=0;do{var g=l.nextSibling;if(s.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(g),Ho(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")Ac(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,Ac(l);for(var p=l.firstChild;p;){var b=p.nextSibling,A=p.nodeName;p[Oi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=b}}else l==="body"&&Ac(s.ownerDocument.body);l=g}while(l);Ho(a)}function Lb(s,a){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function Wg(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Wg(l),so(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function wR(s,a,l,u){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Oi])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=Zn(s.nextSibling),s===null)break}return null}function AR(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Zn(s.nextSibling),s===null))return null;return s}function zb(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=Zn(s.nextSibling),s===null))return null;return s}function Kg(s){return s.data==="$?"||s.data==="$~"}function Qg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function xR(s,a){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Zn(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var Xg=null;function Ub(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(a===0)return Zn(s.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}s=s.nextSibling}return null}function jb(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return s;a--}else l!=="/$"&&l!=="/&"||a++}s=s.previousSibling}return null}function Bb(s,a,l){switch(a=af(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Ac(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);so(s)}var ti=new Map,Fb=new Set;function of(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var As=ot.d;ot.d={f:RR,r:CR,D:IR,C:MR,L:DR,m:OR,X:kR,S:NR,M:PR};function RR(){var s=As.f(),a=$h();return s||a}function CR(s){var a=Hn(s);a!==null&&a.tag===5&&a.type==="form"?r0(a):As.r(s)}var jo=typeof document>"u"?null:document;function Hb(s,a,l){var u=jo;if(u&&typeof a=="string"&&a){var g=yn(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Fb.has(g)||(Fb.add(g),s={rel:s,crossOrigin:l,href:a},u.querySelector(g)===null&&(a=u.createElement("link"),nn(a,"link",s),Ie(a),u.head.appendChild(a)))}}function IR(s){As.D(s),Hb("dns-prefetch",s,null)}function MR(s,a){As.C(s,a),Hb("preconnect",s,a)}function DR(s,a,l){As.L(s,a,l);var u=jo;if(u&&s&&a){var g='link[rel="preload"][as="'+yn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+yn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+yn(l.imageSizes)+'"]')):g+='[href="'+yn(s)+'"]';var p=g;switch(a){case"style":p=Bo(s);break;case"script":p=Fo(s)}ti.has(p)||(s=_({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),ti.set(p,s),u.querySelector(g)!==null||a==="style"&&u.querySelector(xc(p))||a==="script"&&u.querySelector(Rc(p))||(a=u.createElement("link"),nn(a,"link",s),Ie(a),u.head.appendChild(a)))}}function OR(s,a){As.m(s,a);var l=jo;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+yn(u)+'"][href="'+yn(s)+'"]',p=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Fo(s)}if(!ti.has(p)&&(s=_({rel:"modulepreload",href:s},a),ti.set(p,s),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Rc(p)))return}u=l.createElement("link"),nn(u,"link",s),Ie(u),l.head.appendChild(u)}}}function NR(s,a,l){As.S(s,a,l);var u=jo;if(u&&s){var g=ki(u).hoistableStyles,p=Bo(s);a=a||"default";var b=g.get(p);if(!b){var A={loading:0,preload:null};if(b=u.querySelector(xc(p)))A.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":a},l),(l=ti.get(p))&&$g(s,l);var L=b=u.createElement("link");Ie(L),nn(L,"link",s),L._p=new Promise(function(W,J){L.onload=W,L.onerror=J}),L.addEventListener("load",function(){A.loading|=1}),L.addEventListener("error",function(){A.loading|=2}),A.loading|=4,lf(b,a,u)}b={type:"stylesheet",instance:b,count:1,state:A},g.set(p,b)}}}function kR(s,a){As.X(s,a);var l=jo;if(l&&s){var u=ki(l).hoistableScripts,g=Fo(s),p=u.get(g);p||(p=l.querySelector(Rc(g)),p||(s=_({src:s,async:!0},a),(a=ti.get(g))&&Jg(s,a),p=l.createElement("script"),Ie(p),nn(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function PR(s,a){As.M(s,a);var l=jo;if(l&&s){var u=ki(l).hoistableScripts,g=Fo(s),p=u.get(g);p||(p=l.querySelector(Rc(g)),p||(s=_({src:s,async:!0,type:"module"},a),(a=ti.get(g))&&Jg(s,a),p=l.createElement("script"),Ie(p),nn(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function qb(s,a,l,u){var g=(g=Et.current)?of(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Bo(l.href),l=ki(g).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Bo(l.href);var p=ki(g).hoistableStyles,b=p.get(s);if(b||(g=g.ownerDocument||g,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,b),(p=g.querySelector(xc(s)))&&!p._p&&(b.instance=p,b.state.loading=5),ti.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ti.set(s,l),p||VR(g,s,l,b.state))),a&&u===null)throw Error(i(528,""));return b}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Fo(l),l=ki(g).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Bo(s){return'href="'+yn(s)+'"'}function xc(s){return'link[rel="stylesheet"]['+s+"]"}function Gb(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function VR(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),nn(a,"link",l),Ie(a),s.head.appendChild(a))}function Fo(s){return'[src="'+yn(s)+'"]'}function Rc(s){return"script[async]"+s}function Yb(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+yn(l.href)+'"]');if(u)return a.instance=u,Ie(u),u;var g=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ie(u),nn(u,"style",g),lf(u,l.precedence,s),a.instance=u;case"stylesheet":g=Bo(l.href);var p=s.querySelector(xc(g));if(p)return a.state.loading|=4,a.instance=p,Ie(p),p;u=Gb(l),(g=ti.get(g))&&$g(u,g),p=(s.ownerDocument||s).createElement("link"),Ie(p);var b=p;return b._p=new Promise(function(A,L){b.onload=A,b.onerror=L}),nn(p,"link",u),a.state.loading|=4,lf(p,l.precedence,s),a.instance=p;case"script":return p=Fo(l.src),(g=s.querySelector(Rc(p)))?(a.instance=g,Ie(g),g):(u=l,(g=ti.get(p))&&(u=_({},l),Jg(u,g)),s=s.ownerDocument||s,g=s.createElement("script"),Ie(g),nn(g,"link",u),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,lf(u,l.precedence,s));return a.instance}function lf(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,p=g,b=0;b<u.length;b++){var A=u[b];if(A.dataset.precedence===a)p=A;else if(p!==g)break}p?p.parentNode.insertBefore(s,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function $g(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Jg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var cf=null;function Wb(s,a,l){if(cf===null){var u=new Map,g=cf=new Map;g.set(l,u)}else g=cf,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var p=l[g];if(!(p[Oi]||p[Ce]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(a)||"";b=s+b;var A=u.get(b);A?A.push(p):u.set(b,[p])}}return u}function Kb(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function LR(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(s=a.disabled,typeof a.precedence=="string"&&s==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Qb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function zR(s,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Bo(u.href),p=a.querySelector(xc(g));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=uf.bind(s),a.then(s,s)),l.state.loading|=4,l.instance=p,Ie(p);return}p=a.ownerDocument||a,u=Gb(u),(g=ti.get(g))&&$g(u,g),p=p.createElement("link"),Ie(p);var b=p;b._p=new Promise(function(A,L){b.onload=A,b.onerror=L}),nn(p,"link",u),l.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=uf.bind(s),a.addEventListener("load",l),a.addEventListener("error",l))}}var Zg=0;function UR(s,a){return s.stylesheets&&s.count===0&&ff(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&ff(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4+a);0<s.imgBytes&&Zg===0&&(Zg=62500*vR());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&ff(s,s.stylesheets),s.unsuspend)){var p=s.unsuspend;s.unsuspend=null,p()}},(s.imgBytes>Zg?50:800)+a);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function uf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ff(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var hf=null;function ff(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,hf=new Map,a.forEach(jR,s),hf=null,uf.call(s))}function jR(s,a){if(!(a.state.loading&4)){var l=hf.get(s);if(l)var u=l.get(null);else{l=new Map,hf.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var b=g[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),u=b)}u&&l.set(null,u)}g=a.instance,b=g.getAttribute("data-precedence"),p=l.get(b)||u,p===u&&l.set(null,g),l.set(b,g),this.count++,u=uf.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),p?p.parentNode.insertBefore(g,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var Cc={$$typeof:H,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function BR(s,a,l,u,g,p,b,A,L){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Xb(s,a,l,u,g,p,b,A,L,W,J,nt){return s=new BR(s,a,l,b,L,W,J,nt,A),a=1,p===!0&&(a|=24),p=Nn(3,null,null,a),s.current=p,p.stateNode=s,a=Om(),a.refCount++,s.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:a},Vm(p),s}function $b(s){return s?(s=vo,s):vo}function Jb(s,a,l,u,g,p){g=$b(g),u.context===null?u.context=g:u.pendingContext=g,u=ir(a),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=sr(s,u,a),l!==null&&(Sn(l,s,a),ac(l,s,a))}function Zb(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function tp(s,a){Zb(s,a),(s=s.alternate)&&Zb(s,a)}function tE(s){if(s.tag===13||s.tag===31){var a=ga(s,67108864);a!==null&&Sn(a,s,67108864),tp(s,67108864)}}function eE(s){if(s.tag===13||s.tag===31){var a=zn();a=ia(a);var l=ga(s,a);l!==null&&Sn(l,s,a),tp(s,a)}}var df=!0;function FR(s,a,l,u){var g=Q.T;Q.T=null;var p=ot.p;try{ot.p=2,ep(s,a,l,u)}finally{ot.p=p,Q.T=g}}function HR(s,a,l,u){var g=Q.T;Q.T=null;var p=ot.p;try{ot.p=8,ep(s,a,l,u)}finally{ot.p=p,Q.T=g}}function ep(s,a,l,u){if(df){var g=np(u);if(g===null)Bg(s,a,u,mf,l),iE(s,u);else if(GR(g,s,a,l,u))u.stopPropagation();else if(iE(s,u),a&4&&-1<qR.indexOf(s)){for(;g!==null;){var p=Hn(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Ci(p.pendingLanes);if(b!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var L=1<<31-be(b);A.entanglements[1]|=L,b&=~L}Wi(p),(Kt&6)===0&&(Qh=mn()+500,Tc(0))}}break;case 31:case 13:A=ga(p,2),A!==null&&Sn(A,p,2),$h(),tp(p,2)}if(p=np(u),p===null&&Bg(s,a,u,mf,l),p===g)break;g=p}g!==null&&u.stopPropagation()}else Bg(s,a,u,null,l)}}function np(s){return s=qn(s),ip(s)}var mf=null;function ip(s){if(mf=null,s=Ni(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===31){if(s=h(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return mf=s,null}function nE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zr()){case Dl:return 2;case Ol:return 8;case Fs:case cm:return 32;case Gu:return 268435456;default:return 32}default:return 32}}var sp=!1,gr=null,pr=null,yr=null,Ic=new Map,Mc=new Map,_r=[],qR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iE(s,a){switch(s){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":Ic.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mc.delete(a.pointerId)}}function Dc(s,a,l,u,g,p){return s===null||s.nativeEvent!==p?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[g]},a!==null&&(a=Hn(a),a!==null&&tE(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function GR(s,a,l,u,g){switch(a){case"focusin":return gr=Dc(gr,s,a,l,u,g),!0;case"dragenter":return pr=Dc(pr,s,a,l,u,g),!0;case"mouseover":return yr=Dc(yr,s,a,l,u,g),!0;case"pointerover":var p=g.pointerId;return Ic.set(p,Dc(Ic.get(p)||null,s,a,l,u,g)),!0;case"gotpointercapture":return p=g.pointerId,Mc.set(p,Dc(Mc.get(p)||null,s,a,l,u,g)),!0}return!1}function sE(s){var a=Ni(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,hi(s.priority,function(){eE(l)});return}}else if(a===31){if(a=h(l),a!==null){s.blockedOn=a,hi(s.priority,function(){eE(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function gf(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=np(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);ql=u,l.target.dispatchEvent(u),ql=null}else return a=Hn(l),a!==null&&tE(a),s.blockedOn=l,!1;a.shift()}return!0}function rE(s,a,l){gf(s)&&l.delete(a)}function YR(){sp=!1,gr!==null&&gf(gr)&&(gr=null),pr!==null&&gf(pr)&&(pr=null),yr!==null&&gf(yr)&&(yr=null),Ic.forEach(rE),Mc.forEach(rE)}function pf(s,a){s.blockedOn===a&&(s.blockedOn=null,sp||(sp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,YR)))}var yf=null;function aE(s){yf!==s&&(yf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){yf===s&&(yf=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],g=s[a+2];if(typeof u!="function"){if(ip(u||l)===null)continue;break}var p=Hn(l);p!==null&&(s.splice(a,3),a-=3,ng(p,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function Ho(s){function a(L){return pf(L,s)}gr!==null&&pf(gr,s),pr!==null&&pf(pr,s),yr!==null&&pf(yr,s),Ic.forEach(a),Mc.forEach(a);for(var l=0;l<_r.length;l++){var u=_r[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<_r.length&&(l=_r[0],l.blockedOn===null);)sE(l),l.blockedOn===null&&_r.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],p=l[u+1],b=g[We]||null;if(typeof p=="function")b||aE(l);else if(b){var A=null;if(p&&p.hasAttribute("formAction")){if(g=p,b=p[We]||null)A=b.formAction;else if(ip(g)!==null)continue}else A=b.action;typeof A=="function"?l[u+1]=A:(l.splice(u,3),u-=3),aE(l)}}}function oE(){function s(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return g=b})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function rp(s){this._internalRoot=s}_f.prototype.render=rp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=zn();Jb(l,u,s,a,null,null)},_f.prototype.unmount=rp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Jb(s.current,2,null,s,null,null),$h(),a[Di]=null}};function _f(s){this._internalRoot=s}_f.prototype.unstable_scheduleHydration=function(s){if(s){var a=$u();s={blockedOn:null,target:s,priority:a};for(var l=0;l<_r.length&&a!==0&&a<_r[l].priority;l++);_r.splice(l,0,s),l===0&&sE(s)}};var lE=t.version;if(lE!=="19.2.3")throw Error(i(527,lE,"19.2.3"));ot.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=m(a),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var WR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vf.isDisabled&&vf.supportsFiber)try{ci=vf.inject(WR),$e=vf}catch{}}return Nc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",g=g0,p=p0,b=y0;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=Xb(s,1,!1,null,null,l,u,null,g,p,b,oE),s[Di]=a.current,jg(s),new rp(a)},Nc.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,g="",p=g0,b=p0,A=y0,L=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.formState!==void 0&&(L=l.formState)),a=Xb(s,1,!0,a,l??null,u,g,L,p,b,A,oE),a.context=$b(null),l=a.current,u=zn(),u=ia(u),g=ir(u),g.callback=null,sr(l,g,u),l=u,a.current.lanes=l,ea(a,l),Wi(a),s[Di]=a.current,jg(s),new _f(a)},Nc.version="19.2.3",Nc}var _E;function iC(){if(_E)return lp.exports;_E=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),lp.exports=nC(),lp.exports}var sC=iC();const rC=DS(sC);var vE="popstate";function aC(n={}){function t(i,r){let{pathname:o,search:c,hash:h}=i.location;return Fp("",{pathname:o,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:cu(r)}return lC(t,e,null,n)}function pe(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function ai(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function oC(){return Math.random().toString(36).substring(2,10)}function bE(n,t){return{usr:n.state,key:n.key,idx:t}}function Fp(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?gl(t):t,state:e,key:t&&t.key||i||oC()}}function cu({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function gl(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function lC(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,c=r.history,h="POP",f=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function _(){h="POP";let C=y(),N=C==null?null:C-m;m=C,f&&f({action:h,location:w.location,delta:N})}function E(C,N){h="PUSH";let z=Fp(w.location,C,N);m=y()+1;let H=bE(z,m),rt=w.createHref(z);try{c.pushState(H,"",rt)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;r.location.assign(rt)}o&&f&&f({action:h,location:w.location,delta:1})}function S(C,N){h="REPLACE";let z=Fp(w.location,C,N);m=y();let H=bE(z,m),rt=w.createHref(z);c.replaceState(H,"",rt),o&&f&&f({action:h,location:w.location,delta:0})}function x(C){return cC(C)}let w={get action(){return h},get location(){return n(r,c)},listen(C){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(vE,_),f=C,()=>{r.removeEventListener(vE,_),f=null}},createHref(C){return t(r,C)},createURL:x,encodeLocation(C){let N=x(C);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:E,replace:S,go(C){return c.go(C)}};return w}function cC(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),pe(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:cu(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function OS(n,t,e="/"){return uC(n,t,e,!1)}function uC(n,t,e,i){let r=typeof t=="string"?gl(t):t,o=Ps(r.pathname||"/",e);if(o==null)return null;let c=NS(n);hC(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let m=TC(o);h=bC(c[f],m,i)}return h}function NS(n,t=[],e=[],i="",r=!1){let o=(c,h,f=r,m)=>{let y={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&f)return;pe(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let _=Ns([i,y.relativePath]),E=e.concat(y);c.children&&c.children.length>0&&(pe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),NS(c.children,t,E,_,f)),!(c.path==null&&!c.index)&&t.push({path:_,score:_C(_,c.index),routesMeta:E})};return n.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let f of kS(c.path))o(c,h,!0,f)}),t}function kS(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let c=kS(i.join("/")),h=[];return h.push(...c.map(f=>f===""?o:[o,f].join("/"))),r&&h.push(...c),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function hC(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:vC(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var fC=/^:[\w-]+$/,dC=3,mC=2,gC=1,pC=10,yC=-2,EE=n=>n==="*";function _C(n,t){let e=n.split("/"),i=e.length;return e.some(EE)&&(i+=yC),t&&(i+=mC),e.filter(r=>!EE(r)).reduce((r,o)=>r+(fC.test(o)?dC:o===""?gC:pC),i)}function vC(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function bC(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],m=h===i.length-1,y=o==="/"?t:t.slice(o.length)||"/",_=sd({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),E=f.route;if(!_&&m&&e&&!i[i.length-1].route.index&&(_=sd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!_)return null;Object.assign(r,_.params),c.push({params:r,pathname:Ns([o,_.pathname]),pathnameBase:xC(Ns([o,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(o=Ns([o,_.pathnameBase]))}return c}function sd(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=EC(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:_},E)=>{if(y==="*"){let x=h[E]||"";c=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const S=h[E];return _&&!S?m[y]=void 0:m[y]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:n}}function EC(n,t=!1,e=!0){ai(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function TC(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ai(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Ps(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}var PS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SC=n=>PS.test(n);function wC(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?gl(n):n,o;if(e)if(SC(e))o=e;else{if(e.includes("//")){let c=e;e=e.replace(/\/\/+/g,"/"),ai(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${e}`)}e.startsWith("/")?o=TE(e.substring(1),"/"):o=TE(e,t)}else o=t;return{pathname:o,search:RC(i),hash:CC(r)}}function TE(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function fp(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AC(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function wy(n){let t=AC(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function Ay(n,t,e,i=!1){let r;typeof n=="string"?r=gl(n):(r={...n},pe(!r.pathname||!r.pathname.includes("?"),fp("?","pathname","search",r)),pe(!r.pathname||!r.pathname.includes("#"),fp("#","pathname","hash",r)),pe(!r.search||!r.search.includes("#"),fp("#","search","hash",r)));let o=n===""||r.pathname==="",c=o?"/":r.pathname,h;if(c==null)h=e;else{let _=t.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;r.pathname=E.join("/")}h=_>=0?t[_]:"/"}let f=wC(r,h),m=c&&c!=="/"&&c.endsWith("/"),y=(o||c===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}var Ns=n=>n.join("/").replace(/\/\/+/g,"/"),xC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),RC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,CC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,IC=class{constructor(n,t,e,i=!1){this.status=n,this.statusText=t||"",this.internal=i,e instanceof Error?(this.data=e.toString(),this.error=e):this.data=e}};function MC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function DC(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var VS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function LS(n,t){let e=n;if(typeof e!="string"||!PS.test(e))return{absoluteURL:void 0,isExternal:!1,to:e};let i=e,r=!1;if(VS)try{let o=new URL(window.location.href),c=e.startsWith("//")?new URL(o.protocol+e):new URL(e),h=Ps(c.pathname,t);c.origin===o.origin&&h!=null?e=h+c.search+c.hash:r=!0}catch{ai(!1,`<Link to="${e}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var zS=["POST","PUT","PATCH","DELETE"];new Set(zS);var OC=["GET",...zS];new Set(OC);var pl=q.createContext(null);pl.displayName="DataRouter";var kd=q.createContext(null);kd.displayName="DataRouterState";var NC=q.createContext(!1),US=q.createContext({isTransitioning:!1});US.displayName="ViewTransition";var kC=q.createContext(new Map);kC.displayName="Fetchers";var PC=q.createContext(null);PC.displayName="Await";var jn=q.createContext(null);jn.displayName="Navigation";var Ru=q.createContext(null);Ru.displayName="Location";var as=q.createContext({outlet:null,matches:[],isDataRoute:!1});as.displayName="Route";var xy=q.createContext(null);xy.displayName="RouteError";var jS="REACT_ROUTER_ERROR",VC="REDIRECT",LC="ROUTE_ERROR_RESPONSE";function zC(n){if(n.startsWith(`${jS}:${VC}:{`))try{let t=JSON.parse(n.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function UC(n){if(n.startsWith(`${jS}:${LC}:{`))try{let t=JSON.parse(n.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new IC(t.status,t.statusText,t.data)}catch{}}function jC(n,{relative:t}={}){pe(yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=q.useContext(jn),{hash:r,pathname:o,search:c}=Cu(n,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:Ns([e,o])),i.createHref({pathname:h,search:c,hash:r})}function yl(){return q.useContext(Ru)!=null}function Yr(){return pe(yl(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Ru).location}var BS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FS(n){q.useContext(jn).static||q.useLayoutEffect(n)}function Pd(){let{isDataRoute:n}=q.useContext(as);return n?ZC():BC()}function BC(){pe(yl(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(pl),{basename:t,navigator:e}=q.useContext(jn),{matches:i}=q.useContext(as),{pathname:r}=Yr(),o=JSON.stringify(wy(i)),c=q.useRef(!1);return FS(()=>{c.current=!0}),q.useCallback((f,m={})=>{if(ai(c.current,BS),!c.current)return;if(typeof f=="number"){e.go(f);return}let y=Ay(f,JSON.parse(o),r,m.relative==="path");n==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Ns([t,y.pathname])),(m.replace?e.replace:e.push)(y,m.state,m)},[t,e,o,r,n])}q.createContext(null);function Cu(n,{relative:t}={}){let{matches:e}=q.useContext(as),{pathname:i}=Yr(),r=JSON.stringify(wy(e));return q.useMemo(()=>Ay(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function FC(n,t){return HS(n,t)}function HS(n,t,e,i,r){pe(yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=q.useContext(jn),{matches:c}=q.useContext(as),h=c[c.length-1],f=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let z=_&&_.path||"";GS(m,!_||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let E=Yr(),S;if(t){let z=typeof t=="string"?gl(t):t;pe(y==="/"||z.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${z.pathname}" was given in the \`location\` prop.`),S=z}else S=E;let x=S.pathname||"/",w=x;if(y!=="/"){let z=y.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(z.length).join("/")}let C=OS(n,{pathname:w});ai(_||C!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),ai(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=WC(C&&C.map(z=>Object.assign({},z,{params:Object.assign({},f,z.params),pathname:Ns([y,o.encodeLocation?o.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?y:Ns([y,o.encodeLocation?o.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),c,e,i,r);return t&&N?q.createElement(Ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},N):N}function HC(){let n=JC(),t=MC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:o},"ErrorBoundary")," or"," ",q.createElement("code",{style:o},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),e?q.createElement("pre",{style:r},e):null,c)}var qC=q.createElement(HC,null),qS=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const e=UC(n.digest);e&&(n=e)}let t=n!==void 0?q.createElement(as.Provider,{value:this.props.routeContext},q.createElement(xy.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?q.createElement(GC,{error:n},t):t}};qS.contextType=NC;var dp=new WeakMap;function GC({children:n,error:t}){let{basename:e}=q.useContext(jn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=zC(t.digest);if(i){let r=dp.get(t);if(r)throw r;let o=LS(i.location,e);if(VS&&!dp.get(t))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw dp.set(t,c),c}return q.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function YC({routeContext:n,match:t,children:e}){let i=q.useContext(pl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),q.createElement(as.Provider,{value:n},e)}function WC(n,t=[],e=null,i=null,r=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let o=n,c=e?.errors;if(c!=null){let y=o.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);pe(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let h=!1,f=-1;if(e)for(let y=0;y<o.length;y++){let _=o[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(f=y),_.route.id){let{loaderData:E,errors:S}=e,x=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||x){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let m=e&&i?(y,_)=>{i(y,{location:e.location,params:e.matches?.[0]?.params??{},unstable_pattern:DC(e.matches),errorInfo:_})}:void 0;return o.reduceRight((y,_,E)=>{let S,x=!1,w=null,C=null;e&&(S=c&&_.route.id?c[_.route.id]:void 0,w=_.route.errorElement||qC,h&&(f<0&&E===0?(GS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,C=null):f===E&&(x=!0,C=_.route.hydrateFallbackElement||null)));let N=t.concat(o.slice(0,E+1)),z=()=>{let H;return S?H=w:x?H=C:_.route.Component?H=q.createElement(_.route.Component,null):_.route.element?H=_.route.element:H=y,q.createElement(YC,{match:_,routeContext:{outlet:y,matches:N,isDataRoute:e!=null},children:H})};return e&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?q.createElement(qS,{location:e.location,revalidation:e.revalidation,component:w,error:S,children:z(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:m}):z()},null)}function Ry(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KC(n){let t=q.useContext(pl);return pe(t,Ry(n)),t}function QC(n){let t=q.useContext(kd);return pe(t,Ry(n)),t}function XC(n){let t=q.useContext(as);return pe(t,Ry(n)),t}function Cy(n){let t=XC(n),e=t.matches[t.matches.length-1];return pe(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function $C(){return Cy("useRouteId")}function JC(){let n=q.useContext(xy),t=QC("useRouteError"),e=Cy("useRouteError");return n!==void 0?n:t.errors?.[e]}function ZC(){let{router:n}=KC("useNavigate"),t=Cy("useNavigate"),e=q.useRef(!1);return FS(()=>{e.current=!0}),q.useCallback(async(r,o={})=>{ai(e.current,BS),e.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var SE={};function GS(n,t,e){!t&&!SE[n]&&(SE[n]=!0,ai(!1,e))}q.memo(tI);function tI({routes:n,future:t,state:e,onError:i}){return HS(n,void 0,e,i,t)}function YS({to:n,replace:t,state:e,relative:i}){pe(yl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=q.useContext(jn);ai(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=q.useContext(as),{pathname:c}=Yr(),h=Pd(),f=Ay(n,wy(o),c,i==="path"),m=JSON.stringify(f);return q.useEffect(()=>{h(JSON.parse(m),{replace:t,state:e,relative:i})},[h,m,i,t,e]),null}function Hc(n){pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eI({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1,unstable_useTransitions:c}){pe(!yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),f=q.useMemo(()=>({basename:h,navigator:r,static:o,unstable_useTransitions:c,future:{}}),[h,r,o,c]);typeof e=="string"&&(e=gl(e));let{pathname:m="/",search:y="",hash:_="",state:E=null,key:S="default"}=e,x=q.useMemo(()=>{let w=Ps(m,h);return w==null?null:{location:{pathname:w,search:y,hash:_,state:E,key:S},navigationType:i}},[h,m,y,_,E,S,i]);return ai(x!=null,`<Router basename="${h}"> is not able to match the URL "${m}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:q.createElement(jn.Provider,{value:f},q.createElement(Ru.Provider,{children:t,value:x}))}function nI({children:n,location:t}){return FC(Hp(n),t)}function Hp(n,t=[]){let e=[];return q.Children.forEach(n,(i,r)=>{if(!q.isValidElement(i))return;let o=[...t,r];if(i.type===q.Fragment){e.push.apply(e,Hp(i.props.children,o));return}pe(i.type===Hc,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Hp(i.props.children,o)),e.push(c)}),e}var Hf="get",qf="application/x-www-form-urlencoded";function Vd(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function iI(n){return Vd(n)&&n.tagName.toLowerCase()==="button"}function sI(n){return Vd(n)&&n.tagName.toLowerCase()==="form"}function rI(n){return Vd(n)&&n.tagName.toLowerCase()==="input"}function aI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function oI(n,t){return n.button===0&&(!t||t==="_self")&&!aI(n)}var bf=null;function lI(){if(bf===null)try{new FormData(document.createElement("form"),0),bf=!1}catch{bf=!0}return bf}var cI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mp(n){return n!=null&&!cI.has(n)?(ai(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qf}"`),null):n}function uI(n,t){let e,i,r,o,c;if(sI(n)){let h=n.getAttribute("action");i=h?Ps(h,t):null,e=n.getAttribute("method")||Hf,r=mp(n.getAttribute("enctype"))||qf,o=new FormData(n)}else if(iI(n)||rI(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?Ps(f,t):null,e=n.getAttribute("formmethod")||h.getAttribute("method")||Hf,r=mp(n.getAttribute("formenctype"))||mp(h.getAttribute("enctype"))||qf,o=new FormData(h,n),!lI()){let{name:m,type:y,value:_}=n;if(y==="image"){let E=m?`${m}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else m&&o.append(m,_)}}else{if(Vd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Hf,i=null,r=qf,c=n}return o&&r==="text/plain"&&(c=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Iy(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function hI(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&Ps(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function fI(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function mI(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let c=await fI(o,e);return c.links?c.links():[]}return[]}));return _I(i.flat(1).filter(dI).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function wE(n,t,e,i,r,o){let c=(f,m)=>e[m]?f.route.id!==e[m].route.id:!0,h=(f,m)=>e[m].pathname!==f.pathname||e[m].route.path?.endsWith("*")&&e[m].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,m)=>c(f,m)||h(f,m)):o==="data"?t.filter((f,m)=>{let y=i.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(c(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function gI(n,t,{includeHydrateFallback:e}={}){return pI(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function pI(n){return[...new Set(n)]}function yI(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function _I(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(yI(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}function WS(){let n=q.useContext(pl);return Iy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function vI(){let n=q.useContext(kd);return Iy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var My=q.createContext(void 0);My.displayName="FrameworkContext";function KS(){let n=q.useContext(My);return Iy(n,"You must render this element inside a <HydratedRouter> element"),n}function bI(n,t){let e=q.useContext(My),[i,r]=q.useState(!1),[o,c]=q.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=t,E=q.useRef(null);q.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let w=N=>{N.forEach(z=>{c(z.isIntersecting)})},C=new IntersectionObserver(w,{threshold:.5});return E.current&&C.observe(E.current),()=>{C.disconnect()}}},[n]),q.useEffect(()=>{if(i){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[i]);let S=()=>{r(!0)},x=()=>{r(!1),c(!1)};return e?n!=="intent"?[o,E,{}]:[o,E,{onFocus:kc(h,S),onBlur:kc(f,x),onMouseEnter:kc(m,S),onMouseLeave:kc(y,x),onTouchStart:kc(_,S)}]:[!1,E,{}]}function kc(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function EI({page:n,...t}){let{router:e}=WS(),i=q.useMemo(()=>OS(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?q.createElement(SI,{page:n,matches:i,...t}):null}function TI(n){let{manifest:t,routeModules:e}=KS(),[i,r]=q.useState([]);return q.useEffect(()=>{let o=!1;return mI(n,t,e).then(c=>{o||r(c)}),()=>{o=!0}},[n,t,e]),i}function SI({page:n,matches:t,...e}){let i=Yr(),{manifest:r,routeModules:o}=KS(),{basename:c}=WS(),{loaderData:h,matches:f}=vI(),m=q.useMemo(()=>wE(n,t,f,r,i,"data"),[n,t,f,r,i]),y=q.useMemo(()=>wE(n,t,f,r,i,"assets"),[n,t,f,r,i]),_=q.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let x=new Set,w=!1;if(t.forEach(N=>{let z=r.routes[N.route.id];!z||!z.hasLoader||(!m.some(H=>H.route.id===N.route.id)&&N.route.id in h&&o[N.route.id]?.shouldRevalidate||z.hasClientLoader?w=!0:x.add(N.route.id))}),x.size===0)return[];let C=hI(n,c,"data");return w&&x.size>0&&C.searchParams.set("_routes",t.filter(N=>x.has(N.route.id)).map(N=>N.route.id).join(",")),[C.pathname+C.search]},[c,h,i,r,m,t,n,o]),E=q.useMemo(()=>gI(y,r),[y,r]),S=TI(y);return q.createElement(q.Fragment,null,_.map(x=>q.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...e})),E.map(x=>q.createElement("link",{key:x,rel:"modulepreload",href:x,...e})),S.map(({key:x,link:w})=>q.createElement("link",{key:x,nonce:e.nonce,...w})))}function wI(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var AI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AI&&(window.__reactRouterVersion="7.11.0")}catch{}function xI({basename:n,children:t,unstable_useTransitions:e,window:i}){let r=q.useRef();r.current==null&&(r.current=aC({window:i,v5Compat:!0}));let o=r.current,[c,h]=q.useState({action:o.action,location:o.location}),f=q.useCallback(m=>{e===!1?h(m):q.startTransition(()=>h(m))},[e]);return q.useLayoutEffect(()=>o.listen(f),[o,f]),q.createElement(eI,{basename:n,children:t,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:e})}var QS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jo=q.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:c,state:h,target:f,to:m,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E,...S},x){let{basename:w,unstable_useTransitions:C}=q.useContext(jn),N=typeof m=="string"&&QS.test(m),z=LS(m,w);m=z.to;let H=jC(m,{relative:r}),[rt,Z,at]=bI(i,S),D=MI(m,{replace:c,state:h,target:f,preventScrollReset:y,relative:r,viewTransition:_,unstable_defaultShouldRevalidate:E,unstable_useTransitions:C});function I(P){t&&t(P),P.defaultPrevented||D(P)}let M=q.createElement("a",{...S,...at,href:z.absoluteURL||H,onClick:z.isExternal||o?t:I,ref:wI(x,Z),target:f,"data-discover":!N&&e==="render"?"true":void 0});return rt&&!N?q.createElement(q.Fragment,null,M,q.createElement(EI,{page:H})):M});Jo.displayName="Link";var RI=q.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:c,viewTransition:h,children:f,...m},y){let _=Cu(c,{relative:m.relative}),E=Yr(),S=q.useContext(kd),{navigator:x,basename:w}=q.useContext(jn),C=S!=null&&PI(_)&&h===!0,N=x.encodeLocation?x.encodeLocation(_).pathname:_.pathname,z=E.pathname,H=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;e||(z=z.toLowerCase(),H=H?H.toLowerCase():null,N=N.toLowerCase()),H&&w&&(H=Ps(H,w)||H);const rt=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let Z=z===N||!r&&z.startsWith(N)&&z.charAt(rt)==="/",at=H!=null&&(H===N||!r&&H.startsWith(N)&&H.charAt(N.length)==="/"),D={isActive:Z,isPending:at,isTransitioning:C},I=Z?t:void 0,M;typeof i=="function"?M=i(D):M=[i,Z?"active":null,at?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(D):o;return q.createElement(Jo,{...m,"aria-current":I,className:M,ref:y,style:P,to:c,viewTransition:h},typeof f=="function"?f(D):f)});RI.displayName="NavLink";var CI=q.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:c=Hf,action:h,onSubmit:f,relative:m,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E,...S},x)=>{let{unstable_useTransitions:w}=q.useContext(jn),C=NI(),N=kI(h,{relative:m}),z=c.toLowerCase()==="get"?"get":"post",H=typeof h=="string"&&QS.test(h),rt=Z=>{if(f&&f(Z),Z.defaultPrevented)return;Z.preventDefault();let at=Z.nativeEvent.submitter,D=at?.getAttribute("formmethod")||c,I=()=>C(at||Z.currentTarget,{fetcherKey:t,method:D,navigate:e,replace:r,state:o,relative:m,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E});w&&e!==!1?q.startTransition(()=>I()):I()};return q.createElement("form",{ref:x,method:z,action:N,onSubmit:i?f:rt,...S,"data-discover":!H&&n==="render"?"true":void 0})});CI.displayName="Form";function II(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XS(n){let t=q.useContext(pl);return pe(t,II(n)),t}function MI(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:f}={}){let m=Pd(),y=Yr(),_=Cu(n,{relative:o});return q.useCallback(E=>{if(oI(E,t)){E.preventDefault();let S=e!==void 0?e:cu(y)===cu(_),x=()=>m(n,{replace:S,state:i,preventScrollReset:r,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h});f?q.startTransition(()=>x()):x()}},[y,m,_,e,i,t,n,r,o,c,h,f])}var DI=0,OI=()=>`__${String(++DI)}__`;function NI(){let{router:n}=XS("useSubmit"),{basename:t}=q.useContext(jn),e=$C(),i=n.fetch,r=n.navigate;return q.useCallback(async(o,c={})=>{let{action:h,method:f,encType:m,formData:y,body:_}=uI(o,t);if(c.navigate===!1){let E=c.fetcherKey||OI();await i(E,e,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||f,formEncType:c.encType||m,flushSync:c.flushSync})}else await r(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||f,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:e,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,r,t,e])}function kI(n,{relative:t}={}){let{basename:e}=q.useContext(jn),i=q.useContext(as);pe(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Cu(n||".",{relative:t})},c=Yr();if(n==null){o.search=c.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Ns([e,o.pathname])),cu(o)}function PI(n,{relative:t}={}){let e=q.useContext(US);pe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=XS("useViewTransitionState"),r=Cu(n,{relative:t});if(!e.isTransitioning)return!1;let o=Ps(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=Ps(e.nextLocation.pathname,i)||e.nextLocation.pathname;return sd(r.pathname,c)!=null||sd(r.pathname,o)!=null}const VI=()=>{};var AE={};const $S=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},LI=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],h=n[e++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},JS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,f=r+2<n.length,m=f?n[r+2]:0,y=o>>2,_=(o&3)<<4|h>>4;let E=(h&15)<<2|m>>6,S=m&63;f||(S=64,c||(E=64)),i.push(e[y],e[_],e[E],e[S])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray($S(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):LI(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const m=r<n.length?e[n.charAt(r)]:64;++r;const _=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||m==null||_==null)throw new zI;const E=o<<2|h>>4;if(i.push(E),m!==64){const S=h<<4&240|m>>2;if(i.push(S),_!==64){const x=m<<6&192|_;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class zI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UI=function(n){const t=$S(n);return JS.encodeByteArray(t,!0)},ZS=function(n){return UI(n).replace(/\./g,"")},tw=function(n){try{return JS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function jI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const BI=()=>jI().__FIREBASE_DEFAULTS__,FI=()=>{if(typeof process>"u"||typeof AE>"u")return;const n=AE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},HI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&tw(n[1]);return t&&JSON.parse(t)},Ld=()=>{try{return VI()||BI()||FI()||HI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},qI=n=>Ld()?.emulatorHosts?.[n],ew=()=>Ld()?.config,nw=n=>Ld()?.[`_${n}`];class GI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function _l(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function iw(n){return(await fetch(n,{credentials:"include"})).ok}const tu={};function YI(){const n={prod:[],emulator:[]};for(const t of Object.keys(tu))tu[t]?n.emulator.push(t):n.prod.push(t);return n}function WI(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let xE=!1;function KI(n,t){if(typeof window>"u"||typeof document>"u"||!_l(window.location.host)||tu[n]===t||tu[n]||xE)return;tu[n]=t;function e(E){return`__firebase__banner__${E}`}const i="__firebase__banner",o=YI().prod.length>0;function c(){const E=document.getElementById(i);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,S){E.setAttribute("width","24"),E.setAttribute("id",S),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{xE=!0,c()},E}function y(E,S){E.setAttribute("id",S),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=WI(i),S=e("text"),x=document.getElementById(S)||document.createElement("span"),w=e("learnmore"),C=document.getElementById(w)||document.createElement("a"),N=e("preprendIcon"),z=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const H=E.element;h(H),y(C,w);const rt=m();f(z,N),H.append(z,x,C,rt),document.body.appendChild(H)}o?(x.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function XI(){const n=Ld()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $I(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ZI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tM(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function eM(){return!XI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nM(){try{return typeof indexedDB=="object"}catch{return!1}}function iM(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}const sM="FirebaseError";class js extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=sM,Object.setPrototypeOf(this,js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iu.prototype.create)}}class Iu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?rM(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new js(r,h,i)}}function rM(n,t){return n.replace(aM,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const aM=/\{\$([^}]+)}/g;function oM(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function ja(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(RE(o)&&RE(c)){if(!ja(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function RE(n){return n!==null&&typeof n=="object"}function Mu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function qc(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function Gc(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function lM(n,t){const e=new cM(n,t);return e.subscribe.bind(e)}class cM{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");uM(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=gp),r.error===void 0&&(r.error=gp),r.complete===void 0&&(r.complete=gp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uM(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function gp(){}function Ye(n){return n&&n._delegate?n._delegate:n}class Ba{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Da="[DEFAULT]";class hM{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new GI;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(dM(t))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=Da){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Da){return this.instances.has(t)}getOptions(t=Da){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:fM(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Da){return this.component?this.component.multipleInstances?t:Da:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fM(n){return n===Da?void 0:n}function dM(n){return n.instantiationMode==="EAGER"}class mM{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new hM(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Lt||(Lt={}));const gM={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},pM=Lt.INFO,yM={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},_M=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=yM[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Dy{constructor(t){this.name=t,this._logLevel=pM,this._logHandler=_M,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?gM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const vM=(n,t)=>t.some(e=>n instanceof e);let CE,IE;function bM(){return CE||(CE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EM(){return IE||(IE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sw=new WeakMap,qp=new WeakMap,rw=new WeakMap,pp=new WeakMap,Oy=new WeakMap;function TM(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(Or(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&sw.set(e,n)}).catch(()=>{}),Oy.set(t,n),t}function SM(n){if(qp.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});qp.set(n,t)}let Gp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return qp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||rw.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Or(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function wM(n){Gp=n(Gp)}function AM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(yp(this),t,...e);return rw.set(i,t.sort?t.sort():[t]),Or(i)}:EM().includes(n)?function(...t){return n.apply(yp(this),t),Or(sw.get(this))}:function(...t){return Or(n.apply(yp(this),t))}}function xM(n){return typeof n=="function"?AM(n):(n instanceof IDBTransaction&&SM(n),vM(n,bM())?new Proxy(n,Gp):n)}function Or(n){if(n instanceof IDBRequest)return TM(n);if(pp.has(n))return pp.get(n);const t=xM(n);return t!==n&&(pp.set(n,t),Oy.set(t,n)),t}const yp=n=>Oy.get(n);function RM(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),h=Or(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Or(c.result),f.oldVersion,f.newVersion,Or(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",m=>r(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const CM=["get","getKey","getAll","getAllKeys","count"],IM=["put","add","delete","clear"],_p=new Map;function ME(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(_p.get(t))return _p.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=IM.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||CM.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,r?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[e](...h),r&&f.done]))[0]};return _p.set(t,o),o}wM(n=>({...n,get:(t,e,i)=>ME(t,e)||n.get(t,e,i),has:(t,e)=>!!ME(t,e)||n.has(t,e)}));class MM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(DM(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function DM(n){return n.getComponent()?.type==="VERSION"}const Yp="@firebase/app",DE="0.14.6";const Vs=new Dy("@firebase/app"),OM="@firebase/app-compat",NM="@firebase/analytics-compat",kM="@firebase/analytics",PM="@firebase/app-check-compat",VM="@firebase/app-check",LM="@firebase/auth",zM="@firebase/auth-compat",UM="@firebase/database",jM="@firebase/data-connect",BM="@firebase/database-compat",FM="@firebase/functions",HM="@firebase/functions-compat",qM="@firebase/installations",GM="@firebase/installations-compat",YM="@firebase/messaging",WM="@firebase/messaging-compat",KM="@firebase/performance",QM="@firebase/performance-compat",XM="@firebase/remote-config",$M="@firebase/remote-config-compat",JM="@firebase/storage",ZM="@firebase/storage-compat",tD="@firebase/firestore",eD="@firebase/ai",nD="@firebase/firestore-compat",iD="firebase",sD="12.6.0";const Wp="[DEFAULT]",rD={[Yp]:"fire-core",[OM]:"fire-core-compat",[kM]:"fire-analytics",[NM]:"fire-analytics-compat",[VM]:"fire-app-check",[PM]:"fire-app-check-compat",[LM]:"fire-auth",[zM]:"fire-auth-compat",[UM]:"fire-rtdb",[jM]:"fire-data-connect",[BM]:"fire-rtdb-compat",[FM]:"fire-fn",[HM]:"fire-fn-compat",[qM]:"fire-iid",[GM]:"fire-iid-compat",[YM]:"fire-fcm",[WM]:"fire-fcm-compat",[KM]:"fire-perf",[QM]:"fire-perf-compat",[XM]:"fire-rc",[$M]:"fire-rc-compat",[JM]:"fire-gcs",[ZM]:"fire-gcs-compat",[tD]:"fire-fst",[nD]:"fire-fst-compat",[eD]:"fire-vertex","fire-js":"fire-js",[iD]:"fire-js-all"};const uu=new Map,aD=new Map,Kp=new Map;function OE(n,t){try{n.container.addComponent(t)}catch(e){Vs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function ol(n){const t=n.name;if(Kp.has(t))return Vs.debug(`There were multiple attempts to register component ${t}.`),!1;Kp.set(t,n);for(const e of uu.values())OE(e,n);for(const e of aD.values())OE(e,n);return!0}function Ny(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ni(n){return n==null?!1:n.settings!==void 0}const oD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nr=new Iu("app","Firebase",oD);class lD{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}}const vl=sD;function aw(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:Wp,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw Nr.create("bad-app-name",{appName:String(r)});if(e||(e=ew()),!e)throw Nr.create("no-options");const o=uu.get(r);if(o){if(ja(e,o.options)&&ja(i,o.config))return o;throw Nr.create("duplicate-app",{appName:r})}const c=new mM(r);for(const f of Kp.values())c.addComponent(f);const h=new lD(e,i,c);return uu.set(r,h),h}function ow(n=Wp){const t=uu.get(n);if(!t&&n===Wp&&ew())return aw();if(!t)throw Nr.create("no-app",{appName:n});return t}function cD(){return Array.from(uu.values())}function kr(n,t,e){let i=rD[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const c=[`Unable to register library "${i}" with version "${t}":`];r&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Vs.warn(c.join(" "));return}ol(new Ba(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const uD="firebase-heartbeat-database",hD=1,hu="firebase-heartbeat-store";let vp=null;function lw(){return vp||(vp=RM(uD,hD,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(hu)}catch(e){console.warn(e)}}}}).catch(n=>{throw Nr.create("idb-open",{originalErrorMessage:n.message})})),vp}async function fD(n){try{const e=(await lw()).transaction(hu),i=await e.objectStore(hu).get(cw(n));return await e.done,i}catch(t){if(t instanceof js)Vs.warn(t.message);else{const e=Nr.create("idb-get",{originalErrorMessage:t?.message});Vs.warn(e.message)}}}async function NE(n,t){try{const i=(await lw()).transaction(hu,"readwrite");await i.objectStore(hu).put(t,cw(n)),await i.done}catch(e){if(e instanceof js)Vs.warn(e.message);else{const i=Nr.create("idb-set",{originalErrorMessage:e?.message});Vs.warn(i.message)}}}function cw(n){return`${n.name}!${n.options.appId}`}const dD=1024,mD=30;class gD{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new yD(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=kE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>mD){const r=_D(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Vs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=kE(),{heartbeatsToSend:e,unsentEntries:i}=pD(this._heartbeatsCache.heartbeats),r=ZS(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return Vs.warn(t),""}}}function kE(){return new Date().toISOString().substring(0,10)}function pD(n,t=dD){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),PE(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),PE(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class yD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nM()?iM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await fD(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return NE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return NE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function PE(n){return ZS(JSON.stringify({version:2,heartbeats:n})).length}function _D(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function vD(n){ol(new Ba("platform-logger",t=>new MM(t),"PRIVATE")),ol(new Ba("heartbeat",t=>new gD(t),"PRIVATE")),kr(Yp,DE,n),kr(Yp,DE,"esm2020"),kr("fire-js","")}vD("");var bD="firebase",ED="12.7.0";kr(bD,ED,"app");function uw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TD=uw,hw=new Iu("auth","Firebase",uw());const rd=new Dy("@firebase/auth");function SD(n,...t){rd.logLevel<=Lt.WARN&&rd.warn(`Auth (${vl}): ${n}`,...t)}function Gf(n,...t){rd.logLevel<=Lt.ERROR&&rd.error(`Auth (${vl}): ${n}`,...t)}function Si(n,...t){throw ky(n,...t)}function Zi(n,...t){return ky(n,...t)}function fw(n,t,e){const i={...TD(),[t]:e};return new Iu("auth","Firebase",i).create(t,{appName:n.name})}function ks(n){return fw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ky(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return hw.create(n,...t)}function Tt(n,t,...e){if(!n)throw ky(t,...e)}function Ms(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Gf(t),new Error(t)}function Ls(n,t){n||Ms(t)}function Qp(){return typeof self<"u"&&self.location?.href||""}function wD(){return VE()==="http:"||VE()==="https:"}function VE(){return typeof self<"u"&&self.location?.protocol||null}function AD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wD()||JI()||"connection"in navigator)?navigator.onLine:!0}function xD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Du{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ls(e>t,"Short delay should be less than long delay!"),this.isMobile=QI()||ZI()}get(){return AD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Py(n,t){Ls(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class dw{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const RD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const CD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ID=new Du(3e4,6e4);function Wr(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Kr(n,t,e,i,r={}){return mw(n,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=Mu({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:t,headers:f,...o};return $I()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&_l(n.emulatorConfig.host)&&(m.credentials="include"),dw.fetch()(await gw(n,n.config.apiHost,e,h),m)})}async function mw(n,t,e){n._canInitEmulator=!1;const i={...RD,...t};try{const r=new DD(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Ef(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ef(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Ef(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Ef(n,"user-disabled",c);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw fw(n,y,m);Si(n,y)}}catch(r){if(r instanceof js)throw r;Si(n,"network-request-failed",{message:String(r)})}}async function Ou(n,t,e,i,r={}){const o=await Kr(n,t,e,i,r);return"mfaPendingCredential"in o&&Si(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function gw(n,t,e,i){const r=`${t}${e}?${i}`,o=n,c=o.config.emulator?Py(n.config,r):`${n.config.apiScheme}://${r}`;return CD.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function MD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Zi(this.auth,"network-request-failed")),ID.get())})}}function Ef(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Zi(n,t,i);return r.customData._tokenResponse=e,r}function LE(n){return n!==void 0&&n.enterprise!==void 0}class OD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return MD(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ND(n,t){return Kr(n,"GET","/v2/recaptchaConfig",Wr(n,t))}async function kD(n,t){return Kr(n,"POST","/v1/accounts:delete",t)}async function ad(n,t){return Kr(n,"POST","/v1/accounts:lookup",t)}function eu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function PD(n,t=!1){const e=Ye(n),i=await e.getIdToken(t),r=Vy(i);Tt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:eu(bp(r.auth_time)),issuedAtTime:eu(bp(r.iat)),expirationTime:eu(bp(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function bp(n){return Number(n)*1e3}function Vy(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Gf("JWT malformed, contained fewer than 3 sections"),null;try{const r=tw(e);return r?JSON.parse(r):(Gf("Failed to decode base64 JWT payload"),null)}catch(r){return Gf("Caught error parsing JWT payload as JSON",r?.toString()),null}}function zE(n){const t=Vy(n);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function fu(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof js&&VD(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function VD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class LD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Xp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function od(n){const t=n.auth,e=await n.getIdToken(),i=await fu(n,ad(t,{idToken:e}));Tt(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?pw(r.providerUserInfo):[],c=UD(n.providerData,o),h=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!c?.length,m=h?f:!1,y={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new Xp(r.createdAt,r.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function zD(n){const t=Ye(n);await od(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function UD(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function pw(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function jD(n,t){const e=await mw(n,{},async()=>{const i=Mu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await gw(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&_l(n.emulatorConfig.host)&&(f.credentials="include"),dw.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function BD(n,t){return Kr(n,"POST","/v2/accounts:revokeToken",Wr(n,t))}class tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):zE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const e=zE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await jD(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new tl;return i&&(Tt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(Tt(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(Tt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new tl,this.toJSON())}_performRefresh(){return Ms("not implemented")}}function br(n,t){Tt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Ei{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new LD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Xp(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await fu(this,this.stsTokenManager.getToken(this.auth,t));return Tt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return PD(this,t)}reload(){return zD(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Ei({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await od(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(ks(this.auth));const t=await this.getIdToken();return await fu(this,kD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,f=e._redirectEventId??void 0,m=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:S,providerData:x,stsTokenManager:w}=e;Tt(_&&w,t,"internal-error");const C=tl.fromJSON(this.name,w);Tt(typeof _=="string",t,"internal-error"),br(i,t.name),br(r,t.name),Tt(typeof E=="boolean",t,"internal-error"),Tt(typeof S=="boolean",t,"internal-error"),br(o,t.name),br(c,t.name),br(h,t.name),br(f,t.name),br(m,t.name),br(y,t.name);const N=new Ei({uid:_,auth:t,email:r,emailVerified:E,displayName:i,isAnonymous:S,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:C,createdAt:m,lastLoginAt:y});return x&&Array.isArray(x)&&(N.providerData=x.map(z=>({...z}))),f&&(N._redirectEventId=f),N}static async _fromIdTokenResponse(t,e,i=!1){const r=new tl;r.updateFromServerResponse(e);const o=new Ei({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await od(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];Tt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?pw(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,h=new tl;h.updateFromIdToken(i);const f=new Ei({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:c}),m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Xp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,m),f}}const UE=new Map;function Ds(n){Ls(n instanceof Function,"Expected a class definition");let t=UE.get(n);return t?(Ls(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,UE.set(n,t),t)}class yw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}yw.type="NONE";const jE=yw;function Yf(n,t,e){return`firebase:${n}:${t}:${e}`}class el{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Yf(this.userKey,r.apiKey,o),this.fullPersistenceKey=Yf("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await ad(this.auth,{idToken:t}).catch(()=>{});return e?Ei._fromGetAccountInfoResponse(this.auth,e,t):null}return Ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new el(Ds(jE),t,i);const r=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=r[0]||Ds(jE);const c=Yf(i,t.config.apiKey,t.name);let h=null;for(const m of e)try{const y=await m._get(c);if(y){let _;if(typeof y=="string"){const E=await ad(t,{idToken:y}).catch(()=>{});if(!E)break;_=await Ei._fromGetAccountInfoResponse(t,E,y)}else _=Ei._fromJSON(t,y);m!==o&&(h=_),o=m;break}}catch{}const f=r.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new el(o,t,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new el(o,t,i))}}function BE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ew(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_w(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Sw(t))return"Blackberry";if(ww(t))return"Webos";if(vw(t))return"Safari";if((t.includes("chrome/")||bw(t))&&!t.includes("edge/"))return"Chrome";if(Tw(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function _w(n=fn()){return/firefox\//i.test(n)}function vw(n=fn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function bw(n=fn()){return/crios\//i.test(n)}function Ew(n=fn()){return/iemobile/i.test(n)}function Tw(n=fn()){return/android/i.test(n)}function Sw(n=fn()){return/blackberry/i.test(n)}function ww(n=fn()){return/webos/i.test(n)}function Ly(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function FD(n=fn()){return Ly(n)&&!!window.navigator?.standalone}function HD(){return tM()&&document.documentMode===10}function Aw(n=fn()){return Ly(n)||Tw(n)||ww(n)||Sw(n)||/windows phone/i.test(n)||Ew(n)}function xw(n,t=[]){let e;switch(n){case"Browser":e=BE(fn());break;case"Worker":e=`${BE(fn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${vl}/${i}`}class qD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function GD(n,t={}){return Kr(n,"GET","/v2/passwordPolicy",Wr(n,t))}const YD=6;class WD{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??YD,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class KD{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FE(this),this.idTokenSubscription=new FE(this),this.beforeStateQueue=new qD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ds(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await el.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await ad(this,{idToken:t}),i=await Ei._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ni(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(i=h.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await od(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=xD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ni(this.app))return Promise.reject(ks(this));const e=t?Ye(t):null;return e&&Tt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ni(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ds(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await GD(this),e=new WD(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Iu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await BD(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ds(t)||this._popupRedirectResolver;Tt(e,this,"argument-error"),this.redirectPersistenceManager=await el.create(this,[Ds(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=xw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&SD(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Qa(n){return Ye(n)}class FE{constructor(t){this.auth=t,this.observer=null,this.addObserver=lM(e=>this.observer=e)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QD(n){zd=n}function Rw(n){return zd.loadJS(n)}function XD(){return zd.recaptchaEnterpriseScript}function $D(){return zd.gapiScript}function JD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class ZD{constructor(){this.enterprise=new tO}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class tO{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const eO="recaptcha-enterprise",Cw="NO_RECAPTCHA";class nO{constructor(t){this.type=eO,this.auth=Qa(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{ND(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new OD(f);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(f=>{h(f)})})}function r(o,c,h){const f=window.grecaptcha;LE(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(m=>{c(m)}).catch(()=>{c(Cw)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZD().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(h=>{if(!e&&LE(window.grecaptcha))r(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=XD();f.length!==0&&(f+=h),Rw(f).then(()=>{r(h,o,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function HE(n,t,e,i=!1,r=!1){const o=new nO(n);let c;if(r)c=Cw;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const h={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function $p(n,t,e,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await HE(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await HE(n,t,e,e==="getOobCode");return i(n,c)}else return Promise.reject(o)})}function iO(n,t){const e=Ny(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(ja(o,t??{}))return r;Si(r,"already-initialized")}return e.initialize({options:t})}function sO(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Ds);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function rO(n,t,e){const i=Qa(n);Tt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=Iw(t),{host:c,port:h}=aO(t),f=h===null?"":`:${h}`,m={url:`${o}//${c}${f}/`},y=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Tt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Tt(ja(m,i.config.emulator)&&ja(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,_l(c)?(iw(`${o}//${c}${f}`),KI("Auth",!0)):oO()}function Iw(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function aO(n){const t=Iw(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:qE(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:qE(c)}}}function qE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function oO(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class zy{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ms("not implemented")}_getIdTokenResponse(t){return Ms("not implemented")}_linkToIdToken(t,e){return Ms("not implemented")}_getReauthenticationResolver(t){return Ms("not implemented")}}async function lO(n,t){return Kr(n,"POST","/v1/accounts:signUp",t)}async function cO(n,t){return Ou(n,"POST","/v1/accounts:signInWithPassword",Wr(n,t))}async function uO(n,t){return Ou(n,"POST","/v1/accounts:signInWithEmailLink",Wr(n,t))}async function hO(n,t){return Ou(n,"POST","/v1/accounts:signInWithEmailLink",Wr(n,t))}class du extends zy{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new du(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new du(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $p(t,e,"signInWithPassword",cO);case"emailLink":return uO(t,{email:this._email,oobCode:this._password});default:Si(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $p(t,i,"signUpPassword",lO);case"emailLink":return hO(t,{idToken:e,email:this._email,oobCode:this._password});default:Si(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function nl(n,t){return Ou(n,"POST","/v1/accounts:signInWithIdp",Wr(n,t))}const fO="http://localhost";class Fa extends zy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Fa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Si("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const c=new Fa(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return nl(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,nl(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,nl(t,e)}buildRequest(){const t={requestUri:fO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Mu(e)}return t}}function dO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mO(n){const t=qc(Gc(n)).link,e=t?qc(Gc(t)).deep_link_id:null,i=qc(Gc(n)).deep_link_id;return(i?qc(Gc(i)).link:null)||i||e||t||n}class Uy{constructor(t){const e=qc(Gc(t)),i=e.apiKey??null,r=e.oobCode??null,o=dO(e.mode??null);Tt(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=mO(t);try{return new Uy(e)}catch{return null}}}class bl{constructor(){this.providerId=bl.PROVIDER_ID}static credential(t,e){return du._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=Uy.parseLink(e);return Tt(i,"argument-error"),du._fromEmailAndCode(t,i.code,i.tenantId)}}bl.PROVIDER_ID="password";bl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Mw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Nu extends Mw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Sr extends Nu{constructor(){super("facebook.com")}static credential(t){return Fa._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Sr.credentialFromTaggedObject(t)}static credentialFromError(t){return Sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Sr.credential(t.oauthAccessToken)}catch{return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sr.PROVIDER_ID="facebook.com";class wr extends Nu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Fa._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return wr.credential(e,i)}catch{return null}}}wr.GOOGLE_SIGN_IN_METHOD="google.com";wr.PROVIDER_ID="google.com";class Ar extends Nu{constructor(){super("github.com")}static credential(t){return Fa._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ar.credentialFromTaggedObject(t)}static credentialFromError(t){return Ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ar.credential(t.oauthAccessToken)}catch{return null}}}Ar.GITHUB_SIGN_IN_METHOD="github.com";Ar.PROVIDER_ID="github.com";class xr extends Nu{constructor(){super("twitter.com")}static credential(t,e){return Fa._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return xr.credential(e,i)}catch{return null}}}xr.TWITTER_SIGN_IN_METHOD="twitter.com";xr.PROVIDER_ID="twitter.com";async function gO(n,t){return Ou(n,"POST","/v1/accounts:signUp",Wr(n,t))}class Ha{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await Ei._fromIdTokenResponse(t,i,r),c=GE(i);return new Ha({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=GE(i);return new Ha({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function GE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class ld extends js{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,ld.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new ld(t,e,i,r)}}function Dw(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ld._fromErrorAndOperation(n,o,t,i):o})}async function pO(n,t,e=!1){const i=await fu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Ha._forOperation(n,"link",i)}async function yO(n,t,e=!1){const{auth:i}=n;if(ni(i.app))return Promise.reject(ks(i));const r="reauthenticate";try{const o=await fu(n,Dw(i,r,t,n),e);Tt(o.idToken,i,"internal-error");const c=Vy(o.idToken);Tt(c,i,"internal-error");const{sub:h}=c;return Tt(n.uid===h,i,"user-mismatch"),Ha._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Si(i,"user-mismatch"),o}}async function Ow(n,t,e=!1){if(ni(n.app))return Promise.reject(ks(n));const i="signIn",r=await Dw(n,i,t),o=await Ha._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function _O(n,t){return Ow(Qa(n),t)}async function Nw(n){const t=Qa(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function vO(n,t,e){if(ni(n.app))return Promise.reject(ks(n));const i=Qa(n),c=await $p(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gO).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Nw(n),f}),h=await Ha._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function bO(n,t,e){return ni(n.app)?Promise.reject(ks(n)):_O(Ye(n),bl.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Nw(n),i})}function EO(n,t,e,i){return Ye(n).onIdTokenChanged(t,e,i)}function TO(n,t,e){return Ye(n).beforeAuthStateChanged(t,e)}function SO(n,t,e,i){return Ye(n).onAuthStateChanged(t,e,i)}function wO(n){return Ye(n).signOut()}const cd="__sak";class kw{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(cd,"1"),this.storage.removeItem(cd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const AO=1e3,xO=10;class Pw extends kw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Aw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);HD()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,xO):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},AO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Pw.type="LOCAL";const RO=Pw;class Vw extends kw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Vw.type="SESSION";const Lw=Vw;function CO(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Ud{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new Ud(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async m=>m(e.origin,o)),f=await CO(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ud.receivers=[];function jy(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class IO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const m=jy("",20);r.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(_){const E=_;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ts(){return window}function MO(n){ts().location.href=n}function zw(){return typeof ts().WorkerGlobalScope<"u"&&typeof ts().importScripts=="function"}async function DO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OO(){return navigator?.serviceWorker?.controller||null}function NO(){return zw()?self:null}const Uw="firebaseLocalStorageDb",kO=1,ud="firebaseLocalStorage",jw="fbase_key";class ku{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function jd(n,t){return n.transaction([ud],t?"readwrite":"readonly").objectStore(ud)}function PO(){const n=indexedDB.deleteDatabase(Uw);return new ku(n).toPromise()}function Jp(){const n=indexedDB.open(Uw,kO);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(ud,{keyPath:jw})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(ud)?t(i):(i.close(),await PO(),t(await Jp()))})})}async function YE(n,t,e){const i=jd(n,!0).put({[jw]:t,value:e});return new ku(i).toPromise()}async function VO(n,t){const e=jd(n,!1).get(t),i=await new ku(e).toPromise();return i===void 0?null:i.value}function WE(n,t){const e=jd(n,!0).delete(t);return new ku(e).toPromise()}const LO=800,zO=3;class Bw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>zO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ud._getInstance(NO()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await DO(),!this.activeServiceWorker)return;this.sender=new IO(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||OO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Jp();return await YE(t,cd,"1"),await WE(t,cd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>YE(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>VO(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>WE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=jd(r,!1).getAll();return new ku(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Bw.type="LOCAL";const UO=Bw;new Du(3e4,6e4);function jO(n,t){return t?Ds(t):(Tt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class By extends zy{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return nl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return nl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return nl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function BO(n){return Ow(n.auth,new By(n),n.bypassAuthState)}function FO(n){const{auth:t,user:e}=n;return Tt(e,t,"internal-error"),yO(e,new By(n),n.bypassAuthState)}async function HO(n){const{auth:t,user:e}=n;return Tt(e,t,"internal-error"),pO(e,new By(n),n.bypassAuthState)}class Fw{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return BO;case"linkViaPopup":case"linkViaRedirect":return HO;case"reauthViaPopup":case"reauthViaRedirect":return FO;default:Si(this.auth,"internal-error")}}resolve(t){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qO=new Du(2e3,1e4);class Zo extends Fw{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Zo.currentPopupAction&&Zo.currentPopupAction.cancel(),Zo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){Ls(this.filter.length===1,"Popup operations only handle one event");const t=jy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,qO.get())};t()}}Zo.currentPopupAction=null;const GO="pendingRedirect",Wf=new Map;class YO extends Fw{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Wf.get(this.auth._key());if(!t){try{const i=await WO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Wf.set(this.auth._key(),t)}return this.bypassAuthState||Wf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WO(n,t){const e=XO(t),i=QO(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function KO(n,t){Wf.set(n._key(),t)}function QO(n){return Ds(n._redirectPersistence)}function XO(n){return Yf(GO,n.config.apiKey,n.name)}async function $O(n,t,e=!1){if(ni(n.app))return Promise.reject(ks(n));const i=Qa(n),r=jO(i,t),c=await new YO(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}const JO=600*1e3;class ZO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!t4(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!Hw(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Zi(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=JO&&this.cachedEventUids.clear(),this.cachedEventUids.has(KE(t))}saveEventToCache(t){this.cachedEventUids.add(KE(t)),this.lastProcessedEventTime=Date.now()}}function KE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Hw({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function t4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hw(n);default:return!1}}async function e4(n,t={}){return Kr(n,"GET","/v1/projects",t)}const n4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i4=/^https?/;async function s4(n){if(n.config.emulator)return;const{authorizedDomains:t}=await e4(n);for(const e of t)try{if(r4(e))return}catch{}Si(n,"unauthorized-domain")}function r4(n){const t=Qp(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!i4.test(e))return!1;if(n4.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const a4=new Du(3e4,6e4);function QE(){const n=ts().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function o4(n){return new Promise((t,e)=>{function i(){QE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{QE(),e(Zi(n,"network-request-failed"))},timeout:a4.get()})}if(ts().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ts().gapi?.load)i();else{const r=JD("iframefcb");return ts()[r]=()=>{gapi.load?i():e(Zi(n,"network-request-failed"))},Rw(`${$D()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw Kf=null,t})}let Kf=null;function l4(n){return Kf=Kf||o4(n),Kf}const c4=new Du(5e3,15e3),u4="__/auth/iframe",h4="emulator/auth/iframe",f4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},d4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m4(n){const t=n.config;Tt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Py(t,h4):`https://${n.config.authDomain}/${u4}`,i={apiKey:t.apiKey,appName:n.name,v:vl},r=d4.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${Mu(i).slice(1)}`}async function g4(n){const t=await l4(n),e=ts().gapi;return Tt(e,n,"internal-error"),t.open({where:document.body,url:m4(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f4,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=Zi(n,"network-request-failed"),h=ts().setTimeout(()=>{o(c)},c4.get());function f(){ts().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{o(c)})}))}const p4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},y4=500,_4=600,v4="_blank",b4="http://localhost";class XE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function E4(n,t,e,i=y4,r=_4){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...p4,width:i.toString(),height:r.toString(),top:o,left:c},m=fn().toLowerCase();e&&(h=bw(m)?v4:e),_w(m)&&(t=t||b4,f.scrollbars="yes");const y=Object.entries(f).reduce((E,[S,x])=>`${E}${S}=${x},`,"");if(FD(m)&&h!=="_self")return T4(t||"",h),new XE(null);const _=window.open(t||"",h,y);Tt(_,n,"popup-blocked");try{_.focus()}catch{}return new XE(_)}function T4(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const S4="__/auth/handler",w4="emulator/auth/handler",A4=encodeURIComponent("fac");async function $E(n,t,e,i,r,o){Tt(n.config.authDomain,n,"auth-domain-config-required"),Tt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:vl,eventId:r};if(t instanceof Mw){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",oM(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof Nu){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),m=f?`#${A4}=${encodeURIComponent(f)}`:"";return`${x4(n)}?${Mu(h).slice(1)}${m}`}function x4({config:n}){return n.emulator?Py(n,w4):`https://${n.authDomain}/${S4}`}const Ep="webStorageSupport";class R4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lw,this._completeRedirectFn=$O,this._overrideRedirectResult=KO}async _openPopup(t,e,i,r){Ls(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await $E(t,e,i,Qp(),r);return E4(t,o,jy())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await $E(t,e,i,Qp(),r);return MO(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(Ls(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await g4(t),i=new ZO(t);return e.register("authEvent",r=>(Tt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Ep,{type:Ep},r=>{const o=r?.[0]?.[Ep];o!==void 0&&e(!!o),Si(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=s4(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Aw()||vw()||Ly()}}const C4=R4;var JE="@firebase/auth",ZE="1.12.0";class I4{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function M4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D4(n){ol(new Ba("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Tt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xw(n)},m=new KD(i,r,o,f);return sO(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),ol(new Ba("auth-internal",t=>{const e=Qa(t.getProvider("auth").getImmediate());return(i=>new I4(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),kr(JE,ZE,M4(n)),kr(JE,ZE,"esm2020")}const O4=300,N4=nw("authIdTokenMaxAge")||O4;let t1=null;const k4=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>N4)return;const r=e?.token;t1!==r&&(t1=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function P4(n=ow()){const t=Ny(n,"auth");if(t.isInitialized())return t.getImmediate();const e=iO(n,{popupRedirectResolver:C4,persistence:[UO,RO,Lw]}),i=nw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=k4(o.toString());TO(e,c,()=>c(e.currentUser)),EO(e,h=>c(h))}}const r=qI("auth");return r&&rO(e,`http://${r}`),e}function V4(){return document.getElementsByTagName("head")?.[0]??document}QD({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=Zi("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",V4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D4("Browser");var e1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Pr,qw;(function(){var n;function t(D,I){function M(){}M.prototype=I.prototype,D.F=I.prototype,D.prototype=new M,D.prototype.constructor=D,D.D=function(P,V,U){for(var k=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)k[Dt-2]=arguments[Dt];return I.prototype[V].apply(P,k)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(D,I,M){M||(M=0);const P=Array(16);if(typeof I=="string")for(var V=0;V<16;++V)P[V]=I.charCodeAt(M++)|I.charCodeAt(M++)<<8|I.charCodeAt(M++)<<16|I.charCodeAt(M++)<<24;else for(V=0;V<16;++V)P[V]=I[M++]|I[M++]<<8|I[M++]<<16|I[M++]<<24;I=D.g[0],M=D.g[1],V=D.g[2];let U=D.g[3],k;k=I+(U^M&(V^U))+P[0]+3614090360&4294967295,I=M+(k<<7&4294967295|k>>>25),k=U+(V^I&(M^V))+P[1]+3905402710&4294967295,U=I+(k<<12&4294967295|k>>>20),k=V+(M^U&(I^M))+P[2]+606105819&4294967295,V=U+(k<<17&4294967295|k>>>15),k=M+(I^V&(U^I))+P[3]+3250441966&4294967295,M=V+(k<<22&4294967295|k>>>10),k=I+(U^M&(V^U))+P[4]+4118548399&4294967295,I=M+(k<<7&4294967295|k>>>25),k=U+(V^I&(M^V))+P[5]+1200080426&4294967295,U=I+(k<<12&4294967295|k>>>20),k=V+(M^U&(I^M))+P[6]+2821735955&4294967295,V=U+(k<<17&4294967295|k>>>15),k=M+(I^V&(U^I))+P[7]+4249261313&4294967295,M=V+(k<<22&4294967295|k>>>10),k=I+(U^M&(V^U))+P[8]+1770035416&4294967295,I=M+(k<<7&4294967295|k>>>25),k=U+(V^I&(M^V))+P[9]+2336552879&4294967295,U=I+(k<<12&4294967295|k>>>20),k=V+(M^U&(I^M))+P[10]+4294925233&4294967295,V=U+(k<<17&4294967295|k>>>15),k=M+(I^V&(U^I))+P[11]+2304563134&4294967295,M=V+(k<<22&4294967295|k>>>10),k=I+(U^M&(V^U))+P[12]+1804603682&4294967295,I=M+(k<<7&4294967295|k>>>25),k=U+(V^I&(M^V))+P[13]+4254626195&4294967295,U=I+(k<<12&4294967295|k>>>20),k=V+(M^U&(I^M))+P[14]+2792965006&4294967295,V=U+(k<<17&4294967295|k>>>15),k=M+(I^V&(U^I))+P[15]+1236535329&4294967295,M=V+(k<<22&4294967295|k>>>10),k=I+(V^U&(M^V))+P[1]+4129170786&4294967295,I=M+(k<<5&4294967295|k>>>27),k=U+(M^V&(I^M))+P[6]+3225465664&4294967295,U=I+(k<<9&4294967295|k>>>23),k=V+(I^M&(U^I))+P[11]+643717713&4294967295,V=U+(k<<14&4294967295|k>>>18),k=M+(U^I&(V^U))+P[0]+3921069994&4294967295,M=V+(k<<20&4294967295|k>>>12),k=I+(V^U&(M^V))+P[5]+3593408605&4294967295,I=M+(k<<5&4294967295|k>>>27),k=U+(M^V&(I^M))+P[10]+38016083&4294967295,U=I+(k<<9&4294967295|k>>>23),k=V+(I^M&(U^I))+P[15]+3634488961&4294967295,V=U+(k<<14&4294967295|k>>>18),k=M+(U^I&(V^U))+P[4]+3889429448&4294967295,M=V+(k<<20&4294967295|k>>>12),k=I+(V^U&(M^V))+P[9]+568446438&4294967295,I=M+(k<<5&4294967295|k>>>27),k=U+(M^V&(I^M))+P[14]+3275163606&4294967295,U=I+(k<<9&4294967295|k>>>23),k=V+(I^M&(U^I))+P[3]+4107603335&4294967295,V=U+(k<<14&4294967295|k>>>18),k=M+(U^I&(V^U))+P[8]+1163531501&4294967295,M=V+(k<<20&4294967295|k>>>12),k=I+(V^U&(M^V))+P[13]+2850285829&4294967295,I=M+(k<<5&4294967295|k>>>27),k=U+(M^V&(I^M))+P[2]+4243563512&4294967295,U=I+(k<<9&4294967295|k>>>23),k=V+(I^M&(U^I))+P[7]+1735328473&4294967295,V=U+(k<<14&4294967295|k>>>18),k=M+(U^I&(V^U))+P[12]+2368359562&4294967295,M=V+(k<<20&4294967295|k>>>12),k=I+(M^V^U)+P[5]+4294588738&4294967295,I=M+(k<<4&4294967295|k>>>28),k=U+(I^M^V)+P[8]+2272392833&4294967295,U=I+(k<<11&4294967295|k>>>21),k=V+(U^I^M)+P[11]+1839030562&4294967295,V=U+(k<<16&4294967295|k>>>16),k=M+(V^U^I)+P[14]+4259657740&4294967295,M=V+(k<<23&4294967295|k>>>9),k=I+(M^V^U)+P[1]+2763975236&4294967295,I=M+(k<<4&4294967295|k>>>28),k=U+(I^M^V)+P[4]+1272893353&4294967295,U=I+(k<<11&4294967295|k>>>21),k=V+(U^I^M)+P[7]+4139469664&4294967295,V=U+(k<<16&4294967295|k>>>16),k=M+(V^U^I)+P[10]+3200236656&4294967295,M=V+(k<<23&4294967295|k>>>9),k=I+(M^V^U)+P[13]+681279174&4294967295,I=M+(k<<4&4294967295|k>>>28),k=U+(I^M^V)+P[0]+3936430074&4294967295,U=I+(k<<11&4294967295|k>>>21),k=V+(U^I^M)+P[3]+3572445317&4294967295,V=U+(k<<16&4294967295|k>>>16),k=M+(V^U^I)+P[6]+76029189&4294967295,M=V+(k<<23&4294967295|k>>>9),k=I+(M^V^U)+P[9]+3654602809&4294967295,I=M+(k<<4&4294967295|k>>>28),k=U+(I^M^V)+P[12]+3873151461&4294967295,U=I+(k<<11&4294967295|k>>>21),k=V+(U^I^M)+P[15]+530742520&4294967295,V=U+(k<<16&4294967295|k>>>16),k=M+(V^U^I)+P[2]+3299628645&4294967295,M=V+(k<<23&4294967295|k>>>9),k=I+(V^(M|~U))+P[0]+4096336452&4294967295,I=M+(k<<6&4294967295|k>>>26),k=U+(M^(I|~V))+P[7]+1126891415&4294967295,U=I+(k<<10&4294967295|k>>>22),k=V+(I^(U|~M))+P[14]+2878612391&4294967295,V=U+(k<<15&4294967295|k>>>17),k=M+(U^(V|~I))+P[5]+4237533241&4294967295,M=V+(k<<21&4294967295|k>>>11),k=I+(V^(M|~U))+P[12]+1700485571&4294967295,I=M+(k<<6&4294967295|k>>>26),k=U+(M^(I|~V))+P[3]+2399980690&4294967295,U=I+(k<<10&4294967295|k>>>22),k=V+(I^(U|~M))+P[10]+4293915773&4294967295,V=U+(k<<15&4294967295|k>>>17),k=M+(U^(V|~I))+P[1]+2240044497&4294967295,M=V+(k<<21&4294967295|k>>>11),k=I+(V^(M|~U))+P[8]+1873313359&4294967295,I=M+(k<<6&4294967295|k>>>26),k=U+(M^(I|~V))+P[15]+4264355552&4294967295,U=I+(k<<10&4294967295|k>>>22),k=V+(I^(U|~M))+P[6]+2734768916&4294967295,V=U+(k<<15&4294967295|k>>>17),k=M+(U^(V|~I))+P[13]+1309151649&4294967295,M=V+(k<<21&4294967295|k>>>11),k=I+(V^(M|~U))+P[4]+4149444226&4294967295,I=M+(k<<6&4294967295|k>>>26),k=U+(M^(I|~V))+P[11]+3174756917&4294967295,U=I+(k<<10&4294967295|k>>>22),k=V+(I^(U|~M))+P[2]+718787259&4294967295,V=U+(k<<15&4294967295|k>>>17),k=M+(U^(V|~I))+P[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(V+(k<<21&4294967295|k>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+U&4294967295}i.prototype.v=function(D,I){I===void 0&&(I=D.length);const M=I-this.blockSize,P=this.C;let V=this.h,U=0;for(;U<I;){if(V==0)for(;U<=M;)r(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<I;)if(P[V++]=D.charCodeAt(U++),V==this.blockSize){r(this,P),V=0;break}}else for(;U<I;)if(P[V++]=D[U++],V==this.blockSize){r(this,P),V=0;break}}this.h=V,this.o+=I},i.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;I=this.o*8;for(var M=D.length-8;M<D.length;++M)D[M]=I&255,I/=256;for(this.v(D),D=Array(16),I=0,M=0;M<4;++M)for(let P=0;P<32;P+=8)D[I++]=this.g[M]>>>P&255;return D};function o(D,I){var M=h;return Object.prototype.hasOwnProperty.call(M,D)?M[D]:M[D]=I(D)}function c(D,I){this.h=I;const M=[];let P=!0;for(let V=D.length-1;V>=0;V--){const U=D[V]|0;P&&U==I||(M[V]=U,P=!1)}this.g=M}var h={};function f(D){return-128<=D&&D<128?o(D,function(I){return new c([I|0],I<0?-1:0)}):new c([D|0],D<0?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return _;if(D<0)return C(m(-D));const I=[];let M=1;for(let P=0;D>=M;P++)I[P]=D/M|0,M*=4294967296;return new c(I,0)}function y(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return C(y(D.substring(1),I));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=m(Math.pow(I,8));let P=_;for(let U=0;U<D.length;U+=8){var V=Math.min(8,D.length-U);const k=parseInt(D.substring(U,U+V),I);V<8?(V=m(Math.pow(I,V)),P=P.j(V).add(m(k))):(P=P.j(M),P=P.add(m(k)))}return P}var _=f(0),E=f(1),S=f(16777216);n=c.prototype,n.m=function(){if(w(this))return-C(this).m();let D=0,I=1;for(let M=0;M<this.g.length;M++){const P=this.i(M);D+=(P>=0?P:4294967296+P)*I,I*=4294967296}return D},n.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(x(this))return"0";if(w(this))return"-"+C(this).toString(D);const I=m(Math.pow(D,6));var M=this;let P="";for(;;){const V=rt(M,I).g;M=N(M,V.j(I));let U=((M.g.length>0?M.g[0]:M.h)>>>0).toString(D);if(M=V,x(M))return U+P;for(;U.length<6;)U="0"+U;P=U+P}},n.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function x(D){if(D.h!=0)return!1;for(let I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function w(D){return D.h==-1}n.l=function(D){return D=N(this,D),w(D)?-1:x(D)?0:1};function C(D){const I=D.g.length,M=[];for(let P=0;P<I;P++)M[P]=~D.g[P];return new c(M,~D.h).add(E)}n.abs=function(){return w(this)?C(this):this},n.add=function(D){const I=Math.max(this.g.length,D.g.length),M=[];let P=0;for(let V=0;V<=I;V++){let U=P+(this.i(V)&65535)+(D.i(V)&65535),k=(U>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);P=k>>>16,U&=65535,k&=65535,M[V]=k<<16|U}return new c(M,M[M.length-1]&-2147483648?-1:0)};function N(D,I){return D.add(C(I))}n.j=function(D){if(x(this)||x(D))return _;if(w(this))return w(D)?C(this).j(C(D)):C(C(this).j(D));if(w(D))return C(this.j(C(D)));if(this.l(S)<0&&D.l(S)<0)return m(this.m()*D.m());const I=this.g.length+D.g.length,M=[];for(var P=0;P<2*I;P++)M[P]=0;for(P=0;P<this.g.length;P++)for(let V=0;V<D.g.length;V++){const U=this.i(P)>>>16,k=this.i(P)&65535,Dt=D.i(V)>>>16,wt=D.i(V)&65535;M[2*P+2*V]+=k*wt,z(M,2*P+2*V),M[2*P+2*V+1]+=U*wt,z(M,2*P+2*V+1),M[2*P+2*V+1]+=k*Dt,z(M,2*P+2*V+1),M[2*P+2*V+2]+=U*Dt,z(M,2*P+2*V+2)}for(D=0;D<I;D++)M[D]=M[2*D+1]<<16|M[2*D];for(D=I;D<2*I;D++)M[D]=0;return new c(M,0)};function z(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function H(D,I){this.g=D,this.h=I}function rt(D,I){if(x(I))throw Error("division by zero");if(x(D))return new H(_,_);if(w(D))return I=rt(C(D),I),new H(C(I.g),C(I.h));if(w(I))return I=rt(D,C(I)),new H(C(I.g),I.h);if(D.g.length>30){if(w(D)||w(I))throw Error("slowDivide_ only works with positive integers.");for(var M=E,P=I;P.l(D)<=0;)M=Z(M),P=Z(P);var V=at(M,1),U=at(P,1);for(P=at(P,2),M=at(M,2);!x(P);){var k=U.add(P);k.l(D)<=0&&(V=V.add(M),U=k),P=at(P,1),M=at(M,1)}return I=N(D,V.j(I)),new H(V,I)}for(V=_;D.l(I)>=0;){for(M=Math.max(1,Math.floor(D.m()/I.m())),P=Math.ceil(Math.log(M)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),U=m(M),k=U.j(I);w(k)||k.l(D)>0;)M-=P,U=m(M),k=U.j(I);x(U)&&(U=E),V=V.add(U),D=N(D,k)}return new H(V,D)}n.B=function(D){return rt(this,D).h},n.and=function(D){const I=Math.max(this.g.length,D.g.length),M=[];for(let P=0;P<I;P++)M[P]=this.i(P)&D.i(P);return new c(M,this.h&D.h)},n.or=function(D){const I=Math.max(this.g.length,D.g.length),M=[];for(let P=0;P<I;P++)M[P]=this.i(P)|D.i(P);return new c(M,this.h|D.h)},n.xor=function(D){const I=Math.max(this.g.length,D.g.length),M=[];for(let P=0;P<I;P++)M[P]=this.i(P)^D.i(P);return new c(M,this.h^D.h)};function Z(D){const I=D.g.length+1,M=[];for(let P=0;P<I;P++)M[P]=D.i(P)<<1|D.i(P-1)>>>31;return new c(M,D.h)}function at(D,I){const M=I>>5;I%=32;const P=D.g.length-M,V=[];for(let U=0;U<P;U++)V[U]=I>0?D.i(U+M)>>>I|D.i(U+M+1)<<32-I:D.i(U+M);return new c(V,D.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,qw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,Pr=c}).apply(typeof e1<"u"?e1:typeof self<"u"?self:typeof window<"u"?window:{});var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gw,Yc,Yw,Qf,Zp,Ww,Kw,Qw;(function(){var n,t=Object.defineProperty;function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tf=="object"&&Tf];for(var v=0;v<d.length;++v){var T=d[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=e(this);function r(d,v){if(v)t:{var T=i;d=d.split(".");for(var R=0;R<d.length-1;R++){var G=d[R];if(!(G in T))break t;T=T[G]}d=d[d.length-1],R=T[d],v=v(R),v!=R&&v!=null&&t(T,d,{configurable:!0,writable:!0,value:v})}}r("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(d){return d||function(v){var T=[],R;for(R in v)Object.prototype.hasOwnProperty.call(v,R)&&T.push([R,v[R]]);return T}});var o=o||{},c=this||self;function h(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function f(d,v,T){return d.call.apply(d.bind,arguments)}function m(d,v,T){return m=f,m.apply(null,arguments)}function y(d,v){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function _(d,v){function T(){}T.prototype=v.prototype,d.Z=v.prototype,d.prototype=new T,d.prototype.constructor=d,d.Ob=function(R,G,X){for(var lt=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)lt[Ct-2]=arguments[Ct];return v.prototype[G].apply(R,lt)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function S(d){const v=d.length;if(v>0){const T=Array(v);for(let R=0;R<v;R++)T[R]=d[R];return T}return[]}function x(d,v){for(let R=1;R<arguments.length;R++){const G=arguments[R];var T=typeof G;if(T=T!="object"?T:G?Array.isArray(G)?"array":T:"null",T=="array"||T=="object"&&typeof G.length=="number"){T=d.length||0;const X=G.length||0;d.length=T+X;for(let lt=0;lt<X;lt++)d[T+lt]=G[lt]}else d.push(G)}}class w{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function C(d){c.setTimeout(()=>{throw d},0)}function N(){var d=D;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class z{constructor(){this.h=this.g=null}add(v,T){const R=H.get();R.set(v,T),this.h?this.h.next=R:this.g=R,this.h=R}}var H=new w(()=>new rt,d=>d.reset());class rt{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,at=!1,D=new z,I=()=>{const d=Promise.resolve(void 0);Z=()=>{d.then(M)}};function M(){for(var d;d=N();){try{d.h.call(d.g)}catch(T){C(T)}var v=H;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}at=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};c.addEventListener("test",T,v),c.removeEventListener("test",T,v)}catch{}return d})();function k(d){return/^[\s\xa0]*$/.test(d)}function Dt(d,v){V.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}_(Dt,V),Dt.prototype.init=function(d,v){const T=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(T=="mouseover"?v=d.fromElement:T=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Dt.Z.h.call(this)},Dt.prototype.h=function(){Dt.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var wt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ot(d,v,T,R,G){this.listener=d,this.proxy=null,this.src=v,this.type=T,this.capture=!!R,this.ha=G,this.key=++Q,this.da=this.fa=!1}function dt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function bt(d,v,T){for(const R in d)v.call(T,d[R],R,d)}function kt(d,v){for(const T in d)v.call(void 0,d[T],T,d)}function j(d){const v={};for(const T in d)v[T]=d[T];return v}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(d,v){let T,R;for(let G=1;G<arguments.length;G++){R=arguments[G];for(T in R)d[T]=R[T];for(let X=0;X<tt.length;X++)T=tt[X],Object.prototype.hasOwnProperty.call(R,T)&&(d[T]=R[T])}}function ut(d){this.src=d,this.g={},this.h=0}ut.prototype.add=function(d,v,T,R,G){const X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);const lt=Et(d,v,R,G);return lt>-1?(v=d[lt],T||(v.fa=!1)):(v=new ot(v,this.src,X,!!R,G),v.fa=T,d.push(v)),v};function _t(d,v){const T=v.type;if(T in d.g){var R=d.g[T],G=Array.prototype.indexOf.call(R,v,void 0),X;(X=G>=0)&&Array.prototype.splice.call(R,G,1),X&&(dt(v),d.g[T].length==0&&(delete d.g[T],d.h--))}}function Et(d,v,T,R){for(let G=0;G<d.length;++G){const X=d[G];if(!X.da&&X.listener==v&&X.capture==!!T&&X.ha==R)return G}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),je={};function de(d,v,T,R,G){if(Array.isArray(v)){for(let X=0;X<v.length;X++)de(d,v[X],T,R,G);return null}return T=Ml(T),d&&d[wt]?d.J(v,T,h(R)?!!R.capture:!1,G):$r(d,v,T,!1,R,G)}function $r(d,v,T,R,G,X){if(!v)throw Error("Invalid event type");const lt=h(G)?!!G.capture:!!G;let Ct=Jr(d);if(Ct||(d[Bt]=Ct=new ut(d)),T=Ct.add(v,T,R,lt,X),T.proxy)return T;if(R=Za(),T.proxy=R,R.src=d,R.listener=T,d.addEventListener)U||(G=lt),G===void 0&&(G=!1),d.addEventListener(v.toString(),R,G);else if(d.attachEvent)d.attachEvent(xi(v.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Za(){function d(T){return v.call(d.src,d.listener,T)}const v=Cl;return d}function to(d,v,T,R,G){if(Array.isArray(v))for(var X=0;X<v.length;X++)to(d,v[X],T,R,G);else R=h(R)?!!R.capture:!!R,T=Ml(T),d&&d[wt]?(d=d.i,X=String(v).toString(),X in d.g&&(v=d.g[X],T=Et(v,T,R,G),T>-1&&(dt(v[T]),Array.prototype.splice.call(v,T,1),v.length==0&&(delete d.g[X],d.h--)))):d&&(d=Jr(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Et(v,T,R,G)),(T=d>-1?v[d]:null)&&eo(T))}function eo(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[wt])_t(v.i,d);else{var T=d.type,R=d.proxy;v.removeEventListener?v.removeEventListener(T,R,d.capture):v.detachEvent?v.detachEvent(xi(T),R):v.addListener&&v.removeListener&&v.removeListener(R),(T=Jr(v))?(_t(T,d),T.h==0&&(T.src=null,v[Bt]=null)):dt(d)}}}function xi(d){return d in je?je[d]:je[d]="on"+d}function Cl(d,v){if(d.da)d=!0;else{v=new Dt(v,this);const T=d.listener,R=d.ha||d.src;d.fa&&eo(d),d=T.call(R,v)}return d}function Jr(d){return d=d[Bt],d instanceof ut?d:null}var Il="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ml(d){return typeof d=="function"?d:(d[Il]||(d[Il]=function(v){return d.handleEvent(v)}),d[Il])}function xe(){P.call(this),this.i=new ut(this),this.M=this,this.G=null}_(xe,P),xe.prototype[wt]=!0,xe.prototype.removeEventListener=function(d,v,T,R){to(this,d,v,T,R)};function Be(d,v){var T,R=d.G;if(R)for(T=[];R;R=R.G)T.push(R);if(d=d.M,R=v.type||v,typeof v=="string")v=new V(v,d);else if(v instanceof V)v.target=v.target||d;else{var G=v;v=new V(R,d),ct(v,G)}G=!0;let X,lt;if(T)for(lt=T.length-1;lt>=0;lt--)X=v.g=T[lt],G=Bs(X,R,!0,v)&&G;if(X=v.g=d,G=Bs(X,R,!0,v)&&G,G=Bs(X,R,!1,v)&&G,T)for(lt=0;lt<T.length;lt++)X=v.g=T[lt],G=Bs(X,R,!1,v)&&G}xe.prototype.N=function(){if(xe.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const T=d.g[v];for(let R=0;R<T.length;R++)dt(T[R]);delete d.g[v],d.h--}}this.G=null},xe.prototype.J=function(d,v,T,R){return this.i.add(String(d),v,!1,T,R)},xe.prototype.K=function(d,v,T,R){return this.i.add(String(d),v,!0,T,R)};function Bs(d,v,T,R){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let G=!0;for(let X=0;X<v.length;++X){const lt=v[X];if(lt&&!lt.da&&lt.capture==T){const Ct=lt.listener,Ee=lt.ha||lt.src;lt.fa&&_t(d.i,lt),G=Ct.call(Ee,R)!==!1&&G}}return G&&!R.defaultPrevented}function lm(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(d,v||0)}function qu(d){d.g=lm(()=>{d.g=null,d.i&&(d.i=!1,qu(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class mn extends P{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:qu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(d){P.call(this),this.h=d,this.g={}}_(Zr,P);var Dl=[];function Ol(d){bt(d.g,function(v,T){this.g.hasOwnProperty(T)&&eo(v)},d),d.g={}}Zr.prototype.N=function(){Zr.Z.N.call(this),Ol(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fs=c.JSON.stringify,cm=c.JSON.parse,Gu=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function Yu(){}function Wu(){}var ci={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $e(){V.call(this,"d")}_($e,V);function Fn(){V.call(this,"c")}_(Fn,V);var be={},Ku=null;function no(){return Ku=Ku||new xe}be.Ia="serverreachability";function Qu(d){V.call(this,be.Ia,d)}_(Qu,V);function Ri(d){const v=no();Be(v,new Qu(v))}be.STAT_EVENT="statevent";function ta(d,v){V.call(this,be.STAT_EVENT,d),this.stat=v}_(ta,V);function Re(d){const v=no();Be(v,new ta(v,d))}be.Ja="timingevent";function Ci(d,v){V.call(this,be.Ja,d),this.size=v}_(Ci,V);function Ii(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},v)}function ui(){this.g=!0}ui.prototype.ua=function(){this.g=!1};function um(d,v,T,R,G,X){d.info(function(){if(d.g)if(X){var lt="",Ct=X.split("&");for(let Wt=0;Wt<Ct.length;Wt++){var Ee=Ct[Wt].split("=");if(Ee.length>1){const me=Ee[0];Ee=Ee[1];const Yn=me.split("_");lt=Yn.length>=2&&Yn[1]=="type"?lt+(me+"="+Ee+"&"):lt+(me+"=redacted&")}}}else lt=null;else lt=X;return"XMLHTTP REQ ("+R+") [attempt "+G+"]: "+v+`
`+T+`
`+lt})}function Xu(d,v,T,R,G,X,lt){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+G+"]: "+v+`
`+T+`
`+X+" "+lt})}function Mi(d,v,T,R){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+hm(d,T)+(R?" "+R:"")})}function ea(d,v){d.info(function(){return"TIMEOUT: "+v})}ui.prototype.info=function(){};function hm(d,v){if(!d.g)return v;if(!v)return null;try{const X=JSON.parse(v);if(X){for(d=0;d<X.length;d++)if(Array.isArray(X[d])){var T=X[d];if(!(T.length<2)){var R=T[1];if(Array.isArray(R)&&!(R.length<1)){var G=R[0];if(G!="noop"&&G!="stop"&&G!="close")for(let lt=1;lt<R.length;lt++)R[lt]=""}}}}return Fs(X)}catch{return v}}var na={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Nl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},kl;function ia(){}_(ia,Yu),ia.prototype.g=function(){return new XMLHttpRequest},kl=new ia;function os(d){return encodeURIComponent(String(d))}function $u(d){var v=1;d=d.split(":");const T=[];for(;v>0&&d.length;)T.push(d.shift()),v--;return d.length&&T.push(d.join(":")),T}function hi(d,v,T,R){this.j=d,this.i=v,this.l=T,this.S=R||1,this.V=new Zr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fi}function fi(){this.i=null,this.g="",this.h=!1}var Ce={},We={};function Di(d,v,T){d.M=1,d.A=sa(Me(v)),d.u=T,d.R=!0,io(d,null)}function io(d,v){d.F=Date.now(),Oi(d),d.B=Me(d.A);var T=d.B,R=d.S;Array.isArray(R)||(R=[String(R)]),oo(T.i,"t",R),d.C=0,T=d.j.L,d.h=new fi,d.g=fh(d.j,T?v:null,!d.u),d.P>0&&(d.O=new mn(m(d.Y,d,d.g),d.P)),v=d.V,T=d.g,R=d.ba;var G="readystatechange";Array.isArray(G)||(G&&(Dl[0]=G.toString()),G=Dl);for(let X=0;X<G.length;X++){const lt=de(T,G[X],R||v.handleEvent,!1,v.h||v);if(!lt)break;v.g[lt.key]=lt}v=d.J?j(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),Ri(),um(d.i,d.v,d.B,d.l,d.S,d.u)}hi.prototype.ba=function(d){d=d.target;const v=this.O;v&&gi(d)==3?v.j():this.Y(d)},hi.prototype.Y=function(d){try{if(d==this.g)t:{const Ct=gi(this.g),Ee=this.g.ya(),Wt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Je(this.g)))){this.K||Ct!=4||Ee==7||(Ee==8||Wt<=0?Ri(3):Ri(2)),Ni(this);var v=this.g.ca();this.X=v;var T=fm(this);if(this.o=v==200,Xu(this.i,this.v,this.B,this.l,this.S,Ct,v),this.o){if(this.U&&!this.L){e:{if(this.g){var R,G=this.g;if((R=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(R)){var X=R;break e}}X=null}if(d=X)Mi(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ki(this,d);else{this.o=!1,this.m=3,Re(12),Mn(this),Hn(this);break t}}if(this.R){d=!0;let me;for(;!this.K&&this.C<T.length;)if(me=Zu(this,T),me==We){Ct==4&&(this.m=4,Re(14),d=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(me==Ce){this.m=4,Re(15),Mi(this.i,this.l,T,"[Invalid Chunk]"),d=!1;break}else Mi(this.i,this.l,me,null),ki(this,me);if(Ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||T.length!=0||this.h.h||(this.m=1,Re(16),d=!1),this.o=this.o&&d,!d)Mi(this.i,this.l,T,"[Invalid Chunked Response]"),Mn(this),Hn(this);else if(T.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Ql(lt),lt.P=!0,Re(11))}}else Mi(this.i,this.l,T,null),ki(this,T);Ct==4&&Mn(this),this.o&&!this.K&&(Ct==4?lh(this.j,this):(this.o=!1,Oi(this)))}else cs(this.g),v==400&&T.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),Mn(this),Hn(this)}}}catch{}};function fm(d){if(!Ju(d))return d.g.la();const v=Je(d.g);if(v==="")return"";let T="";const R=v.length,G=gi(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Mn(d),Hn(d),"";d.h.i=new c.TextDecoder}for(let X=0;X<R;X++)d.h.h=!0,T+=d.h.i.decode(v[X],{stream:!(G&&X==R-1)});return v.length=0,d.h.g+=T,d.C=0,d.h.g}function Ju(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Zu(d,v){var T=d.C,R=v.indexOf(`
`,T);return R==-1?We:(T=Number(v.substring(T,R)),isNaN(T)?Ce:(R+=1,R+T>v.length?We:(v=v.slice(R,R+T),d.C=R+T,v)))}hi.prototype.cancel=function(){this.K=!0,Mn(this)};function Oi(d){d.T=Date.now()+d.H,so(d,d.H)}function so(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Ii(m(d.aa,d),v)}function Ni(d){d.D&&(c.clearTimeout(d.D),d.D=null)}hi.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(ea(this.i,this.B),this.M!=2&&(Ri(),Re(17)),Mn(this),this.m=2,Hn(this)):so(this,this.T-d)};function Hn(d){d.j.I==0||d.K||lh(d.j,d)}function Mn(d){Ni(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,Ol(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function ki(d,v){try{var T=d.j;if(T.I!=0&&(T.g==d||Vi(T.h,d))){if(!d.L&&Vi(T.h,d)&&T.I==3){try{var R=T.Ba.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var G=R;if(G[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<d.F)fo(T),Xs(T);else break t;ha(T),Re(18)}}else T.xa=G[1],0<T.xa-T.K&&G[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Ii(m(T.Va,T),6e3));Pi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Fi(T,11)}else if((d.L||T.g==d)&&fo(T),!k(v))for(G=T.Ba.g.parse(v),v=0;v<G.length;v++){let Wt=G[v];const me=Wt[0];if(!(me<=T.K))if(T.K=me,Wt=Wt[1],T.I==2)if(Wt[0]=="c"){T.M=Wt[1],T.ba=Wt[2];const Yn=Wt[3];Yn!=null&&(T.ka=Yn,T.j.info("VER="+T.ka));const Hi=Wt[4];Hi!=null&&(T.za=Hi,T.j.info("SVER="+T.za));const pi=Wt[5];pi!=null&&typeof pi=="number"&&pi>0&&(R=1.5*pi,T.O=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const yi=d.g;if(yi){const fa=yi.g?yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fa){var X=R.h;X.g||fa.indexOf("spdy")==-1&&fa.indexOf("quic")==-1&&fa.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ll(X,X.h),X.h=null))}if(R.G){const mo=yi.g?yi.g.getResponseHeader("X-HTTP-Session-Id"):null;mo&&(R.wa=mo,Xt(R.J,R.G,mo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-d.F,T.j.info("Handshake RTT: "+T.T+"ms")),R=T;var lt=d;if(R.na=hh(R,R.L?R.ba:null,R.W),lt.L){zl(R.h,lt);var Ct=lt,Ee=R.O;Ee&&(Ct.H=Ee),Ct.D&&(Ni(Ct),Oi(Ct)),R.g=lt}else ah(R);T.i.length>0&&Bi(T)}else Wt[0]!="stop"&&Wt[0]!="close"||Fi(T,7);else T.I==3&&(Wt[0]=="stop"||Wt[0]=="close"?Wt[0]=="stop"?Fi(T,7):Wl(T):Wt[0]!="noop"&&T.l&&T.l.qa(Wt),T.A=0)}}Ri(4)}catch{}}var Ie=class{constructor(d,v){this.g=d,this.map=v}};function Pl(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Pi(d){return d.h?1:d.g?d.g.size:0}function Vi(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Ll(d,v){d.g?d.g.add(v):d.h=v}function zl(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Pl.prototype.cancel=function(){if(this.i=Ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ul(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const T of d.g.values())v=v.concat(T.G);return v}return S(d.i)}var th=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ro(d,v){if(d){d=d.split("&");for(let T=0;T<d.length;T++){const R=d[T].indexOf("=");let G,X=null;R>=0?(G=d[T].substring(0,R),X=d[T].substring(R+1)):G=d[T],v(G,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Dn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof Dn?(this.l=d.l,Ke(this,d.j),this.o=d.o,this.g=d.g,Hs(this,d.u),this.h=d.h,jl(this,sh(d.i)),this.m=d.m):d&&(v=String(d).match(th))?(this.l=!1,Ke(this,v[1]||"",!0),this.o=Li(v[2]||""),this.g=Li(v[3]||"",!0),Hs(this,v[4]),this.h=Li(v[5]||"",!0),jl(this,v[6]||"",!0),this.m=Li(v[7]||"")):(this.l=!1,this.i=new Gs(null,this.l))}Dn.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(ra(v,ao,!0),":");var T=this.g;return(T||v=="file")&&(d.push("//"),(v=this.o)&&d.push(ra(v,ao,!0),"@"),d.push(os(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&d.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(ra(T,T.charAt(0)=="/"?Bl:eh,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",ra(T,nh)),d.join("")},Dn.prototype.resolve=function(d){const v=Me(this);let T=!!d.j;T?Ke(v,d.j):T=!!d.o,T?v.o=d.o:T=!!d.g,T?v.g=d.g:T=d.u!=null;var R=d.h;if(T)Hs(v,d.u);else if(T=!!d.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var G=v.h.lastIndexOf("/");G!=-1&&(R=v.h.slice(0,G+1)+R)}if(G=R,G==".."||G==".")R="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){R=G.lastIndexOf("/",0)==0,G=G.split("/");const X=[];for(let lt=0;lt<G.length;){const Ct=G[lt++];Ct=="."?R&&lt==G.length&&X.push(""):Ct==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),R&&lt==G.length&&X.push("")):(X.push(Ct),R=!0)}R=X.join("/")}else R=G}return T?v.h=R:T=d.i.toString()!=="",T?jl(v,sh(d.i)):T=!!d.m,T&&(v.m=d.m),v};function Me(d){return new Dn(d)}function Ke(d,v,T){d.j=T?Li(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Hs(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function jl(d,v,T){v instanceof Gs?(d.i=v,lo(d.i,d.l)):(T||(v=ra(v,qs)),d.i=new Gs(v,d.l))}function Xt(d,v,T){d.i.set(v,T)}function sa(d){return Xt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Li(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ra(d,v,T){return typeof d=="string"?(d=encodeURI(d).replace(v,yn),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function yn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ao=/[#\/\?@]/g,eh=/[#\?:]/g,Bl=/[#\?]/g,qs=/[#\?@]/g,nh=/#/g;function Gs(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function _n(d){d.g||(d.g=new Map,d.h=0,d.i&&ro(d.i,function(v,T){d.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}n=Gs.prototype,n.add=function(d,v){_n(this),this.i=null,d=Ys(this,d);let T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(v),this.h+=1,this};function ih(d,v){_n(d),v=Ys(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Fl(d,v){return _n(d),v=Ys(d,v),d.g.has(v)}n.forEach=function(d,v){_n(this),this.g.forEach(function(T,R){T.forEach(function(G){d.call(v,G,R,this)},this)},this)};function Hl(d,v){_n(d);let T=[];if(typeof v=="string")Fl(d,v)&&(T=T.concat(d.g.get(Ys(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)T=T.concat(d[v]);return T}n.set=function(d,v){return _n(this),this.i=null,d=Ys(this,d),Fl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=Hl(this,d),d.length>0?String(d[0]):v):v};function oo(d,v,T){ih(d,v),T.length>0&&(d.i=null,d.g.set(Ys(d,v),S(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let R=0;R<v.length;R++){var T=v[R];const G=os(T);T=Hl(this,T);for(let X=0;X<T.length;X++){let lt=G;T[X]!==""&&(lt+="="+os(T[X])),d.push(lt)}}return this.i=d.join("&")};function sh(d){const v=new Gs;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function Ys(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function lo(d,v){v&&!d.j&&(_n(d),d.i=null,d.g.forEach(function(T,R){const G=R.toLowerCase();R!=G&&(ih(this,R),oo(this,G,T))},d)),d.j=v}function di(d,v){const T=new ui;if(c.Image){const R=new Image;R.onload=y(qn,T,"TestLoadImage: loaded",!0,v,R),R.onerror=y(qn,T,"TestLoadImage: error",!1,v,R),R.onabort=y(qn,T,"TestLoadImage: abort",!1,v,R),R.ontimeout=y(qn,T,"TestLoadImage: timeout",!1,v,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else v(!1)}function ql(d,v){const T=new ui,R=new AbortController,G=setTimeout(()=>{R.abort(),qn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:R.signal}).then(X=>{clearTimeout(G),X.ok?qn(T,"TestPingServer: ok",!0,v):qn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),qn(T,"TestPingServer: error",!1,v)})}function qn(d,v,T,R,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),R(T)}catch{}}function Ws(){this.g=new Gu}function zi(d){this.i=d.Sb||null,this.h=d.ab||!1}_(zi,Yu),zi.prototype.g=function(){return new aa(this.i,this.h)};function aa(d,v){xe.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(aa,xe),n=aa.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,mi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ks(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;co(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function co(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Ks(this):mi(this),this.readyState==3&&co(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Ks(this))},n.Na=function(d){this.g&&(this.response=d,Ks(this))},n.ga=function(){this.g&&Ks(this)};function Ks(d){d.readyState=4,d.l=null,d.j=null,d.B=null,mi(d)}n.setRequestHeader=function(d,v){this.A.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=v.next();return d.join(`\r
`)};function mi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Gn(d){let v="";return bt(d,function(T,R){v+=R,v+=":",v+=T,v+=`\r
`}),v}function oa(d,v,T){t:{for(R in T){var R=!1;break t}R=!0}R||(T=Gn(T),typeof d=="string"?T!=null&&os(T):Xt(d,v,T))}function ee(d){xe.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(ee,xe);var Ui=/^https?$/i,Gl=["POST","PUT"];n=ee.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,v,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():kl.g(),this.g.onreadystatechange=E(m(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(X){la(this,X);return}if(d=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var G in R)T.set(G,R[G]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const X of R.keys())T.set(X,R.get(X));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),G=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(Gl,v,void 0)>=0)||R||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,lt]of T)this.g.setRequestHeader(X,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(X){la(this,X)}};function la(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,Yl(d),ls(d)}function Yl(d){d.A||(d.A=!0,Be(d,"complete"),Be(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Be(this,"complete"),Be(this,"abort"),ls(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),ee.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ca(this):this.Xa())},n.Xa=function(){ca(this)};function ca(d){if(d.h&&typeof o<"u"){if(d.v&&gi(d)==4)setTimeout(d.Ca.bind(d),0);else if(Be(d,"readystatechange"),gi(d)==4){d.h=!1;try{const X=d.ca();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var T;if(!(T=v)){var R;if(R=X===0){let lt=String(d.D).match(th)[1]||null;!lt&&c.self&&c.self.location&&(lt=c.self.location.protocol.slice(0,-1)),R=!Ui.test(lt?lt.toLowerCase():"")}T=R}if(T)Be(d,"complete"),Be(d,"success");else{d.o=6;try{var G=gi(d)>2?d.g.statusText:""}catch{G=""}d.l=G+" ["+d.ca()+"]",Yl(d)}}finally{ls(d)}}}}function ls(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const T=d.g;d.g=null,v||Be(d,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function gi(d){return d.g?d.g.readyState:0}n.ca=function(){try{return gi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),cm(v)}};function Je(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function cs(d){const v={};d=(d.g&&gi(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(k(d[R]))continue;var T=$u(d[R]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=v[G]||[];v[G]=X,X.push(T)}kt(v,function(R){return R.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(d,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||v}function Qs(d){this.za=0,this.i=[],this.j=new ui,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ji("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ji("baseRetryDelayMs",5e3,d),this.Za=ji("retryDelaySeedMs",1e4,d),this.Ta=ji("forwardChannelMaxRetries",2,d),this.va=ji("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Pl(d&&d.concurrentRequestLimit),this.Ba=new Ws,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Qs.prototype,n.ka=8,n.I=1,n.connect=function(d,v,T,R){Re(0),this.W=d,this.H=v||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.J=hh(this,null,this.W),Bi(this)};function Wl(d){if(uo(d),d.I==3){var v=d.V++,T=Me(d.J);if(Xt(T,"SID",d.M),Xt(T,"RID",v),Xt(T,"TYPE","terminate"),ua(d,T),v=new hi(d,d.j,v),v.M=2,v.A=sa(Me(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=v.A,T=!0),T||(v.g=fh(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Oi(v)}uh(d)}function Xs(d){d.g&&(Ql(d),d.g.cancel(),d.g=null)}function uo(d){Xs(d),d.v&&(c.clearTimeout(d.v),d.v=null),fo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function Bi(d){if(!Vl(d.h)&&!d.m){d.m=!0;var v=d.Ea;Z||I(),at||(Z(),at=!0),D.add(v,d),d.D=0}}function ho(d,v){return Pi(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Ii(m(d.Ea,d,v),ch(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const G=new hi(this,this.j,d);let X=this.o;if(this.U&&(X?(X=j(X),ct(X,this.U)):X=this.U),this.u!==null||this.R||(G.J=X,X=null),this.S)t:{for(var v=0,T=0;T<this.i.length;T++){e:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(v+=R,v>4096){v=T;break t}if(v===4096||T===this.i.length-1){v=T+1;break t}}v=1e3}else v=1e3;v=rh(this,G,v),T=Me(this.J),Xt(T,"RID",d),Xt(T,"CVER",22),this.G&&Xt(T,"X-HTTP-Session-Id",this.G),ua(this,T),X&&(this.R?v="headers="+os(Gn(X))+"&"+v:this.u&&oa(T,this.u,X)),Ll(this.h,G),this.Ra&&Xt(T,"TYPE","init"),this.S?(Xt(T,"$req",v),Xt(T,"SID","null"),G.U=!0,Di(G,T,null)):Di(G,T,v),this.I=2}}else this.I==3&&(d?Kl(this,d):this.i.length==0||Vl(this.h)||Kl(this))};function Kl(d,v){var T;v?T=v.l:T=d.V++;const R=Me(d.J);Xt(R,"SID",d.M),Xt(R,"RID",T),Xt(R,"AID",d.K),ua(d,R),d.u&&d.o&&oa(R,d.u,d.o),T=new hi(d,d.j,T,d.D+1),d.u===null&&(T.J=d.o),v&&(d.i=v.G.concat(d.i)),v=rh(d,T,1e3),T.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Ll(d.h,T),Di(T,R,v)}function ua(d,v){d.H&&bt(d.H,function(T,R){Xt(v,R,T)}),d.l&&bt({},function(T,R){Xt(v,R,T)})}function rh(d,v,T){T=Math.min(d.i.length,T);const R=d.l?m(d.l.Ka,d.l,d):null;t:{var G=d.i;let Ct=-1;for(;;){const Ee=["count="+T];Ct==-1?T>0?(Ct=G[0].g,Ee.push("ofs="+Ct)):Ct=0:Ee.push("ofs="+Ct);let Wt=!0;for(let me=0;me<T;me++){var X=G[me].g;const Yn=G[me].map;if(X-=Ct,X<0)Ct=Math.max(0,G[me].g-100),Wt=!1;else try{X="req"+X+"_"||"";try{var lt=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Hi,pi]of lt){let yi=pi;h(pi)&&(yi=Fs(pi)),Ee.push(X+Hi+"="+encodeURIComponent(yi))}}catch(Hi){throw Ee.push(X+"type="+encodeURIComponent("_badmap")),Hi}}catch{R&&R(Yn)}}if(Wt){lt=Ee.join("&");break t}}lt=void 0}return d=d.i.splice(0,T),v.G=d,lt}function ah(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;Z||I(),at||(Z(),at=!0),D.add(v,d),d.A=0}}function ha(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Ii(m(d.Da,d),ch(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,oh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Ii(m(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),Xs(this),oh(this))};function Ql(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function oh(d){d.g=new hi(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=Me(d.na);Xt(v,"RID","rpc"),Xt(v,"SID",d.M),Xt(v,"AID",d.K),Xt(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&Xt(v,"TO",d.ia),Xt(v,"TYPE","xmlhttp"),ua(d,v),d.u&&d.o&&oa(v,d.u,d.o),d.O&&(d.g.H=d.O);var T=d.g;d=d.ba,T.M=1,T.A=sa(Me(v)),T.u=null,T.R=!0,io(T,d)}n.Va=function(){this.C!=null&&(this.C=null,Xs(this),ha(this),Re(19))};function fo(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function lh(d,v){var T=null;if(d.g==v){fo(d),Ql(d),d.g=null;var R=2}else if(Vi(d.h,v))T=v.G,zl(d.h,v),R=1;else return;if(d.I!=0){if(v.o)if(R==1){T=v.u?v.u.length:0,v=Date.now()-v.F;var G=d.D;R=no(),Be(R,new Ci(R,T)),Bi(d)}else ah(d);else if(G=v.m,G==3||G==0&&v.X>0||!(R==1&&ho(d,v)||R==2&&ha(d)))switch(T&&T.length>0&&(v=d.h,v.i=v.i.concat(T)),G){case 1:Fi(d,5);break;case 4:Fi(d,10);break;case 3:Fi(d,6);break;default:Fi(d,2)}}}function ch(d,v){let T=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(T*=2),T*v}function Fi(d,v){if(d.j.info("Error code "+v),v==2){var T=m(d.bb,d),R=d.Ua;const G=!R;R=new Dn(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ke(R,"https"),sa(R),G?di(R.toString(),T):ql(R.toString(),T)}else Re(2);d.I=0,d.l&&d.l.pa(v),uh(d),uo(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function uh(d){if(d.I=0,d.ja=[],d.l){const v=Ul(d.h);(v.length!=0||d.i.length!=0)&&(x(d.ja,v),x(d.ja,d.i),d.h.i.length=0,S(d.i),d.i.length=0),d.l.oa()}}function hh(d,v,T){var R=T instanceof Dn?Me(T):new Dn(T);if(R.g!="")v&&(R.g=v+"."+R.g),Hs(R,R.u);else{var G=c.location;R=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;const X=new Dn(null);R&&Ke(X,R),v&&(X.g=v),G&&Hs(X,G),T&&(X.h=T),R=X}return T=d.G,v=d.wa,T&&v&&Xt(R,T,v),Xt(R,"VER",d.ka),ua(d,R),R}function fh(d,v,T){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new ee(new zi({ab:T})):new ee(d.ma),v.Fa(d.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function dh(){}n=dh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function $s(){}$s.prototype.g=function(d,v){return new gn(d,v)};function gn(d,v){xe.call(this),this.g=new Qs(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!k(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!k(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new us(this)}_(gn,xe),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Wl(this.g)},gn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.v&&(T={},T.__data__=Fs(d),d=T);v.i.push(new Ie(v.Ya++,d)),v.I==3&&Bi(v)},gn.prototype.N=function(){this.g.l=null,delete this.j,Wl(this.g),delete this.g,gn.Z.N.call(this)};function mh(d){$e.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){t:{for(const T in v){d=T;break t}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}_(mh,$e);function gh(){Fn.call(this),this.status=1}_(gh,Fn);function us(d){this.g=d}_(us,dh),us.prototype.ra=function(){Be(this.g,"a")},us.prototype.qa=function(d){Be(this.g,new mh(d))},us.prototype.pa=function(d){Be(this.g,new gh)},us.prototype.oa=function(){Be(this.g,"b")},$s.prototype.createWebChannel=$s.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Qw=function(){return new $s},Kw=function(){return no()},Ww=be,Zp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},na.NO_ERROR=0,na.TIMEOUT=8,na.HTTP_ERROR=6,Qf=na,Nl.COMPLETE="complete",Yw=Nl,Wu.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",xe.prototype.listen=xe.prototype.J,Yc=Wu,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,Gw=ee}).apply(typeof Tf<"u"?Tf:typeof self<"u"?self:typeof window<"u"?window:{});const n1="@firebase/firestore",i1="4.9.3";class An{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");let El="12.7.0";const qa=new Dy("@firebase/firestore");function Ko(){return qa.logLevel}function ft(n,...t){if(qa.logLevel<=Lt.DEBUG){const e=t.map(Fy);qa.debug(`Firestore (${El}): ${n}`,...e)}}function zs(n,...t){if(qa.logLevel<=Lt.ERROR){const e=t.map(Fy);qa.error(`Firestore (${El}): ${n}`,...e)}}function mu(n,...t){if(qa.logLevel<=Lt.WARN){const e=t.map(Fy);qa.warn(`Firestore (${El}): ${n}`,...e)}}function Fy(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function St(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,Xw(n,i,e)}function Xw(n,t,e){let i=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw zs(i),new Error(i)}function Qt(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||Xw(t,r,i)}function Rt(n,t){return n}const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends js{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Va{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class L4{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class z4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(An.UNAUTHENTICATED)))}shutdown(){}}class U4{constructor(t){this.t=t,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Qt(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new Va;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Va,t.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},h=f=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Va)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qt(typeof i.accessToken=="string",31837,{l:i}),new L4(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new An(t)}}class j4{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class B4{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new j4(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(An.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class s1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F4{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Qt(this.o===void 0,3512);const i=o=>{o.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ft("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const r=o=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new s1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Qt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new s1(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function H4(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class Hy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=H4(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function zt(n,t){return n<t?-1:n>t?1:0}function ty(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return Tp(r)===Tp(o)?zt(r,o):Tp(r)?1:-1}return zt(n.length,t.length)}const q4=55296,G4=57343;function Tp(n){const t=n.charCodeAt(0);return t>=q4&&t<=G4}function ll(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}const r1="__name__";class $i{constructor(t,e,i){e===void 0?e=0:e>t.length&&St(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&St(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return $i.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof $i?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=$i.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return zt(t.length,e.length)}static compareSegments(t,e){const i=$i.isNumericId(t),r=$i.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?$i.extractNumericId(t).compare($i.extractNumericId(e)):ty(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Pr.fromString(t.substring(4,t.length-2))}}class le extends $i{construct(t,e,i){return new le(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ht(it.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new le(e)}static emptyPath(){return new le([])}}const Y4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends $i{construct(t,e,i){return new rn(t,e,i)}static isValidIdentifier(t){return Y4.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r1}static keyField(){return new rn([r1])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new ht(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new ht(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ht(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new ht(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new rn(e)}static emptyPath(){return new rn([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(le.fromString(t))}static fromName(t){return new yt(le.fromString(t).popFirst(5))}static empty(){return new yt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return le.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new le(t.slice()))}}function $w(n,t,e){if(!e)throw new ht(it.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function W4(n,t,e,i){if(t===!0&&i===!0)throw new ht(it.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function a1(n){if(!yt.isDocumentKey(n))throw new ht(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function o1(n){if(yt.isDocumentKey(n))throw new ht(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Jw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Bd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":St(12329,{type:typeof n})}function La(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ht(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Bd(n);throw new ht(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Le(n,t){const e={typeString:n};return t&&(e.value=t),e}function Pu(n,t){if(!Jw(n))throw new ht(it.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(r&&typeof c!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new ht(it.INVALID_ARGUMENT,e);return!0}const l1=-62135596800,c1=1e6;class fe{static now(){return fe.fromMillis(Date.now())}static fromDate(t){return fe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*c1);return new fe(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ht(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ht(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<l1)throw new ht(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c1}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Pu(t,fe._jsonSchema))return new fe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-l1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}fe._jsonSchemaVersion="firestore/timestamp/1.0",fe._jsonSchema={type:Le("string",fe._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new fe(0,0))}static max(){return new At(new fe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const gu=-1;function K4(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=At.fromTimestamp(i===1e9?new fe(e+1,0):new fe(e,i));return new Ur(r,yt.empty(),t)}function Q4(n){return new Ur(n.readTime,n.key,gu)}class Ur{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Ur(At.min(),yt.empty(),gu)}static max(){return new Ur(At.max(),yt.empty(),gu)}}function X4(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=yt.comparator(n.documentKey,t.documentKey),e!==0?e:zt(n.largestBatchId,t.largestBatchId))}const $4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class J4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Tl(n){if(n.code!==it.FAILED_PRECONDITION||n.message!==$4)throw n;ft("LocalStore","Unexpectedly lost primary lease")}class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new st(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof st?e:st.resolve(e)}catch(e){return st.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):st.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):st.reject(e)}static resolve(t){return new st(((e,i)=>{e(t)}))}static reject(t){return new st(((e,i)=>{i(t)}))}static waitFor(t){return new st(((e,i)=>{let r=0,o=0,c=!1;t.forEach((h=>{++r,h.next((()=>{++o,c&&o===r&&e()}),(f=>i(f)))})),c=!0,o===r&&e()}))}static or(t){let e=st.resolve(!1);for(const i of t)e=e.next((r=>r?st.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,o)=>{i.push(e.call(this,r,o))})),this.waitFor(i)}static mapArray(t,e){return new st(((i,r)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const m=f;e(t[m]).next((y=>{c[m]=y,++h,h===o&&i(c)}),(y=>r(y)))}}))}static doWhile(t,e){return new st(((i,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):i()};o()}))}}function Z4(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Sl(n){return n.name==="IndexedDbTransactionError"}class Fd{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Fd.ce=-1;const qy=-1;function Hd(n){return n==null}function hd(n){return n===0&&1/n==-1/0}function tN(n){return typeof n=="number"&&Number.isInteger(n)&&!hd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Zw="";function eN(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=u1(t)),t=nN(n.get(e),t);return u1(t)}function nN(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case Zw:e+="";break;default:e+=o}}return e}function u1(n){return n+Zw+""}function h1(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Qr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function tA(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ye{constructor(t,e){this.comparator=t,this.root=e||sn.EMPTY}insert(t,e){return new ye(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(t){return new ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Sf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Sf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Sf(this.root,t,this.comparator,!0)}}class Sf{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class sn{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??sn.RED,this.left=r??sn.EMPTY,this.right=o??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new sn(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return sn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new sn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ge{constructor(t){this.comparator=t,this.data=new ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new f1(this.data.getIterator())}getIteratorFrom(t){return new f1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof Ge)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ge(this.comparator);return e.data=t,e}}class f1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Un{constructor(t){this.fields=t,t.sort(rn.comparator)}static empty(){return new Un([])}unionWith(t){let e=new Ge(rn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Un(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return ll(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class eA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class an{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new eA("Invalid base64 string: "+o):o}})(t);return new an(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o})(t);return new an(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}an.EMPTY_BYTE_STRING=new an("");const iN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(n){if(Qt(!!n,39018),typeof n=="string"){let t=0;const e=iN.exec(n);if(Qt(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:we(n.seconds),nanos:we(n.nanos)}}function we(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Br(n){return typeof n=="string"?an.fromBase64String(n):an.fromUint8Array(n)}const nA="server_timestamp",iA="__type__",sA="__previous_value__",rA="__local_write_time__";function Gy(n){return(n?.mapValue?.fields||{})[iA]?.stringValue===nA}function qd(n){const t=n.mapValue.fields[sA];return Gy(t)?qd(t):t}function pu(n){const t=jr(n.mapValue.fields[rA].timestampValue);return new fe(t.seconds,t.nanos)}class sN{constructor(t,e,i,r,o,c,h,f,m,y){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=y}}const fd="(default)";class yu{constructor(t,e){this.projectId=t,this.database=e||fd}static empty(){return new yu("","")}get isDefaultDatabase(){return this.database===fd}isEqual(t){return t instanceof yu&&t.projectId===this.projectId&&t.database===this.database}}const aA="__type__",rN="__max__",wf={mapValue:{}},oA="__vector__",dd="value";function Fr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Gy(n)?4:oN(n)?9007199254740991:aN(n)?10:11:St(28295,{value:n})}function rs(n,t){if(n===t)return!0;const e=Fr(n);if(e!==Fr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return pu(n).isEqual(pu(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=jr(r.timestampValue),h=jr(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return Br(r.bytesValue).isEqual(Br(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return we(r.geoPointValue.latitude)===we(o.geoPointValue.latitude)&&we(r.geoPointValue.longitude)===we(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return we(r.integerValue)===we(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=we(r.doubleValue),h=we(o.doubleValue);return c===h?hd(c)===hd(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return ll(n.arrayValue.values||[],t.arrayValue.values||[],rs);case 10:case 11:return(function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(h1(c)!==h1(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!rs(c[f],h[f])))return!1;return!0})(n,t);default:return St(52216,{left:n})}}function _u(n,t){return(n.values||[]).find((e=>rs(e,t)))!==void 0}function cl(n,t){if(n===t)return 0;const e=Fr(n),i=Fr(t);if(e!==i)return zt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return zt(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=we(o.integerValue||o.doubleValue),f=we(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return d1(n.timestampValue,t.timestampValue);case 4:return d1(pu(n),pu(t));case 5:return ty(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=Br(o),f=Br(c);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let m=0;m<h.length&&m<f.length;m++){const y=zt(h[m],f[m]);if(y!==0)return y}return zt(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=zt(we(o.latitude),we(c.latitude));return h!==0?h:zt(we(o.longitude),we(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return m1(n.arrayValue,t.arrayValue);case 10:return(function(o,c){const h=o.fields||{},f=c.fields||{},m=h[dd]?.arrayValue,y=f[dd]?.arrayValue,_=zt(m?.values?.length||0,y?.values?.length||0);return _!==0?_:m1(m,y)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===wf.mapValue&&c===wf.mapValue)return 0;if(o===wf.mapValue)return 1;if(c===wf.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),m=c.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let _=0;_<f.length&&_<y.length;++_){const E=ty(f[_],y[_]);if(E!==0)return E;const S=cl(h[f[_]],m[y[_]]);if(S!==0)return S}return zt(f.length,y.length)})(n.mapValue,t.mapValue);default:throw St(23264,{he:e})}}function d1(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return zt(n,t);const e=jr(n),i=jr(t),r=zt(e.seconds,i.seconds);return r!==0?r:zt(e.nanos,i.nanos)}function m1(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=cl(e[r],i[r]);if(o)return o}return zt(e.length,i.length)}function ul(n){return ey(n)}function ey(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=jr(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Br(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return yt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=ey(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${ey(e.fields[c])}`;return r+"}"})(n.mapValue):St(61005,{value:n})}function Xf(n){switch(Fr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=qd(n);return t?16+Xf(t):16;case 5:return 2*n.stringValue.length;case 6:return Br(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+Xf(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return Qr(i.fields,((o,c)=>{r+=o.length+Xf(c)})),r})(n.mapValue);default:throw St(13486,{value:n})}}function g1(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function ny(n){return!!n&&"integerValue"in n}function Yy(n){return!!n&&"arrayValue"in n}function p1(n){return!!n&&"nullValue"in n}function y1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $f(n){return!!n&&"mapValue"in n}function aN(n){return(n?.mapValue?.fields||{})[aA]?.stringValue===oA}function nu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Qr(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=nu(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=nu(n.arrayValue.values[e]);return t}return{...n}}function oN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===rN}class Rn{constructor(t){this.value=t}static empty(){return new Rn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!$f(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=nu(e)}setAll(t){let e=rn.emptyPath(),i={},r=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=h.popLast()}c?i[h.lastSegment()]=nu(c):r.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());$f(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return rs(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];$f(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Qr(e,((r,o)=>t[r]=o));for(const r of i)delete t[r]}clone(){return new Rn(nu(this.value))}}function lA(n){const t=[];return Qr(n.fields,((e,i)=>{const r=new rn([e]);if($f(i)){const o=lA(i.mapValue).fields;if(o.length===0)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)})),new Un(t)}class un{constructor(t,e,i,r,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new un(t,0,At.min(),At.min(),At.min(),Rn.empty(),0)}static newFoundDocument(t,e,i,r){return new un(t,1,e,At.min(),i,r,0)}static newNoDocument(t,e){return new un(t,2,e,At.min(),At.min(),Rn.empty(),0)}static newUnknownDocument(t,e){return new un(t,3,e,At.min(),At.min(),Rn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class md{constructor(t,e){this.position=t,this.inclusive=e}}function _1(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(o.field.isKeyField()?i=yt.comparator(yt.fromName(c.referenceValue),e.key):i=cl(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function v1(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!rs(n.position[e],t.position[e]))return!1;return!0}class gd{constructor(t,e="asc"){this.field=t,this.dir=e}}function lN(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class cA{}class Ve extends cA{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new uN(t,e,i):e==="array-contains"?new dN(t,i):e==="in"?new mN(t,i):e==="not-in"?new gN(t,i):e==="array-contains-any"?new pN(t,i):new Ve(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new hN(t,i):new fN(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(cl(e,this.value)):e!==null&&Fr(this.value)===Fr(e)&&this.matchesComparison(cl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wi extends cA{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new wi(t,e)}matches(t){return uA(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uA(n){return n.op==="and"}function hA(n){return cN(n)&&uA(n)}function cN(n){for(const t of n.filters)if(t instanceof wi)return!1;return!0}function iy(n){if(n instanceof Ve)return n.field.canonicalString()+n.op.toString()+ul(n.value);if(hA(n))return n.filters.map((t=>iy(t))).join(",");{const t=n.filters.map((e=>iy(e))).join(",");return`${n.op}(${t})`}}function fA(n,t){return n instanceof Ve?(function(i,r){return r instanceof Ve&&i.op===r.op&&i.field.isEqual(r.field)&&rs(i.value,r.value)})(n,t):n instanceof wi?(function(i,r){return r instanceof wi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,c,h)=>o&&fA(c,r.filters[h])),!0):!1})(n,t):void St(19439)}function dA(n){return n instanceof Ve?(function(e){return`${e.field.canonicalString()} ${e.op} ${ul(e.value)}`})(n):n instanceof wi?(function(e){return e.op.toString()+" {"+e.getFilters().map(dA).join(" ,")+"}"})(n):"Filter"}class uN extends Ve{constructor(t,e,i){super(t,e,i),this.key=yt.fromName(i.referenceValue)}matches(t){const e=yt.comparator(t.key,this.key);return this.matchesComparison(e)}}class hN extends Ve{constructor(t,e){super(t,"in",e),this.keys=mA("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class fN extends Ve{constructor(t,e){super(t,"not-in",e),this.keys=mA("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function mA(n,t){return(t.arrayValue?.values||[]).map((e=>yt.fromName(e.referenceValue)))}class dN extends Ve{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Yy(e)&&_u(e.arrayValue,this.value)}}class mN extends Ve{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&_u(this.value.arrayValue,e)}}class gN extends Ve{constructor(t,e){super(t,"not-in",e)}matches(t){if(_u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!_u(this.value.arrayValue,e)}}class pN extends Ve{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Yy(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>_u(this.value.arrayValue,i)))}}class yN{constructor(t,e=null,i=[],r=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function b1(n,t=null,e=[],i=[],r=null,o=null,c=null){return new yN(n,t,e,i,r,o,c)}function Wy(n){const t=Rt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>iy(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Hd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>ul(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>ul(i))).join(",")),t.Te=e}return t.Te}function Ky(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!lN(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!fA(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!v1(n.startAt,t.startAt)&&v1(n.endAt,t.endAt)}function sy(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Vu{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _N(n,t,e,i,r,o,c,h){return new Vu(n,t,e,i,r,o,c,h)}function Qy(n){return new Vu(n)}function E1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function gA(n){return n.collectionGroup!==null}function iu(n){const t=Rt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Ge(rn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new gd(o,i))})),e.has(rn.keyField().canonicalString())||t.Ie.push(new gd(rn.keyField(),i))}return t.Ie}function es(n){const t=Rt(n);return t.Ee||(t.Ee=vN(t,iu(n))),t.Ee}function vN(n,t){if(n.limitType==="F")return b1(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new gd(r.field,o)}));const e=n.endAt?new md(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new md(n.startAt.position,n.startAt.inclusive):null;return b1(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function ry(n,t){const e=n.filters.concat([t]);return new Vu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function ay(n,t,e){return new Vu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Gd(n,t){return Ky(es(n),es(t))&&n.limitType===t.limitType}function pA(n){return`${Wy(es(n))}|lt:${n.limitType}`}function Qo(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>dA(r))).join(", ")}]`),Hd(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>ul(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>ul(r))).join(",")),`Target(${i})`})(es(n))}; limitType=${n.limitType})`}function Yd(n,t){return t.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):yt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,r){for(const o of iu(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(c,h,f){const m=_1(c,h,f);return c.inclusive?m<=0:m<0})(i.startAt,iu(i),r)||i.endAt&&!(function(c,h,f){const m=_1(c,h,f);return c.inclusive?m>=0:m>0})(i.endAt,iu(i),r))})(n,t)}function bN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function yA(n){return(t,e)=>{let i=!1;for(const r of iu(n)){const o=EN(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function EN(n,t,e){const i=n.field.isKeyField()?yt.comparator(t.key,e.key):(function(o,c,h){const f=c.data.field(o),m=h.data.field(o);return f!==null&&m!==null?cl(f,m):St(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return St(19790,{direction:n.dir})}}class Xa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Qr(this.inner,((e,i)=>{for(const[r,o]of i)t(r,o)}))}isEmpty(){return tA(this.inner)}size(){return this.innerSize}}const TN=new ye(yt.comparator);function Us(){return TN}const _A=new ye(yt.comparator);function Wc(...n){let t=_A;for(const e of n)t=t.insert(e.key,e);return t}function vA(n){let t=_A;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function ka(){return su()}function bA(){return su()}function su(){return new Xa((n=>n.toString()),((n,t)=>n.isEqual(t)))}const SN=new ye(yt.comparator),wN=new Ge(yt.comparator);function Ut(...n){let t=wN;for(const e of n)t=t.add(e);return t}const AN=new Ge(zt);function xN(){return AN}function Xy(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hd(t)?"-0":t}}function EA(n){return{integerValue:""+n}}function RN(n,t){return tN(t)?EA(t):Xy(n,t)}class Wd{constructor(){this._=void 0}}function CN(n,t,e){return n instanceof vu?(function(r,o){const c={fields:{[iA]:{stringValue:nA},[rA]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Gy(o)&&(o=qd(o)),o&&(c.fields[sA]=o),{mapValue:c}})(e,t):n instanceof bu?SA(n,t):n instanceof Eu?wA(n,t):(function(r,o){const c=TA(r,o),h=T1(c)+T1(r.Ae);return ny(c)&&ny(r.Ae)?EA(h):Xy(r.serializer,h)})(n,t)}function IN(n,t,e){return n instanceof bu?SA(n,t):n instanceof Eu?wA(n,t):e}function TA(n,t){return n instanceof pd?(function(i){return ny(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class vu extends Wd{}class bu extends Wd{constructor(t){super(),this.elements=t}}function SA(n,t){const e=AA(t);for(const i of n.elements)e.some((r=>rs(r,i)))||e.push(i);return{arrayValue:{values:e}}}class Eu extends Wd{constructor(t){super(),this.elements=t}}function wA(n,t){let e=AA(t);for(const i of n.elements)e=e.filter((r=>!rs(r,i)));return{arrayValue:{values:e}}}class pd extends Wd{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function T1(n){return we(n.integerValue||n.doubleValue)}function AA(n){return Yy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class MN{constructor(t,e){this.field=t,this.transform=e}}function DN(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof bu&&r instanceof bu||i instanceof Eu&&r instanceof Eu?ll(i.elements,r.elements,rs):i instanceof pd&&r instanceof pd?rs(i.Ae,r.Ae):i instanceof vu&&r instanceof vu})(n.transform,t.transform)}class ON{constructor(t,e){this.version=t,this.transformResults=e}}class Ti{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ti}static exists(t){return new Ti(void 0,t)}static updateTime(t){return new Ti(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Jf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Kd{}function xA(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new $y(n.key,Ti.none()):new Lu(n.key,n.data,Ti.none());{const e=n.data,i=Rn.empty();let r=new Ge(rn.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new Xr(n.key,i,new Un(r.toArray()),Ti.none())}}function NN(n,t,e){n instanceof Lu?(function(r,o,c){const h=r.value.clone(),f=w1(r.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Xr?(function(r,o,c){if(!Jf(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=w1(r.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(RA(r)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,t,e):(function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function ru(n,t,e,i){return n instanceof Lu?(function(o,c,h,f){if(!Jf(o.precondition,c))return h;const m=o.value.clone(),y=A1(o.fieldTransforms,f,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,t,e,i):n instanceof Xr?(function(o,c,h,f){if(!Jf(o.precondition,c))return h;const m=A1(o.fieldTransforms,f,c),y=c.data;return y.setAll(RA(o)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(n,t,e,i):(function(o,c,h){return Jf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function kN(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=TA(i.transform,r||null);o!=null&&(e===null&&(e=Rn.empty()),e.set(i.field,o))}return e||null}function S1(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ll(i,r,((o,c)=>DN(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Lu extends Kd{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Xr extends Kd{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function RA(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function w1(n,t,e){const i=new Map;Qt(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,h=t.data.field(o.field);i.set(o.field,IN(c,h,e[r]))}return i}function A1(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,CN(o,c,t))}return i}class $y extends Kd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PN extends Kd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class VN{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&NN(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=ru(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=ru(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=bA();return this.mutations.forEach((r=>{const o=t.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(r.key)?null:h;const f=xA(c,h);f!==null&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(At.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&ll(this.mutations,t.mutations,((e,i)=>S1(e,i)))&&ll(this.baseMutations,t.baseMutations,((e,i)=>S1(e,i)))}}class Jy{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Qt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return SN})();const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new Jy(t,e,i,r)}}class LN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class zN{constructor(t,e){this.count=t,this.unchangedNames=e}}var Pe,Ft;function UN(n){switch(n){case it.OK:return St(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return St(15467,{code:n})}}function CA(n){if(n===void 0)return zs("GRPC error has no .code"),it.UNKNOWN;switch(n){case Pe.OK:return it.OK;case Pe.CANCELLED:return it.CANCELLED;case Pe.UNKNOWN:return it.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return it.INTERNAL;case Pe.UNAVAILABLE:return it.UNAVAILABLE;case Pe.UNAUTHENTICATED:return it.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case Pe.NOT_FOUND:return it.NOT_FOUND;case Pe.ALREADY_EXISTS:return it.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return it.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case Pe.ABORTED:return it.ABORTED;case Pe.OUT_OF_RANGE:return it.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return it.UNIMPLEMENTED;case Pe.DATA_LOSS:return it.DATA_LOSS;default:return St(39323,{code:n})}}(Ft=Pe||(Pe={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";function jN(){return new TextEncoder}const BN=new Pr([4294967295,4294967295],0);function x1(n){const t=jN().encode(n),e=new qw;return e.update(t),new Uint8Array(e.digest())}function R1(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Pr([e,i],0),new Pr([r,o],0)]}class Zy{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Kc(`Invalid padding: ${e}`);if(i<0)throw new Kc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Kc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Kc(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Pr.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(Pr.fromNumber(i)));return r.compare(BN)===1&&(r=new Pr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=x1(t),[i,r]=R1(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);if(!this.we(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new Zy(o,r,e);return i.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=x1(t),[i,r]=R1(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);this.Se(c)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Kc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qd{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,zu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Qd(At.min(),r,new ye(zt),Us(),Ut())}}class zu{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new zu(i,e,Ut(),Ut(),Ut())}}class Zf{constructor(t,e,i,r){this.be=t,this.removedTargetIds=e,this.key=i,this.De=r}}class IA{constructor(t,e){this.targetId=t,this.Ce=e}}class MA{constructor(t,e,i=an.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class C1{constructor(){this.ve=0,this.Fe=I1(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),e=Ut(),i=Ut();return this.Fe.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:St(38017,{changeType:o})}})),new zu(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=I1()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class FN{constructor(t){this.Ge=t,this.ze=new Map,this.je=Us(),this.Je=Af(),this.He=Af(),this.Ye=new ye(zt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:St(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(sy(o))if(i===0){const c=new yt(o.path);this.et(e,c,un.newNoDocument(c,At.min()))}else Qt(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const h=this.ut(t),f=h?this.ct(h,t,c):1;if(f!==0){this.it(e);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,m)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let c,h;try{c=Br(i).toUint8Array()}catch(f){if(f instanceof eA)return mu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Zy(c,r,o)}catch(f){return mu(f instanceof Kc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&sy(h.target)){const f=new yt(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,un.newNoDocument(f,t))}o.Be&&(e.set(c,o.ke()),o.qe())}}));let i=Ut();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const r=new Qd(t,e,this.Ye,this.je,i);return this.je=Us(),this.Je=Af(),this.He=Af(),this.Ye=new ye(zt),r}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.Qe(e,1):r.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new C1,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Ge(zt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Ge(zt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ft("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new C1),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Af(){return new ye(yt.comparator)}function I1(){return new ye(yt.comparator)}const HN={asc:"ASCENDING",desc:"DESCENDING"},qN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GN={and:"AND",or:"OR"};class YN{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function oy(n,t){return n.useProto3Json||Hd(t)?t:{value:t}}function yd(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function DA(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function WN(n,t){return yd(n,t.toTimestamp())}function ns(n){return Qt(!!n,49232),At.fromTimestamp((function(e){const i=jr(e);return new fe(i.seconds,i.nanos)})(n))}function t_(n,t){return ly(n,t).canonicalString()}function ly(n,t){const e=(function(r){return new le(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function OA(n){const t=le.fromString(n);return Qt(LA(t),10190,{key:t.toString()}),t}function cy(n,t){return t_(n.databaseId,t.path)}function Sp(n,t){const e=OA(t);if(e.get(1)!==n.databaseId.projectId)throw new ht(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ht(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new yt(kA(e))}function NA(n,t){return t_(n.databaseId,t)}function KN(n){const t=OA(n);return t.length===4?le.emptyPath():kA(t)}function uy(n){return new le(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kA(n){return Qt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function M1(n,t,e){return{name:cy(n,t),fields:e.value.mapValue.fields}}function QN(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:St(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(m,y){return m.useProto3Json?(Qt(y===void 0||typeof y=="string",58123),an.fromBase64String(y||"")):(Qt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),an.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(m){const y=m.code===void 0?it.UNKNOWN:CA(m.code);return new ht(y,m.message||"")})(c);e=new MA(i,r,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Sp(n,i.document.name),o=ns(i.document.updateTime),c=i.document.createTime?ns(i.document.createTime):At.min(),h=new Rn({mapValue:{fields:i.document.fields}}),f=un.newFoundDocument(r,o,c,h),m=i.targetIds||[],y=i.removedTargetIds||[];e=new Zf(m,y,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Sp(n,i.document),o=i.readTime?ns(i.readTime):At.min(),c=un.newNoDocument(r,o),h=i.removedTargetIds||[];e=new Zf([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Sp(n,i.document),o=i.removedTargetIds||[];e=new Zf([],o,r,null)}else{if(!("filter"in t))return St(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new zN(r,o),h=i.targetId;e=new IA(h,c)}}return e}function XN(n,t){let e;if(t instanceof Lu)e={update:M1(n,t.key,t.value)};else if(t instanceof $y)e={delete:cy(n,t.key)};else if(t instanceof Xr)e={update:M1(n,t.key,t.data),updateMask:rk(t.fieldMask)};else{if(!(t instanceof PN))return St(16599,{Vt:t.type});e={verify:cy(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,c){const h=c.transform;if(h instanceof vu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof bu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Eu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof pd)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw St(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:WN(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:St(27497)})(n,t.precondition)),e}function $N(n,t){return n&&n.length>0?(Qt(t!==void 0,14353),n.map((e=>(function(r,o){let c=r.updateTime?ns(r.updateTime):ns(o);return c.isEqual(At.min())&&(c=ns(o)),new ON(c,r.transformResults||[])})(e,t)))):[]}function JN(n,t){return{documents:[NA(n,t.path)]}}function ZN(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=NA(n,r);const o=(function(m){if(m.length!==0)return VA(wi.create(m,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(m){if(m.length!==0)return m.map((y=>(function(E){return{field:Xo(E.field),direction:nk(E.dir)}})(y)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=oy(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:e,parent:r}}function tk(n){let t=KN(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Qt(i===1,65062);const y=e.from[0];y.allDescendants?r=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=(function(_){const E=PA(_);return E instanceof wi&&hA(E)?E.getFilters():[E]})(e.where));let c=[];e.orderBy&&(c=(function(_){return _.map((E=>(function(x){return new gd($o(x.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(E)))})(e.orderBy));let h=null;e.limit&&(h=(function(_){let E;return E=typeof _=="object"?_.value:_,Hd(E)?null:E})(e.limit));let f=null;e.startAt&&(f=(function(_){const E=!!_.before,S=_.values||[];return new md(S,E)})(e.startAt));let m=null;return e.endAt&&(m=(function(_){const E=!_.before,S=_.values||[];return new md(S,E)})(e.endAt)),_N(t,r,c,o,h,"F",f,m)}function ek(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function PA(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=$o(e.unaryFilter.field);return Ve.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=$o(e.unaryFilter.field);return Ve.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=$o(e.unaryFilter.field);return Ve.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=$o(e.unaryFilter.field);return Ve.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ve.create($o(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return wi.create(e.compositeFilter.filters.map((i=>PA(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(e.compositeFilter.op))})(n):St(30097,{filter:n})}function nk(n){return HN[n]}function ik(n){return qN[n]}function sk(n){return GN[n]}function Xo(n){return{fieldPath:n.canonicalString()}}function $o(n){return rn.fromServerFormat(n.fieldPath)}function VA(n){return n instanceof Ve?(function(e){if(e.op==="=="){if(y1(e.value))return{unaryFilter:{field:Xo(e.field),op:"IS_NAN"}};if(p1(e.value))return{unaryFilter:{field:Xo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(y1(e.value))return{unaryFilter:{field:Xo(e.field),op:"IS_NOT_NAN"}};if(p1(e.value))return{unaryFilter:{field:Xo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xo(e.field),op:ik(e.op),value:e.value}}})(n):n instanceof wi?(function(e){const i=e.getFilters().map((r=>VA(r)));return i.length===1?i[0]:{compositeFilter:{op:sk(e.op),filters:i}}})(n):St(54877,{filter:n})}function rk(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function LA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Rr{constructor(t,e,i,r,o=At.min(),c=At.min(),h=an.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new Rr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class ak{constructor(t){this.yt=t}}function ok(n){const t=tk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ay(t,t.limit,"L"):t}class lk{constructor(){this.Cn=new ck}addToCollectionParentIndex(t,e){return this.Cn.add(e),st.resolve()}getCollectionParents(t,e){return st.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return st.resolve()}deleteFieldIndex(t,e){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,e){return st.resolve()}getDocumentsMatchingTarget(t,e){return st.resolve(null)}getIndexType(t,e){return st.resolve(0)}getFieldIndexes(t,e){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,e){return st.resolve(Ur.min())}getMinOffsetFromCollectionGroup(t,e){return st.resolve(Ur.min())}updateCollectionGroup(t,e,i){return st.resolve()}updateIndexEntries(t,e){return st.resolve()}}class ck{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Ge(le.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ge(le.comparator)).toArray()}}const D1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zA=41943040;class xn{static withCacheSize(t){return new xn(t,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(zA,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);class hl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new hl(0)}static cr(){return new hl(-1)}}const O1="LruGarbageCollector",UA=1048576;function N1([n,t],[e,i]){const r=zt(n,e);return r===0?zt(t,i):r}class uk{constructor(t){this.Ir=t,this.buffer=new Ge(N1),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();N1(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class hk{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ft(O1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Sl(e)?ft(O1,"Ignoring IndexedDB error during garbage collection: ",e):await Tl(e)}await this.Vr(3e5)}))}}class fk{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return st.resolve(Fd.ce);const i=new uk(e);return this.mr.forEachTarget(t,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(t,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(D1)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D1):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,r,o,c,h,f,m;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),r=this.params.maximumSequenceNumbersToCollect):r=_,c=Date.now(),this.nthSequenceNumber(t,r)))).next((_=>(i=_,h=Date.now(),this.removeTargets(t,i,e)))).next((_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((_=>(m=Date.now(),Ko()<=Lt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(m-f)+`ms
Total Duration: ${m-y}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:_}))))}}function dk(n,t){return new fk(n,t)}class mk{constructor(){this.changes=new Xa((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,un.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?st.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class gk{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class pk{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&ru(i.mutation,r,Un.empty(),fe.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Ut()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Ut()){const r=ka();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((o=>{let c=Wc();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const i=ka();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Ut())))}populateOverlays(t,e,i){const r=[];return i.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,i,r){let o=Us();const c=su(),h=(function(){return su()})();return e.forEach(((f,m)=>{const y=i.get(m.key);r.has(m.key)&&(y===void 0||y.mutation instanceof Xr)?o=o.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),ru(y.mutation,m,y.mutation.getFieldMask(),fe.now())):c.set(m.key,Un.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((m,y)=>c.set(m,y))),e.forEach(((m,y)=>h.set(m,new gk(y,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=su();let r=new ye(((c,h)=>c-h)),o=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((f=>{const m=e.get(f);if(m===null)return;let y=i.get(f)||Un.empty();y=h.applyToLocalView(m,y),i.set(f,y);const _=(r.get(h.batchId)||Ut()).add(f);r=r.insert(h.batchId,_)}))})).next((()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,y=f.value,_=bA();y.forEach((E=>{if(!o.has(E)){const S=xA(e.get(E),i.get(E));S!==null&&_.set(E,S),o=o.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(t,m,_))}return st.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return(function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):gA(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):st.resolve(ka());let h=gu,f=o;return c.next((m=>st.forEach(m,((y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(y)?st.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{f=f.insert(y,E)}))))).next((()=>this.populateOverlays(t,m,o))).next((()=>this.computeViews(t,f,m,Ut()))).next((y=>({batchId:h,changes:vA(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new yt(e)).next((i=>{let r=Wc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let c=Wc();return this.indexManager.getCollectionParents(t,o).next((h=>st.forEach(h,(f=>{const m=(function(_,E){return new Vu(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,m,i,r).next((y=>{y.forEach(((_,E)=>{c=c.insert(_,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r)))).next((c=>{o.forEach(((f,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,un.newInvalidDocument(y)))}));let h=Wc();return c.forEach(((f,m)=>{const y=o.get(f);y!==void 0&&ru(y.mutation,m,Un.empty(),fe.now()),Yd(e,m)&&(h=h.insert(f,m))})),h}))}}class yk{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return st.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:ns(r.createTime)}})(e)),st.resolve()}getNamedQuery(t,e){return st.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(r){return{name:r.name,query:ok(r.bundledQuery),readTime:ns(r.readTime)}})(e)),st.resolve()}}class _k{constructor(){this.overlays=new ye(yt.comparator),this.qr=new Map}getOverlay(t,e){return st.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ka();return st.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,o)=>{this.St(t,e,o)})),st.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),st.resolve()}getOverlaysForCollection(t,e,i){const r=ka(),o=e.length+1,c=new yt(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return st.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new ye(((m,y)=>m-y));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>i){let y=o.get(m.largestBatchId);y===null&&(y=ka(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=ka(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=r)););return st.resolve(h)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new LN(e,i));let o=this.qr.get(e);o===void 0&&(o=Ut(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}class vk{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,st.resolve()}}class e_{constructor(){this.Qr=new Ge(Xe.$r),this.Ur=new Ge(Xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new Xe(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new Xe(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new yt(new le([])),i=new Xe(e,t),r=new Xe(e,t+1),o=[];return this.Ur.forEachInRange([i,r],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new yt(new le([])),i=new Xe(e,t),r=new Xe(e,t+1);let o=Ut();return this.Ur.forEachInRange([i,r],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new Xe(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Xe{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return yt.comparator(t.key,e.key)||zt(t.Yr,e.Yr)}static Kr(t,e){return zt(t.Yr,e.Yr)||yt.comparator(t.key,e.key)}}class bk{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Ge(Xe.$r)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new VN(o,e,i,r);this.mutationQueue.push(c);for(const h of r)this.Zr=this.Zr.add(new Xe(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return st.resolve(c)}lookupMutationBatch(t,e){return st.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ei(i),o=r<0?0:r;return st.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?qy:this.tr-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Xe(e,0),r=new Xe(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],(c=>{const h=this.Xr(c.Yr);o.push(h)})),st.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ge(zt);return e.forEach((r=>{const o=new Xe(r,0),c=new Xe(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{i=i.add(h.Yr)}))})),st.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;yt.isDocumentKey(o)||(o=o.child(""));const c=new Xe(new yt(o),0);let h=new Ge(zt);return this.Zr.forEachWhile((f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===r&&(h=h.add(f.Yr)),!0)}),c),st.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((i=>{const r=this.Xr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){Qt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return st.forEach(e.mutations,(r=>{const o=new Xe(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new Xe(e,0),r=this.Zr.firstAfterOrEqual(i);return st.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Ek{constructor(t){this.ri=t,this.docs=(function(){return new ye(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return st.resolve(i?i.document.mutableCopy():un.newInvalidDocument(e))}getEntries(t,e){let i=Us();return e.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():un.newInvalidDocument(r))})),st.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Us();const c=e.path,h=new yt(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||X4(Q4(y),i)<=0||(r.has(y.key)||Yd(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return st.resolve(o)}getAllFromCollectionGroup(t,e,i,r){St(9500)}ii(t,e){return st.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new Tk(this)}getSize(t){return st.resolve(this.size)}}class Tk extends mk{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)})),st.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class Sk{constructor(t){this.persistence=t,this.si=new Xa((e=>Wy(e)),Ky),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new e_,this.targetCount=0,this.ai=hl.ur()}forEachTarget(t,e){return this.si.forEach(((i,r)=>e(r))),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),st.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new hl(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,st.resolve()}updateTargetData(t,e){return this.Pr(e),st.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)})),st.waitFor(o).next((()=>r))}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return st.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),st.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((c=>{o.push(r.markPotentiallyOrphaned(t,c))})),st.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),st.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return st.resolve(i)}containsKey(t,e){return st.resolve(this._i.containsKey(e))}}class jA{constructor(t,e){this.ui={},this.overlays={},this.ci=new Fd(0),this.li=!1,this.li=!0,this.hi=new vk,this.referenceDelegate=t(this),this.Pi=new Sk(this),this.indexManager=new lk,this.remoteDocumentCache=(function(r){return new Ek(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new ak(e),this.Ii=new yk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new _k,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new bk(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){ft("MemoryPersistence","Starting transaction:",t);const r=new wk(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(t,e){return st.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class wk extends J4{constructor(t){super(),this.currentSequenceNumber=t}}class n_{constructor(t){this.persistence=t,this.Ri=new e_,this.Vi=null}static mi(t){return new n_(t)}get fi(){if(this.Vi)return this.Vi;throw St(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),st.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),st.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),st.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.fi,(i=>{const r=yt.fromPath(i);return this.gi(t,r).next((o=>{o||e.removeEntry(r,At.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return st.or([()=>st.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class _d{constructor(t,e){this.persistence=t,this.pi=new Xa((i=>eN(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=dk(this,e)}static mi(t,e){return new _d(t,e)}Ei(){}di(t){return st.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return st.forEach(this.pi,((i,r)=>this.br(t,i,r).next((o=>o?st.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(t,(c=>this.br(t,c,e).next((h=>{h||(i++,o.removeEntry(c,At.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),st.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),st.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),st.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Xf(t.data.value)),e}br(t,e,i){return st.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return st.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class i_{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=r}static As(t,e){let i=Ut(),r=Ut();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new i_(t,e.fromCache,i,r)}}class Ak{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class xk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return eM()?8:Z4(fn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ys(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(t,e,r,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new Ak;return this.Ss(t,e,c).next((h=>{if(o.result=h,this.Vs)return this.bs(t,e,c,h.size)}))})).next((()=>o.result))}bs(t,e,i,r){return i.documentReadCount<this.fs?(Ko()<=Lt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",Qo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),st.resolve()):(Ko()<=Lt.DEBUG&&ft("QueryEngine","Query:",Qo(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(Ko()<=Lt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",Qo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,es(e))):st.resolve())}ys(t,e){if(E1(e))return st.resolve(null);let i=es(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=ay(e,null,"F"),i=es(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const c=Ut(...o);return this.ps.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,i).next((f=>{const m=this.Ds(e,h);return this.Cs(e,m,c,f.readTime)?this.ys(t,ay(e,null,"F")):this.vs(t,m,e,f)}))))})))))}ws(t,e,i,r){return E1(e)||r.isEqual(At.min())?st.resolve(null):this.ps.getDocuments(t,i).next((o=>{const c=this.Ds(e,o);return this.Cs(e,c,i,r)?st.resolve(null):(Ko()<=Lt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Qo(e)),this.vs(t,c,e,K4(r,gu)).next((h=>h)))}))}Ds(t,e){let i=new Ge(yA(t));return e.forEach(((r,o)=>{Yd(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(t,e,i){return Ko()<=Lt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",Qo(e)),this.ps.getDocumentsMatchingQuery(t,e,Ur.min(),i)}vs(t,e,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const s_="LocalStore",Rk=3e8;class Ck{constructor(t,e,i,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new ye(zt),this.xs=new Xa((o=>Wy(o)),Ky),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new pk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function Ik(n,t,e,i){return new Ck(n,t,e,i)}async function BA(n,t){const e=Rt(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let f=Ut();for(const m of r){c.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of o){h.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return e.localDocuments.getDocuments(i,f).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function Mk(n,t){const e=Rt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,y){const _=m.batch,E=_.keys();let S=st.resolve();return E.forEach((x=>{S=S.next((()=>y.getEntry(f,x))).next((w=>{const C=m.docVersions.get(x);Qt(C!==null,48541),w.version.compareTo(C)<0&&(_.applyToRemoteDocument(w,m),w.isValidDocument()&&(w.setReadTime(m.commitVersion),y.addEntry(w)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(f,_)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=Ut();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function FA(n){const t=Rt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function Dk(n,t){const e=Rt(n),i=t.snapshotVersion;let r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;const h=[];t.targetChanges.forEach(((y,_)=>{const E=r.get(_);if(!E)return;h.push(e.Pi.removeMatchingKeys(o,y.removedDocuments,_).next((()=>e.Pi.addMatchingKeys(o,y.addedDocuments,_))));let S=E.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(_)!==null?S=S.withResumeToken(an.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,i)),r=r.insert(_,S),(function(w,C,N){return w.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=Rk?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(E,S,y)&&h.push(e.Pi.updateTargetData(o,S))}));let f=Us(),m=Ut();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(Ok(o,c,t.documentUpdates).next((y=>{f=y.ks,m=y.qs}))),!i.isEqual(At.min())){const y=e.Pi.getLastRemoteSnapshotVersion(o).next((_=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(y)}return st.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,m))).next((()=>f))})).then((o=>(e.Ms=r,o)))}function Ok(n,t,e){let i=Ut(),r=Ut();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let c=Us();return e.forEach(((h,f)=>{const m=o.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(At.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):ft(s_,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)})),{ks:c,qs:r}}))}function Nk(n,t){const e=Rt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=qy),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function kk(n,t){const e=Rt(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.Pi.getTargetData(i,t).next((o=>o?(r=o,st.resolve(r)):e.Pi.allocateTargetId(i).next((c=>(r=new Rr(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function hy(n,t,e){const i=Rt(n),r=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Sl(c))throw c;ft(s_,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function k1(n,t,e){const i=Rt(n);let r=At.min(),o=Ut();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,m,y){const _=Rt(f),E=_.xs.get(y);return E!==void 0?st.resolve(_.Ms.get(E)):_.Pi.getTargetData(m,y)})(i,c,es(t)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,e?r:At.min(),e?o:Ut()))).next((h=>(Pk(i,bN(t),h),{documents:h,Qs:o})))))}function Pk(n,t,e){let i=n.Os.get(t)||At.min();e.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class P1{constructor(){this.activeTargetIds=xN()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Vk{constructor(){this.Mo=new P1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new P1,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Lk{Oo(t){}shutdown(){}}const V1="ConnectivityMonitor";class L1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(V1,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ft(V1,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xf=null;function fy(){return xf===null?xf=(function(){return 268435456+Math.round(2147483648*Math.random())})():xf++,"0x"+xf.toString(16)}const wp="RestConnection",zk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Uk{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===fd?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,e,i,r,o){const c=fy(),h=this.zo(t,e.toUriEncodedString());ft(wp,`Sending RPC '${t}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,r,o);const{host:m}=new URL(h),y=_l(m);return this.Jo(t,h,f,i,y).then((_=>(ft(wp,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw mu(wp,`RPC '${t}' ${c} failed with error: `,_,"url: ",h,"request:",i),_}))}Ho(t,e,i,r,o,c){return this.Go(t,e,i,r,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+El})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,o)=>t[o]=r)),i&&i.headers.forEach(((r,o)=>t[o]=r))}zo(t,e){const i=zk[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}class jk{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const ln="WebChannelConnection";class Bk extends Uk{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,o){const c=fy();return new Promise(((h,f)=>{const m=new Gw;m.setWithCredentials(!0),m.listenOnce(Yw.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Qf.NO_ERROR:const _=m.getResponseJson();ft(ln,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),h(_);break;case Qf.TIMEOUT:ft(ln,`RPC '${t}' ${c} timed out`),f(new ht(it.DEADLINE_EXCEEDED,"Request time out"));break;case Qf.HTTP_ERROR:const E=m.getStatus();if(ft(ln,`RPC '${t}' ${c} failed with status:`,E,"response text:",m.getResponseText()),E>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const x=S?.error;if(x&&x.status&&x.message){const w=(function(N){const z=N.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(z)>=0?z:it.UNKNOWN})(x.status);f(new ht(w,x.message))}else f(new ht(it.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new ht(it.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:t,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ft(ln,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(r);ft(ln,`RPC '${t}' ${c} sending request:`,r),m.send(e,"POST",y,i,15)}))}T_(t,e,i){const r=fy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=Qw(),h=Kw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const y=o.join("");ft(ln,`Creating RPC '${t}' stream ${r}: ${y}`,f);const _=c.createWebChannel(y,f);this.I_(_);let E=!1,S=!1;const x=new jk({Yo:C=>{S?ft(ln,`Not sending because RPC '${t}' stream ${r} is closed:`,C):(E||(ft(ln,`Opening RPC '${t}' stream ${r} transport.`),_.open(),E=!0),ft(ln,`RPC '${t}' stream ${r} sending:`,C),_.send(C))},Zo:()=>_.close()}),w=(C,N,z)=>{C.listen(N,(H=>{try{z(H)}catch(rt){setTimeout((()=>{throw rt}),0)}}))};return w(_,Yc.EventType.OPEN,(()=>{S||(ft(ln,`RPC '${t}' stream ${r} transport opened.`),x.o_())})),w(_,Yc.EventType.CLOSE,(()=>{S||(S=!0,ft(ln,`RPC '${t}' stream ${r} transport closed`),x.a_(),this.E_(_))})),w(_,Yc.EventType.ERROR,(C=>{S||(S=!0,mu(ln,`RPC '${t}' stream ${r} transport errored. Name:`,C.name,"Message:",C.message),x.a_(new ht(it.UNAVAILABLE,"The operation could not be completed")))})),w(_,Yc.EventType.MESSAGE,(C=>{if(!S){const N=C.data[0];Qt(!!N,16349);const z=N,H=z?.error||z[0]?.error;if(H){ft(ln,`RPC '${t}' stream ${r} received error:`,H);const rt=H.status;let Z=(function(I){const M=Pe[I];if(M!==void 0)return CA(M)})(rt),at=H.message;Z===void 0&&(Z=it.INTERNAL,at="Unknown error status: "+rt+" with message "+H.message),S=!0,x.a_(new ht(Z,at)),_.close()}else ft(ln,`RPC '${t}' stream ${r} received:`,N),x.u_(N)}})),w(h,Ww.STAT_EVENT,(C=>{C.stat===Zp.PROXY?ft(ln,`RPC '${t}' stream ${r} detected buffering proxy`):C.stat===Zp.NOPROXY&&ft(ln,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Ap(){return typeof document<"u"?document:null}function Xd(n){return new YN(n,!0)}class HA{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&ft("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const z1="PersistentStream";class qA{constructor(t,e,i,r,o,c,h,f){this.Mi=t,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new HA(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===it.RESOURCE_EXHAUSTED?(zs(e.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===e&&this.G_(i,r)}),(i=>{t((()=>{const r=new ht(it.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ft(z1,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(ft(z1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Fk extends qA{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=QN(this.serializer,t),i=(function(o){if(!("targetChange"in o))return At.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?At.min():c.readTime?ns(c.readTime):At.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=uy(this.serializer),e.addTarget=(function(o,c){let h;const f=c.target;if(h=sy(f)?{documents:JN(o,f)}:{query:ZN(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=DA(o,c.resumeToken);const m=oy(o,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(At.min())>0){h.readTime=yd(o,c.snapshotVersion.toTimestamp());const m=oy(o,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,t);const i=ek(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=uy(this.serializer),e.removeTarget=t,this.q_(e)}}class Hk extends qA{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=$N(t.writeResults,t.commitTime),i=ns(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=uy(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>XN(this.serializer,i)))};this.q_(e)}}class qk{}class Gk extends qk{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new ht(it.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(t,ly(e,i),r,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ht(it.UNKNOWN,o.toString())}))}Ho(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(t,ly(e,i),r,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(it.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Yk{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zs(e),this.aa=!1):ft("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ga="RemoteStore";class Wk{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{$a(this)&&(ft(Ga,"Restarting streams for network reachability change."),await(async function(f){const m=Rt(f);m.Ea.add(4),await Uu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await $d(m)})(this))}))})),this.Ra=new Yk(i,r)}}async function $d(n){if($a(n))for(const t of n.da)await t(!0)}async function Uu(n){for(const t of n.da)await t(!1)}function GA(n,t){const e=Rt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),l_(e)?o_(e):wl(e).O_()&&a_(e,t))}function r_(n,t){const e=Rt(n),i=wl(e);e.Ia.delete(t),i.O_()&&YA(e,t),e.Ia.size===0&&(i.O_()?i.L_():$a(e)&&e.Ra.set("Unknown"))}function a_(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}wl(n).Y_(t)}function YA(n,t){n.Va.Ue(t),wl(n).Z_(t)}function o_(n){n.Va=new FN({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),wl(n).start(),n.Ra.ua()}function l_(n){return $a(n)&&!wl(n).x_()&&n.Ia.size>0}function $a(n){return Rt(n).Ea.size===0}function WA(n){n.Va=void 0}async function Kk(n){n.Ra.set("Online")}async function Qk(n){n.Ia.forEach(((t,e)=>{a_(n,t)}))}async function Xk(n,t){WA(n),l_(n)?(n.Ra.ha(t),o_(n)):n.Ra.set("Unknown")}async function $k(n,t,e){if(n.Ra.set("Online"),t instanceof MA&&t.state===2&&t.cause)try{await(async function(r,o){const c=o.cause;for(const h of o.targetIds)r.Ia.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.Ia.delete(h),r.Va.removeTarget(h))})(n,t)}catch(i){ft(Ga,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await vd(n,i)}else if(t instanceof Zf?n.Va.Ze(t):t instanceof IA?n.Va.st(t):n.Va.tt(t),!e.isEqual(At.min()))try{const i=await FA(n.localStore);e.compareTo(i)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Ia.get(m);y&&o.Ia.set(m,y.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,m)=>{const y=o.Ia.get(f);if(!y)return;o.Ia.set(f,y.withResumeToken(an.EMPTY_BYTE_STRING,y.snapshotVersion)),YA(o,f);const _=new Rr(y.target,f,m,y.sequenceNumber);a_(o,_)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){ft(Ga,"Failed to raise snapshot:",i),await vd(n,i)}}async function vd(n,t,e){if(!Sl(t))throw t;n.Ea.add(1),await Uu(n),n.Ra.set("Offline"),e||(e=()=>FA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ft(Ga,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await $d(n)}))}function KA(n,t){return t().catch((e=>vd(n,e,t)))}async function Jd(n){const t=Rt(n),e=Hr(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:qy;for(;Jk(t);)try{const r=await Nk(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,Zk(t,r)}catch(r){await vd(t,r)}QA(t)&&XA(t)}function Jk(n){return $a(n)&&n.Ta.length<10}function Zk(n,t){n.Ta.push(t);const e=Hr(n);e.O_()&&e.X_&&e.ea(t.mutations)}function QA(n){return $a(n)&&!Hr(n).x_()&&n.Ta.length>0}function XA(n){Hr(n).start()}async function t3(n){Hr(n).ra()}async function e3(n){const t=Hr(n);for(const e of n.Ta)t.ea(e.mutations)}async function n3(n,t,e){const i=n.Ta.shift(),r=Jy.from(i,t,e);await KA(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await Jd(n)}async function i3(n,t){t&&Hr(n).X_&&await(async function(i,r){if((function(c){return UN(c)&&c!==it.ABORTED})(r.code)){const o=i.Ta.shift();Hr(i).B_(),await KA(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await Jd(i)}})(n,t),QA(n)&&XA(n)}async function U1(n,t){const e=Rt(n);e.asyncQueue.verifyOperationInProgress(),ft(Ga,"RemoteStore received new credentials");const i=$a(e);e.Ea.add(3),await Uu(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await $d(e)}async function s3(n,t){const e=Rt(n);t?(e.Ea.delete(2),await $d(e)):t||(e.Ea.add(2),await Uu(e),e.Ra.set("Unknown"))}function wl(n){return n.ma||(n.ma=(function(e,i,r){const o=Rt(e);return o.sa(),new Fk(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:Kk.bind(null,n),t_:Qk.bind(null,n),r_:Xk.bind(null,n),H_:$k.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),l_(n)?o_(n):n.Ra.set("Unknown")):(await n.ma.stop(),WA(n))}))),n.ma}function Hr(n){return n.fa||(n.fa=(function(e,i,r){const o=Rt(e);return o.sa(),new Hk(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:t3.bind(null,n),r_:i3.bind(null,n),ta:e3.bind(null,n),na:n3.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await Jd(n)):(await n.fa.stop(),n.Ta.length>0&&(ft(Ga,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class c_{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Va,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new c_(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function u_(n,t){if(zs("AsyncQueue",`${t}: ${n}`),Sl(n))return new ht(it.UNAVAILABLE,`${t}: ${n}`);throw n}class il{static emptySet(t){return new il(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||yt.comparator(e.key,i.key):(e,i)=>yt.comparator(e.key,i.key),this.keyedMap=Wc(),this.sortedSet=new ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof il)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new il;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class j1{constructor(){this.ga=new ye(yt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):St(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class fl{constructor(t,e,i,r,o,c,h,f,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new fl(t,e,il.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Gd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class r3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class a3{constructor(){this.queries=B1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=Rt(e),o=r.queries;r.queries=B1(),o.forEach(((c,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new ht(it.ABORTED,"Firestore shutting down"))}}function B1(){return new Xa((n=>pA(n)),Gd)}async function o3(n,t){const e=Rt(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.ba()&&t.Da()&&(i=2):(o=new r3,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(c){const h=u_(c,`Initialization of query '${Qo(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&h_(e)}async function l3(n,t){const e=Rt(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const c=o.Sa.indexOf(t);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?r=t.Da()?0:1:!o.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function c3(n,t){const e=Rt(n);let i=!1;for(const r of t){const o=r.query,c=e.queries.get(o);if(c){for(const h of c.Sa)h.Fa(r)&&(i=!0);c.wa=r}}i&&h_(e)}function u3(n,t,e){const i=Rt(n),r=i.queries.get(t);if(r)for(const o of r.Sa)o.onError(e);i.queries.delete(t)}function h_(n){n.Ca.forEach((t=>{t.next()}))}var dy,F1;(F1=dy||(dy={})).Ma="default",F1.Cache="cache";class h3{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new fl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=fl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==dy.Cache}}class $A{constructor(t){this.key=t}}class JA{constructor(t){this.key=t}}class f3{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=yA(t),this.tu=new il(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new j1,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,m=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((y,_)=>{const E=r.get(y),S=Yd(this.query,_)?_:null,x=!!E&&this.mutatedKeys.has(E.key),w=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let C=!1;E&&S?E.data.isEqual(S.data)?x!==w&&(i.track({type:3,doc:S}),C=!0):this.su(E,S)||(i.track({type:2,doc:S}),C=!0,(f&&this.eu(S,f)>0||m&&this.eu(S,m)<0)&&(h=!0)):!E&&S?(i.track({type:0,doc:S}),C=!0):E&&!S&&(i.track({type:1,doc:E}),C=!0,(f||m)&&(h=!0)),C&&(S?(c=c.add(S),o=w?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Cs:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(S,x){const w=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Rt:C})}};return w(S)-w(x)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(i),r=r??!1;const h=e&&!r?this._u():[],f=this.Xa.size===0&&this.current&&!r?1:0,m=f!==this.Za;return this.Za=f,c.length!==0||m?{snapshot:new fl(this.query,t.tu,o,c,t.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new j1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new JA(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new $A(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=Ut();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return fl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const f_="SyncEngine";class d3{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class m3{constructor(t){this.key=t,this.hu=!1}}class g3{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Xa((h=>pA(h)),Gd),this.Iu=new Map,this.Eu=new Set,this.du=new ye(yt.comparator),this.Au=new Map,this.Ru=new e_,this.Vu={},this.mu=new Map,this.fu=hl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function p3(n,t,e=!0){const i=s2(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await ZA(i,t,e,!0),r}async function y3(n,t){const e=s2(n);await ZA(e,t,!0,!1)}async function ZA(n,t,e,i){const r=await kk(n.localStore,es(t)),o=r.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await _3(n,t,o,c==="current",r.resumeToken)),n.isPrimaryClient&&e&&GA(n.remoteStore,r),h}async function _3(n,t,e,i,r){n.pu=(_,E,S)=>(async function(w,C,N,z){let H=C.view.ru(N);H.Cs&&(H=await k1(w.localStore,C.query,!1).then((({documents:D})=>C.view.ru(D,H))));const rt=z&&z.targetChanges.get(C.targetId),Z=z&&z.targetMismatches.get(C.targetId)!=null,at=C.view.applyChanges(H,w.isPrimaryClient,rt,Z);return q1(w,C.targetId,at.au),at.snapshot})(n,_,E,S);const o=await k1(n.localStore,t,!0),c=new f3(t,o.Qs),h=c.ru(o.documents),f=zu.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),m=c.applyChanges(h,n.isPrimaryClient,f);q1(n,e,m.au);const y=new d3(t,e,c);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),m.snapshot}async function v3(n,t,e){const i=Rt(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((c=>!Gd(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await hy(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&r_(i.remoteStore,r.targetId),my(i,r.targetId)})).catch(Tl)):(my(i,r.targetId),await hy(i.localStore,r.targetId,!0))}async function b3(n,t){const e=Rt(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),r_(e.remoteStore,i.targetId))}async function E3(n,t,e){const i=C3(n);try{const r=await(function(c,h){const f=Rt(c),m=fe.now(),y=h.reduce(((S,x)=>S.add(x.key)),Ut());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let x=Us(),w=Ut();return f.Ns.getEntries(S,y).next((C=>{x=C,x.forEach(((N,z)=>{z.isValidDocument()||(w=w.add(N))}))})).next((()=>f.localDocuments.getOverlayedDocuments(S,x))).next((C=>{_=C;const N=[];for(const z of h){const H=kN(z,_.get(z.key).overlayedDocument);H!=null&&N.push(new Xr(z.key,H,lA(H.value.mapValue),Ti.exists(!0)))}return f.mutationQueue.addMutationBatch(S,m,N,h)})).next((C=>{E=C;const N=C.applyToLocalDocumentSet(_,w);return f.documentOverlayCache.saveOverlays(S,C.batchId,N)}))})).then((()=>({batchId:E.batchId,changes:vA(_)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(c,h,f){let m=c.Vu[c.currentUser.toKey()];m||(m=new ye(zt)),m=m.insert(h,f),c.Vu[c.currentUser.toKey()]=m})(i,r.batchId,e),await ju(i,r.changes),await Jd(i.remoteStore)}catch(r){const o=u_(r,"Failed to persist write");e.reject(o)}}async function t2(n,t){const e=Rt(n);try{const i=await Dk(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const c=e.Au.get(o);c&&(Qt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.hu=!0:r.modifiedDocuments.size>0?Qt(c.hu,14607):r.removedDocuments.size>0&&(Qt(c.hu,42227),c.hu=!1))})),await ju(e,i,t)}catch(i){await Tl(i)}}function H1(n,t,e){const i=Rt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach(((o,c)=>{const h=c.view.va(t);h.snapshot&&r.push(h.snapshot)})),(function(c,h){const f=Rt(c);f.onlineState=h;let m=!1;f.queries.forEach(((y,_)=>{for(const E of _.Sa)E.va(h)&&(m=!0)})),m&&h_(f)})(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function T3(n,t,e){const i=Rt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let c=new ye(yt.comparator);c=c.insert(o,un.newNoDocument(o,At.min()));const h=Ut().add(o),f=new Qd(At.min(),new Map,new ye(zt),c,h);await t2(i,f),i.du=i.du.remove(o),i.Au.delete(t),d_(i)}else await hy(i.localStore,t,!1).then((()=>my(i,t,e))).catch(Tl)}async function S3(n,t){const e=Rt(n),i=t.batch.batchId;try{const r=await Mk(e.localStore,t);n2(e,i,null),e2(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await ju(e,r)}catch(r){await Tl(r)}}async function w3(n,t,e){const i=Rt(n);try{const r=await(function(c,h){const f=Rt(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return f.mutationQueue.lookupMutationBatch(m,h).next((_=>(Qt(_!==null,37113),y=_.keys(),f.mutationQueue.removeMutationBatch(m,_)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>f.localDocuments.getDocuments(m,y)))}))})(i.localStore,t);n2(i,t,e),e2(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await ju(i,r)}catch(r){await Tl(r)}}function e2(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function n2(n,t,e){const i=Rt(n);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function my(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||i2(n,i)}))}function i2(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(r_(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),d_(n))}function q1(n,t,e){for(const i of e)i instanceof $A?(n.Ru.addReference(i.key,t),A3(n,i)):i instanceof JA?(ft(f_,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||i2(n,i.key)):St(19791,{wu:i})}function A3(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(ft(f_,"New document in limbo: "+e),n.Eu.add(i),d_(n))}function d_(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new yt(le.fromString(t)),i=n.fu.next();n.Au.set(i,new m3(e)),n.du=n.du.insert(e,i),GA(n.remoteStore,new Rr(es(Qy(e.path)),i,"TargetPurposeLimboResolution",Fd.ce))}}async function ju(n,t,e){const i=Rt(n),r=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{c.push(i.pu(f,t,e).then((m=>{if((m||e)&&i.isPrimaryClient){const y=m?!m.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(m){r.push(m);const y=i_.As(f.targetId,m);o.push(y)}})))})),await Promise.all(c),i.Pu.H_(r),await(async function(f,m){const y=Rt(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>st.forEach(m,(E=>st.forEach(E.Es,(S=>y.persistence.referenceDelegate.addReference(_,E.targetId,S))).next((()=>st.forEach(E.ds,(S=>y.persistence.referenceDelegate.removeReference(_,E.targetId,S)))))))))}catch(_){if(!Sl(_))throw _;ft(s_,"Failed to update sequence numbers: "+_)}for(const _ of m){const E=_.targetId;if(!_.fromCache){const S=y.Ms.get(E),x=S.snapshotVersion,w=S.withLastLimboFreeSnapshotVersion(x);y.Ms=y.Ms.insert(E,w)}}})(i.localStore,o))}async function x3(n,t){const e=Rt(n);if(!e.currentUser.isEqual(t)){ft(f_,"User change. New user:",t.toKey());const i=await BA(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new ht(it.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await ju(e,i.Ls)}}function R3(n,t){const e=Rt(n),i=e.Au.get(t);if(i&&i.hu)return Ut().add(i.key);{let r=Ut();const o=e.Iu.get(t);if(!o)return r;for(const c of o){const h=e.Tu.get(c);r=r.unionWith(h.view.nu)}return r}}function s2(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=t2.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=R3.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=T3.bind(null,t),t.Pu.H_=c3.bind(null,t.eventManager),t.Pu.yu=u3.bind(null,t.eventManager),t}function C3(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=S3.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=w3.bind(null,t),t}class bd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Xd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return Ik(this.persistence,new xk,t.initialUser,this.serializer)}Cu(t){return new jA(n_.mi,this.serializer)}Du(t){return new Vk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bd.provider={build:()=>new bd};class I3 extends bd{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Qt(this.persistence.referenceDelegate instanceof _d,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new hk(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new jA((i=>_d.mi(i,e)),this.serializer)}}class gy{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>H1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=x3.bind(null,this.syncEngine),await s3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new a3})()}createDatastore(t){const e=Xd(t.databaseInfo.databaseId),i=(function(o){return new Bk(o)})(t.databaseInfo);return(function(o,c,h,f){return new Gk(o,c,h,f)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,o,c,h){return new Wk(i,r,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>H1(this.syncEngine,e,0)),(function(){return L1.v()?new L1:new Lk})())}createSyncEngine(t,e){return(function(r,o,c,h,f,m,y){const _=new g3(r,o,c,h,f,m);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=Rt(e);ft(Ga,"RemoteStore shutting down."),i.Ea.add(5),await Uu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gy.provider={build:()=>new gy};class M3{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):zs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const qr="FirestoreClient";class D3{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=An.UNAUTHENTICATED,this.clientId=Hy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{ft(qr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ft(qr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Va;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=u_(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function xp(n,t){n.asyncQueue.verifyOperationInProgress(),ft(qr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await BA(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function G1(n,t){n.asyncQueue.verifyOperationInProgress();const e=await O3(n);ft(qr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>U1(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>U1(t.remoteStore,r))),n._onlineComponents=t}async function O3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ft(qr,"Using user provided OfflineComponentProvider");try{await xp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===it.FAILED_PRECONDITION||r.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;mu("Error using user provided cache. Falling back to memory cache: "+e),await xp(n,new bd)}}else ft(qr,"Using default OfflineComponentProvider"),await xp(n,new I3(void 0));return n._offlineComponents}async function r2(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ft(qr,"Using user provided OnlineComponentProvider"),await G1(n,n._uninitializedComponentsProvider._online)):(ft(qr,"Using default OnlineComponentProvider"),await G1(n,new gy))),n._onlineComponents}function N3(n){return r2(n).then((t=>t.syncEngine))}async function Y1(n){const t=await r2(n),e=t.eventManager;return e.onListen=p3.bind(null,t.syncEngine),e.onUnlisten=v3.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=y3.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=b3.bind(null,t.syncEngine),e}function a2(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const W1=new Map;const k3="firestore.googleapis.com",K1=!0;class Q1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=k3,this.ssl=K1}else this.host=t.host,this.ssl=t.ssl??K1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=zA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<UA)throw new ht(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}W4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=a2(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ht(it.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ht(it.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ht(it.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class m_{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new z4;switch(i.type){case"firstParty":return new B4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ht(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=W1.get(e);i&&(ft("ComponentProvider","Removing Datastore"),W1.delete(e),i.terminate())})(this),Promise.resolve()}}class Al{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Al(this.firestore,t,this._query)}}class ze{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ze(this.firestore,t,this._key)}toJSON(){return{type:ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(Pu(e,ze._jsonSchema))return new ze(t,i||null,new yt(le.fromString(e.referencePath)))}}ze._jsonSchemaVersion="firestore/documentReference/1.0",ze._jsonSchema={type:Le("string",ze._jsonSchemaVersion),referencePath:Le("string")};class Vr extends Al{constructor(t,e,i){super(t,e,Qy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ze(this.firestore,null,new yt(t))}withConverter(t){return new Vr(this.firestore,t,this._path)}}function Rf(n,t,...e){if(n=Ye(n),$w("collection","path",t),n instanceof m_){const i=le.fromString(t,...e);return o1(i),new Vr(n,null,i)}{if(!(n instanceof ze||n instanceof Vr))throw new ht(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(le.fromString(t,...e));return o1(i),new Vr(n.firestore,null,i)}}function Qc(n,t,...e){if(n=Ye(n),arguments.length===1&&(t=Hy.newId()),$w("doc","path",t),n instanceof m_){const i=le.fromString(t,...e);return a1(i),new ze(n,null,new yt(i))}{if(!(n instanceof ze||n instanceof Vr))throw new ht(it.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(le.fromString(t,...e));return a1(i),new ze(n.firestore,n instanceof Vr?n.converter:null,new yt(i))}}const X1="AsyncQueue";class $1{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new HA(this,"async_queue_retry"),this._c=()=>{const i=Ap();i&&ft(X1,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Ap();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Ap();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Va;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Sl(t))throw t;ft(X1,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,zs("INTERNAL UNHANDLED ERROR: ",J1(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=c_.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&St(47125,{Pc:J1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function J1(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function Z1(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1})(n,["next","error","complete"])}class dl extends m_{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new $1,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new $1(t),this._firestoreClient=void 0,await t}}}function P3(n,t,e){e||(e=fd);const i=Ny(n,"firestore");if(i.isInitialized(e)){const r=i.getImmediate({identifier:e}),o=i.getOptions(e);if(ja(o,t))return r;throw new ht(it.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new ht(it.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<UA)throw new ht(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&_l(t.host)&&iw(t.host),i.initialize({options:t,instanceIdentifier:e})}function o2(n){if(n._terminated)throw new ht(it.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||V3(n),n._firestoreClient}function V3(n){const t=n._freezeSettings(),e=(function(r,o,c,h){return new sN(r,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,a2(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new D3(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}class ii{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ii(an.fromBase64String(t))}catch(e){throw new ht(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ii(an.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Pu(t,ii._jsonSchema))return ii.fromBase64String(t.bytes)}}ii._jsonSchemaVersion="firestore/bytes/1.0",ii._jsonSchema={type:Le("string",ii._jsonSchemaVersion),bytes:Le("string")};class Zd{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ht(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class tm{constructor(t){this._methodName=t}}class is{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ht(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ht(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:is._jsonSchemaVersion}}static fromJSON(t){if(Pu(t,is._jsonSchema))return new is(t.latitude,t.longitude)}}is._jsonSchemaVersion="firestore/geoPoint/1.0",is._jsonSchema={type:Le("string",is._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};class ss{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ss._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Pu(t,ss._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new ss(t.vectorValues);throw new ht(it.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ss._jsonSchemaVersion="firestore/vectorValue/1.0",ss._jsonSchema={type:Le("string",ss._jsonSchemaVersion),vectorValues:Le("object")};const L3=/^__.*__$/;class z3{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Xr(t,this.data,this.fieldMask,e,this.fieldTransforms):new Lu(t,this.data,e,this.fieldTransforms)}}class l2{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Xr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function c2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ac:n})}}class g_{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new g_({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Ed(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(c2(this.Ac)&&L3.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class U3{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Xd(t)}Cc(t,e,i,r=!1){return new g_({Ac:t,methodName:e,Dc:i,path:rn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function p_(n){const t=n._freezeSettings(),e=Xd(n._databaseId);return new U3(n._databaseId,!!t.ignoreUndefinedProperties,e)}function j3(n,t,e,i,r,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,t,e,r);__("Data must be an object, but it was:",c,i);const h=u2(i,c);let f,m;if(o.merge)f=new Un(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const E=py(t,_,e);if(!c.contains(E))throw new ht(it.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);f2(y,E)||y.push(E)}f=new Un(y),m=c.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,m=c.fieldTransforms;return new z3(new Rn(h),f,m)}class em extends tm{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof em}}class y_ extends tm{_toFieldTransform(t){return new MN(t.path,new vu)}isEqual(t){return t instanceof y_}}function B3(n,t,e,i){const r=n.Cc(1,t,e);__("Data must be an object, but it was:",r,i);const o=[],c=Rn.empty();Qr(i,((f,m)=>{const y=v_(t,f,e);m=Ye(m);const _=r.yc(y);if(m instanceof em)o.push(y);else{const E=Bu(m,_);E!=null&&(o.push(y),c.set(y,E))}}));const h=new Un(o);return new l2(c,h,r.fieldTransforms)}function F3(n,t,e,i,r,o){const c=n.Cc(1,t,e),h=[py(t,i,e)],f=[r];if(o.length%2!=0)throw new ht(it.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)h.push(py(t,o[E])),f.push(o[E+1]);const m=[],y=Rn.empty();for(let E=h.length-1;E>=0;--E)if(!f2(m,h[E])){const S=h[E];let x=f[E];x=Ye(x);const w=c.yc(S);if(x instanceof em)m.push(S);else{const C=Bu(x,w);C!=null&&(m.push(S),y.set(S,C))}}const _=new Un(m);return new l2(y,_,c.fieldTransforms)}function H3(n,t,e,i=!1){return Bu(e,n.Cc(i?4:3,t))}function Bu(n,t){if(h2(n=Ye(n)))return __("Unsupported field value:",t,n),u2(n,t);if(n instanceof tm)return(function(i,r){if(!c2(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,r){const o=[];let c=0;for(const h of i){let f=Bu(h,r.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,t)}return(function(i,r){if((i=Ye(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return RN(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=fe.fromDate(i);return{timestampValue:yd(r.serializer,o)}}if(i instanceof fe){const o=new fe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:yd(r.serializer,o)}}if(i instanceof is)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ii)return{bytesValue:DA(r.serializer,i._byteString)};if(i instanceof ze){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:t_(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof ss)return(function(c,h){return{mapValue:{fields:{[aA]:{stringValue:oA},[dd]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return Xy(h.serializer,m)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${Bd(i)}`)})(n,t)}function u2(n,t){const e={};return tA(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qr(n,((i,r)=>{const o=Bu(r,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function h2(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof fe||n instanceof is||n instanceof ii||n instanceof ze||n instanceof tm||n instanceof ss)}function __(n,t,e){if(!h2(e)||!Jw(e)){const i=Bd(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function py(n,t,e){if((t=Ye(t))instanceof Zd)return t._internalPath;if(typeof t=="string")return v_(n,t);throw Ed("Field path arguments must be of type string or ",n,!1,void 0,e)}const q3=new RegExp("[~\\*/\\[\\]]");function v_(n,t,e){if(t.search(q3)>=0)throw Ed(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Zd(...t.split("."))._internalPath}catch{throw Ed(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Ed(n,t,e,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new ht(it.INVALID_ARGUMENT,h+n+f)}function f2(n,t){return n.some((e=>e.isEqual(t)))}class d2{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new G3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(b_("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class G3 extends d2{data(){return super.data()}}function b_(n,t){return typeof t=="string"?v_(n,t):t instanceof Zd?t._internalPath:t._delegate._internalPath}function Y3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ht(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class E_{}class W3 extends E_{}function tT(n,t,...e){let i=[];t instanceof E_&&i.push(t),i=i.concat(e),(function(o){const c=o.filter((f=>f instanceof T_)).length,h=o.filter((f=>f instanceof nm)).length;if(c>1||c>0&&h>0)throw new ht(it.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class nm extends W3{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new nm(t,e,i)}_apply(t){const e=this._parse(t);return m2(t._query,e),new Al(t.firestore,t.converter,ry(t._query,e))}_parse(t){const e=p_(t.firestore);return(function(o,c,h,f,m,y,_){let E;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ht(it.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){iT(_,y);const x=[];for(const w of _)x.push(nT(f,o,w));E={arrayValue:{values:x}}}else E=nT(f,o,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||iT(_,y),E=H3(h,c,_,y==="in"||y==="not-in");return Ve.create(m,y,E)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function eT(n,t,e){const i=t,r=b_("where",n);return nm._create(r,i,e)}class T_ extends E_{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new T_(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:wi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(r,o){let c=r;const h=o.getFlattenedFilters();for(const f of h)m2(c,f),c=ry(c,f)})(t._query,e),new Al(t.firestore,t.converter,ry(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function nT(n,t,e){if(typeof(e=Ye(e))=="string"){if(e==="")throw new ht(it.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gA(t)&&e.indexOf("/")!==-1)throw new ht(it.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(le.fromString(e));if(!yt.isDocumentKey(i))throw new ht(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return g1(n,new yt(i))}if(e instanceof ze)return g1(n,e._key);throw new ht(it.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bd(e)}.`)}function iT(n,t){if(!Array.isArray(n)||n.length===0)throw new ht(it.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function m2(n,t){const e=(function(r,o){for(const c of r)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ht(it.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(it.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class K3{convertValue(t,e="none"){switch(Fr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return we(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Br(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Qr(t,((r,o)=>{i[r]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[dd].arrayValue?.values?.map((i=>we(i.doubleValue)));return new ss(e)}convertGeoPoint(t){return new is(we(t.latitude),we(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=qd(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(pu(t));default:return null}}convertTimestamp(t){const e=jr(t);return new fe(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=le.fromString(t);Qt(LA(i),9688,{name:t});const r=new yu(i.get(1),i.get(3)),o=new yt(i.popFirst(5));return r.isEqual(e)||zs(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function Q3(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class Xc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class za extends d2{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new td(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(b_("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(it.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=za._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}za._jsonSchemaVersion="firestore/documentSnapshot/1.0",za._jsonSchema={type:Le("string",za._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};class td extends za{data(t={}){return super.data(t)}}class sl{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Xc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new td(this._firestore,this._userDataWriter,i.key,i,new Xc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ht(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((h=>{const f=new td(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Xc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new td(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Xc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,y=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:X3(h.type),doc:f,oldIndex:m,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(it.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=sl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Hy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function X3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:n})}}sl._jsonSchemaVersion="firestore/querySnapshot/1.0",sl._jsonSchema={type:Le("string",sl._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};class g2 extends K3{constructor(t){super(),this.firestore=t}convertBytes(t){return new ii(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ze(this.firestore,null,e)}}function sT(n,t,e,...i){n=La(n,ze);const r=La(n.firestore,dl),o=p_(r);let c;return c=typeof(t=Ye(t))=="string"||t instanceof Zd?F3(o,"updateDoc",n._key,t,e,i):B3(o,"updateDoc",n._key,t),S_(r,[c.toMutation(n._key,Ti.exists(!0))])}function rT(n){return S_(La(n.firestore,dl),[new $y(n._key,Ti.none())])}function aT(n,t){const e=La(n.firestore,dl),i=Qc(n),r=Q3(n.converter,t);return S_(e,[j3(p_(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Ti.exists(!1))]).then((()=>i))}function oT(n,...t){n=Ye(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||Z1(t[i])||(e=t[i++]);const r={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(Z1(t[i])){const f=t[i];t[i]=f.next?.bind(f),t[i+1]=f.error?.bind(f),t[i+2]=f.complete?.bind(f)}let o,c,h;if(n instanceof ze)c=La(n.firestore,dl),h=Qy(n._key.path),o={next:f=>{t[i]&&t[i]($3(c,n,f))},error:t[i+1],complete:t[i+2]};else{const f=La(n,Al);c=La(f.firestore,dl),h=f._query;const m=new g2(c);o={next:y=>{t[i]&&t[i](new sl(c,m,f,y))},error:t[i+1],complete:t[i+2]},Y3(n._query)}return(function(m,y,_,E){const S=new M3(E),x=new h3(y,S,_);return m.asyncQueue.enqueueAndForget((async()=>o3(await Y1(m),x))),()=>{S.Nu(),m.asyncQueue.enqueueAndForget((async()=>l3(await Y1(m),x)))}})(o2(c),h,r,o)}function S_(n,t){return(function(i,r){const o=new Va;return i.asyncQueue.enqueueAndForget((async()=>E3(await N3(i),r,o))),o.promise})(o2(n),t)}function $3(n,t,e){const i=e.docs.get(t._key),r=new g2(n);return new za(n,r,t._key,i,new Xc(e.hasPendingWrites,e.fromCache),t.converter)}function Cf(){return new y_("serverTimestamp")}(function(t,e=!0){(function(r){El=r})(vl),ol(new Ba("firestore",((i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new dl(new U4(i.getProvider("auth-internal")),new F4(c,i.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ht(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(m.options.projectId,y)})(c,r),c);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),kr(n1,i1,t),kr(n1,i1,"esm2020")})();const J3={apiKey:"AIzaSyCTyX-O56qZ3ImQnuo6RvP2SFB3U5WYz6E",authDomain:"expense-track-c543f.firebaseapp.com",projectId:"expense-track-c543f",storageBucket:"expense-track-c543f.firebasestorage.app",messagingSenderId:"639110160440",appId:"1:639110160440:web:4487511611c9e7a88046cd"},p2=cD().length===0?aw(J3):ow(),Er=P3(p2,{experimentalForceLongPolling:!0,useFetchStreams:!1}),Pc=P4(p2),y2=q.createContext();function Fu(){return q.useContext(y2)}function Z3({children:n}){const[t,e]=q.useState(null),[i,r]=q.useState(!0);function o(m,y){return vO(Pc,m,y)}function c(m,y){return bO(Pc,m,y)}function h(){return wO(Pc)}q.useEffect(()=>{if(!Pc){r(!1);return}return SO(Pc,y=>{e(y),r(!1)})},[]);const f={currentUser:t,signup:o,login:c,logout:h};return O.jsx(y2.Provider,{value:f,children:!i&&n})}const _2=q.createContext();function tP(){return q.useContext(_2)}function eP({children:n}){const[t,e]=q.useState(()=>{const r=localStorage.getItem("theme");return r||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});q.useEffect(()=>{document.documentElement.setAttribute("data-theme",t),localStorage.setItem("theme",t)},[t]);const i=()=>{e(r=>r==="light"?"dark":"light")};return O.jsx(_2.Provider,{value:{theme:t,toggleTheme:i},children:n})}const v2=q.createContext();function w_(){return q.useContext(v2)}function nP({children:n}){const{currentUser:t}=Fu(),[e,i]=q.useState([]),[r,o]=q.useState([]),[c,h]=q.useState(!0),f=N=>({...N,date:N.date?.toDate?.()||new Date(N.date)||new Date}),m=(N,z)=>{const H=N.date?.getTime?.()||0;return(z.date?.getTime?.()||0)-H};q.useEffect(()=>{if(!t){i([]),o([]),h(!1);return}h(!0);const N=tT(Rf(Er,"expenses"),eT("uid","==",t.uid)),z=tT(Rf(Er,"incomes"),eT("uid","==",t.uid)),H=oT(N,Z=>{const at=Z.docs.map(D=>({id:D.id,...D.data()})).map(f).sort(m);i(at)}),rt=oT(z,Z=>{const at=Z.docs.map(D=>({id:D.id,...D.data()})).map(f).sort(m);o(at)});return h(!1),()=>{H(),rt()}},[t]);const C={expenses:e,incomes:r,loading:c,addExpense:async N=>{t&&await aT(Rf(Er,"expenses"),{...N,uid:t.uid,date:N.date?new Date(N.date):Cf()})},updateExpense:async(N,z)=>{await sT(Qc(Er,"expenses",N),{...z,date:z.date?new Date(z.date):Cf()})},deleteExpense:async N=>{await rT(Qc(Er,"expenses",N))},addIncome:async N=>{t&&await aT(Rf(Er,"incomes"),{...N,uid:t.uid,date:N.date?new Date(N.date):Cf()})},updateIncome:async(N,z)=>{await sT(Qc(Er,"incomes",N),{...z,date:z.date?new Date(z.date):Cf()})},deleteIncome:async N=>{await rT(Qc(Er,"incomes",N))}};return O.jsx(v2.Provider,{value:C,children:n})}var b2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},lT=Dr.createContext&&Dr.createContext(b2),iP=["attr","size","title"];function sP(n,t){if(n==null)return{};var e=rP(n,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function rP(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Td(){return Td=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Td.apply(this,arguments)}function cT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Sd(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(e),!0).forEach(function(i){aP(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):cT(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function aP(n,t,e){return t=oP(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function oP(n){var t=lP(n,"string");return typeof t=="symbol"?t:t+""}function lP(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function E2(n){return n&&n.map((t,e)=>Dr.createElement(t.tag,Sd({key:e},t.attr),E2(t.child)))}function dn(n){return t=>Dr.createElement(cP,Td({attr:Sd({},n.attr)},t),E2(n.child))}function cP(n){var t=e=>{var{attr:i,size:r,title:o}=n,c=sP(n,iP),h=r||e.size||"1em",f;return e.className&&(f=e.className),n.className&&(f=(f?f+" ":"")+n.className),Dr.createElement("svg",Td({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,c,{className:f,style:Sd(Sd({color:n.color||e.color},e.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Dr.createElement("title",null,o),n.children)};return lT!==void 0?Dr.createElement(lT.Consumer,null,e=>t(e)):t(b2)}function uT(n){return dn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(n)}function yy(n){return dn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(n)}function uP(n){return dn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function hP(n){return dn({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"},child:[]}]})(n)}function T2(n){return dn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function fP(n){return dn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function dP(n){return dn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(n)}function mP(n){return dn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(n)}function gP(n){return dn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M560 224h-29.5c-8.8-20-21.6-37.7-37.4-52.5L512 96h-32c-29.4 0-55.4 13.5-73 34.3-7.6-1.1-15.1-2.3-23-2.3H256c-77.4 0-141.9 55-156.8 128H56c-14.8 0-26.5-13.5-23.5-28.8C34.7 215.8 45.4 208 57 208h1c3.3 0 6-2.7 6-6v-20c0-3.3-2.7-6-6-6-28.5 0-53.9 20.4-57.5 48.6C-3.9 258.8 22.7 288 56 288h40c0 52.2 25.4 98.1 64 127.3V496c0 8.8 7.2 16 16 16h64c8.8 0 16-7.2 16-16v-48h128v48c0 8.8 7.2 16 16 16h64c8.8 0 16-7.2 16-16v-80.7c11.8-8.9 22.3-19.4 31.3-31.3H560c8.8 0 16-7.2 16-16V240c0-8.8-7.2-16-16-16zm-128 64c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM256 96h128c5.4 0 10.7.4 15.9.8 0-.3.1-.5.1-.8 0-53-43-96-96-96s-96 43-96 96c0 2.1.5 4.1.6 6.2 15.2-3.9 31-6.2 47.4-6.2z"},child:[]}]})(n)}function S2(n){return dn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function w2(n){return dn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function pP(n){return dn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(n)}function yP(n){return dn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(n)}function _P(n){return dn({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function A2(n){return dn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function x2(n){return dn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(n)}function vP(){const{currentUser:n,logout:t}=Fu(),{theme:e,toggleTheme:i}=tP(),r=Pd(),[o,c]=q.useState(!1);async function h(){try{await t(),r("/login")}catch(f){console.error("Failed to log out",f)}}return O.jsx("nav",{className:"navbar",children:O.jsxs("div",{className:"container navbar-inner",children:[O.jsxs(Jo,{to:"/",className:"brand",children:[O.jsx(x2,{}),O.jsx("span",{children:"Expensify"})]}),n&&O.jsxs(O.Fragment,{children:[O.jsx("button",{className:"menu-toggle",onClick:()=>c(!o),children:o?O.jsx(_P,{}):O.jsx(uP,{})}),O.jsxs("div",{className:`nav-links ${o?"open":""}`,children:[O.jsxs(Jo,{to:"/",className:"nav-btn",onClick:()=>c(!1),children:[O.jsx(hP,{})," Dashboard"]}),O.jsx(Jo,{to:"/expenses",className:"nav-btn",onClick:()=>c(!1),children:" Expenses"}),O.jsxs(Jo,{to:"/income",className:"nav-btn",onClick:()=>c(!1),children:[O.jsx(yy,{})," Income"]}),O.jsx("button",{onClick:i,className:"nav-btn theme-toggle-btn",title:"Toggle Theme",children:e==="dark"?O.jsx(yP,{}):O.jsx(mP,{})}),O.jsxs("button",{onClick:h,className:"nav-btn logout",children:[O.jsx(pP,{})," Logout"]})]})]})]})})}function Rp({children:n}){return O.jsxs("div",{className:"layout",children:[O.jsx(vP,{}),O.jsx("main",{className:"main-content",children:n}),O.jsxs("footer",{className:"footer",children:[" ",new Date().getFullYear()," ",O.jsx("strong",{children:"Expensify"}),"  Track your money smartly "]})]})}function bP(){const n=q.useRef(),t=q.useRef(),{login:e,signup:i}=Fu(),[r,o]=q.useState(""),[c,h]=q.useState(!1),[f,m]=q.useState(!0),y=Pd();async function _(E){E.preventDefault();try{o(""),h(!0),f?await e(n.current.value,t.current.value):await i(n.current.value,t.current.value),y("/")}catch{o(`Failed to ${f?"log in":"create an account"}`)}h(!1)}return O.jsxs("div",{className:"auth-wrapper",children:[O.jsxs("div",{className:"auth-card fade-in",children:[O.jsx("h1",{children:f?"Welcome Back ":"Create Your Account "}),O.jsx("p",{className:"subtitle",children:f?"Log in to continue managing your expenses":"Sign up to start tracking your spending smartly"}),r&&O.jsx("div",{className:"auth-error",children:r}),O.jsxs("form",{onSubmit:_,children:[O.jsxs("div",{className:"input-group",children:[O.jsx("label",{children:"Email"}),O.jsxs("div",{className:"input-icon",children:[O.jsx(fP,{}),O.jsx("input",{type:"email",ref:n,required:!0,placeholder:"you@example.com"})]})]}),O.jsxs("div",{className:"input-group",children:[O.jsx("label",{children:"Password"}),O.jsxs("div",{className:"input-icon",children:[O.jsx(dP,{}),O.jsx("input",{type:"password",ref:t,required:!0,placeholder:""})]})]}),O.jsx("button",{disabled:c,className:"btn btn-primary w-full",children:c?"Please wait":f?"Log In":"Sign Up"})]}),O.jsxs("div",{className:"auth-switch",children:[f?"Don't have an account?":"Already have an account?",O.jsx("button",{onClick:()=>m(!f),children:f?"Sign Up":"Log In"})]})]}),O.jsx("style",{children:`
        .auth-wrapper {
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          background: linear-gradient(135deg, #6366F1, #22C55E);
          padding: 1rem;
        }

        .auth-card {
          width: 100%;
          max-width: 420px;
          background: rgba(255,255,255,0.85);
          backdrop-filter: blur(14px);
          border-radius: 20px;
          padding: 2.2rem;
          box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .auth-card h1 {
          text-align: center;
          font-size: 1.8rem;
          font-weight: 700;
          margin-bottom: 0.3rem;
          color: #111827;
        }

        .subtitle {
          text-align: center;
          font-size: 0.9rem;
          color: #6b7280;
          margin-bottom: 1.8rem;
        }

        .auth-error {
          background: #fee2e2;
          color: #b91c1c;
          padding: 0.8rem;
          border-radius: 10px;
          font-size: 0.85rem;
          margin-bottom: 1rem;
          text-align: center;
        }

        .input-group {
          margin-bottom: 1.2rem;
        }

        .input-group label {
          font-size: 0.85rem;
          font-weight: 600;
          margin-bottom: 0.4rem;
          display: block;
        }

        .input-icon {
          display: flex;
          align-items: center;
          gap: 0.6rem;
          background: #f9fafb;
          padding: 0.7rem 0.8rem;
          border-radius: 10px;
          border: 1px solid #e5e7eb;
        }

        .input-icon input {
          border: none;
          outline: none;
          background: transparent;
          width: 100%;
          font-size: 0.95rem;
        }

        .btn {
          margin-top: 0.6rem;
          padding: 0.75rem;
          border-radius: 12px;
          font-weight: 600;
        }

        .auth-switch {
          margin-top: 1.5rem;
          text-align: center;
          font-size: 0.9rem;
          color: #6b7280;
        }

        .auth-switch button {
          background: none;
          border: none;
          margin-left: 6px;
          color: #4f46e5;
          font-weight: 600;
          cursor: pointer;
          text-decoration: underline;
        }

        .fade-in {
          animation: fade 0.4s ease-in;
        }

        @keyframes fade {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `})]})}function Hu(n){return n+.5|0}const Cr=(n,t,e)=>Math.max(Math.min(n,e),t);function $c(n){return Cr(Hu(n*2.55),0,255)}function Lr(n){return Cr(Hu(n*255),0,255)}function Is(n){return Cr(Hu(n/2.55)/100,0,1)}function hT(n){return Cr(Hu(n*100),0,100)}const ei={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},_y=[..."0123456789ABCDEF"],EP=n=>_y[n&15],TP=n=>_y[(n&240)>>4]+_y[n&15],If=n=>(n&240)>>4===(n&15),SP=n=>If(n.r)&&If(n.g)&&If(n.b)&&If(n.a);function wP(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&ei[n[1]]*17,g:255&ei[n[2]]*17,b:255&ei[n[3]]*17,a:t===5?ei[n[4]]*17:255}:(t===7||t===9)&&(e={r:ei[n[1]]<<4|ei[n[2]],g:ei[n[3]]<<4|ei[n[4]],b:ei[n[5]]<<4|ei[n[6]],a:t===9?ei[n[7]]<<4|ei[n[8]]:255})),e}const AP=(n,t)=>n<255?t(n):"";function xP(n){var t=SP(n)?EP:TP;return n?"#"+t(n.r)+t(n.g)+t(n.b)+AP(n.a,t):void 0}const RP=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function R2(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function CP(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function IP(n,t,e){const i=R2(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function MP(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function A_(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),h=(o+c)/2;let f,m,y;return o!==c&&(y=o-c,m=h>.5?y/(2-o-c):y/(o+c),f=MP(e,i,r,y,o),f=f*60+.5),[f|0,m||0,h]}function x_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Lr)}function R_(n,t,e){return x_(R2,n,t,e)}function DP(n,t,e){return x_(IP,n,t,e)}function OP(n,t,e){return x_(CP,n,t,e)}function C2(n){return(n%360+360)%360}function NP(n){const t=RP.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?$c(+t[5]):Lr(+t[5]));const r=C2(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=DP(r,o,c):t[1]==="hsv"?i=OP(r,o,c):i=R_(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function kP(n,t){var e=A_(n);e[0]=C2(e[0]+t),e=R_(e),n.r=e[0],n.g=e[1],n.b=e[2]}function PP(n){if(!n)return;const t=A_(n),e=t[0],i=hT(t[1]),r=hT(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Is(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const fT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},dT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function VP(){const n={},t=Object.keys(dT),e=Object.keys(fT);let i,r,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,fT[o]);o=parseInt(dT[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let Mf;function LP(n){Mf||(Mf=VP(),Mf.transparent=[0,0,0,0]);const t=Mf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const zP=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function UP(n){const t=zP.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?$c(c):Cr(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?$c(i):Cr(i,0,255)),r=255&(t[4]?$c(r):Cr(r,0,255)),o=255&(t[6]?$c(o):Cr(o,0,255)),{r:i,g:r,b:o,a:e}}}function jP(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Is(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Cp=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,qo=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function BP(n,t,e){const i=qo(Is(n.r)),r=qo(Is(n.g)),o=qo(Is(n.b));return{r:Lr(Cp(i+e*(qo(Is(t.r))-i))),g:Lr(Cp(r+e*(qo(Is(t.g))-r))),b:Lr(Cp(o+e*(qo(Is(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Df(n,t,e){if(n){let i=A_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=R_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function I2(n,t){return n&&Object.assign(t||{},n)}function mT(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Lr(n[3]))):(t=I2(n,{r:0,g:0,b:0,a:1}),t.a=Lr(t.a)),t}function FP(n){return n.charAt(0)==="r"?UP(n):NP(n)}class Tu{constructor(t){if(t instanceof Tu)return t;const e=typeof t;let i;e==="object"?i=mT(t):e==="string"&&(i=wP(t)||LP(t)||FP(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=I2(this._rgb);return t&&(t.a=Is(t.a)),t}set rgb(t){this._rgb=mT(t)}rgbString(){return this._valid?jP(this._rgb):void 0}hexString(){return this._valid?xP(this._rgb):void 0}hslString(){return this._valid?PP(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=i.a-r.a,m=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-m,i.r=255&m*i.r+o*r.r+.5,i.g=255&m*i.g+o*r.g+.5,i.b=255&m*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=BP(this._rgb,t._rgb,e)),this}clone(){return new Tu(this.rgb)}alpha(t){return this._rgb.a=Lr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Hu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Df(this._rgb,2,t),this}darken(t){return Df(this._rgb,2,-t),this}saturate(t){return Df(this._rgb,1,t),this}desaturate(t){return Df(this._rgb,1,-t),this}rotate(t){return kP(this._rgb,t),this}}function xs(){}const HP=(()=>{let n=0;return()=>n++})();function oe(n){return n==null}function He(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function qt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function oi(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ki(n,t){return oi(n)?n:t}function Ht(n,t){return typeof n>"u"?t:n}const qP=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,M2=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function he(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function te(n,t,e,i){let r,o,c;if(He(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(qt(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function wd(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Ad(n){if(He(n))return n.map(Ad);if(qt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Ad(n[e[r]]);return t}return n}function D2(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function GP(n,t,e,i){if(!D2(n))return;const r=t[n],o=e[n];qt(r)&&qt(o)?Su(r,o,i):t[n]=Ad(o)}function Su(n,t,e){const i=He(t)?t:[t],r=i.length;if(!qt(n))return n;e=e||{};const o=e.merger||GP;let c;for(let h=0;h<r;++h){if(c=i[h],!qt(c))continue;const f=Object.keys(c);for(let m=0,y=f.length;m<y;++m)o(f[m],n,c,e)}return n}function au(n,t){return Su(n,t,{merger:YP})}function YP(n,t,e){if(!D2(n))return;const i=t[n],r=e[n];qt(i)&&qt(r)?au(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Ad(r))}const gT={"":n=>n,x:n=>n.x,y:n=>n.y};function WP(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function KP(n){const t=WP(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Ya(n,t){return(gT[t]||(gT[t]=KP(t)))(n)}function C_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const wu=n=>typeof n<"u",Gr=n=>typeof n=="function",pT=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function QP(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ae=Math.PI,Ue=2*ae,xd=Number.POSITIVE_INFINITY,XP=ae/180,qe=ae/2,Ca=ae/4,yT=ae*2/3,O2=Math.log10,zr=Math.sign;function ed(n,t,e){return Math.abs(n-t)<e}function _T(n){const t=Math.round(n);n=ed(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(O2(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function $P(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function JP(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Rd(n){return!JP(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function ZP(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function t6(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Os(n){return n*(ae/180)}function e6(n){return n*(180/ae)}function vT(n){if(!oi(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function N2(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*ae&&(o+=Ue),{angle:o,distance:r}}function n6(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Ji(n){return(n%Ue+Ue)%Ue}function Cd(n,t,e,i){const r=Ji(n),o=Ji(t),c=Ji(e),h=Ji(o-r),f=Ji(c-r),m=Ji(r-o),y=Ji(r-c);return r===o||r===c||i&&o===c||h>f&&m<y}function In(n,t,e){return Math.max(t,Math.min(e,n))}function i6(n){return In(n,-32768,32767)}function Pa(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function I_(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const vy=(n,t,e,i)=>I_(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),s6=(n,t,e)=>I_(n,e,i=>n[i][t]>=e);function r6(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const k2=["push","pop","shift","splice","unshift"];function a6(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),k2.forEach(e=>{const i="_onData"+C_(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function bT(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(k2.forEach(o=>{delete n[o]}),delete n._chartjs)}function P2(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const V2=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function L2(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,V2.call(window,()=>{i=!1,n.apply(t,e)}))}}function o6(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const M_=n=>n==="start"?"left":n==="end"?"right":"center",cn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,l6=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,Of=n=>n===0||n===1,ET=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Ue/e)),TT=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Ue/e)+1,ou={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*qe)+1,easeOutSine:n=>Math.sin(n*qe),easeInOutSine:n=>-.5*(Math.cos(ae*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Of(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Of(n)?n:ET(n,.075,.3),easeOutElastic:n=>Of(n)?n:TT(n,.075,.3),easeInOutElastic(n){return Of(n)?n:n<.5?.5*ET(n*2,.1125,.45):.5+.5*TT(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-ou.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?ou.easeInBounce(n*2)*.5:ou.easeOutBounce(n*2-1)*.5+.5};function z2(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function ST(n){return z2(n)?n:new Tu(n)}function Ip(n){return z2(n)?n:new Tu(n).saturate(.5).darken(.1).hexString()}const c6=["x","y","borderWidth","radius","tension"],u6=["color","borderColor","backgroundColor"];function h6(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:u6},numbers:{type:"number",properties:c6}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function f6(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const wT=new Map;function d6(n,t){t=t||{};const e=n+JSON.stringify(t);let i=wT.get(e);return i||(i=new Intl.NumberFormat(n,t),wT.set(e,i)),i}function D_(n,t,e){return d6(t,e).format(n)}const m6={values(n){return He(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const m=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(m<1e-4||m>1e15)&&(r="scientific"),o=g6(n,e)}const c=O2(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),D_(n,i,f)}};function g6(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var U2={formatters:m6};function p6(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:U2.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Wa=Object.create(null),by=Object.create(null);function lu(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Mp(n,t,e){return typeof t=="string"?Su(lu(n,t),e):Su(lu(n,""),t)}class y6{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Ip(r.backgroundColor),this.hoverBorderColor=(i,r)=>Ip(r.borderColor),this.hoverColor=(i,r)=>Ip(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Mp(this,t,e)}get(t){return lu(this,t)}describe(t,e){return Mp(by,t,e)}override(t,e){return Mp(Wa,t,e)}route(t,e,i,r){const o=lu(this,t),c=lu(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],m=c[r];return qt(f)?Object.assign({},m,f):Ht(f,m)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var Ae=new y6({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[h6,f6,p6]);function _6(n){return!n||oe(n.size)||oe(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function AT(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function Ia(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function xT(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function RT(n,t,e,i){j2(n,t,e,i,null)}function j2(n,t,e,i,r){let o,c,h,f,m,y,_,E;const S=t.pointStyle,x=t.rotation,w=t.radius;let C=(x||0)*XP;if(S&&typeof S=="object"&&(o=S.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(C),n.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),n.restore();return}if(!(isNaN(w)||w<=0)){switch(n.beginPath(),S){default:r?n.ellipse(e,i,r/2,w,0,0,Ue):n.arc(e,i,w,0,Ue),n.closePath();break;case"triangle":y=r?r/2:w,n.moveTo(e+Math.sin(C)*y,i-Math.cos(C)*w),C+=yT,n.lineTo(e+Math.sin(C)*y,i-Math.cos(C)*w),C+=yT,n.lineTo(e+Math.sin(C)*y,i-Math.cos(C)*w),n.closePath();break;case"rectRounded":m=w*.516,f=w-m,c=Math.cos(C+Ca)*f,_=Math.cos(C+Ca)*(r?r/2-m:f),h=Math.sin(C+Ca)*f,E=Math.sin(C+Ca)*(r?r/2-m:f),n.arc(e-_,i-h,m,C-ae,C-qe),n.arc(e+E,i-c,m,C-qe,C),n.arc(e+_,i+h,m,C,C+qe),n.arc(e-E,i+c,m,C+qe,C+ae),n.closePath();break;case"rect":if(!x){f=Math.SQRT1_2*w,y=r?r/2:f,n.rect(e-y,i-f,2*y,2*f);break}C+=Ca;case"rectRot":_=Math.cos(C)*(r?r/2:w),c=Math.cos(C)*w,h=Math.sin(C)*w,E=Math.sin(C)*(r?r/2:w),n.moveTo(e-_,i-h),n.lineTo(e+E,i-c),n.lineTo(e+_,i+h),n.lineTo(e-E,i+c),n.closePath();break;case"crossRot":C+=Ca;case"cross":_=Math.cos(C)*(r?r/2:w),c=Math.cos(C)*w,h=Math.sin(C)*w,E=Math.sin(C)*(r?r/2:w),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c);break;case"star":_=Math.cos(C)*(r?r/2:w),c=Math.cos(C)*w,h=Math.sin(C)*w,E=Math.sin(C)*(r?r/2:w),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c),C+=Ca,_=Math.cos(C)*(r?r/2:w),c=Math.cos(C)*w,h=Math.sin(C)*w,E=Math.sin(C)*(r?r/2:w),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c);break;case"line":c=r?r/2:Math.cos(C)*w,h=Math.sin(C)*w,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(C)*(r?r/2:w),i+Math.sin(C)*w);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function B2(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function O_(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function N_(n){n.restore()}function v6(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),oe(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function b6(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,m=e+o.actualBoundingBoxDescent,y=r.strikethrough?(f+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,y),n.lineTo(h,y),n.stroke()}}function E6(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Au(n,t,e,i,r,o={}){const c=He(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,m;for(n.save(),n.font=r.string,v6(n,o),f=0;f<c.length;++f)m=c[f],o.backdrop&&E6(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),oe(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(m,e,i,o.maxWidth)),n.fillText(m,e,i,o.maxWidth),b6(n,e,i,m,o),i+=Number(r.lineHeight);n.restore()}function Id(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*ae,ae,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,ae,qe,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,qe,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-qe,!0),n.lineTo(e+c.topLeft,i)}const T6=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,S6=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function w6(n,t){const e=(""+n).match(T6);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const A6=n=>+n||0;function k_(n,t){const e={},i=qt(t),r=i?Object.keys(t):t,o=qt(n)?i?c=>Ht(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=A6(o(c));return e}function F2(n){return k_(n,{top:"y",right:"x",bottom:"y",left:"x"})}function rl(n){return k_(n,["topLeft","topRight","bottomLeft","bottomRight"])}function li(n){const t=F2(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function hn(n,t){n=n||{},t=t||Ae.font;let e=Ht(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Ht(n.style,t.style);i&&!(""+i).match(S6)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Ht(n.family,t.family),lineHeight:w6(Ht(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Ht(n.weight,t.weight),string:""};return r.string=_6(r),r}function Nf(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function x6(n,t,e){const{min:i,max:r}=n,o=M2(t,(r-i)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function xl(n,t){return Object.assign(Object.create(n),t)}function P_(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=Y2("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>P_([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return q2(h,f,()=>k6(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return IT(h).includes(f)},ownKeys(h){return IT(h)},set(h,f,m){const y=h._storage||(h._storage=r());return h[f]=y[f]=m,delete h._keys,!0}})}function ml(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:H2(n,i),setContext:o=>ml(n,o,e,i),override:o=>ml(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return q2(o,c,()=>C6(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function H2(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Gr(e)?e:()=>e,isIndexable:Gr(i)?i:()=>i}}const R6=(n,t)=>n?n+C_(t):t,V_=(n,t)=>qt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function q2(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function C6(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let h=i[t];return Gr(h)&&c.isScriptable(t)&&(h=I6(t,h,n,e)),He(h)&&h.length&&(h=M6(t,h,n,c.isIndexable)),V_(t,h)&&(h=ml(h,r,o&&o[t],c)),h}function I6(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,c||i);return h.delete(n),V_(n,f)&&(f=L_(r._scopes,r,n,f)),f}function M6(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(qt(t[0])){const f=t,m=r._scopes.filter(y=>y!==f);t=[];for(const y of f){const _=L_(m,r,n,y);t.push(ml(_,o,c&&c[n],h))}}return t}function G2(n,t,e){return Gr(n)?n(t,e):n}const D6=(n,t)=>n===!0?t:typeof n=="string"?Ya(t,n):void 0;function O6(n,t,e,i,r){for(const o of t){const c=D6(e,o);if(c){n.add(c);const h=G2(c._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function L_(n,t,e,i){const r=t._rootScopes,o=G2(t._fallback,e,i),c=[...n,...r],h=new Set;h.add(i);let f=CT(h,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=CT(h,c,o,f,i),f===null)?!1:P_(Array.from(h),[""],r,o,()=>N6(t,e,i))}function CT(n,t,e,i,r){for(;e;)e=O6(n,t,e,i,r);return e}function N6(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return He(r)&&qt(e)?e:r||{}}function k6(n,t,e,i){let r;for(const o of t)if(r=Y2(R6(o,n),e),typeof r<"u")return V_(n,r)?L_(e,i,n,r):r}function Y2(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function IT(n){let t=n._keys;return t||(t=n._keys=P6(n._scopes)),t}function P6(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function z_(){return typeof window<"u"&&typeof document<"u"}function U_(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Md(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const im=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function V6(n,t){return im(n).getPropertyValue(t)}const L6=["top","right","bottom","left"];function Ua(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=L6[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const z6=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function U6(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,h,f;if(z6(r,o,n.target))h=r,f=o;else{const m=t.getBoundingClientRect();h=i.clientX-m.left,f=i.clientY-m.top,c=!0}return{x:h,y:f,box:c}}function Oa(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=im(e),o=r.boxSizing==="border-box",c=Ua(r,"padding"),h=Ua(r,"border","width"),{x:f,y:m,box:y}=U6(n,e),_=c.left+(y&&h.left),E=c.top+(y&&h.top);let{width:S,height:x}=t;return o&&(S-=c.width+h.width,x-=c.height+h.height),{x:Math.round((f-_)/S*e.width/i),y:Math.round((m-E)/x*e.height/i)}}function j6(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&U_(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=im(o),f=Ua(h,"border","width"),m=Ua(h,"padding");t=c.width-m.width-f.width,e=c.height-m.height-f.height,i=Md(h.maxWidth,o,"clientWidth"),r=Md(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||xd,maxHeight:r||xd}}const Ir=n=>Math.round(n*10)/10;function B6(n,t,e,i){const r=im(n),o=Ua(r,"margin"),c=Md(r.maxWidth,n,"clientWidth")||xd,h=Md(r.maxHeight,n,"clientHeight")||xd,f=j6(n,t,e);let{width:m,height:y}=f;if(r.boxSizing==="content-box"){const E=Ua(r,"border","width"),S=Ua(r,"padding");m-=S.width+E.width,y-=S.height+E.height}return m=Math.max(0,m-o.width),y=Math.max(0,i?m/i:y-o.height),m=Ir(Math.min(m,c,f.maxWidth)),y=Ir(Math.min(y,h,f.maxHeight)),m&&!y&&(y=Ir(m/2)),(t!==void 0||e!==void 0)&&i&&f.height&&y>f.height&&(y=f.height,m=Ir(Math.floor(y*i))),{width:m,height:y}}function MT(n,t,e){const i=t||1,r=Ir(n.height*i),o=Ir(n.width*i);n.height=Ir(n.height),n.width=Ir(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const F6=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};z_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function DT(n,t){const e=V6(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const H6=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},q6=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function al(n,t,e){return n?H6(t,e):q6()}function W2(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function K2(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function kf(n,t,e){return n.options.clip?n[e]:t[e]}function G6(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:kf(e,t,"left"),right:kf(e,t,"right"),top:kf(i,t,"top"),bottom:kf(i,t,"bottom")}:t}function Y6(n,t){const e=t._clip;if(e.disabled)return!1;const i=G6(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}class W6{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=V2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Rs=new W6;const OT="transparent",K6={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=ST(n||OT),r=i.valid&&ST(t||OT);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class Q6{constructor(t,e,i,r){const o=e[i];r=Nf([t.to,r,o,t.from]);const c=Nf([t.from,o,r]);this._active=!0,this._fn=t.fn||K6[t.type||typeof c],this._easing=ou[t.easing]||ou.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Nf([t.to,e,r,t.from]),this._from=Nf([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class Q2{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!qt(t))return;const e=Object.keys(Ae.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!qt(o))return;const c={};for(const h of e)c[h]=o[h];(He(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,r=$6(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&X6(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const m=c[f];if(m.charAt(0)==="$")continue;if(m==="options"){r.push(...this._animateOptions(t,e));continue}const y=e[m];let _=o[m];const E=i.get(m);if(_)if(E&&_.active()){_.update(E,y,h);continue}else _.cancel();if(!E||!E.duration){t[m]=y;continue}o[m]=_=new Q6(E,t,m,y),r.push(_)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Rs.add(this._chart,i),!0}}function X6(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function $6(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function NT(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function J6(n,t,e){if(e===!1)return!1;const i=NT(n,e),r=NT(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function Z6(n){let t,e,i,r;return qt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function X2(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function kT(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,h,f,m;if(t===null)return;let y=!1;for(c=0,h=r.length;c<h;++c){if(f=+r[c],f===e){if(y=!0,i.all)continue;break}m=n.values[f],oi(m)&&(o||t===0||zr(t)===zr(m))&&(t+=m)}return!y&&!i.all?0:t}function tV(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,m,y;for(f=0,m=c.length;f<m;++f)y=c[f],h[f]={[r]:y,[o]:n[y]};return h}function Dp(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function eV(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function nV(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function iV(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function PT(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function VT(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,m=c.axis,y=eV(o,c,i),_=t.length;let E;for(let S=0;S<_;++S){const x=t[S],{[f]:w,[m]:C}=x,N=x._stacks||(x._stacks={});E=N[m]=iV(r,y,w),E[h]=C,E._top=PT(E,c,!0,i.type),E._bottom=PT(E,c,!1,i.type);const z=E._visualValues||(E._visualValues={});z[h]=C}}function Op(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function sV(n,t){return xl(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function rV(n,t,e){return xl(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Vc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Np=n=>n==="reset"||n==="none",LT=(n,t)=>t?n:Object.assign({},n),aV=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:X2(e,!0),values:null};class j_{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Dp(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Vc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(_,E,S,x)=>_==="x"?E:_==="r"?x:S,o=e.xAxisID=Ht(i.xAxisID,Op(t,"x")),c=e.yAxisID=Ht(i.yAxisID,Op(t,"y")),h=e.rAxisID=Ht(i.rAxisID,Op(t,"r")),f=e.indexAxis,m=e.iAxisID=r(f,o,c,h),y=e.vAxisID=r(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(m),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&bT(this._data,this),t._stacked&&Vc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(qt(e)){const r=this._cachedMeta;this._data=tV(e,r)}else if(i!==e){if(i){bT(i,this);const r=this._cachedMeta;Vc(r),r._parsed=[]}e&&Object.isExtensible(e)&&a6(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=Dp(e.vScale,e),e.stack!==i.stack&&(r=!0,Vc(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(VT(this,e._parsed),e._stacked=Dp(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=t===0&&e===r.length?!0:i._sorted,m=t>0&&i._parsed[t-1],y,_,E;if(this._parsing===!1)i._parsed=r,i._sorted=!0,E=r;else{He(r[t])?E=this.parseArrayData(i,r,t,e):qt(r[t])?E=this.parseObjectData(i,r,t,e):E=this.parsePrimitiveData(i,r,t,e);const S=()=>_[h]===null||m&&_[h]<m[h];for(y=0;y<e;++y)i._parsed[y+t]=_=E[y],f&&(S()&&(f=!1),m=_);i._sorted=f}c&&VT(this,E)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,m=o.getLabels(),y=o===c,_=new Array(r);let E,S,x;for(E=0,S=r;E<S;++E)x=E+i,_[E]={[h]:y||o.parse(m[x],x),[f]:c.parse(e[x],x)};return _}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,h=new Array(r);let f,m,y,_;for(f=0,m=r;f<m;++f)y=f+i,_=e[y],h[f]={x:o.parse(_[0],y),y:c.parse(_[1],y)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,m=new Array(r);let y,_,E,S;for(y=0,_=r;y<_;++y)E=y+i,S=e[E],m[y]={x:o.parse(Ya(S,h),E),y:c.parse(Ya(S,f),E)};return m}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:X2(r,!0),values:e._stacks[t.axis]._visualValues};return kT(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,c=kT(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,h=this._getOtherScale(t),f=aV(e,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:_}=nV(h);let E,S;function x(){S=r[E];const w=S[h.axis];return!oi(S[t.axis])||y>w||_<w}for(E=0;E<c&&!(!x()&&(this.updateRangeFromParsed(m,t,S,f),o));++E);if(o){for(E=c-1;E>=0;--E)if(!x()){this.updateRangeFromParsed(m,t,S,f);break}}return m}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],oi(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=Z6(Ht(this.options.clip,J6(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||r.length-h,m=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(t,o,h,f),y=h;y<h+f;++y){const _=r[y];_.hidden||(_.active&&m?c.push(_):_.draw(t,o))}for(y=0;y<c.length;++y)c[y].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=rV(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=sV(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&wu(i);if(h)return LT(h,f);const m=this.chart.config,y=m.datasetElementScopeKeys(this._type,t),_=r?[`${t}Hover`,"hover",t,""]:[t,""],E=m.getOptionScopes(this.getDataset(),y),S=Object.keys(Ae.elements[t]),x=()=>this.getContext(i,r,e),w=m.resolveNamedOptions(E,S,x,_);return w.$shared&&(w.$shared=f,o[c]=Object.freeze(LT(w,f))),w}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(r.options.animation!==!1){const y=this.chart.config,_=y.datasetAnimationScopeKeys(this._type,e),E=y.getOptionScopes(this.getDataset(),_);f=y.createResolver(E,this.getContext(t,i,e))}const m=new Q2(r,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(m)),m}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Np(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){Np(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Np(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,m]of this._syncList)this[h](f,m);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let h;const f=m=>{for(m.length+=e,h=m.length-1;h>=c;h--)m[h]=m[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Vc(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function oV(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=P2(i.sort((r,o)=>r-o))}return n._cache.$bar}function lV(n){const t=n.iScale,e=oV(t,n.type);let i=t._length,r,o,c,h;const f=()=>{c===32767||c===-32768||(wu(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(r=0,o=e.length;r<o;++r)c=t.getPixelForValue(e[r]),f();for(h=void 0,r=0,o=t.ticks.length;r<o;++r)c=t.getPixelForTick(r),f();return i}function cV(n,t,e,i){const r=e.barThickness;let o,c;return oe(r)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function uV(n,t,e,i){const r=t.pixels,o=r[n];let c=n>0?r[n-1]:null,h=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const m=o-(o-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/i,ratio:e.barPercentage,start:m}}function hV(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(r,o),h=Math.max(r,o);let f=c,m=h;Math.abs(c)>Math.abs(h)&&(f=h,m=c),t[e.axis]=m,t._custom={barStart:f,barEnd:m,start:r,end:o,min:c,max:h}}function $2(n,t,e,i){return He(n)?hV(n,t,e,i):t[e.axis]=e.parse(n,i),t}function zT(n,t,e,i){const r=n.iScale,o=n.vScale,c=r.getLabels(),h=r===o,f=[];let m,y,_,E;for(m=e,y=e+i;m<y;++m)E=t[m],_={},_[r.axis]=h||r.parse(c[m],m),f.push($2(E,_,o,m));return f}function kp(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function fV(n,t,e){return n!==0?zr(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function dV(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function mV(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:m,bottom:y}=dV(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=m:(e._bottom||0)===i?r=y:(o[UT(y,c,h,f)]=!0,r=m)),o[UT(r,c,h,f)]=!0,n.borderSkipped=o}function UT(n,t,e,i){return i?(n=gV(n,t,e),n=jT(n,e,t)):n=jT(n,t,e),n}function gV(n,t,e){return n===t?e:n===e?t:n}function jT(n,t,e){return n==="start"?t:n==="end"?e:n}function pV(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class yV extends j_{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return zT(t,e,i,r)}parseArrayData(t,e,i,r){return zT(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,m=o.axis==="x"?h:f,y=c.axis==="x"?h:f,_=[];let E,S,x,w;for(E=i,S=i+r;E<S;++E)w=e[E],x={},x[o.axis]=o.parse(Ya(w,m),E),_.push($2(Ya(w,y),x,c,E));return _}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),c=o._custom,h=kp(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),m=h.isHorizontal(),y=this._getRuler(),{sharedOptions:_,includeOptions:E}=this._getSharedOptions(e,r);for(let S=e;S<e+i;S++){const x=this.getParsed(S),w=o||oe(x[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(S),C=this._calculateBarIndexPixels(S,y),N=(x._stacks||{})[h.axis],z={horizontal:m,base:w.base,enableBorderRadius:!N||kp(x._custom)||c===N._top||c===N._bottom,x:m?w.head:C.center,y:m?C.center:w.head,height:m?C.size:Math.abs(w.size),width:m?Math.abs(w.size):C.size};E&&(z.options=_||this.resolveDataElementOptions(S,t[S].active?"active":r));const H=z.options||t[S].options;mV(z,H,N,c),pV(z,H,y.ratio),this.updateElement(t[S],S,z,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(y=>y.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),f=h&&h[i.axis],m=y=>{const _=y._parsed.find(S=>S[i.axis]===f),E=_&&_[y.vScale.axis];if(oe(E)||isNaN(E))return!0};for(const y of r)if(!(e!==void 0&&m(y))&&((o===!1||c.indexOf(y.stack)===-1||o===void 0&&y.stack===void 0)&&c.push(y.stack),y.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Ht(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,c;for(o=0,c=e.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||lV(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,h=o||0,f=this.getParsed(t),m=f._custom,y=kp(m);let _=f[e.axis],E=0,S=i?this.applyStack(e,f,i):_,x,w;S!==_&&(E=S-_,S=_),y&&(_=m.barStart,S=m.barEnd-m.barStart,_!==0&&zr(_)!==zr(m.barEnd)&&(E=0),E+=_);const C=!oe(o)&&!y?o:E;let N=e.getPixelForValue(C);if(this.chart.getDataVisibility(t)?x=e.getPixelForValue(E+S):x=N,w=x-N,Math.abs(w)<c){w=fV(w,e,h)*c,_===h&&(N-=w/2);const z=e.getPixelForDecimal(0),H=e.getPixelForDecimal(1),rt=Math.min(z,H),Z=Math.max(z,H);N=Math.max(Math.min(N,Z),rt),x=N+w,i&&!y&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(x)-e.getValueForPixel(N))}if(N===e.getPixelForValue(h)){const z=zr(w)*e.getLineWidthForValue(h)/2;N+=z,w-=z}return{size:w,base:N,head:x,center:x+w/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,c=Ht(r.maxBarThickness,1/0);let h,f;const m=this._getAxisCount();if(e.grouped){const y=o?this._getStackCount(t):e.stackCount,_=r.barThickness==="flex"?uV(t,e,r,y*m):cV(t,e,r,y*m),E=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,S=this._getAxis().indexOf(Ht(E,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+S;h=_.start+_.chunk*x+_.chunk/2,f=Math.min(c,_.chunk*_.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(c,e.min*e.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function _V(n,t,e){let i=1,r=1,o=0,c=0;if(t<Ue){const h=n,f=h+t,m=Math.cos(h),y=Math.sin(h),_=Math.cos(f),E=Math.sin(f),S=(H,rt,Z)=>Cd(H,h,f,!0)?1:Math.max(rt,rt*e,Z,Z*e),x=(H,rt,Z)=>Cd(H,h,f,!0)?-1:Math.min(rt,rt*e,Z,Z*e),w=S(0,m,_),C=S(qe,y,E),N=x(ae,m,_),z=x(ae+qe,y,E);i=(w-N)/2,r=(C-z)/2,o=-(w+N)/2,c=-(C+z)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:c}}class vV extends j_{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data,{labels:{pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=t.legend.options;return e.labels.length&&e.datasets.length?e.labels.map((f,m)=>{const _=t.getDatasetMeta(0).controller.getStyle(m);return{text:f,fillStyle:_.backgroundColor,fontColor:o,hidden:!t.getDataVisibility(m),lineDash:_.borderDash,lineDashOffset:_.borderDashOffset,lineJoin:_.borderJoinStyle,lineWidth:_.borderWidth,strokeStyle:_.borderColor,textAlign:r,pointStyle:i,borderRadius:c&&(h||_.borderRadius),index:m}}):[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=f=>+i[f];if(qt(i[t])){const{key:f="value"}=this._parsing;o=m=>+Ya(i[m],f)}let c,h;for(c=t,h=t+e;c<h;++c)r._parsed[c]=o(c)}}_getRotation(){return Os(this.options.rotation-90)}_getCircumference(){return Os(this.options.circumference)}_getRotationExtents(){let t=Ue,e=-Ue;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),c=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-c)/2,0),f=Math.min(qP(this.options.cutout,h),1),m=this._getRingWeight(this.index),{circumference:y,rotation:_}=this._getRotationExtents(),{ratioX:E,ratioY:S,offsetX:x,offsetY:w}=_V(_,y,f),C=(i.width-c)/E,N=(i.height-c)/S,z=Math.max(Math.min(C,N)/2,0),H=M2(this.options.radius,z),rt=Math.max(H*f,0),Z=(H-rt)/this._getVisibleDatasetWeightTotal();this.offsetX=x*H,this.offsetY=w*H,r.total=this.calculateTotal(),this.outerRadius=H-Z*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Z*m,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/Ue)}updateElements(t,e,i,r){const o=r==="reset",c=this.chart,h=c.chartArea,m=c.options.animation,y=(h.left+h.right)/2,_=(h.top+h.bottom)/2,E=o&&m.animateScale,S=E?0:this.innerRadius,x=E?0:this.outerRadius,{sharedOptions:w,includeOptions:C}=this._getSharedOptions(e,r);let N=this._getRotation(),z;for(z=0;z<e;++z)N+=this._circumference(z,o);for(z=e;z<e+i;++z){const H=this._circumference(z,o),rt=t[z],Z={x:y+this.offsetX,y:_+this.offsetY,startAngle:N,endAngle:N+H,circumference:H,outerRadius:x,innerRadius:S};C&&(Z.options=w||this.resolveDataElementOptions(z,rt.active?"active":r)),N+=H,this.updateElement(rt,z,Z,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Ue*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=D_(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,c,h,f;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){c=i.getDatasetMeta(r),t=c.data,h=c.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)f=h.resolveDataElementOptions(r),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Ht(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}function Ma(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class B_{static override(t){Object.assign(B_.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Ma()}parse(){return Ma()}format(){return Ma()}add(){return Ma()}diff(){return Ma()}startOf(){return Ma()}endOf(){return Ma()}}var bV={_date:B_};function EV(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const m=h._reversePixels?s6:vy;if(i){if(r._sharedOptions){const y=o[0],_=typeof y.getRange=="function"&&y.getRange(t);if(_){const E=m(o,t,e-_),S=m(o,t,e+_);return{lo:E.lo,hi:S.hi}}}}else{const y=m(o,t,e);if(f){const{vScale:_}=r._cachedMeta,{_parsed:E}=n,S=E.slice(0,y.lo+1).reverse().findIndex(w=>!oe(w[_.axis]));y.lo-=Math.max(0,S);const x=E.slice(y.hi).findIndex(w=>!oe(w[_.axis]));y.hi+=Math.max(0,x)}return y}}return{lo:0,hi:o.length-1}}function sm(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:m,data:y}=o[h],{lo:_,hi:E}=EV(o[h],t,c,r);for(let S=_;S<=E;++S){const x=y[S];x.skip||i(x,m,S)}}}function TV(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Pp(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||sm(n,e,t,function(h,f,m){!r&&!B2(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:m})},!0),o}function SV(n,t,e,i){let r=[];function o(c,h,f){const{startAngle:m,endAngle:y}=c.getProps(["startAngle","endAngle"],i),{angle:_}=N2(c,{x:t.x,y:t.y});Cd(_,m,y)&&r.push({element:c,datasetIndex:h,index:f})}return sm(n,e,t,o),r}function wV(n,t,e,i,r,o){let c=[];const h=TV(e);let f=Number.POSITIVE_INFINITY;function m(y,_,E){const S=y.inRange(t.x,t.y,r);if(i&&!S)return;const x=y.getCenterPoint(r);if(!(!!o||n.isPointInArea(x))&&!S)return;const C=h(t,x);C<f?(c=[{element:y,datasetIndex:_,index:E}],f=C):C===f&&c.push({element:y,datasetIndex:_,index:E})}return sm(n,e,t,m),c}function Vp(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?SV(n,t,e,r):wV(n,t,e,i,r,o)}function BT(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return sm(n,e,t,(f,m,y)=>{f[c]&&f[c](t[e],r)&&(o.push({element:f,datasetIndex:m,index:y}),h=h||f.inRange(t.x,t.y,r))}),i&&!h?[]:o}var AV={modes:{index(n,t,e,i){const r=Oa(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?Pp(n,r,o,i,c):Vp(n,r,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const y=h[0].index,_=m.data[y];_&&!_.skip&&f.push({element:_,datasetIndex:m.index,index:y})}),f):[]},dataset(n,t,e,i){const r=Oa(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?Pp(n,r,o,i,c):Vp(n,r,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,m=n.getDatasetMeta(f).data;h=[];for(let y=0;y<m.length;++y)h.push({element:m[y],datasetIndex:f,index:y})}return h},point(n,t,e,i){const r=Oa(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Pp(n,r,o,i,c)},nearest(n,t,e,i){const r=Oa(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Vp(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=Oa(t,n);return BT(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=Oa(t,n);return BT(n,r,"y",e.intersect,i)}}};const J2=["left","top","right","bottom"];function Lc(n,t){return n.filter(e=>e.pos===t)}function FT(n,t){return n.filter(e=>J2.indexOf(e.pos)===-1&&e.box.axis===t)}function zc(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function xV(n){const t=[];let e,i,r,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return t}function RV(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!J2.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function CV(n,t){const e=RV(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,m=e[h.stack],y=m&&h.stackWeight/m.weight;h.horizontal?(h.width=y?y*i:f&&t.availableWidth,h.height=r):(h.width=i,h.height=y?y*r:f&&t.availableHeight)}return e}function IV(n){const t=xV(n),e=zc(t.filter(m=>m.box.fullSize),!0),i=zc(Lc(t,"left"),!0),r=zc(Lc(t,"right")),o=zc(Lc(t,"top"),!0),c=zc(Lc(t,"bottom")),h=FT(t,"x"),f=FT(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(c).concat(h),chartArea:Lc(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(c).concat(h)}}function HT(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function Z2(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function MV(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!qt(r)){e.size&&(n[r]-=e.size);const _=i[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?o.height:o.width),e.size=_.size/_.count,n[r]+=e.size}o.getPadding&&Z2(c,o.getPadding());const h=Math.max(0,t.outerWidth-HT(c,n,"left","right")),f=Math.max(0,t.outerHeight-HT(c,n,"top","bottom")),m=h!==n.w,y=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:m,other:y}:{same:y,other:m}}function DV(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function OV(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function Jc(n,t,e,i){const r=[];let o,c,h,f,m,y;for(o=0,c=n.length,m=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,OV(h.horizontal,t));const{same:_,other:E}=MV(t,e,h,i);m|=_&&r.length,y=y||E,f.fullSize||r.push(h)}return m&&Jc(r,t,e,i)||y}function Pf(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function qT(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const h of n){const f=h.box,m=i[h.stack]||{placed:0,weight:1},y=h.stackWeight/m.weight||1;if(h.horizontal){const _=t.w*y,E=m.size||f.height;wu(m.start)&&(c=m.start),f.fullSize?Pf(f,r.left,c,e.outerWidth-r.right-r.left,E):Pf(f,t.left+m.placed,c,_,E),m.start=c,m.placed+=_,c=f.bottom}else{const _=t.h*y,E=m.size||f.width;wu(m.start)&&(o=m.start),f.fullSize?Pf(f,o,r.top,E,e.outerHeight-r.bottom-r.top):Pf(f,o,t.top+m.placed,E,_),m.start=o,m.placed+=_,o=f.right}}t.x=o,t.y=c}var si={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=li(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),h=IV(n.boxes),f=h.vertical,m=h.horizontal;te(n.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const y=f.reduce((w,C)=>C.box.options&&C.box.options.display===!1?w:w+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/y,hBoxMaxHeight:c/2}),E=Object.assign({},r);Z2(E,li(i));const S=Object.assign({maxPadding:E,w:o,h:c,x:r.left,y:r.top},r),x=CV(f.concat(m),_);Jc(h.fullSize,S,_,x),Jc(f,S,_,x),Jc(m,S,_,x)&&Jc(f,S,_,x),DV(S),qT(h.leftAndTop,S,_,x),S.x+=S.w,S.y+=S.h,qT(h.rightAndBottom,S,_,x),n.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},te(h.chartArea,w=>{const C=w.box;Object.assign(C,n.chartArea),C.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class tx{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class NV extends tx{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const nd="$chartjs",kV={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},GT=n=>n===null||n==="";function PV(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[nd]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",GT(r)){const o=DT(n,"width");o!==void 0&&(n.width=o)}if(GT(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=DT(n,"height");o!==void 0&&(n.height=o)}return n}const ex=F6?{passive:!0}:!1;function VV(n,t,e){n&&n.addEventListener(t,e,ex)}function LV(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,ex)}function zV(n,t){const e=kV[n.type]||n.type,{x:i,y:r}=Oa(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Dd(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function UV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Dd(h.addedNodes,i),c=c&&!Dd(h.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function jV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Dd(h.removedNodes,i),c=c&&!Dd(h.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const xu=new Map;let YT=0;function nx(){const n=window.devicePixelRatio;n!==YT&&(YT=n,xu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function BV(n,t){xu.size||window.addEventListener("resize",nx),xu.set(n,t)}function FV(n){xu.delete(n),xu.size||window.removeEventListener("resize",nx)}function HV(n,t,e){const i=n.canvas,r=i&&U_(i);if(!r)return;const o=L2((h,f)=>{const m=r.clientWidth;e(h,f),m<r.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],m=f.contentRect.width,y=f.contentRect.height;m===0&&y===0||o(m,y)});return c.observe(r),BV(n,o),c}function Lp(n,t,e){e&&e.disconnect(),t==="resize"&&FV(n)}function qV(n,t,e){const i=n.canvas,r=L2(o=>{n.ctx!==null&&e(zV(o,n))},n);return VV(i,t,r),r}class GV extends tx{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(PV(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[nd])return!1;const i=e[nd].initial;["height","width"].forEach(o=>{const c=i[o];oe(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[nd],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:UV,detach:jV,resize:HV}[e]||qV;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:Lp,detach:Lp,resize:Lp}[e]||LV)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return B6(t,e,i,r)}isAttached(t){const e=t&&U_(t);return!!(e&&e.isConnected)}}function YV(n){return!z_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?NV:GV}class Ja{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Rd(this.x)&&Rd(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function WV(n,t){const e=n.options.ticks,i=KV(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?XV(t):[],c=o.length,h=o[0],f=o[c-1],m=[];if(c>r)return $V(t,m,o,c/r),m;const y=QV(o,t,r);if(c>0){let _,E;const S=c>1?Math.round((f-h)/(c-1)):null;for(Vf(t,m,y,oe(S)?0:h-S,h),_=0,E=c-1;_<E;_++)Vf(t,m,y,o[_],o[_+1]);return Vf(t,m,y,f,oe(S)?t.length:f+S),m}return Vf(t,m,y),m}function KV(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function QV(n,t,e){const i=JV(n),r=t.length/e;if(!i)return Math.max(r,1);const o=$P(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>r)return f}return Math.max(r,1)}function XV(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function $V(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function Vf(n,t,e,i,r){const o=Ht(i,0),c=Math.min(Ht(r,n.length),n.length);let h=0,f,m,y;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),y=o;y<0;)h++,y=Math.round(o+h*e);for(m=Math.max(o,0);m<c;m++)m===y&&(t.push(n[m]),h++,y=Math.round(o+h*e))}function JV(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const ZV=n=>n==="left"?"right":n==="right"?"left":n,WT=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,KT=(n,t)=>Math.min(t||n,n);function QT(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function tL(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(r),m;if(!(e&&(i===1?m=Math.max(f-o,c-f):t===0?m=(n.getPixelForTick(1)-f)/2:m=(f-n.getPixelForTick(r-1))/2,f+=r<t?m:-m,f<o-h||f>c+h)))return f}function eL(n,t){te(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function Uc(n){return n.drawTicks?n.tickLength:0}function XT(n,t){if(!n.display)return 0;const e=hn(n.font,t),i=li(n.padding);return(He(n.text)?n.text.length:1)*e.lineHeight+i.height}function nL(n,t){return xl(n,{scale:t,type:"scale"})}function iL(n,t,e){return xl(n,{tick:e,index:t,type:"tick"})}function sL(n,t,e){let i=M_(n);return(e&&t!=="right"||!e&&t==="right")&&(i=ZV(i)),i}function rL(n,t,e,i){const{top:r,left:o,bottom:c,right:h,chart:f}=n,{chartArea:m,scales:y}=f;let _=0,E,S,x;const w=c-r,C=h-o;if(n.isHorizontal()){if(S=cn(i,o,h),qt(e)){const N=Object.keys(e)[0],z=e[N];x=y[N].getPixelForValue(z)+w-t}else e==="center"?x=(m.bottom+m.top)/2+w-t:x=WT(n,e,t);E=h-o}else{if(qt(e)){const N=Object.keys(e)[0],z=e[N];S=y[N].getPixelForValue(z)-C+t}else e==="center"?S=(m.left+m.right)/2-C+t:S=WT(n,e,t);x=cn(i,c,r),_=e==="left"?-qe:qe}return{titleX:S,titleY:x,maxWidth:E,rotation:_}}class Rl extends Ja{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Ki(t,Number.POSITIVE_INFINITY),e=Ki(e,Number.NEGATIVE_INFINITY),i=Ki(i,Number.POSITIVE_INFINITY),r=Ki(r,Number.NEGATIVE_INFINITY),{min:Ki(t,i),max:Ki(e,r),minDefined:oi(t),maxDefined:oi(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,m=h.length;f<m;++f)c=h[f].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Ki(e,Ki(i,e)),max:Ki(i,Ki(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){he(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=x6(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?QT(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=WV(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){he(this.options.afterUpdate,[this])}beforeSetDimensions(){he(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){he(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),he(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){he(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=he(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){he(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){he(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=KT(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,h,f,m;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const y=this._getLabelSizes(),_=y.widest.width,E=y.highest.height,S=In(this.chart.width-_,0,this.maxWidth);h=t.offset?this.maxWidth/i:S/(i-1),_+6>h&&(h=S/(i-(t.offset?.5:1)),f=this.maxHeight-Uc(t.grid)-e.padding-XT(t.title,this.chart.options.font),m=Math.sqrt(_*_+E*E),c=e6(Math.min(Math.asin(In((y.highest.height+6)/h,-1,1)),Math.asin(In(f/m,-1,1))-Math.asin(In(E/m,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){he(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){he(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=XT(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=Uc(o)+f):(t.height=this.maxHeight,t.width=Uc(o)+f),i.display&&this.ticks.length){const{first:m,last:y,widest:_,highest:E}=this._getLabelSizes(),S=i.padding*2,x=Os(this.labelRotation),w=Math.cos(x),C=Math.sin(x);if(h){const N=i.mirror?0:C*_.width+w*E.height;t.height=Math.min(this.maxHeight,t.height+N+S)}else{const N=i.mirror?0:w*_.width+C*E.height;t.width=Math.min(this.maxWidth,t.width+N+S)}this._calculatePadding(m,y,C,w)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,m=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let E=0,S=0;f?m?(E=r*t.width,S=i*e.height):(E=i*t.height,S=r*e.width):o==="start"?S=e.width:o==="end"?E=t.width:o!=="inner"&&(E=t.width/2,S=e.width/2),this.paddingLeft=Math.max((E-y+c)*this.width/(this.width-y),0),this.paddingRight=Math.max((S-_+c)*this.width/(this.width-_),0)}else{let y=e.height/2,_=t.height/2;o==="start"?(y=0,_=t.height):o==="end"&&(y=e.height,_=0),this.paddingTop=y+c,this.paddingBottom=_+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){he(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)oe(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=QT(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/KT(e,i));let m=0,y=0,_,E,S,x,w,C,N,z,H,rt,Z;for(_=0;_<e;_+=f){if(x=t[_].label,w=this._resolveTickFontOptions(_),r.font=C=w.string,N=o[C]=o[C]||{data:{},gc:[]},z=w.lineHeight,H=rt=0,!oe(x)&&!He(x))H=AT(r,N.data,N.gc,H,x),rt=z;else if(He(x))for(E=0,S=x.length;E<S;++E)Z=x[E],!oe(Z)&&!He(Z)&&(H=AT(r,N.data,N.gc,H,Z),rt+=z);c.push(H),h.push(rt),m=Math.max(H,m),y=Math.max(rt,y)}eL(o,e);const at=c.indexOf(m),D=h.indexOf(y),I=M=>({width:c[M]||0,height:h[M]||0});return{first:I(0),last:I(e-1),widest:I(at),highest:I(D),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return i6(this._alignToPixels?Ia(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=iL(this.getContext(),t,i))}return this.$context||(this.$context=nL(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Os(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*r?h/i:f/r:f*r<h*i?f/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,f=o.offset,m=this.isHorizontal(),_=this.ticks.length+(f?1:0),E=Uc(o),S=[],x=h.setContext(this.getContext()),w=x.display?x.width:0,C=w/2,N=function(Q){return Ia(i,Q,w)};let z,H,rt,Z,at,D,I,M,P,V,U,k;if(c==="top")z=N(this.bottom),D=this.bottom-E,M=z-C,V=N(t.top)+C,k=t.bottom;else if(c==="bottom")z=N(this.top),V=t.top,k=N(t.bottom)-C,D=z+C,M=this.top+E;else if(c==="left")z=N(this.right),at=this.right-E,I=z-C,P=N(t.left)+C,U=t.right;else if(c==="right")z=N(this.left),P=t.left,U=N(t.right)-C,at=z+C,I=this.left+E;else if(e==="x"){if(c==="center")z=N((t.top+t.bottom)/2+.5);else if(qt(c)){const Q=Object.keys(c)[0],ot=c[Q];z=N(this.chart.scales[Q].getPixelForValue(ot))}V=t.top,k=t.bottom,D=z+C,M=D+E}else if(e==="y"){if(c==="center")z=N((t.left+t.right)/2);else if(qt(c)){const Q=Object.keys(c)[0],ot=c[Q];z=N(this.chart.scales[Q].getPixelForValue(ot))}at=z-C,I=at-E,P=t.left,U=t.right}const Dt=Ht(r.ticks.maxTicksLimit,_),wt=Math.max(1,Math.ceil(_/Dt));for(H=0;H<_;H+=wt){const Q=this.getContext(H),ot=o.setContext(Q),dt=h.setContext(Q),bt=ot.lineWidth,kt=ot.color,j=dt.dash||[],tt=dt.dashOffset,ct=ot.tickWidth,ut=ot.tickColor,_t=ot.tickBorderDash||[],Et=ot.tickBorderDashOffset;rt=tL(this,H,f),rt!==void 0&&(Z=Ia(i,rt,bt),m?at=I=P=U=Z:D=M=V=k=Z,S.push({tx1:at,ty1:D,tx2:I,ty2:M,x1:P,y1:V,x2:U,y2:k,width:bt,color:kt,borderDash:j,borderDashOffset:tt,tickWidth:ct,tickColor:ut,tickBorderDash:_t,tickBorderDashOffset:Et}))}return this._ticksLength=_,this._borderValue=z,S}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:m,padding:y,mirror:_}=o,E=Uc(i.grid),S=E+y,x=_?-y:S,w=-Os(this.labelRotation),C=[];let N,z,H,rt,Z,at,D,I,M,P,V,U,k="middle";if(r==="top")at=this.bottom-x,D=this._getXAxisLabelAlignment();else if(r==="bottom")at=this.top+x,D=this._getXAxisLabelAlignment();else if(r==="left"){const wt=this._getYAxisLabelAlignment(E);D=wt.textAlign,Z=wt.x}else if(r==="right"){const wt=this._getYAxisLabelAlignment(E);D=wt.textAlign,Z=wt.x}else if(e==="x"){if(r==="center")at=(t.top+t.bottom)/2+S;else if(qt(r)){const wt=Object.keys(r)[0],Q=r[wt];at=this.chart.scales[wt].getPixelForValue(Q)+S}D=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")Z=(t.left+t.right)/2-S;else if(qt(r)){const wt=Object.keys(r)[0],Q=r[wt];Z=this.chart.scales[wt].getPixelForValue(Q)}D=this._getYAxisLabelAlignment(E).textAlign}e==="y"&&(f==="start"?k="top":f==="end"&&(k="bottom"));const Dt=this._getLabelSizes();for(N=0,z=h.length;N<z;++N){H=h[N],rt=H.label;const wt=o.setContext(this.getContext(N));I=this.getPixelForTick(N)+o.labelOffset,M=this._resolveTickFontOptions(N),P=M.lineHeight,V=He(rt)?rt.length:1;const Q=V/2,ot=wt.color,dt=wt.textStrokeColor,bt=wt.textStrokeWidth;let kt=D;c?(Z=I,D==="inner"&&(N===z-1?kt=this.options.reverse?"left":"right":N===0?kt=this.options.reverse?"right":"left":kt="center"),r==="top"?m==="near"||w!==0?U=-V*P+P/2:m==="center"?U=-Dt.highest.height/2-Q*P+P:U=-Dt.highest.height+P/2:m==="near"||w!==0?U=P/2:m==="center"?U=Dt.highest.height/2-Q*P:U=Dt.highest.height-V*P,_&&(U*=-1),w!==0&&!wt.showLabelBackdrop&&(Z+=P/2*Math.sin(w))):(at=I,U=(1-V)*P/2);let j;if(wt.showLabelBackdrop){const tt=li(wt.backdropPadding),ct=Dt.heights[N],ut=Dt.widths[N];let _t=U-tt.top,Et=0-tt.left;switch(k){case"middle":_t-=ct/2;break;case"bottom":_t-=ct;break}switch(D){case"center":Et-=ut/2;break;case"right":Et-=ut;break;case"inner":N===z-1?Et-=ut:N>0&&(Et-=ut/2);break}j={left:Et,top:_t,width:ut+tt.width,height:ct+tt.height,color:wt.backdropColor}}C.push({label:rt,font:M,textOffset:U,options:{rotation:w,color:ot,strokeColor:dt,strokeWidth:bt,textAlign:kt,textBaseline:k,translation:[Z,at],backdrop:j}})}return C}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Os(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let m,y;return e==="left"?r?(y=this.right+o,i==="near"?m="left":i==="center"?(m="center",y+=f/2):(m="right",y+=f)):(y=this.right-h,i==="near"?m="right":i==="center"?(m="center",y-=f/2):(m="left",y=this.left)):e==="right"?r?(y=this.left+o,i==="near"?m="right":i==="center"?(m="center",y-=f/2):(m="left",y-=f)):(y=this.left+h,i==="near"?m="left":i==="center"?(m="center",y+=f/2):(m="right",y=this.right)):m="right",{textAlign:m,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,m,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const f=r[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let m,y,_,E;this.isHorizontal()?(m=Ia(t,this.left,c)-c/2,y=Ia(t,this.right,h)+h/2,_=E=f):(_=Ia(t,this.top,c)-c/2,E=Ia(t,this.bottom,h)+h/2,m=y=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(m,_),e.lineTo(y,E),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&O_(i,r);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,m=c.label,y=c.textOffset;Au(i,m,0,y,f,h)}r&&N_(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=hn(i.font),c=li(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||qt(e)?(f+=c.bottom,He(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:m,titleY:y,maxWidth:_,rotation:E}=rL(this,f,e,h);Au(t,i.text,0,0,o,{color:i.color,maxWidth:_,rotation:E,textAlign:sL(h,e,r),textBaseline:"middle",translation:[m,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Ht(t.grid&&t.grid.z,-1),r=Ht(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Rl.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return hn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Lf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;lL(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,aL(t,c,i),this.override&&Ae.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Ae[r]&&(delete Ae[r][i],this.override&&delete Wa[i])}}function aL(n,t,e){const i=Su(Object.create(null),[e?Ae.get(e):{},Ae.get(t),n.defaults]);Ae.set(t,i),n.defaultRoutes&&oL(t,n.defaultRoutes),n.descriptors&&Ae.describe(t,n.descriptors)}function oL(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");Ae.route(o,r,f,h)})}function lL(n){return"id"in n&&"defaults"in n}class cL{constructor(){this.controllers=new Lf(j_,"datasets",!0),this.elements=new Lf(Ja,"elements"),this.plugins=new Lf(Object,"plugins"),this.scales=new Lf(Rl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):te(r,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const r=C_(t);he(i["before"+r],[],i),e[t](i),he(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Xi=new cL;class uL{constructor(){this._init=void 0}notify(t,e,i,r){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,h=c[i],f=[e,r,o.options];if(he(h,f,c)===!1&&r.cancelable)return!1}return!0}invalidate(){oe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Ht(i.options&&i.options.plugins,{}),o=hL(i);return r===!1&&!e?[]:dL(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function hL(n){const t={},e=[],i=Object.keys(Xi.plugins.items);for(let o=0;o<i.length;o++)e.push(Xi.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function fL(n,t){return!t&&n===!1?null:n===!0?{}:n}function dL(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const h of t){const f=h.id,m=fL(i[f],r);m!==null&&o.push({plugin:h,options:mL(n.config,{plugin:h,local:e[f]},m,c)})}return o}function mL(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ey(n,t){const e=Ae.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function gL(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function pL(n,t){return n===t?"_index_":"_value_"}function $T(n){if(n==="x"||n==="y"||n==="r")return n}function yL(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Ty(n,...t){if($T(n))return n;for(const e of t){const i=e.axis||yL(e.position)||n.length>1&&$T(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function JT(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function _L(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return JT(n,"x",e[0])||JT(n,"y",e[0])}return{}}function vL(n,t){const e=Wa[n.type]||{scales:{}},i=t.scales||{},r=Ey(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!qt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=Ty(c,h,_L(c,n),Ae.scales[h.type]),m=pL(f,r),y=e.scales||{};o[c]=au(Object.create(null),[{axis:f},h,y[f],y[m]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||Ey(h,t),y=(Wa[h]||{}).scales||{};Object.keys(y).forEach(_=>{const E=gL(_,f),S=c[E+"AxisID"]||E;o[S]=o[S]||Object.create(null),au(o[S],[{axis:E},i[S],y[_]])})}),Object.keys(o).forEach(c=>{const h=o[c];au(h,[Ae.scales[h.type],Ae.scale])}),o}function ix(n){const t=n.options||(n.options={});t.plugins=Ht(t.plugins,{}),t.scales=vL(n,t)}function sx(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function bL(n){return n=n||{},n.data=sx(n.data),ix(n),n}const ZT=new Map,rx=new Set;function zf(n,t){let e=ZT.get(n);return e||(e=t(),ZT.set(n,e),rx.add(e)),e}const jc=(n,t,e)=>{const i=Ya(t,e);i!==void 0&&n.add(i)};class EL{constructor(t){this._config=bL(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=sx(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),ix(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return zf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return zf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return zf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return zf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const f=new Set;e.forEach(y=>{t&&(f.add(t),y.forEach(_=>jc(f,t,_))),y.forEach(_=>jc(f,r,_)),y.forEach(_=>jc(f,Wa[o]||{},_)),y.forEach(_=>jc(f,Ae,_)),y.forEach(_=>jc(f,by,_))});const m=Array.from(f);return m.length===0&&m.push(Object.create(null)),rx.has(e)&&c.set(e,m),m}chartOptionScopes(){const{options:t,type:e}=this;return[t,Wa[e]||{},Ae.datasets[e]||{},{type:e},Ae,by]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=tS(this._resolverCache,t,r);let f=c;if(SL(c,e)){o.$shared=!1,i=Gr(i)?i():i;const m=this.createResolver(t,i,h);f=ml(c,i,m)}for(const m of e)o[m]=f[m];return o}createResolver(t,e,i=[""],r){const{resolver:o}=tS(this._resolverCache,t,i);return qt(e)?ml(o,e,void 0,r):o}}function tS(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:P_(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const TL=n=>qt(n)&&Object.getOwnPropertyNames(n).some(t=>Gr(n[t]));function SL(n,t){const{isScriptable:e,isIndexable:i}=H2(n);for(const r of t){const o=e(r),c=i(r),h=(c||o)&&n[r];if(o&&(Gr(h)||TL(h))||c&&He(h))return!0}return!1}var wL="4.5.1";const AL=["top","bottom","left","right","chartArea"];function eS(n,t){return n==="top"||n==="bottom"||AL.indexOf(n)===-1&&t==="x"}function nS(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function iS(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),he(e&&e.onComplete,[n],t)}function xL(n){const t=n.chart,e=t.options.animation;he(e&&e.onProgress,[n],t)}function ax(n){return z_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const id={},sS=n=>{const t=ax(n);return Object.values(id).filter(e=>e.canvas===t).pop()};function RL(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function CL(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let rm=class{static defaults=Ae;static instances=id;static overrides=Wa;static registry=Xi;static version=wL;static getChart=sS;static register(...t){Xi.add(...t),rS()}static unregister(...t){Xi.remove(...t),rS()}constructor(t,e){const i=this.config=new EL(e),r=ax(t),o=sS(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||YV(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),f=h&&h.canvas,m=f&&f.height,y=f&&f.width;if(this.id=HP(),this.ctx=h,this.canvas=f,this.width=y,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new uL,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=o6(_=>this.update(_),c.resizeDelay||0),this._dataChanges=[],id[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Rs.listen(this,"complete",iS),Rs.listen(this,"progress",xL),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return oe(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Xi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():MT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return xT(this.canvas,this.ctx),this}stop(){return Rs.stop(this),this}resize(t,e){Rs.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,MT(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),he(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};te(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=Ty(c,h),m=f==="r",y=f==="x";return{options:h,dposition:m?"chartArea":y?"bottom":"left",dtype:m?"radialLinear":y?"category":"linear"}}))),te(o,c=>{const h=c.options,f=h.id,m=Ty(f,h),y=Ht(h.type,c.dtype);(h.position===void 0||eS(h.position,m)!==eS(c.dposition))&&(h.position=c.dposition),r[f]=!0;let _=null;if(f in i&&i[f].type===y)_=i[f];else{const E=Xi.getScale(y);_=new E({id:f,type:y,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(h,t)}),te(r,(c,h)=>{c||delete i[h]}),te(i,c=>{si.configure(this,c,c.options),si.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(nS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Ey(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=Xi.getController(h),{datasetElementType:m,dataElementType:y}=Ae.datasets[h];Object.assign(f,{dataElementType:Xi.getElement(y),datasetElementType:m&&Xi.getElement(m)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){te(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,y=this.data.datasets.length;m<y;m++){const{controller:_}=this.getDatasetMeta(m),E=!r&&o.indexOf(_)===-1;_.buildOrUpdateElements(E),c=Math.max(+_.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||te(o,m=>{m.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(nS("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){te(this.scales,t=>{si.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!pT(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;RL(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!pT(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;si.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],te(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Gr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Rs.has(this)?this.attached&&!Rs.running(this)&&Rs.start(this):(this.draw(),iS({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=Y6(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&O_(e,r),t.controller.draw(),r&&N_(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return B2(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=AV.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=xl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);wu(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Rs.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),xT(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete id[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};te(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,m)=>{e.addEventListener(this,f,m),t[f]=m},r=(f,m)=>{t[f]&&(e.removeEventListener(this,f,m),delete t[f])},o=(f,m)=>{this.canvas&&this.resize(f,m)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){te(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},te(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!wd(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,m)=>f.filter(y=>!m.some(_=>y.datasetIndex===_.datasetIndex&&y.index===_.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,h=this._getActiveElements(t,r,i,c),f=QP(t),m=CL(t,this._lastEvent,i,f);i&&(this._lastEvent=null,he(o.onHover,[t,h,this],this),f&&he(o.onClick,[t,h,this],this));const y=!wd(h,r);return(y||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=m,y}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function rS(){return te(rm.instances,n=>n._plugins.invalidate())}function IL(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:c,innerRadius:h,options:f}=t,{borderWidth:m,borderJoinStyle:y}=f,_=Math.min(m/c,Ji(i-e));if(n.beginPath(),n.arc(r,o,c-m/2,i+_/2,e-_/2),h>0){const E=Math.min(m/h,Ji(i-e));n.arc(r,o,h+m/2,e-E/2,i+E/2,!0)}else{const E=Math.min(m/2,c*Ji(i-e));if(y==="round")n.arc(r,o,E,e-ae/2,i+ae/2,!0);else if(y==="bevel"){const S=2*E*E,x=-S*Math.cos(e+ae/2)+r,w=-S*Math.sin(e+ae/2)+o,C=S*Math.cos(i+ae/2)+r,N=S*Math.sin(i+ae/2)+o;n.lineTo(x,w),n.lineTo(C,N)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function ML(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:c,outerRadius:h,innerRadius:f}=t;let m=r/h;n.beginPath(),n.arc(o,c,h,i-m,e+m),f>r?(m=r/f,n.arc(o,c,f,e+m,i-m,!0)):n.arc(o,c,r,e+qe,i-qe),n.closePath(),n.clip()}function DL(n){return k_(n,["outerStart","outerEnd","innerStart","innerEnd"])}function OL(n,t,e,i){const r=DL(n.options.borderRadius),o=(e-t)/2,c=Math.min(o,i*t/2),h=f=>{const m=(e-Math.min(o,f))*i/2;return In(f,0,Math.min(o,m))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:In(r.innerStart,0,c),innerEnd:In(r.innerEnd,0,c)}}function Go(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Od(n,t,e,i,r,o){const{x:c,y:h,startAngle:f,pixelMargin:m,innerRadius:y}=t,_=Math.max(t.outerRadius+i+e-m,0),E=y>0?y+i+e+m:0;let S=0;const x=r-f;if(i){const wt=y>0?y-i:0,Q=_>0?_-i:0,ot=(wt+Q)/2,dt=ot!==0?x*ot/(ot+i):x;S=(x-dt)/2}const w=Math.max(.001,x*_-e/ae)/_,C=(x-w)/2,N=f+C+S,z=r-C-S,{outerStart:H,outerEnd:rt,innerStart:Z,innerEnd:at}=OL(t,E,_,z-N),D=_-H,I=_-rt,M=N+H/D,P=z-rt/I,V=E+Z,U=E+at,k=N+Z/V,Dt=z-at/U;if(n.beginPath(),o){const wt=(M+P)/2;if(n.arc(c,h,_,M,wt),n.arc(c,h,_,wt,P),rt>0){const bt=Go(I,P,c,h);n.arc(bt.x,bt.y,rt,P,z+qe)}const Q=Go(U,z,c,h);if(n.lineTo(Q.x,Q.y),at>0){const bt=Go(U,Dt,c,h);n.arc(bt.x,bt.y,at,z+qe,Dt+Math.PI)}const ot=(z-at/E+(N+Z/E))/2;if(n.arc(c,h,E,z-at/E,ot,!0),n.arc(c,h,E,ot,N+Z/E,!0),Z>0){const bt=Go(V,k,c,h);n.arc(bt.x,bt.y,Z,k+Math.PI,N-qe)}const dt=Go(D,N,c,h);if(n.lineTo(dt.x,dt.y),H>0){const bt=Go(D,M,c,h);n.arc(bt.x,bt.y,H,N-qe,M)}}else{n.moveTo(c,h);const wt=Math.cos(M)*_+c,Q=Math.sin(M)*_+h;n.lineTo(wt,Q);const ot=Math.cos(P)*_+c,dt=Math.sin(P)*_+h;n.lineTo(ot,dt)}n.closePath()}function NL(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h}=t;let f=t.endAngle;if(o){Od(n,t,e,i,f,r);for(let m=0;m<o;++m)n.fill();isNaN(h)||(f=c+(h%Ue||Ue))}return Od(n,t,e,i,f,r),n.fill(),f}function kL(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h,options:f}=t,{borderWidth:m,borderJoinStyle:y,borderDash:_,borderDashOffset:E,borderRadius:S}=f,x=f.borderAlign==="inner";if(!m)return;n.setLineDash(_||[]),n.lineDashOffset=E,x?(n.lineWidth=m*2,n.lineJoin=y||"round"):(n.lineWidth=m,n.lineJoin=y||"bevel");let w=t.endAngle;if(o){Od(n,t,e,i,w,r);for(let C=0;C<o;++C)n.stroke();isNaN(h)||(w=c+(h%Ue||Ue))}x&&ML(n,t,w),f.selfJoin&&w-c>=ae&&S===0&&y!=="miter"&&IL(n,t,w),o||(Od(n,t,e,i,w,r),n.stroke())}class PL extends Ja{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:c}=N2(r,{x:t,y:e}),{startAngle:h,endAngle:f,innerRadius:m,outerRadius:y,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),E=(this.options.spacing+this.options.borderWidth)/2,S=Ht(_,f-h),x=Cd(o,h,f)&&h!==f,w=S>=Ue||x,C=Pa(c,m+E,y+E);return w&&C}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:m}=this.options,y=(r+o)/2,_=(c+h+m+f)/2;return{x:e+Math.cos(y)*_,y:i+Math.sin(y)*_}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,c=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>Ue?Math.floor(i/Ue):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*r,Math.sin(h)*r);const f=1-Math.sin(Math.min(ae,i||0)),m=r*f;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,NL(t,this,m,o,c),kL(t,this,m,o,c),t.restore()}}function ox(n,t){const{x:e,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,f,m,y,_;return n.horizontal?(_=c/2,h=Math.min(e,r),f=Math.max(e,r),m=i-_,y=i+_):(_=o/2,h=e-_,f=e+_,m=Math.min(i,r),y=Math.max(i,r)),{left:h,top:m,right:f,bottom:y}}function Mr(n,t,e,i){return n?0:In(t,e,i)}function VL(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=F2(i);return{t:Mr(r.top,o.top,0,e),r:Mr(r.right,o.right,0,t),b:Mr(r.bottom,o.bottom,0,e),l:Mr(r.left,o.left,0,t)}}function LL(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=rl(r),c=Math.min(t,e),h=n.borderSkipped,f=i||qt(r);return{topLeft:Mr(!f||h.top||h.left,o.topLeft,0,c),topRight:Mr(!f||h.top||h.right,o.topRight,0,c),bottomLeft:Mr(!f||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:Mr(!f||h.bottom||h.right,o.bottomRight,0,c)}}function zL(n){const t=ox(n),e=t.right-t.left,i=t.bottom-t.top,r=VL(n,e/2,i/2),o=LL(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function zp(n,t,e,i){const r=t===null,o=e===null,h=n&&!(r&&o)&&ox(n,i);return h&&(r||Pa(t,h.left,h.right))&&(o||Pa(e,h.top,h.bottom))}function UL(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function jL(n,t){n.rect(t.x,t.y,t.w,t.h)}function Up(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class BL extends Ja{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=zL(this),h=UL(c.radius)?Id:jL;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,Up(c,e,o)),t.clip(),h(t,Up(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,Up(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return zp(this,t,e,i)}inXRange(t,e){return zp(this,t,null,e)}inYRange(t,e){return zp(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const aS=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},FL=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class oS extends Ja{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=he(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=hn(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=aS(i,o);let m,y;e.font=r.string,this.isHorizontal()?(m=this.maxWidth,y=this._fitRows(c,o,h,f)+10):(y=this.maxHeight,m=this._fitCols(c,r,h,f)+10),this.width=Math.min(m,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],m=this.lineWidths=[0],y=r+h;let _=t;o.textAlign="left",o.textBaseline="middle";let E=-1,S=-y;return this.legendItems.forEach((x,w)=>{const C=i+e/2+o.measureText(x.text).width;(w===0||m[m.length-1]+C+2*h>c)&&(_+=y,m[m.length-(w>0?0:1)]=0,S+=y,E++),f[w]={left:0,top:S,row:E,width:C,height:r},m[m.length-1]+=C+h}),_}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],m=this.columnSizes=[],y=c-t;let _=h,E=0,S=0,x=0,w=0;return this.legendItems.forEach((C,N)=>{const{itemWidth:z,itemHeight:H}=HL(i,e,o,C,r);N>0&&S+H+2*h>y&&(_+=E+h,m.push({width:E,height:S}),x+=E+h,w++,E=S=0),f[N]={left:x,top:S,col:w,width:z,height:H},E=Math.max(E,z),S+=H+h}),_+=E,m.push({width:E,height:S}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=al(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=cn(i,this.left+r,this.right-this.lineWidths[h]);for(const m of e)h!==m.row&&(h=m.row,f=cn(i,this.left+r,this.right-this.lineWidths[h])),m.top+=this.top+t+r,m.left=c.leftForLtr(c.x(f),m.width),f+=m.width+r}else{let h=0,f=cn(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const m of e)m.col!==h&&(h=m.col,f=cn(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),m.top=f,m.left+=this.left+r,m.left=c.leftForLtr(c.x(m.left),m.width),f+=m.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;O_(t,this),this._draw(),N_(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,h=Ae.color,f=al(t.rtl,this.left,this.width),m=hn(c.font),{padding:y}=c,_=m.size,E=_/2;let S;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=m.string;const{boxWidth:x,boxHeight:w,itemHeight:C}=aS(c,_),N=function(at,D,I){if(isNaN(x)||x<=0||isNaN(w)||w<0)return;r.save();const M=Ht(I.lineWidth,1);if(r.fillStyle=Ht(I.fillStyle,h),r.lineCap=Ht(I.lineCap,"butt"),r.lineDashOffset=Ht(I.lineDashOffset,0),r.lineJoin=Ht(I.lineJoin,"miter"),r.lineWidth=M,r.strokeStyle=Ht(I.strokeStyle,h),r.setLineDash(Ht(I.lineDash,[])),c.usePointStyle){const P={radius:w*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:M},V=f.xPlus(at,x/2),U=D+E;j2(r,P,V,U,c.pointStyleWidth&&x)}else{const P=D+Math.max((_-w)/2,0),V=f.leftForLtr(at,x),U=rl(I.borderRadius);r.beginPath(),Object.values(U).some(k=>k!==0)?Id(r,{x:V,y:P,w:x,h:w,radius:U}):r.rect(V,P,x,w),r.fill(),M!==0&&r.stroke()}r.restore()},z=function(at,D,I){Au(r,I.text,at,D+C/2,m,{strikethrough:I.hidden,textAlign:f.textAlign(I.textAlign)})},H=this.isHorizontal(),rt=this._computeTitleHeight();H?S={x:cn(o,this.left+y,this.right-i[0]),y:this.top+y+rt,line:0}:S={x:this.left+y,y:cn(o,this.top+rt+y,this.bottom-e[0].height),line:0},W2(this.ctx,t.textDirection);const Z=C+y;this.legendItems.forEach((at,D)=>{r.strokeStyle=at.fontColor,r.fillStyle=at.fontColor;const I=r.measureText(at.text).width,M=f.textAlign(at.textAlign||(at.textAlign=c.textAlign)),P=x+E+I;let V=S.x,U=S.y;f.setWidth(this.width),H?D>0&&V+P+y>this.right&&(U=S.y+=Z,S.line++,V=S.x=cn(o,this.left+y,this.right-i[S.line])):D>0&&U+Z>this.bottom&&(V=S.x=V+e[S.line].width+y,S.line++,U=S.y=cn(o,this.top+rt+y,this.bottom-e[S.line].height));const k=f.x(V);if(N(k,U,at),V=l6(M,V+x+E,H?V+P:this.right,t.rtl),z(f.x(V),U,at),H)S.x+=P+y;else if(typeof at.text!="string"){const Dt=m.lineHeight;S.y+=lx(at,Dt)+y}else S.y+=Z}),K2(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=hn(e.font),r=li(e.padding);if(!e.display)return;const o=al(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=i.size/2,m=r.top+f;let y,_=this.left,E=this.width;if(this.isHorizontal())E=Math.max(...this.lineWidths),y=this.top+m,_=cn(t.align,_,this.right-E);else{const x=this.columnSizes.reduce((w,C)=>Math.max(w,C.height),0);y=m+cn(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const S=cn(h,_,_+E);c.textAlign=o.textAlign(M_(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,Au(c,e.text,S,y,i)}_computeTitleHeight(){const t=this.options.title,e=hn(t.font),i=li(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(Pa(t,this.left,this.right)&&Pa(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Pa(t,r.left,r.left+r.width)&&Pa(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!YL(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=FL(r,i);r&&!o&&he(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&he(e.onHover,[t,i,this],this)}else i&&he(e.onClick,[t,i,this],this)}}function HL(n,t,e,i,r){const o=qL(i,n,t,e),c=GL(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function qL(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function GL(n,t,e){let i=n;return typeof t.text!="string"&&(i=lx(t,e)),i}function lx(n,t){const e=n.text?n.text.length:0;return t*e}function YL(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var WL={id:"legend",_element:oS,start(n,t,e){const i=n.legend=new oS({ctx:n.ctx,options:e,chart:n});si.configure(n,i,e),si.addBox(n,i)},stop(n){si.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;si.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const m=f.controller.getStyle(e?0:void 0),y=li(m.borderWidth);return{text:t[f.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:r||m.textAlign,borderRadius:c&&(h||m.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class cx extends Ja{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=He(i.text)?i.text.length:1;this._padding=li(i.padding);const o=r*hn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:c}=this,h=c.align;let f=0,m,y,_;return this.isHorizontal()?(y=cn(h,i,o),_=e+t,m=o-i):(c.position==="left"?(y=i+t,_=cn(h,r,e),f=ae*-.5):(y=o-t,_=cn(h,e,r),f=ae*.5),m=r-e),{titleX:y,titleY:_,maxWidth:m,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=hn(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:m}=this._drawArgs(o);Au(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:m,textAlign:M_(e.align),textBaseline:"middle",translation:[c,h]})}}function KL(n,t){const e=new cx({ctx:n.ctx,options:t,chart:n});si.configure(n,e,t),si.addBox(n,e),n.titleBlock=e}var QL={id:"title",_element:cx,start(n,t,e){KL(n,e)},stop(n){const t=n.titleBlock;si.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;si.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Zc={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const m=f.getCenterPoint(),y=n6(t,m);y<r&&(r=y,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Qi(n,t){return t&&(He(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Cs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function XL(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function lS(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=t,f=hn(t.bodyFont),m=hn(t.titleFont),y=hn(t.footerFont),_=o.length,E=r.length,S=i.length,x=li(t.padding);let w=x.height,C=0,N=i.reduce((rt,Z)=>rt+Z.before.length+Z.lines.length+Z.after.length,0);if(N+=n.beforeBody.length+n.afterBody.length,_&&(w+=_*m.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),N){const rt=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;w+=S*rt+(N-S)*f.lineHeight+(N-1)*t.bodySpacing}E&&(w+=t.footerMarginTop+E*y.lineHeight+(E-1)*t.footerSpacing);let z=0;const H=function(rt){C=Math.max(C,e.measureText(rt).width+z)};return e.save(),e.font=m.string,te(n.title,H),e.font=f.string,te(n.beforeBody.concat(n.afterBody),H),z=t.displayColors?c+2+t.boxPadding:0,te(i,rt=>{te(rt.before,H),te(rt.lines,H),te(rt.after,H)}),z=0,e.font=y.string,te(n.footer,H),e.restore(),C+=x.width,{width:C,height:w}}function $L(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function JL(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function ZL(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:h,right:f}}=n;let m="center";return i==="center"?m=r<=(h+f)/2?"left":"right":r<=o/2?m="left":r>=c-o/2&&(m="right"),JL(m,n,t,e)&&(m="center"),m}function cS(n,t,e){const i=e.yAlign||t.yAlign||$L(n,e);return{xAlign:e.xAlign||t.xAlign||ZL(n,t,e,i),yAlign:i}}function t5(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function e5(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function uS(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,m=r+o,{topLeft:y,topRight:_,bottomLeft:E,bottomRight:S}=rl(c);let x=t5(t,h);const w=e5(t,f,m);return f==="center"?h==="left"?x+=m:h==="right"&&(x-=m):h==="left"?x-=Math.max(y,E)+r:h==="right"&&(x+=Math.max(_,S)+r),{x:In(x,0,i.width-t.width),y:In(w,0,i.height-t.height)}}function Uf(n,t,e){const i=li(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function hS(n){return Qi([],Cs(n))}function n5(n,t,e){return xl(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function fS(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const ux={beforeTitle:xs,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:xs,beforeBody:xs,beforeLabel:xs,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return oe(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:xs,afterBody:xs,beforeFooter:xs,footer:xs,afterFooter:xs};function wn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?ux[t].call(e,i):r}class dS extends Ja{static positioners=Zc;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new Q2(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=n5(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=wn(i,"beforeTitle",this,t),o=wn(i,"title",this,t),c=wn(i,"afterTitle",this,t);let h=[];return h=Qi(h,Cs(r)),h=Qi(h,Cs(o)),h=Qi(h,Cs(c)),h}getBeforeBody(t,e){return hS(wn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return te(t,o=>{const c={before:[],lines:[],after:[]},h=fS(i,o);Qi(c.before,Cs(wn(h,"beforeLabel",this,o))),Qi(c.lines,wn(h,"label",this,o)),Qi(c.after,Cs(wn(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return hS(wn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=wn(i,"beforeFooter",this,t),o=wn(i,"footer",this,t),c=wn(i,"afterFooter",this,t);let h=[];return h=Qi(h,Cs(r)),h=Qi(h,Cs(o)),h=Qi(h,Cs(c)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],f,m;for(f=0,m=e.length;f<m;++f)h.push(XL(this.chart,e[f]));return t.filter&&(h=h.filter((y,_,E)=>t.filter(y,_,E,i))),t.itemSort&&(h=h.sort((y,_)=>t.itemSort(y,_,i))),te(h,y=>{const _=fS(t.callbacks,y);r.push(wn(_,"labelColor",this,y)),o.push(wn(_,"labelPointStyle",this,y)),c.push(wn(_,"labelTextColor",this,y))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Zc[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=lS(this,i),m=Object.assign({},h,f),y=cS(this.chart,i,m),_=uS(i,m,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:_.x,y:_.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:m,bottomLeft:y,bottomRight:_}=rl(h),{x:E,y:S}=t,{width:x,height:w}=e;let C,N,z,H,rt,Z;return o==="center"?(rt=S+w/2,r==="left"?(C=E,N=C-c,H=rt+c,Z=rt-c):(C=E+x,N=C+c,H=rt-c,Z=rt+c),z=C):(r==="left"?N=E+Math.max(f,y)+c:r==="right"?N=E+x-Math.max(m,_)-c:N=this.caretX,o==="top"?(H=S,rt=H-c,C=N-c,z=N+c):(H=S+w,rt=H+c,C=N+c,z=N-c),Z=H),{x1:C,x2:N,x3:z,y1:H,y2:rt,y3:Z}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,h,f;if(o){const m=al(i.rtl,this.x,this.width);for(t.x=Uf(this,i.titleAlign,i),e.textAlign=m.textAlign(i.titleAlign),e.textBaseline="middle",c=hn(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(r[f],m.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:m}=o,y=hn(o.bodyFont),_=Uf(this,"left",o),E=r.x(_),S=f<y.lineHeight?(y.lineHeight-f)/2:0,x=e.y+S;if(o.usePointStyle){const w={radius:Math.min(m,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},C=r.leftForLtr(E,m)+m/2,N=x+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,RT(t,w,C,N),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,RT(t,w,C,N)}else{t.lineWidth=qt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const w=r.leftForLtr(E,m),C=r.leftForLtr(r.xPlus(E,1),m-2),N=rl(c.borderRadius);Object.values(N).some(z=>z!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Id(t,{x:w,y:x,w:m,h:f,radius:N}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Id(t,{x:C,y:x+1,w:m-2,h:f-2,radius:N}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(w,x,m,f),t.strokeRect(w,x,m,f),t.fillStyle=c.backgroundColor,t.fillRect(C,x+1,m-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:m,boxPadding:y}=i,_=hn(i.bodyFont);let E=_.lineHeight,S=0;const x=al(i.rtl,this.x,this.width),w=function(I){e.fillText(I,x.x(t.x+S),t.y+E/2),t.y+=E+o},C=x.textAlign(c);let N,z,H,rt,Z,at,D;for(e.textAlign=c,e.textBaseline="middle",e.font=_.string,t.x=Uf(this,C,i),e.fillStyle=i.bodyColor,te(this.beforeBody,w),S=h&&C!=="right"?c==="center"?m/2+y:m+2+y:0,rt=0,at=r.length;rt<at;++rt){for(N=r[rt],z=this.labelTextColors[rt],e.fillStyle=z,te(N.before,w),H=N.lines,h&&H.length&&(this._drawColorBox(e,t,rt,x,i),E=Math.max(_.lineHeight,f)),Z=0,D=H.length;Z<D;++Z)w(H[Z]),E=_.lineHeight;te(N.after,w)}S=0,E=_.lineHeight,te(this.afterBody,w),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,h;if(o){const f=al(i.rtl,this.x,this.width);for(t.x=Uf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=hn(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(r[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:m,height:y}=i,{topLeft:_,topRight:E,bottomLeft:S,bottomRight:x}=rl(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+_,f),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+m-E,f),e.quadraticCurveTo(h+m,f,h+m,f+E),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+m,f+y-x),e.quadraticCurveTo(h+m,f+y,h+m-x,f+y),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+S,f+y),e.quadraticCurveTo(h,f+y,h,f+y-S),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,f+_),e.quadraticCurveTo(h,f,h+_,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=Zc[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=lS(this,t),f=Object.assign({},c,this._size),m=cS(e,t,f),y=uS(t,f,m,e);(r._to!==y.x||o._to!==y.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=li(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),W2(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),K2(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:f})=>{const m=this.chart.getDatasetMeta(h);if(!m)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:m.data[f],index:f}}),o=!wd(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),f=e||!wd(c,o)||h;return f&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=Zc[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}var i5={id:"tooltip",_element:dS,positioners:Zc,afterInit(n,t,e){e&&(n.tooltip=new dS({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ux},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const s5=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function r5(n,t,e,i){const r=n.indexOf(t);if(r===-1)return s5(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const a5=(n,t)=>n===null?null:In(Math.round(n),0,t);function mS(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class o5 extends Rl{static id="category";static defaults={ticks:{callback:mS}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(oe(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:r5(i,t,Ht(e,t),this._addedLabels),a5(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return mS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function l5(n,t){const e=[],{bounds:r,step:o,min:c,max:h,precision:f,count:m,maxTicks:y,maxDigits:_,includeBounds:E}=n,S=o||1,x=y-1,{min:w,max:C}=t,N=!oe(c),z=!oe(h),H=!oe(m),rt=(C-w)/(_+1);let Z=_T((C-w)/x/S)*S,at,D,I,M;if(Z<1e-14&&!N&&!z)return[{value:w},{value:C}];M=Math.ceil(C/Z)-Math.floor(w/Z),M>x&&(Z=_T(M*Z/x/S)*S),oe(f)||(at=Math.pow(10,f),Z=Math.ceil(Z*at)/at),r==="ticks"?(D=Math.floor(w/Z)*Z,I=Math.ceil(C/Z)*Z):(D=w,I=C),N&&z&&o&&ZP((h-c)/o,Z/1e3)?(M=Math.round(Math.min((h-c)/Z,y)),Z=(h-c)/M,D=c,I=h):H?(D=N?c:D,I=z?h:I,M=m-1,Z=(I-D)/M):(M=(I-D)/Z,ed(M,Math.round(M),Z/1e3)?M=Math.round(M):M=Math.ceil(M));const P=Math.max(vT(Z),vT(D));at=Math.pow(10,oe(f)?P:f),D=Math.round(D*at)/at,I=Math.round(I*at)/at;let V=0;for(N&&(E&&D!==c?(e.push({value:c}),D<c&&V++,ed(Math.round((D+V*Z)*at)/at,c,gS(c,rt,n))&&V++):D<c&&V++);V<M;++V){const U=Math.round((D+V*Z)*at)/at;if(z&&U>h)break;e.push({value:U})}return z&&E&&I!==h?e.length&&ed(e[e.length-1].value,h,gS(h,rt,n))?e[e.length-1].value=h:e.push({value:h}):(!z||I===h)&&e.push({value:I}),e}function gS(n,t,{horizontal:e,minRotation:i}){const r=Os(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class c5 extends Rl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return oe(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=f=>r=e?r:f,h=f=>o=i?o:f;if(t){const f=zr(r),m=zr(o);f<0&&m<0?h(0):f>0&&m>0&&c(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=l5(r,o);return t.bounds==="ticks"&&t6(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return D_(t,this.chart.options.locale,this.options.ticks.format)}}class u5 extends c5{static id="linear";static defaults={ticks:{callback:U2.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=oi(t)?t:0,this.max=oi(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Os(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const am={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Cn=Object.keys(am);function pS(n,t){return n-t}function yS(n,t){if(oe(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),oi(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(Rd(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function _S(n,t,e,i){const r=Cn.length;for(let o=Cn.indexOf(n);o<r-1;++o){const c=am[Cn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return Cn[o]}return Cn[r-1]}function h5(n,t,e,i,r){for(let o=Cn.length-1;o>=Cn.indexOf(e);o--){const c=Cn[o];if(am[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return Cn[e?Cn.indexOf(e):0]}function f5(n){for(let t=Cn.indexOf(n)+1,e=Cn.length;t<e;++t)if(am[Cn[t]].common)return Cn[t]}function vS(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=I_(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function d5(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+r.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function bS(n,t,e){const i=[],r={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],r[h]=c,i.push({value:h,major:!1});return o===0||!e?i:d5(n,i,r,e)}class ES extends Rl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new bV._date(t.adapters.date);r.init(e),au(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:yS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(m){!c&&!isNaN(m.min)&&(r=Math.min(r,m.min)),!h&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=oi(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=oi(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=r6(r,o,c);return this._unit=e.unit||(i.autoSkip?_S(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):h5(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:f5(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),bS(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=In(e,0,c),i=In(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||_S(o.minUnit,e,i,this._getLabelCapacity(e)),h=Ht(r.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,m=Rd(f)||f===!0,y={};let _=e,E,S;if(m&&(_=+t.startOf(_,"isoWeek",f)),_=+t.startOf(_,m?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const x=r.ticks.source==="data"&&this.getDataTimestamps();for(E=_,S=0;E<i;E=+t.add(E,h,c),S++)vS(y,E,x);return(E===i||r.bounds==="ticks"||S===1)&&vS(y,E,x),Object.keys(y).sort(pS).map(w=>+w)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return he(c,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,m=this._majorUnit,y=f&&h[f],_=m&&h[m],E=i[e],S=m&&_&&E&&E.major;return this._adapter.format(t,r||(S?_:y))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Os(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,bS(this,[t],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(yS(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return P2(t.sort(pS))}}function jf(n,t,e){let i=0,r=n.length-1,o,c,h,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=vy(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=vy(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[r]);const m=c-o;return m?h+(f-h)*(t-o)/m:h}class L9 extends ES{static id="timeseries";static defaults=ES.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=jf(e,this.min),this._tableRange=jf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,h,f,m,y;for(c=0,h=t.length;c<h;++c)m=t[c],m>=e&&m<=i&&r.push(m);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)y=r[c+1],f=r[c-1],m=r[c],Math.round((y+f)/2)!==m&&o.push({time:m,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(jf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return jf(this._table,i*this._tableRange+this._minPos,!0)}}const hx="label";function TS(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function m5(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function fx(n,t){n.labels=t}function dx(n,t,e=hx){const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function g5(n,t=hx){const e={labels:[],datasets:[]};return fx(e,n.labels),dx(e,n.datasets,t),e}function p5(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:m=[],fallbackContent:y,updateMode:_,...E}=n,S=q.useRef(null),x=q.useRef(null),w=()=>{S.current&&(x.current=new rm(S.current,{type:c,data:g5(h,o),options:f&&{...f},plugins:m}),TS(t,x.current))},C=()=>{TS(t,null),x.current&&(x.current.destroy(),x.current=null)};return q.useEffect(()=>{!r&&x.current&&f&&m5(x.current,f)},[r,f]),q.useEffect(()=>{!r&&x.current&&fx(x.current.config.data,h.labels)},[r,h.labels]),q.useEffect(()=>{!r&&x.current&&h.datasets&&dx(x.current.config.data,h.datasets,o)},[r,h.datasets]),q.useEffect(()=>{x.current&&(r?(C(),setTimeout(w)):x.current.update(_))},[r,f,h.labels,h.datasets,_]),q.useEffect(()=>{x.current&&(C(),setTimeout(w))},[c]),q.useEffect(()=>(w(),()=>C()),[]),O.jsx("canvas",{ref:S,role:"img",height:e,width:i,...E,children:y})}const y5=q.forwardRef(p5);function mx(n,t){return rm.register(t),q.forwardRef((e,i)=>O.jsx(y5,{...e,ref:i,type:n}))}const SS=mx("bar",yV),_5=mx("doughnut",vV),gx=6048e5,v5=864e5,wS=Symbol.for("constructDateFrom");function Ai(n,t){return typeof n=="function"?n(t):n&&typeof n=="object"&&wS in n?n[wS](t):n instanceof Date?new n.constructor(t):new Date(t)}function Bn(n,t){return Ai(t||n,n)}function b5(n,t,e){const i=Bn(n,e?.in);return isNaN(t)?Ai(n,NaN):(i.setDate(i.getDate()+t),i)}function E5(n,t,e){const i=Bn(n,e?.in);if(isNaN(t))return Ai(n,NaN);if(!t)return i;const r=i.getDate(),o=Ai(n,i.getTime());o.setMonth(i.getMonth()+t+1,0);const c=o.getDate();return r>=c?o:(i.setFullYear(o.getFullYear(),o.getMonth(),r),i)}let T5={};function om(){return T5}function Ka(n,t){const e=om(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,r=Bn(n,t?.in),o=r.getDay(),c=(o<i?7:0)+o-i;return r.setDate(r.getDate()-c),r.setHours(0,0,0,0),r}function Nd(n,t){return Ka(n,{...t,weekStartsOn:1})}function px(n,t){const e=Bn(n,t?.in),i=e.getFullYear(),r=Ai(e,0);r.setFullYear(i+1,0,4),r.setHours(0,0,0,0);const o=Nd(r),c=Ai(e,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const h=Nd(c);return e.getTime()>=o.getTime()?i+1:e.getTime()>=h.getTime()?i:i-1}function AS(n){const t=Bn(n),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+n-+e}function F_(n,...t){const e=Ai.bind(null,t.find(i=>typeof i=="object"));return t.map(e)}function xS(n,t){const e=Bn(n,t?.in);return e.setHours(0,0,0,0),e}function S5(n,t,e){const[i,r]=F_(e?.in,n,t),o=xS(i),c=xS(r),h=+o-AS(o),f=+c-AS(c);return Math.round((h-f)/v5)}function w5(n,t){const e=px(n,t),i=Ai(n,0);return i.setFullYear(e,0,4),i.setHours(0,0,0,0),Nd(i)}function A5(n,t,e){return b5(n,t*7,e)}function x5(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function R5(n){return!(!x5(n)&&typeof n!="number"||isNaN(+Bn(n)))}function C5(n,t){const e=Bn(n,t?.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}const I5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},M5=(n,t,e)=>{let i;const r=I5[n];return typeof r=="string"?i=r:t===1?i=r.one:i=r.other.replace("{{count}}",t.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+i:i+" ago":i};function jp(n){return(t={})=>{const e=t.width?String(t.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}const D5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},O5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},N5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},k5={date:jp({formats:D5,defaultWidth:"full"}),time:jp({formats:O5,defaultWidth:"full"}),dateTime:jp({formats:N5,defaultWidth:"full"})},P5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},V5=(n,t,e,i)=>P5[n];function Bc(n){return(t,e)=>{const i=e?.context?String(e.context):"standalone";let r;if(i==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,h=e?.width?String(e.width):c;r=n.formattingValues[h]||n.formattingValues[c]}else{const c=n.defaultWidth,h=e?.width?String(e.width):n.defaultWidth;r=n.values[h]||n.values[c]}const o=n.argumentCallback?n.argumentCallback(t):t;return r[o]}}const L5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},z5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},U5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},j5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},B5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},F5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},H5=(n,t)=>{const e=Number(n),i=e%100;if(i>20||i<10)switch(i%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},q5={ordinalNumber:H5,era:Bc({values:L5,defaultWidth:"wide"}),quarter:Bc({values:z5,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Bc({values:U5,defaultWidth:"wide"}),day:Bc({values:j5,defaultWidth:"wide"}),dayPeriod:Bc({values:B5,defaultWidth:"wide",formattingValues:F5,defaultFormattingWidth:"wide"})};function Fc(n){return(t,e={})=>{const i=e.width,r=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],o=t.match(r);if(!o)return null;const c=o[0],h=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(h)?Y5(h,_=>_.test(c)):G5(h,_=>_.test(c));let m;m=n.valueCallback?n.valueCallback(f):f,m=e.valueCallback?e.valueCallback(m):m;const y=t.slice(c.length);return{value:m,rest:y}}}function G5(n,t){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&t(n[e]))return e}function Y5(n,t){for(let e=0;e<n.length;e++)if(t(n[e]))return e}function W5(n){return(t,e={})=>{const i=t.match(n.matchPattern);if(!i)return null;const r=i[0],o=t.match(n.parsePattern);if(!o)return null;let c=n.valueCallback?n.valueCallback(o[0]):o[0];c=e.valueCallback?e.valueCallback(c):c;const h=t.slice(r.length);return{value:c,rest:h}}}const K5=/^(\d+)(th|st|nd|rd)?/i,Q5=/\d+/i,X5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$5={any:[/^b/i,/^(a|c)/i]},J5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Z5={any:[/1/i,/2/i,/3/i,/4/i]},t9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},e9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},n9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},i9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},s9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},r9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},a9={ordinalNumber:W5({matchPattern:K5,parsePattern:Q5,valueCallback:n=>parseInt(n,10)}),era:Fc({matchPatterns:X5,defaultMatchWidth:"wide",parsePatterns:$5,defaultParseWidth:"any"}),quarter:Fc({matchPatterns:J5,defaultMatchWidth:"wide",parsePatterns:Z5,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Fc({matchPatterns:t9,defaultMatchWidth:"wide",parsePatterns:e9,defaultParseWidth:"any"}),day:Fc({matchPatterns:n9,defaultMatchWidth:"wide",parsePatterns:i9,defaultParseWidth:"any"}),dayPeriod:Fc({matchPatterns:s9,defaultMatchWidth:"any",parsePatterns:r9,defaultParseWidth:"any"})},o9={code:"en-US",formatDistance:M5,formatLong:k5,formatRelative:V5,localize:q5,match:a9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function l9(n,t){const e=Bn(n,t?.in);return S5(e,C5(e))+1}function c9(n,t){const e=Bn(n,t?.in),i=+Nd(e)-+w5(e);return Math.round(i/gx)+1}function yx(n,t){const e=Bn(n,t?.in),i=e.getFullYear(),r=om(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,c=Ai(t?.in||n,0);c.setFullYear(i+1,0,o),c.setHours(0,0,0,0);const h=Ka(c,t),f=Ai(t?.in||n,0);f.setFullYear(i,0,o),f.setHours(0,0,0,0);const m=Ka(f,t);return+e>=+h?i+1:+e>=+m?i:i-1}function u9(n,t){const e=om(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,r=yx(n,t),o=Ai(t?.in||n,0);return o.setFullYear(r,0,i),o.setHours(0,0,0,0),Ka(o,t)}function h9(n,t){const e=Bn(n,t?.in),i=+Ka(e,t)-+u9(e,t);return Math.round(i/gx)+1}function Zt(n,t){const e=n<0?"-":"",i=Math.abs(n).toString().padStart(t,"0");return e+i}const Tr={y(n,t){const e=n.getFullYear(),i=e>0?e:1-e;return Zt(t==="yy"?i%100:i,t.length)},M(n,t){const e=n.getMonth();return t==="M"?String(e+1):Zt(e+1,2)},d(n,t){return Zt(n.getDate(),t.length)},a(n,t){const e=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];default:return e==="am"?"a.m.":"p.m."}},h(n,t){return Zt(n.getHours()%12||12,t.length)},H(n,t){return Zt(n.getHours(),t.length)},m(n,t){return Zt(n.getMinutes(),t.length)},s(n,t){return Zt(n.getSeconds(),t.length)},S(n,t){const e=t.length,i=n.getMilliseconds(),r=Math.trunc(i*Math.pow(10,e-3));return Zt(r,t.length)}},Yo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},RS={G:function(n,t,e){const i=n.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(i,{width:"abbreviated"});case"GGGGG":return e.era(i,{width:"narrow"});default:return e.era(i,{width:"wide"})}},y:function(n,t,e){if(t==="yo"){const i=n.getFullYear(),r=i>0?i:1-i;return e.ordinalNumber(r,{unit:"year"})}return Tr.y(n,t)},Y:function(n,t,e,i){const r=yx(n,i),o=r>0?r:1-r;if(t==="YY"){const c=o%100;return Zt(c,2)}return t==="Yo"?e.ordinalNumber(o,{unit:"year"}):Zt(o,t.length)},R:function(n,t){const e=px(n);return Zt(e,t.length)},u:function(n,t){const e=n.getFullYear();return Zt(e,t.length)},Q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Zt(i,2);case"Qo":return e.ordinalNumber(i,{unit:"quarter"});case"QQQ":return e.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(i,{width:"narrow",context:"formatting"});default:return e.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Zt(i,2);case"qo":return e.ordinalNumber(i,{unit:"quarter"});case"qqq":return e.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(i,{width:"narrow",context:"standalone"});default:return e.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,t,e){const i=n.getMonth();switch(t){case"M":case"MM":return Tr.M(n,t);case"Mo":return e.ordinalNumber(i+1,{unit:"month"});case"MMM":return e.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(i,{width:"narrow",context:"formatting"});default:return e.month(i,{width:"wide",context:"formatting"})}},L:function(n,t,e){const i=n.getMonth();switch(t){case"L":return String(i+1);case"LL":return Zt(i+1,2);case"Lo":return e.ordinalNumber(i+1,{unit:"month"});case"LLL":return e.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(i,{width:"narrow",context:"standalone"});default:return e.month(i,{width:"wide",context:"standalone"})}},w:function(n,t,e,i){const r=h9(n,i);return t==="wo"?e.ordinalNumber(r,{unit:"week"}):Zt(r,t.length)},I:function(n,t,e){const i=c9(n);return t==="Io"?e.ordinalNumber(i,{unit:"week"}):Zt(i,t.length)},d:function(n,t,e){return t==="do"?e.ordinalNumber(n.getDate(),{unit:"date"}):Tr.d(n,t)},D:function(n,t,e){const i=l9(n);return t==="Do"?e.ordinalNumber(i,{unit:"dayOfYear"}):Zt(i,t.length)},E:function(n,t,e){const i=n.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(i,{width:"short",context:"formatting"});default:return e.day(i,{width:"wide",context:"formatting"})}},e:function(n,t,e,i){const r=n.getDay(),o=(r-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Zt(o,2);case"eo":return e.ordinalNumber(o,{unit:"day"});case"eee":return e.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(r,{width:"short",context:"formatting"});default:return e.day(r,{width:"wide",context:"formatting"})}},c:function(n,t,e,i){const r=n.getDay(),o=(r-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Zt(o,t.length);case"co":return e.ordinalNumber(o,{unit:"day"});case"ccc":return e.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(r,{width:"narrow",context:"standalone"});case"cccccc":return e.day(r,{width:"short",context:"standalone"});default:return e.day(r,{width:"wide",context:"standalone"})}},i:function(n,t,e){const i=n.getDay(),r=i===0?7:i;switch(t){case"i":return String(r);case"ii":return Zt(r,t.length);case"io":return e.ordinalNumber(r,{unit:"day"});case"iii":return e.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(i,{width:"short",context:"formatting"});default:return e.day(i,{width:"wide",context:"formatting"})}},a:function(n,t,e){const r=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(r,{width:"narrow",context:"formatting"});default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(n,t,e){const i=n.getHours();let r;switch(i===12?r=Yo.noon:i===0?r=Yo.midnight:r=i/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(r,{width:"narrow",context:"formatting"});default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(n,t,e){const i=n.getHours();let r;switch(i>=17?r=Yo.evening:i>=12?r=Yo.afternoon:i>=4?r=Yo.morning:r=Yo.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(r,{width:"narrow",context:"formatting"});default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(n,t,e){if(t==="ho"){let i=n.getHours()%12;return i===0&&(i=12),e.ordinalNumber(i,{unit:"hour"})}return Tr.h(n,t)},H:function(n,t,e){return t==="Ho"?e.ordinalNumber(n.getHours(),{unit:"hour"}):Tr.H(n,t)},K:function(n,t,e){const i=n.getHours()%12;return t==="Ko"?e.ordinalNumber(i,{unit:"hour"}):Zt(i,t.length)},k:function(n,t,e){let i=n.getHours();return i===0&&(i=24),t==="ko"?e.ordinalNumber(i,{unit:"hour"}):Zt(i,t.length)},m:function(n,t,e){return t==="mo"?e.ordinalNumber(n.getMinutes(),{unit:"minute"}):Tr.m(n,t)},s:function(n,t,e){return t==="so"?e.ordinalNumber(n.getSeconds(),{unit:"second"}):Tr.s(n,t)},S:function(n,t){return Tr.S(n,t)},X:function(n,t,e){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return IS(i);case"XXXX":case"XX":return Na(i);default:return Na(i,":")}},x:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"x":return IS(i);case"xxxx":case"xx":return Na(i);default:return Na(i,":")}},O:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+CS(i,":");default:return"GMT"+Na(i,":")}},z:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+CS(i,":");default:return"GMT"+Na(i,":")}},t:function(n,t,e){const i=Math.trunc(+n/1e3);return Zt(i,t.length)},T:function(n,t,e){return Zt(+n,t.length)}};function CS(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),r=Math.trunc(i/60),o=i%60;return o===0?e+String(r):e+String(r)+t+Zt(o,2)}function IS(n,t){return n%60===0?(n>0?"-":"+")+Zt(Math.abs(n)/60,2):Na(n,t)}function Na(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),r=Zt(Math.trunc(i/60),2),o=Zt(i%60,2);return e+r+t+o}const MS=(n,t)=>{switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},_x=(n,t)=>{switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},f9=(n,t)=>{const e=n.match(/(P+)(p+)?/)||[],i=e[1],r=e[2];if(!r)return MS(n,t);let o;switch(i){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",MS(i,t)).replace("{{time}}",_x(r,t))},d9={p:_x,P:f9},m9=/^D+$/,g9=/^Y+$/,p9=["D","DD","YY","YYYY"];function y9(n){return m9.test(n)}function _9(n){return g9.test(n)}function v9(n,t,e){const i=b9(n,t,e);if(console.warn(i),p9.includes(n))throw new RangeError(i)}function b9(n,t,e){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${t}\`) for formatting ${i} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const E9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,T9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,S9=/^'([^]*?)'?$/,w9=/''/g,A9=/[a-zA-Z]/;function ri(n,t,e){const i=om(),r=i.locale??o9,o=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,h=Bn(n,e?.in);if(!R5(h))throw new RangeError("Invalid time value");let f=t.match(T9).map(y=>{const _=y[0];if(_==="p"||_==="P"){const E=d9[_];return E(y,r.formatLong)}return y}).join("").match(E9).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const _=y[0];if(_==="'")return{isToken:!1,value:x9(y)};if(RS[_])return{isToken:!0,value:y};if(_.match(A9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:y}});r.localize.preprocessor&&(f=r.localize.preprocessor(h,f));const m={firstWeekContainsDate:o,weekStartsOn:c,locale:r};return f.map(y=>{if(!y.isToken)return y.value;const _=y.value;(_9(_)||y9(_))&&v9(_,t,String(n));const E=RS[_[0]];return E(h,_,r.localize,m)}).join("")}function x9(n){const t=n.match(S9);return t?t[1].replace(w9,"'"):n}function Bf(n,t,e){const[i,r]=F_(e?.in,n,t);return+Ka(i,e)==+Ka(r,e)}function Wo(n,t,e){const[i,r]=F_(e?.in,n,t);return i.getFullYear()===r.getFullYear()&&i.getMonth()===r.getMonth()}function Ff(n,t,e){return E5(n,-t,e)}function R9(n,t,e){return A5(n,-1,e)}rm.register(PL,i5,WL,o5,u5,BL,QL);function C9(){const{expenses:n,incomes:t,loading:e}=w_(),i=q.useMemo(()=>{const S=new Date,x=Ff(S,1),w=R9(S),C=n.reduce((M,P)=>M+(parseFloat(P.amount)||0),0),N=t.reduce((M,P)=>M+(parseFloat(P.amount)||0),0),z=n.filter(M=>Wo(M.date,S)).reduce((M,P)=>M+parseFloat(P.amount),0),H=t.filter(M=>Wo(M.date,S)).reduce((M,P)=>M+parseFloat(P.amount),0),rt=n.filter(M=>Bf(M.date,S)).reduce((M,P)=>M+parseFloat(P.amount),0),Z=t.filter(M=>Bf(M.date,S)).reduce((M,P)=>M+parseFloat(P.amount),0),at=n.filter(M=>Wo(M.date,x)).reduce((M,P)=>M+parseFloat(P.amount),0),D=n.filter(M=>Bf(M.date,w)).reduce((M,P)=>M+parseFloat(P.amount),0),I=N-C;return{totalExpense:C,totalIncome:N,thisMonthExpense:z,thisMonthIncome:H,thisWeekExpense:rt,thisWeekIncome:Z,prevMonthExpense:at,prevWeekExpense:D,purseAmount:I}},[n,t]),r=q.useMemo(()=>{const S={};return n.forEach(x=>{const w=x.category||"Other";S[w]=(S[w]||0)+parseFloat(x.amount)}),{labels:Object.keys(S),datasets:[{data:Object.values(S),backgroundColor:["#6366F1","#22C55E","#F59E0B","#EF4444","#06B6D4","#A855F7"]}]}},[n]),o=q.useMemo(()=>{const S={};for(let x=5;x>=0;x--){const w=Ff(new Date,x);S[ri(w,"MMM")]=0}return n.forEach(x=>{const w=ri(x.date,"MMM");S[w]!==void 0&&(S[w]+=parseFloat(x.amount))}),{labels:Object.keys(S),datasets:[{label:"Monthly Spending",data:Object.values(S),backgroundColor:"rgba(99,102,241,0.6)",borderRadius:8}]}},[n]),c=q.useMemo(()=>{const S={},x=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];x.forEach(C=>{S[C]=0});const w=new Date;return n.forEach(C=>{if(Bf(C.date,w)){const N=C.date.getDay(),z=x[N===0?6:N-1];S[z]+=parseFloat(C.amount)}}),{labels:Object.keys(S),datasets:[{label:"Weekly Spending",data:Object.values(S),backgroundColor:"rgba(34,197,94,0.6)",borderRadius:8}]}},[n]),h=q.useMemo(()=>{const S=new Date,x=Ff(S,1),w={},C={};return n.forEach(N=>{const z=parseFloat(N.amount)||0,H=N.category||"Other";Wo(N.date,S)&&(w[H]=(w[H]||0)+z),Wo(N.date,x)&&(C[H]=(C[H]||0)+z)}),Object.keys(w).map(N=>({category:N,change:(w[N]||0)-(C[N]||0)})).sort((N,z)=>z.change-N.change)},[n]),f=q.useMemo(()=>{if(!n.length)return 0;const S=new Set(n.map(x=>ri(x.date,"yyyy-MM-dd")));return i.totalExpense/S.size},[n,i.totalExpense]),m=q.useMemo(()=>{let S=0,x=0;for(let w=1;w<=3;w++){const C=Ff(new Date,w),N=n.filter(z=>Wo(z.date,C)).reduce((z,H)=>z+parseFloat(H.amount),0);N>0&&(S+=N,x++)}return x?S/x:0},[n]),y=i.prevMonthExpense>0?(i.thisMonthExpense-i.prevMonthExpense)/i.prevMonthExpense*100:0,_=i.prevWeekExpense>0?(i.thisWeekExpense-i.prevWeekExpense)/i.prevWeekExpense*100:0,E=i.totalIncome>0?(i.purseAmount/i.totalIncome*100).toFixed(1):0;return e?O.jsx("div",{className:"dashboard-loader",children:"Loading dashboard"}):O.jsxs("div",{className:"dashboard fade-in",children:[O.jsxs("header",{className:"dashboard-header",children:[O.jsx("h1",{children:"Dashboard Overview"}),O.jsx("span",{children:ri(new Date,"MMMM d, yyyy")})]}),y>20&&O.jsxs("div",{className:"alert-card",children:[" You are spending ",O.jsxs("strong",{children:[y.toFixed(1),"%"]})," more than last month"]}),_>20&&O.jsxs("div",{className:"alert-card alert-warning",children:[" This week's spending is ",O.jsxs("strong",{children:[_.toFixed(1),"%"]})," higher than last week"]}),O.jsxs("section",{className:"stats-grid",children:[O.jsxs("div",{className:"stat-card highlight",children:[O.jsx(x2,{}),O.jsxs("div",{children:[O.jsx("p",{children:"Total Income"}),O.jsxs("h2",{children:["",i.totalIncome.toLocaleString()]}),O.jsx("span",{className:"meta",children:"Lifetime"})]})]}),O.jsxs("div",{className:"stat-card highlight purse",children:[O.jsx(gP,{}),O.jsxs("div",{children:[O.jsx("p",{children:"Purse Amount"}),O.jsxs("h2",{children:["",i.purseAmount.toLocaleString()]}),O.jsxs("span",{className:"meta",children:[E,"% of income"]})]})]}),O.jsxs("div",{className:"stat-card",children:[O.jsxs("div",{children:[O.jsx("p",{children:"This Month Income"}),O.jsxs("h2",{children:["",i.thisMonthIncome.toLocaleString()]})]}),O.jsx("span",{className:"meta",children:"Monthly earnings"})]}),O.jsxs("div",{className:"stat-card",children:[O.jsxs("div",{children:[O.jsx("p",{children:"This Month Expense"}),O.jsxs("h2",{children:["",i.thisMonthExpense.toLocaleString()]})]}),O.jsxs("span",{className:`trend ${i.thisMonthExpense>i.prevMonthExpense?"up":"down"}`,children:[i.thisMonthExpense>i.prevMonthExpense?O.jsx(yy,{}):O.jsx(uT,{})," vs last month"]})]}),O.jsxs("div",{className:"stat-card",children:[O.jsxs("div",{children:[O.jsx("p",{children:"This Week Income"}),O.jsxs("h2",{children:["",i.thisWeekIncome.toLocaleString()]})]}),O.jsx("span",{className:"meta",children:"Weekly earnings"})]}),O.jsxs("div",{className:"stat-card",children:[O.jsxs("div",{children:[O.jsx("p",{children:"This Week Expense"}),O.jsxs("h2",{children:["",i.thisWeekExpense.toLocaleString()]})]}),O.jsxs("span",{className:`trend ${i.thisWeekExpense>i.prevWeekExpense?"up":"down"}`,children:[i.thisWeekExpense>i.prevWeekExpense?O.jsx(yy,{}):O.jsx(uT,{})," vs last week"]})]}),O.jsxs("div",{className:"stat-card",children:[O.jsxs("div",{children:[O.jsx("p",{children:"Avg / Day"}),O.jsxs("h2",{children:["",f.toFixed(0)]})]}),O.jsx("span",{className:"meta",children:"Spending habit"})]}),O.jsxs("div",{className:"stat-card highlight",children:[O.jsxs("div",{children:[O.jsx("p",{children:"Predicted Next Month"}),O.jsxs("h2",{children:["",m.toFixed(0)]})]}),O.jsx("span",{className:"meta",children:"Forecast"})]})]}),O.jsxs("section",{className:"charts-grid",children:[O.jsxs("div",{className:"chart-card",children:[O.jsx("h3",{children:"Spending by Category"}),O.jsx("div",{className:"chart-box",children:r.labels.length?O.jsx(_5,{data:r}):O.jsx("p",{className:"empty",children:"No data available"})})]}),O.jsxs("div",{className:"chart-card",children:[O.jsx("h3",{children:"Weekly Trend"}),O.jsx("div",{className:"chart-box",children:O.jsx(SS,{data:c})})]}),O.jsxs("div",{className:"chart-card",children:[O.jsx("h3",{children:"Monthly Trend"}),O.jsx("div",{className:"chart-box",children:O.jsx(SS,{data:o})})]}),O.jsxs("div",{className:"chart-card",children:[O.jsx("h3",{children:"Top Category Growth"}),h.length>0?h.slice(0,3).map(S=>O.jsxs("div",{className:"growth-row",children:[O.jsx("span",{children:S.category}),O.jsxs("span",{className:S.change>=0?"up":"down",children:[S.change>=0?"+":"-","",Math.abs(S.change).toFixed(0)]})]},S.category)):O.jsx("p",{className:"empty",children:"No data available"})]})]})]})}const I9=["Food","Travel","Mobile Recharge","Taxies","Utilities","Movie","Xerox","Pharmacy","Others"];function M9(){const{expenses:n,addExpense:t,deleteExpense:e,updateExpense:i}=w_(),[r,o]=q.useState(!1),[c,h]=q.useState(null),[f,m]=q.useState(""),[y,_]=q.useState({title:"",amount:"",category:"Food",date:ri(new Date,"yyyy-MM-dd")}),E=n.filter(w=>w.title.toLowerCase().includes(f.toLowerCase())||w.category.toLowerCase().includes(f.toLowerCase())),S=(w=null)=>{w?(h(w.id),_({title:w.title,amount:w.amount,category:w.category,date:ri(w.date,"yyyy-MM-dd")})):(h(null),_({title:"",amount:"",category:"Food",date:ri(new Date,"yyyy-MM-dd")})),o(!0)},x=async w=>{w.preventDefault();const C={title:y.title,amount:parseFloat(y.amount),category:y.category,date:new Date(y.date)};c?await i(c,C):await t(C),o(!1)};return O.jsxs("div",{className:"fade-in",children:[O.jsxs("header",{className:"expenses-header",children:[O.jsx("h1",{children:"Expenses"}),O.jsxs("button",{className:"btn btn-primary",onClick:()=>S(),children:[O.jsx(S2,{})," Add Expense"]})]}),O.jsxs("div",{className:"search-card",children:[O.jsx(w2,{}),O.jsx("input",{placeholder:"Search by title or category",value:f,onChange:w=>m(w.target.value)})]}),O.jsx("div",{className:"table-card",children:O.jsxs("table",{children:[O.jsx("thead",{children:O.jsxs("tr",{children:[O.jsx("th",{children:"Date"}),O.jsx("th",{children:"Title"}),O.jsx("th",{children:"Category"}),O.jsx("th",{className:"amount",children:"Amount"}),O.jsx("th",{children:"Actions"})]})}),O.jsxs("tbody",{children:[E.map(w=>O.jsxs("tr",{children:[O.jsx("td",{children:ri(w.date,"MMM d, yyyy")}),O.jsx("td",{className:"title",children:w.title}),O.jsx("td",{children:O.jsx("span",{className:`badge ${w.category.toLowerCase()}`,children:w.category})}),O.jsxs("td",{className:"amount",children:["",parseFloat(w.amount).toFixed(2)]}),O.jsx("td",{children:O.jsxs("div",{className:"actions",children:[O.jsx("button",{onClick:()=>S(w),className:"icon-btn edit",children:O.jsx(T2,{})}),O.jsx("button",{onClick:()=>window.confirm("Delete this expense?")&&e(w.id),className:"icon-btn delete",children:O.jsx(A2,{})})]})})]},w.id)),E.length===0&&O.jsx("tr",{children:O.jsx("td",{colSpan:"5",className:"empty",children:"No expenses found"})})]})]})}),r&&O.jsx("div",{className:"modal-overlay",children:O.jsxs("div",{className:"modal-card",children:[O.jsx("h2",{children:c?"Edit Expense":"Add Expense"}),O.jsxs("form",{onSubmit:x,className:"modal-form",children:[O.jsxs("div",{className:"input-group",children:[O.jsx("label",{className:"input-label",children:"Title"}),O.jsx("input",{required:!0,className:"input-control",value:y.title,onChange:w=>_({...y,title:w.target.value})})]}),O.jsxs("div",{className:"row",children:[O.jsxs("div",{className:"input-group",children:[O.jsx("label",{className:"input-label",children:"Amount"}),O.jsx("input",{type:"number",step:"0.01",required:!0,className:"input-control",value:y.amount,onChange:w=>_({...y,amount:w.target.value})}),O.jsxs("div",{className:"quick-add",children:[O.jsx("button",{type:"button",onClick:()=>_(w=>({...w,amount:(parseFloat(w.amount||0)+50).toString()})),children:"+50"}),O.jsx("button",{type:"button",onClick:()=>_(w=>({...w,amount:(parseFloat(w.amount||0)+100).toString()})),children:"+100"}),O.jsx("button",{type:"button",onClick:()=>_(w=>({...w,amount:(parseFloat(w.amount||0)+500).toString()})),children:"+500"}),O.jsx("button",{type:"button",onClick:()=>_(w=>({...w,amount:(parseFloat(w.amount||0)+1e3).toString()})),children:"+1000"})]})]}),O.jsxs("div",{className:"input-group",children:[O.jsx("label",{className:"input-label",children:"Date"}),O.jsx("input",{type:"date",required:!0,className:"input-control",value:y.date,onChange:w=>_({...y,date:w.target.value})})]})]}),O.jsxs("div",{className:"input-group",children:[O.jsx("label",{className:"input-label",children:"Category"}),O.jsx("select",{className:"input-control",value:y.category,onChange:w=>_({...y,category:w.target.value}),children:I9.map(w=>O.jsx("option",{children:w},w))})]}),O.jsxs("div",{className:"modal-actions",children:[O.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>o(!1),children:"Cancel"}),O.jsxs("button",{className:"btn btn-primary",children:[c?"Update":"Add"," Expense"]})]})]})]})})]})}const D9=["Salary","Freelance","Bonus","Investment","Gift","Other"];function O9(){const{incomes:n,addIncome:t,deleteIncome:e,updateIncome:i}=w_(),[r,o]=q.useState(!1),[c,h]=q.useState(null),[f,m]=q.useState(""),[y,_]=q.useState({title:"",amount:"",source:"Salary",date:ri(new Date,"yyyy-MM-dd")}),E=n.filter(w=>w.title.toLowerCase().includes(f.toLowerCase())||w.source.toLowerCase().includes(f.toLowerCase())),S=(w=null)=>{w?(h(w.id),_({title:w.title,amount:w.amount,source:w.source,date:ri(w.date,"yyyy-MM-dd")})):(h(null),_({title:"",amount:"",source:"Salary",date:ri(new Date,"yyyy-MM-dd")})),o(!0)},x=async w=>{w.preventDefault();const C={title:y.title,amount:parseFloat(y.amount),source:y.source,date:new Date(y.date)};c?await i(c,C):await t(C),o(!1)};return O.jsxs("div",{className:"fade-in",children:[O.jsxs("header",{className:"expenses-header",children:[O.jsx("h1",{children:"Income"}),O.jsxs("button",{className:"btn btn-primary",onClick:()=>S(),children:[O.jsx(S2,{})," Add Income"]})]}),O.jsxs("div",{className:"search-card",children:[O.jsx(w2,{}),O.jsx("input",{placeholder:"Search by title or source",value:f,onChange:w=>m(w.target.value)})]}),O.jsx("div",{className:"table-card",children:O.jsxs("table",{children:[O.jsx("thead",{children:O.jsxs("tr",{children:[O.jsx("th",{children:"Date"}),O.jsx("th",{children:"Title"}),O.jsx("th",{children:"Source"}),O.jsx("th",{className:"amount",children:"Amount"}),O.jsx("th",{children:"Actions"})]})}),O.jsxs("tbody",{children:[E.map(w=>O.jsxs("tr",{children:[O.jsx("td",{children:ri(w.date,"MMM d, yyyy")}),O.jsx("td",{className:"title",children:w.title}),O.jsx("td",{children:O.jsx("span",{className:`badge ${w.source.toLowerCase()}`,children:w.source})}),O.jsxs("td",{className:"amount",children:["",parseFloat(w.amount).toFixed(2)]}),O.jsx("td",{children:O.jsxs("div",{className:"actions",children:[O.jsx("button",{onClick:()=>S(w),className:"icon-btn edit",children:O.jsx(T2,{})}),O.jsx("button",{onClick:()=>window.confirm("Delete this income?")&&e(w.id),className:"icon-btn delete",children:O.jsx(A2,{})})]})})]},w.id)),E.length===0&&O.jsx("tr",{children:O.jsx("td",{colSpan:"5",className:"empty",children:"No income records found"})})]})]})}),r&&O.jsx("div",{className:"modal-overlay",children:O.jsxs("div",{className:"modal-card",children:[O.jsx("h2",{children:c?"Edit Income":"Add Income"}),O.jsxs("form",{onSubmit:x,className:"modal-form",children:[O.jsxs("div",{className:"input-group",children:[O.jsx("label",{className:"input-label",children:"Title"}),O.jsx("input",{required:!0,className:"input-control",value:y.title,onChange:w=>_({...y,title:w.target.value})})]}),O.jsxs("div",{className:"row",children:[O.jsxs("div",{className:"input-group",children:[O.jsx("label",{className:"input-label",children:"Amount"}),O.jsx("input",{type:"number",step:"0.01",required:!0,className:"input-control",value:y.amount,onChange:w=>_({...y,amount:w.target.value})}),O.jsxs("div",{className:"quick-add",children:[O.jsx("button",{type:"button",onClick:()=>_(w=>({...w,amount:(parseFloat(w.amount||0)+50).toString()})),children:"+50"}),O.jsx("button",{type:"button",onClick:()=>_(w=>({...w,amount:(parseFloat(w.amount||0)+100).toString()})),children:"+100"}),O.jsx("button",{type:"button",onClick:()=>_(w=>({...w,amount:(parseFloat(w.amount||0)+500).toString()})),children:"+500"}),O.jsx("button",{type:"button",onClick:()=>_(w=>({...w,amount:(parseFloat(w.amount||0)+1e3).toString()})),children:"+1000"})]})]}),O.jsxs("div",{className:"input-group",children:[O.jsx("label",{className:"input-label",children:"Date"}),O.jsx("input",{type:"date",required:!0,className:"input-control",value:y.date,onChange:w=>_({...y,date:w.target.value})})]})]}),O.jsxs("div",{className:"input-group",children:[O.jsx("label",{className:"input-label",children:"Source"}),O.jsx("select",{className:"input-control",value:y.source,onChange:w=>_({...y,source:w.target.value}),children:D9.map(w=>O.jsx("option",{children:w},w))})]}),O.jsxs("div",{className:"modal-actions",children:[O.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>o(!1),children:"Cancel"}),O.jsxs("button",{className:"btn btn-primary",children:[c?"Update":"Add"," Income"]})]})]})]})})]})}function Bp({children:n}){const{currentUser:t}=Fu();return t?n:O.jsx(YS,{to:"/login"})}function N9({children:n}){const{currentUser:t}=Fu();return t?O.jsx(YS,{to:"/"}):n}function k9(){return O.jsx(Z3,{children:O.jsx(eP,{children:O.jsx(nP,{children:O.jsxs(nI,{children:[O.jsx(Hc,{path:"/login",element:O.jsx(N9,{children:O.jsx(bP,{})})}),O.jsx(Hc,{path:"/",element:O.jsx(Bp,{children:O.jsx(Rp,{children:O.jsx(C9,{})})})}),O.jsx(Hc,{path:"/expenses",element:O.jsx(Bp,{children:O.jsx(Rp,{children:O.jsx(M9,{})})})}),O.jsx(Hc,{path:"/income",element:O.jsx(Bp,{children:O.jsx(Rp,{children:O.jsx(O9,{})})})})]})})})})}rC.createRoot(document.getElementById("root")).render(O.jsx(Dr.StrictMode,{children:O.jsx(xI,{basename:"/expense-tracker",children:O.jsx(k9,{})})}));
